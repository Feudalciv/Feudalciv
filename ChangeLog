
Sun, 15 Jan 2006 09:09:23 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_mem.h
	   M /trunk/client/gui-sdl/gui_stuff.h

	remove fc__extension macro. See PR#15158.


Sat, 14 Jan 2006 18:13:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/gui-gtk-2.0/Makefile.am

	Add missing @GGZ_GTK_INCLUDES@.

	Patch by me in PR#15165.


Sat, 14 Jan 2006 06:23:35 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c

	replace C++ style comments


Fri, 13 Jan 2006 22:55:26 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/mem.h

	Add an FC_FREE macro.

	Patch by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> in PR#15126.


Fri, 13 Jan 2006 22:42:42 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/include/pages_g.h
	   M /trunk/client/packhand.c
	   M /trunk/configure.ac
	   M /trunk/m4/ggz.m4

	Embed GGZ within the GTK client.  The freeciv client now performs the normal
	role of GGZ client by connecting to the gaming zone.

	Patch by me in PR#15112.


Fri, 13 Jan 2006 21:48:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/diplomat_dialog.c
	   M /trunk/client/gui-xaw/repodlgs.c

	Fix compiler warnings (and possible bugs) with wrongly terminated varargs
	function calls.


Fri, 13 Jan 2006 19:54:48 -0800  kauf:

	Changed paths:
	   M /trunk/server/commands.c
	   M /trunk/server/stdinhand.c

	add ability to list scenarios available to load without HACK.
	Use '/list scenarios'.

	See PR#15105.


Fri, 13 Jan 2006 19:41:44 -0800  kauf:

	Changed paths:
	   M /trunk/utility/shared.c

	add ability to use periods in /load command for users without HACK. Also add
	restriction on PARENT_DIR_OPERATOR (..).

	See PR#15107.


Thu, 12 Jan 2006 20:02:26 -0800  kauf:

	Changed paths:
	   M /trunk/manual/civmanual.c
	   M /trunk/server/Makefile.am
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   D /trunk/server/gamelog.c
	   D /trunk/server/gamelog.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/settings.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove the gamelog entirely.

	See PR#15113.


Tue, 10 Jan 2006 17:36:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/gui_main_g.h

	Add new GUI function remove_ggz_input, and add stubs for add_ggz_input to
	every GUI client.

	Patch by me in PR#15111.


Tue, 10 Jan 2006 17:33:41 -0800  jdorje:

	Changed paths:
	   M /trunk/server/ggzserver.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Fix end-of-game problems related to GGZ mode and surrendering.

	Patch by me in PR#15137.


Mon, 09 Jan 2006 19:45:53 -0800  kauf:

	Changed paths:
	   M /trunk/server/score.c

	fix thinko.


Mon, 09 Jan 2006 11:01:02 -0800  jdorje:

	Changed paths:
	   M /trunk/server/score.c

	Fix compilation.


Sun, 08 Jan 2006 21:16:23 -0800  kauf:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/score.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Streamline the ranking code. A flat file is used instead of the gamelog
	to rank. The file has the number of turns players, a list of winners and a
	list of losers. The policy of who wins and who loses is hardcoded in the
	server. A field in the player struct: ranked_username is the first user to
	have played TURNS_NEEDED_TO_RANK turns. That user is the user to be listed
	as a winner or loser. The file is not output in the event of a draw.
	/endgame, abandonment, and endyear are considered draws.

	see PR#14274


Sun, 08 Jan 2006 08:52:05 -0800  kauf:

	Changed paths:
	   M /trunk/server/auth.c
	   M /trunk/server/connecthand.c

	standardized logging to console for connection rejection. Add logging for
	all rejection cases.

	see PR#15101


Sun, 08 Jan 2006 05:58:00 -0800  per:

	Changed paths:
	   M /trunk/manual/civmanual.c

	Civmanual improvements by Guillaume Melquiond <guillaume.melquiond@gmail.com>
	in PR#15007 with style changes by me (braces added, tabs removed).


Sat, 07 Jan 2006 16:38:27 -0800  jdorje:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po

	Po updates after make dist.


Sat, 07 Jan 2006 14:27:40 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civserver.dsc.in
	   M /trunk/server/sernet.c

	Fix the quitidle option to work in pregame; it is now activated as soon as
	a connection is established.

	Patch by me in PR#15087.


Sat, 07 Jan 2006 13:30:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/gui_main_g.h

	Split ui_exit into GUI-specific and client-common portions.

	Patch by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> in PR#15046.


Sat, 07 Jan 2006 09:06:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/ggzclient.c

	Check for with_ggz before calling ggz_initialize, instead of inside that
	function.

	Patch by me in PR#15083.


Sat, 07 Jan 2006 09:04:00 -0800  jdorje:

	Changed paths:
	   M /trunk/server/civserver.c

	Fix handling of SIGINT when in GGZ mode.

	Patch by me in PR#15085.


Fri, 06 Jan 2006 21:29:06 -0800  kauf:

	Changed paths:
	   M /trunk/m4/auth.m4
	   M /trunk/manual/Makefile.am
	   M /trunk/server/Makefile.am

	attempts to find the correct LIBRARY_PATH for the mysql lib
	(for authentication) and put it in LDFLAGS.

	see PR#14851.


Fri, 06 Jan 2006 21:10:54 -0800  kauf:

	Changed paths:
	   M /trunk/server/score.c

	remove the rest of the pre-post-processing needed to create
	the animated gifs for postgame. With this patch, you can simply do
	ppmtogif and then gifsicle.

	see PR#14827.


Sun, 01 Jan 2006 11:39:08 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/sprite.c

	Fix some memory issues reported by Valgrind.


Sun, 01 Jan 2006 08:18:05 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/wldlg.c

	Fix client crash caused by empty edit fields. Reported by Jason Dorje Short in PR#6856, patch by me.


Sun, 01 Jan 2006 01:48:23 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c

	Improve mouse behavior. See PR#7171.


Sat, 31 Dec 2005 01:57:20 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/credits
	   M /trunk/data/flags/krev-shield.png
	   M /trunk/data/flags/krev.png
	   M /trunk/data/flags/krev.svg

	Better Krev flag from Worms tileset by Arturo Espinosa-Aldama <pupitetris@yahoo.com> (PR#15004)


Fri, 30 Dec 2005 10:38:35 -0800  jdorje:

	Changed paths:
	   M /trunk/server/score.c

	PR#14981 - don't always save ppm files.


Fri, 30 Dec 2005 05:40:32 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c

	Fix map scrolling on Pocket PC.


Wed, 28 Dec 2005 14:31:25 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	AIs in away mode would suggest ceasefires on contact which they
	would refuse to accept in turn. Problem reported by Jason in
	PR#14961. The AI in away mode should never do diplomacy.


Wed, 28 Dec 2005 14:24:37 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/inteldlg.h

	Add support for multiple intelligence dialogs. Suggested by Egor Vyscrebentsov in PR#11386, patch by me.


Tue, 27 Dec 2005 14:25:01 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplomat_dialog.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/data/Freeciv.in

	gui-xaw: compile fixes and battlegroups support


Tue, 27 Dec 2005 13:46:42 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Move check for cancelling of vision sharing above check for senate approval,
	so that you no longer have to get senate approval before cancelling shared
	vision. This behaviour was a bug introduced with the reorganization of the
	senate code. Patch in PR#14905.


Tue, 27 Dec 2005 13:43:23 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Remove dead goto code (client side goto now calculated on the client). See PR#15002.


Tue, 27 Dec 2005 12:28:05 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Add back REMOVEME include.


Tue, 27 Dec 2005 05:18:16 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Fix upkeep reporting from improvements in economy dialog (GTK2 client). Patch by
	Guillaume Melquiond <guillaume.melquiond@gmail.com> in PR#14970. Also reported as
	PR#14308.


Tue, 27 Dec 2005 05:10:37 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix spaceship bonus to score. Patch by Brendon Oram <yautja@paradise.net.nz> in
	PR#14561.


Tue, 27 Dec 2005 05:05:41 -0800  per:

	Changed paths:
	   M /trunk/manual/civmanual.c

	Fix civmanual. Patch by Guillaume Melquiond <guillaume.melquiond@gmail.com>
	in PR#13839.


Tue, 27 Dec 2005 04:40:12 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix some bugs in the AI diplomacy code, improve commenting.
	AI was rejecting treaties it had suggested. Prevent the AI
	from asking for shared vision without also proposing it. Fix
	wrong enums. Patches by me and Guillaume Melquiond
	<guillaume.melquiond@gmail.com> in PR#14904.


Tue, 27 Dec 2005 03:32:08 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/inteldlg.c

	fix crash in intelligence dialog when no research info is available


Tue, 27 Dec 2005 02:40:22 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/repodlgs.c

	compile fix (r11395)


Mon, 26 Dec 2005 21:29:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	In the nation selection dialog, don't prevent the player from choosing the
	nation he has already chosen.

	Patch by me in PR#14987.


Mon, 26 Dec 2005 19:38:36 -0800  jdorje:

	Changed paths:
	   M /trunk/client/servers.c

	Use the socklen_t type.

	See PR#12519.


Mon, 26 Dec 2005 13:50:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c

	Fixes for changing homecity.

	Patch by me in PR#14983.


Mon, 26 Dec 2005 13:35:58 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aiparatrooper.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/sha.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplomat_dialog.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/Makefile.am
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/aicore/citymap.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/player.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   A /trunk/common/unitlist.c
	   A /trunk/common/unitlist.h
	   M /trunk/common/unittype.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/scripting/api_methods.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Create and populate a new file unitlist.[ch].

	Patch by Egor Vyscrebentsov in PR#14992 with changes by me.


Mon, 26 Dec 2005 12:51:28 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/hash.c

	Avoid unnecessary cast.


Mon, 26 Dec 2005 04:33:32 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c

	compile fix (r11385)

	TODO: implement battlegroup support


Sun, 25 Dec 2005 18:15:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/text.c

	Fix client crashes on endgame.

	Reported by Guillaume Melquiond <guillaume.melquiond@gmail.com> in PR#14984.


Sun, 25 Dec 2005 15:33:43 -0800  jdorje:

	Changed paths:
	   M /trunk/common/requirements.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/savegame.c

	Fix translation issues with get_special_name and get_special_by_name.

	Reported by Guillaume Melquiond <guillaume.melquiond@gmail.com> in PR#14967.


Sun, 25 Dec 2005 05:36:23 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/mayan.ruleset

	Fix for Mayan nation.


Sun, 25 Dec 2005 05:05:07 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/hittite.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/maori.ruleset
	   M /trunk/data/nation/mayan.ruleset

	Improved city lists for four nations. (PR#14934)


Sun, 25 Dec 2005 05:03:03 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/zulu.ruleset

	New Zulu leader list. (PR#14939)


Sat, 24 Dec 2005 15:39:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a bug in the mapview display of goto turns-to-target.

	Reported by Guillaume Melquiond <guillaume.melquiond@gmail.com> in PR#14968.


Sat, 24 Dec 2005 05:33:23 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c

	Fix some city dialog drawing problems.


Sat, 24 Dec 2005 05:22:43 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h

	Fix "sdl client crash in citydlg". Reported by Jason Dorje Short in PR#6858, patch by me.


Sat, 24 Dec 2005 05:15:55 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c

	compile fix (r11375).


Fri, 23 Dec 2005 17:39:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Support for battlegroups.  More than one unit may be selected at a time,
	the focus units may be given orders as a group, and keys are used to assign
	and recall groups.

	Patch by me in PR#14365 based on a design by Arnstein Lindgard <a-l@c2i.net>.


Fri, 23 Dec 2005 17:07:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/goto.c

	Simplify check in is_valid_goto_destination.

	Patch by Andreas Rosdal <andrearo@stud.ntnu.no> in PR#13773.


Fri, 23 Dec 2005 16:46:45 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset

	Fix the pheasant resource.

	Reported by Michael Mielke <michael@mielke.cc> in PR#14959.


Fri, 23 Dec 2005 10:49:30 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c

	Update capstring.


Fri, 23 Dec 2005 10:40:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/city.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/manual/civmanual.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c

	Split resources off from specials.  Resource types can now be more generically
	ruleset-defined.

	Patch by Jerome Plut <Jerome.Plut@ens.fr> in PR#14652 with changes by me.


Fri, 23 Dec 2005 07:35:42 -0800  evyscr:

	Changed paths:
	   M /trunk/po/ru.po

	3621 trans, 172 fuzzy, 143 utrans


Fri, 23 Dec 2005 06:47:05 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/wldlg.c

	Fix a bug with swapping of worklist items.


Thu, 22 Dec 2005 15:06:40 -0800  kauf:

	Changed paths:
	   M /trunk/server/gamehand.c

	correct misspelling.


Thu, 22 Dec 2005 14:05:02 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/repodlgs.c

	gui-xaw: fix crash while switching tilesets. Patch by me in PR#11802


Wed, 21 Dec 2005 21:39:43 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/algerian.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/armenian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/bengali.ruleset
	   M /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/burmese.ruleset
	   M /trunk/data/nation/colombian.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/georgian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/iraqi.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/lankese.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/norwegian.ruleset
	   M /trunk/data/nation/papuan.ruleset
	   M /trunk/data/nation/sudanese.ruleset
	   M /trunk/data/nation/tunisian.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/doc/README.nations

	Remove leaders presently in office. (PR#14906)


Wed, 21 Dec 2005 09:21:14 -0800  mstefek:

	Changed paths:
	   M /trunk/po/pl.po

	update


Tue, 20 Dec 2005 22:30:19 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/credits

	Update credits for flags. (PR#14893)


Tue, 20 Dec 2005 22:28:06 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/iroquois.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Improved Iroquois and Zulu city lists. (PR#14891)


Sun, 18 Dec 2005 09:54:52 -0800  kauf:

	Changed paths:
	   M /trunk/server/civserver.c
	   M /trunk/server/score.c
	   M /trunk/server/score.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h

	to make animated gifs for reviewing pubserver games, we currently make ppms
	of the maps from savegames, then after some manipulation, do ppm2gif to
	make the gif.

	This patch moves the ppm-making into the server. To turn it on, pass -Ppm
	to the server on the command line. The ppms are put wherever the savegames are.

	Patch by me. See PR#14827


Sat, 17 Dec 2005 14:21:39 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/mapview.c

	Fix a bug that made the client crash when opening the terrain info window.


Sat, 17 Dec 2005 13:43:26 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/SDL_ttf.c
	   M /trunk/client/gui-sdl/canvas.c
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/cma_fe.h
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_dither.h
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/gui_zoom.c
	   M /trunk/client/gui-sdl/happiness.c
	   M /trunk/client/gui-sdl/happiness.h
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/helpdlg.h
	   M /trunk/client/gui-sdl/inputdlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagedlg.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/pages.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.h
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-sdl/sprite.c
	   M /trunk/client/gui-sdl/themecolors.c
	   M /trunk/client/gui-sdl/themecolors.h
	   M /trunk/client/gui-sdl/themes.c
	   M /trunk/client/gui-sdl/themespec.c
	   M /trunk/client/gui-sdl/themespec.h
	   M /trunk/client/gui-sdl/unistring.c
	   M /trunk/client/gui-sdl/unistring.h
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-sdl/wldlg.h

	Some cleanup.


Sat, 17 Dec 2005 13:38:34 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/connectdlg.c

	Increase timeout for server scanning. Reported by Jason Dorje Short in PR#14819, patch by me.


Fri, 16 Dec 2005 20:43:39 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   A /trunk/client/gui-sdl/sprite.c
	   A /trunk/client/gui-sdl/sprite.h

	Move sprite code to sprite.c.


Fri, 16 Dec 2005 20:10:17 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/Makefile.am
	   A /trunk/client/gui-sdl/canvas.c
	   A /trunk/client/gui-sdl/canvas.h
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/mapview.c

	Move canvas code to canvas.c.


Fri, 16 Dec 2005 19:24:47 -0800  kauf:

	Changed paths:
	   M /trunk/common/connection.h
	   M /trunk/configure.ac
	   M /trunk/m4/auth.m4
	   M /trunk/manual/Makefile.am
	   M /trunk/server/Makefile.am
	   A /trunk/server/auth.c
	   A /trunk/server/auth.h
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/connecthand.h
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   D /trunk/server/userdb

	Remove registry-based authentication database in server/userdb.
	Add mysql authentication to the server. This requires --enable-auth
	passed to ./autogen.sh and mysql present. Also move authentication-related
	functions including the new auth database accessors to new files
	server/auth.[ch]

	Patch by me. See PR#14851


Fri, 16 Dec 2005 12:09:08 -0800  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/Makefile.am
	   M /trunk/client/civclient.c
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   A /trunk/client/ggzclient.c
	   A /trunk/client/ggzclient.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/include/gui_main_g.h
	   M /trunk/configure.ac
	   M /trunk/data
	   M /trunk/data/Makefile.am
	   A /trunk/data/civclient.dsc.in
	   A /trunk/data/civserver.dsc.in
	   A /trunk/data/civserver.room.in
	   A /trunk/m4/ggz.m4
	   M /trunk/manual/Makefile.am
	   M /trunk/server/Makefile.am
	   M /trunk/server/civserver.c
	   M /trunk/server/gamelog.c
	   A /trunk/server/ggzserver.c
	   A /trunk/server/ggzserver.h
	   M /trunk/server/sernet.c
	   M /trunk/server/sernet.h
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Preliminary support for GGZ Gaming Zone.

	See PR#14857.


Thu, 15 Dec 2005 16:54:03 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   A /trunk/client/gui-sdl/themecolors.c
	   A /trunk/client/gui-sdl/themecolors.h
	   M /trunk/client/gui-sdl/themes.c
	   M /trunk/client/gui-sdl/themespec.c
	   M /trunk/client/gui-sdl/themespec.h
	   M /trunk/client/gui-sdl/wldlg.c

	Add support for color descriptions to the theme code. Patch by me in PR#14866.


Thu, 15 Dec 2005 04:07:58 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/cartago-shield.png
	   M /trunk/data/flags/cartago.png
	   M /trunk/data/flags/cartago.svg

	New Carthaginian flag. See PR#14842.


Wed, 14 Dec 2005 16:41:25 -0800  jdorje:

	Changed paths:
	   M /trunk/common/effects.c

	Fix a bug where is_building_replaced always returned TRUE for capitalization.

	Reported by Christian Knoke <chrisk@cknoke.de> and others in PR#14768.  Patch
	by Vasco and myself.


Wed, 14 Dec 2005 11:04:02 -0800  mstefek:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h

	Allow user to detach tabs by doubleclicking on the tab's label. Patch by me in PR#14830


Tue, 13 Dec 2005 22:50:28 -0800  kauf:

	Changed paths:
	   M /trunk/ai/aiparatrooper.c

	fix a compile problem

	Patch by me. See PR#14863


Tue, 13 Dec 2005 22:28:41 -0800  kauf:

	Changed paths:
	   M /trunk/ai/aiparatrooper.c

	fix a compile problem

	Patch by me. See PR#14863


Tue, 13 Dec 2005 00:53:01 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	Check the result of get_tech_sprite() to avoid client crash. Reported by Jason Dorje Short in PR#14818, patch by me.


Tue, 13 Dec 2005 00:18:52 -0800  cproc:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/themespec.c

	Use the new cursor interface. Requested by Jason Dorje Short in PR#14817, patch by me.


Mon, 12 Dec 2005 21:18:10 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Remove excess whitespace from AC_CONFIG_FILES lines, because it caused
	autoconf to fail in mingw/msys.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14850.


Sun, 11 Dec 2005 04:50:02 -0800  mstefek:

	Changed paths:
	   M /trunk/utility/shared.c

	Fix a fatal bug in scanin(). Patch by me in PR#14831


Sat, 10 Dec 2005 23:10:17 -0800  dmarks:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Remove references to the history ruleset in POTFILES.in that were causing "make freeciv.pot" to fail.


Sat, 10 Dec 2005 23:07:17 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/roman.ruleset

	Fix comments in roman.ruleset that were causing gettext warnings.


Sat, 10 Dec 2005 23:04:15 -0800  dmarks:

	Changed paths:
	   M /trunk/po/ja.po

	Carry over the updates to ja.po in S2_0 (r11290) to HEAD.


Sat, 10 Dec 2005 19:19:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a bug with drawing of city graphics.

	Reported by Hogne Haskjold. Patch by me in PR#14820.


Sat, 10 Dec 2005 19:17:35 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Rename is_game_over() as check_for_game_over().

	Patch by me in PR#14826.


Sat, 10 Dec 2005 18:39:13 -0800  kauf:

	Changed paths:
	   M /trunk/server/spacerace.c
	   M /trunk/server/spacerace.h
	   M /trunk/server/srv_main.c

	Move spacerace win code into is_game_over()

	Patch by me. See PR#14822.


Sat, 10 Dec 2005 14:41:36 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/misc/cursors.png
	   M /trunk/data/misc/cursors.spec

	New cursor system.  More cursors are now used, with color cursors, animated
	cursors.  Cursors are used to show the client (hover) state and the action
	upon clicking.

	Patch and graphics by Andreas Rosdal <andrearo@stud.ntnu.no> in PR#13773
	with minor changes by me.


Sat, 10 Dec 2005 14:22:02 -0800  kauf:

	Changed paths:
	   M /trunk/server/gamelog.c
	   M /trunk/server/gamelog.h
	   M /trunk/server/srv_main.c

	Remove Allied Win. Game will not end if all remaining players are allied.
	Now alliances must be broken in order for there to be a winner.

	Patch by me. See PR#14815.


Sat, 10 Dec 2005 12:34:44 -0800  hogne:

	Changed paths:
	   M /trunk/data/amplio/ancientcities.png
	   M /trunk/data/amplio/medievalcities.png

	Reduced the density of trees in the celtic and medieval city style because
	they made it hard to see the actual terrain of the tile.


Sat, 10 Dec 2005 10:42:32 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Fix name for Hogne Haskjold.


Sat, 10 Dec 2005 10:02:02 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/themes.c
	   A /trunk/client/gui-sdl/themespec.c
	   A /trunk/client/gui-sdl/themespec.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Add theme support to the SDL client.

	Patch by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> as part of
	PR#14639.


Sat, 10 Dec 2005 03:44:50 -0800  hogne:

	Changed paths:
	   M /trunk/data/amplio/terrain1.png

	Perspective-corrected, thinner railroads


Fri, 09 Dec 2005 23:58:47 -0800  mstefek:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/themes.c

	Don't ignore user's ~/.gtkrc file. Requested by Robert M <xbxrjf@rojoma.com> in PR#14613, patch by me.


Fri, 09 Dec 2005 18:43:45 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/romanian.ruleset

	Changes to Romanian nation. Patch by me in PR#14789.


Fri, 09 Dec 2005 18:38:09 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/westphalian.ruleset

	Changes to Westphalian nation. Patch by Christian Knoke <chrisk@cknoke.de> in PR#14794.


Fri, 09 Dec 2005 18:35:52 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/german.ruleset

	Changes to German civil war nations. Patch by Christian Knoke <chrisk@cknoke.de> in PR#14793.


Fri, 09 Dec 2005 18:33:33 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/swiss.ruleset

	Changes to Swiss leader list. Patch by Christian Knoke <chrisk@cknoke.de> in PR#14792.


Fri, 09 Dec 2005 18:27:53 -0800  dmarks:

	Changed paths:
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset

	New default ruler titles for Despotism and Anarchy. See PR#13805.


Fri, 09 Dec 2005 16:30:56 -0800  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/sanitycheck.c

	Simplify assertions and sanity checks to prevent crashes when fog of war is
	turned off.

	Reported by Egor Vyscrebentsov <evyscr@murom.net> in PR#14738.


Fri, 09 Dec 2005 14:37:12 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihand.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/ruleset.c

	Push the last pieces of government special attributes over into effects.
	That is, production_*_bonus and production_*_penalty, adding two new
	effects Output_Penalty_Tile and Output_Inc_Tile_Celebrate. The ability
	to set a separate penalty for cities that celebrate is lost - it was
	never used either. Add helptext support (also for waste). The communism
	bonus to incite and bribe costs is removed. Remove superfluous helptexts
	from civ1/2 rulesets. See PR#14760.


Fri, 09 Dec 2005 13:37:33 -0800  hogne:

	Changed paths:
	   M /trunk/data/amplio/terrain2.png

	Replaced the rest of the old mountains with new ones by me.


Fri, 09 Dec 2005 12:58:24 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/server/ruleset.c

	Move control over waste entirely over to effects code. The new
	waste algorithm is much simpler, but also allows a much greater
	flexibility, such as luxury waste or increased waste from techs or
	buildings. Two new effects, "Output_Waste" and
	"Output_Waste_By_Distance". See PR#14756. Waste settings may need
	some fine tuning.


Fri, 09 Dec 2005 12:47:48 -0800  per:

	Changed paths:
	   M /trunk/configure.ac

	Also remove history ruleset from configure.ac


Fri, 09 Dec 2005 12:30:03 -0800  per:

	Changed paths:
	   M /trunk/data/Makefile.am
	   D /trunk/data/history
	   D /trunk/data/history.serv

	Remove history ruleset.


Fri, 09 Dec 2005 12:27:20 -0800  per:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/common/effects.c

	Add back autogeneration of governments helptext in the client,
	using effects code. See PR#14755.


Fri, 09 Dec 2005 11:04:14 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Fix configure-time detection of Amiga.

	Patch by Nicolas Mendoza <mendoza@pvv.ntnu.no> in PR#14804.


Tue, 06 Dec 2005 18:48:35 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/Makefile.am

	Fix #2 for r11315.


Tue, 06 Dec 2005 18:01:40 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/german.ruleset

	Fix for revision 11315.


Tue, 06 Dec 2005 17:08:11 -0800  dmarks:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/texas-shield.png
	   A /trunk/data/flags/texas.png
	   A /trunk/data/flags/texas.svg
	   A /trunk/data/flags/westphalia-shield.png
	   A /trunk/data/flags/westphalia.png
	   A /trunk/data/flags/westphalia.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   A /trunk/data/nation/texan.ruleset
	   A /trunk/data/nation/westphalian.ruleset
	   M /trunk/po/POTFILES.in

	Add Texan (PR#14716)  and Westphalian (PR#14419) nations. Texan ruleset by Jake Kesinger, Westphalian ruleset by Moritz Muehlenhoff <jmm@inutil.org>, edits by me. Texas flag from OCAL, Westphalia flag by me using OCAL clipart.


Tue, 06 Dec 2005 12:02:02 -0800  jdorje:

	Changed paths:
	   M /trunk/common/worklist.c

	Fix a buffer overrun when doing a worklist_insert on a full worklist.

	Reported by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> in
	PR#14783.


Tue, 06 Dec 2005 10:02:49 -0800  jdorje:

	Changed paths:
	   M /trunk/common/worklist.c

	Fix worklist length assertion.

	Reported by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> in
	PR#14783.


Mon, 05 Dec 2005 20:46:56 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix freeze/thaw bugs when ending the game (second try).

	Patch by Mike Kaufman in PR#14305.


Mon, 05 Dec 2005 20:13:08 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Make sure to thaw the client when ending a game.

	Reported by Brendon Oram <yautja@paradise.net.nz> and Per Mathisen in
	PR#14305.  Fix by Mike Kaufman and myself.


Mon, 05 Dec 2005 19:55:06 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/aborigines.ruleset
	   M /trunk/data/nation/aramean.ruleset
	   M /trunk/data/nation/armenian.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/colombian.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/gallic.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/inuit.ruleset
	   M /trunk/data/nation/manchu.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/sami.ruleset
	   M /trunk/data/nation/southafrican.ruleset
	   M /trunk/data/nation/swazi.ruleset
	   M /trunk/data/nation/turk.ruleset

	Improvements to nations, patch in PR#14741.


Mon, 05 Dec 2005 19:53:24 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/include/helpdlg_g.h

	Bring the SDL client up to date again.

	Patch by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> in PR#14639.


Mon, 05 Dec 2005 16:47:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/servers.c

	Fix win32 compile errors.

	Patch by Homr Zodyssey <programmer@nashclan.net> in PR#14691 with changes by
	me.


Mon, 05 Dec 2005 14:25:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/game.c

	Translate ruleset names when they're received in packhand.c, rather than
	waiting until translate_data_names is called (which doesn't happen until game
	start).

	Reported by Daniel Markstedt <himasaram@spray.se> in PR#14708.


Sun, 04 Dec 2005 23:09:22 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Don't send unit-remove packets to detached connections.

	Patch by Mike Kaufman in PR#13789.


Sun, 04 Dec 2005 21:58:20 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Define ALWAYS_ROOT when compiling on Amiga.

	Patch by Nicolas A. Mendoza <mendoza@pvv.ntnu.no> in PR#14764 with changes
	by me.


Sun, 04 Dec 2005 21:56:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	Add missing HAVE_WORKING_FORK check.

	Patch by Nicolas A. Mendoza <mendoza@pvv.ntnu.no> in PR#14764.


Sun, 04 Dec 2005 21:55:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/helpdlg.c

	Rename enumerated values to avoid system conflicts.

	Patch by "Nicolas A. Mendoza" <mendoza@pvv.ntnu.no> in PR#14764.


Sun, 04 Dec 2005 21:53:19 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/mem.c

	Always return a valid pointer on fc_malloc(1).

	Reported by Nicolas A. Mendoza <mendoza@pvv.ntnu.no> in PR#14764.


Sun, 04 Dec 2005 21:44:06 -0800  jdorje:

	Changed paths:
	   M /trunk/server/scripting/Makefile.am
	   A /trunk/server/scripting/api_gen.c
	   A /trunk/server/scripting/api_gen.h

	Add generated Lua sources to the repository.  This is needed because these
	scripts cannot be generated by tolua when cross-compiling, since tolua is
	built to run on the target OS not the host OS.

	Reported by Egor Vyscrebentsov and Nicolas A. Mendoza <mendoza@pvv.ntnu.no>
	in PR#13571.


Sat, 03 Dec 2005 11:21:03 -0800  vasc:

	Changed paths:
	   M /trunk/data/scenario/tutorial.sav
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/script.c

	We use the _freeciv_state_dump embedded Lua function to do introspection
	of the variables to a code string.

	_freeciv_state_dump was busted for boolean variables.

	I figured _freeciv_state_dump was busted when I saw it wasn't returning
	anything. I fixed it for booleans and numbers, and added an error
	message so we will catch a bug there more easily if/when it happens again.

	Bug reported by Jason Dorje Short. Patch by me under PR#13025.


Sat, 03 Dec 2005 10:15:18 -0800  vasc:

	Changed paths:
	   M /trunk/common/worklist.c

	Fix worklist saving to not use localized names.

	Patch by Bernd Pol <bernd.pol@online.de>, under PR#14753.


Sat, 03 Dec 2005 08:41:06 -0800  vasc:

	Changed paths:
	   M /trunk/client/servers.c

	Changed my_uname to be reentrant.

	Patch by me under PR#11170.


Sat, 03 Dec 2005 08:34:33 -0800  vasc:

	Changed paths:
	   M /trunk/client/servers.c

	Merge architecture specific uname implementations inside a single my_uname
	function.

	Patch by me under PR#11170.


Sat, 03 Dec 2005 08:07:46 -0800  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/player.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/server/cityhand.c
	   M /trunk/server/cityturn.c

	Turn EFT_PROD_TO_GOLD into an improvement flag.

	Patch by me under PR#14706.


Sat, 03 Dec 2005 05:09:19 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aitools.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/score.c

	Adds three new effects: Unhappy_Factor, Upkeep_Factor and
	Unit_Upkeep_Free_Per_City. Remove unit_*_factor and unit_free_* in
	governments.ruleset. Add new aux functions to effects code:
	get_player_output_bonus and get_city_output_bonus (existing
	get_city_output_bonus renamed to get_final_city_output_bonus).
	Free shield upkeep for units in anarchy and despotism is changed
	from equal to city size to 3 (equal to monarchy and communism).
	See PR#14746.


Fri, 02 Dec 2005 18:32:56 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Remove get_chance_to_win, as it is unused and broken.

	See PR#14365.


Fri, 02 Dec 2005 18:24:37 -0800  jdorje:

	Changed paths:
	   M /trunk/server/report.c
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h

	Improve the fixed-width spacing of strings in the demographics report text.

	Reported by Daniel Markstedt <himasaram@spray.se> in PR#14731.  Patch by me.


Thu, 01 Dec 2005 14:15:44 -0800  per:

	Changed paths:
	   M /trunk/server/diplhand.c

	Fix copy&paste bugs in diplomacy code. Reported by Bernd Pol <bernd.pol@online.de> in
	PR#14732.


Thu, 01 Dec 2005 02:55:20 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/maori.ruleset

	Improved Maori nation. See PR#14711.


Thu, 01 Dec 2005 00:07:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   A /trunk/client/gui-sdl/themes.c

	Update gui-sdl cursors code, and add stub themes.c file.

	Patch by Christian Prochaska <cp.ml.freeciv.dev@googlemail.com> as part of
	PR#14639.


Thu, 01 Dec 2005 00:05:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/mapctrl.c

	Fix compile warning.


Wed, 30 Nov 2005 23:59:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/cma_fe.c

	Fix compile warning.


Mon, 28 Nov 2005 03:30:53 -0800  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/server/srv_main.c

	When a Peace treaty kicks in, all military units belonging to
	peace-treaty players inside your border are immediately disbanded.

	When an Armistice kicks in, immediately ready (idle) all units in
	the territory of a player that you accept an armistice (peace)
	treaty with, so that you can make the choice to move those units
	out before the Peace treaty starts.

	See PR#14548 for the full story.


Mon, 28 Nov 2005 03:24:24 -0800  per:

	Changed paths:
	   M /trunk/data/default/techs.ruleset

	Change the second requirement of Stealth tech from Robotics to Advanced Flight, as
	requested in PR#9197, to avoid the appearance of aircraft without even having
	researched Flight. Fix suggested by Mike Jing.


Mon, 28 Nov 2005 03:19:39 -0800  per:

	Changed paths:
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/welsh.ruleset

	Fix syntax problems in nation rulesets ("," symbol at end of table line means column is
	continued on the next line).


Sun, 27 Nov 2005 11:22:36 -0800  jdorje:

	Changed paths:
	   M /trunk/data/scenario/Makefile.am

	Fix a bug in "make clean" on scenarios.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#14705.


Sun, 27 Nov 2005 05:53:42 -0800  dmarks:

	Changed paths:
	   M /trunk/po/sv.po

	update


Sat, 26 Nov 2005 16:26:29 -0800  jdorje:

	Changed paths:
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/server/sernet.c

	Use timers for the "last_write" connection timing.  Lag checks are also merged
	into a single function call.

	Patch by me in PR#14694.


Sat, 26 Nov 2005 11:53:28 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-sdl/SDL_ttf.c
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/chatline.h
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/connectdlg.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_dither.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/optiondlg.h
	   M /trunk/client/gui-sdl/pages.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	PR#14639: Patch for SDL client.

	Get the SDL client source code into compile shape again.

	Patch from 2005-11-20 by,
	Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>.


Sat, 26 Nov 2005 00:23:22 -0800  dmarks:

	Changed paths:
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec

	Cleanup of flags.spec and shields.spec. Patch by me in RT#14668.


Sat, 26 Nov 2005 00:15:50 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/tibetan.ruleset

	Changes to Tibetan nation. See RT#14622.


Fri, 25 Nov 2005 18:59:33 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Don't cut (because of lag) HACK connections or single-player connections.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#14392.  Patch by me.


Fri, 25 Nov 2005 18:52:08 -0800  jdorje:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Add the is-info qualifier back on to tile_info packets.

	Patch by me as part of PR#14392.


Fri, 25 Nov 2005 18:42:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/city.h
	   M /trunk/data/amplio/ancientcities.spec
	   M /trunk/data/amplio/medievalcities.spec
	   M /trunk/data/amplio/moderncities.spec
	   M /trunk/data/amplio.tilespec
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident/cities.spec
	   M /trunk/data/isotrident/morecities.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/chiefs.spec
	   M /trunk/data/trident/cities.spec
	   M /trunk/data/trident.tilespec

	Simplify the code for drawing city graphics.

	Patch by me in PR#14664.


Fri, 25 Nov 2005 17:24:19 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/cities.ruleset

	Revert PR#14449 (SVN revision 11267).


Thu, 24 Nov 2005 03:59:45 -0800  dmarks:

	Changed paths:
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/swiss.ruleset

	Revert changes accidently commited in revision 11269.


Thu, 24 Nov 2005 03:47:30 -0800  dmarks:

	Changed paths:
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/swiss.ruleset

	Changes to Swiss nation, requested by Christian Knoke <chrisk@cknoke.de> in RT#14565.


Thu, 24 Nov 2005 02:10:33 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/hobbits-shield.png
	   M /trunk/data/flags/hobbits.png
	   M /trunk/data/flags/hobbits.svg

	New Hobbit flag design based on the original concept. Image by me, using clipart from OCAL, in RT#14656.


Thu, 24 Nov 2005 01:08:23 -0800  dmarks:

	Changed paths:
	   M /trunk/data/default/cities.ruleset

	Add gettext qualifiers for city style names. Requested by Egor Vyscrebentsov <evyscr@murom.net> in RT#14449.


Mon, 21 Nov 2005 16:55:46 -0800  jdorje:

	Changed paths:
	   M /trunk/common/requirements.c

	Provide a temporary workaround that allows city_got_citywalls to work
	more-or-less properly.

	See PR#14443.


Mon, 21 Nov 2005 16:47:32 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/genlist.c
	   M /trunk/utility/genlist.h
	   M /trunk/utility/speclist.h

	Add a new function genlist_copy (with a speclist variant).

	Patch by me as part of PR#14365.


Mon, 21 Nov 2005 16:46:51 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/shared.h

	Add a new macro EQ for comparing boolean values.

	Patch by me as part of PR#14365.


Mon, 21 Nov 2005 14:49:03 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix a ghost-units bug.

	Reported by many in PR#14649.


Mon, 21 Nov 2005 13:09:38 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/specvec.h

	Remove a duplicated set of #defines from specvec.h.

	Reported by <skips@users.sourceforge.net> in PR#14654.


Mon, 21 Nov 2005 04:19:55 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/inca.ruleset

	Fix for Inca nation to differentiate between the nation name and title 'Inca'.


Mon, 21 Nov 2005 04:09:43 -0800  dmarks:

	Changed paths:
	   M /trunk/po/sv.po

	major updates


Mon, 21 Nov 2005 02:41:31 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/china-shield.png
	   M /trunk/data/flags/china.png
	   M /trunk/data/flags/china.svg
	   M /trunk/data/flags/korea-shield.png
	   M /trunk/data/flags/korea.png
	   M /trunk/data/flags/korea.svg

	Better China and Korea flags (RT#14624).


Mon, 21 Nov 2005 02:14:52 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   D /trunk/data/flags/turkestan-shield.png
	   D /trunk/data/flags/turkestan.png
	   D /trunk/data/flags/turkestan.svg
	   A /trunk/data/flags/uyghur-shield.png
	   A /trunk/data/flags/uyghur.png
	   A /trunk/data/flags/uyghur.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/uyghur.ruleset

	Rename 'turkestan' flag 'uyghur' for accuracy reasons.


Sun, 20 Nov 2005 11:20:39 -0800  vasc:

	Changed paths:
	   M /trunk/client/text.c

	This patch removes one user of city_got_citywalls.
	As an added feature, city wonders are now displayed in the tile info popup.

	Patch by me under PR#14443.


Sun, 20 Nov 2005 08:26:35 -0800  vasc:

	Changed paths:
	   M /trunk/server/scripting/script.c

	Fix bug in my previous commit.


Sun, 20 Nov 2005 08:20:08 -0800  vasc:

	Changed paths:
	   M /trunk/server/scripting/script.c

	PR#13023: Add fancy display of offending lines after a Lua script parse error.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.
	Patch by me.


Sun, 20 Nov 2005 07:17:19 -0800  vasc:

	Changed paths:
	   M /trunk/server/scripting/script.c

	PR#13023: Improved script error reporting.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>,
	Patch by me.


Sun, 20 Nov 2005 03:42:39 -0800  per:

	Changed paths:
	   M /trunk/server/maphand.c

	Transfer ownership of tiles from one border source to another
	if there is a city closer than another border source. This
	ensures that when you take over enemy cities, you do not end
	up with occasionally with cities with a 1-tile border. See PR#14589
	for more details. Problem reported by Christian Knoke, and
	solution suggested by Jason.


Sun, 20 Nov 2005 02:48:31 -0800  vasc:

	Changed paths:
	   M /trunk/common/requirements.c
	   M /trunk/doc/README.effects

	Fix continent range effects crash (PR#14618).

	Patch by Benedict Adamson <badamson@spamcop.net>.


Sat, 19 Nov 2005 06:46:11 -0800  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/server/unittools.c

	Fix crash when quering whether we can build a city from a hut. Bug reported by Chris
	Knoke in PR#14635 and Guillaume Melquiond <guillaume.melquiond@gmail.com> in PR#14638.
	Identical patches by me and Guillaume Melquiond.


Sat, 19 Nov 2005 02:37:19 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdiplomacy.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/text.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/events.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	The Neutral treaty is removed, and War becomes the default. Cease-fire
	works as before, but ends up back in War. You can only suggest
	Cease-fire when in War. The AI will automatically suggest and accept
	Cease-fire when you first meet. This should make the AI feel more
	interacting. New treaty Armistice. You cannot enter into Armistice
	directly, it starts automatically when entering Peace treaty from War
	or Cease-fire. It counts down to Peace treaty, just like a Cease-fire
	counts down to War. Breaking a Peace/Armistice treaty drops you
	straight to War (dropping to Cease-fire might be neat, but would be
	annoying, I think). Breaking an Alliance drops you to Armistice.
	See PR#14548.


Sat, 19 Nov 2005 00:59:41 -0800  mstefek:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	The log file was created without write permission under Windows. Bug reported by Homr Zodyssey in PR#14454


Fri, 18 Nov 2005 09:35:14 -0800  mstefek:

	Changed paths:
	   M /trunk/po/pl.po

	partial update


Fri, 18 Nov 2005 09:34:39 -0800  mstefek:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Add no-c-format tag to the palace description


Thu, 17 Nov 2005 23:52:13 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Send unit-remove packets to observer clients.  This fixes a bug where ghost
	units would appear frequently for observers.

	Reported by Daniel Markstedt <himasaram@spray.se> in PR#14623.  Patch by me.


Thu, 17 Nov 2005 23:22:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Don't crash in get_tile_output_text for observer players.

	Reported by Brendon Oram <yautja@paradise.net.nz> in PR#14586.  Patch by
	Per Mathisen and myself.


Thu, 17 Nov 2005 14:06:40 -0800  per:

	Changed paths:
	   M /trunk/data/nation/russian.ruleset

	Fix broken ruleset (missing comma).


Wed, 16 Nov 2005 23:31:00 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/swazi.ruleset

	Shortened unnecessarily long Swazi leader name.


Wed, 16 Nov 2005 22:07:02 -0800  dmarks:

	Changed paths:
	   A /trunk/data/civ2/nations.ruleset

	Add Civ2-equivalent nations list for civ2 ruleset. (RT#14381)


Wed, 16 Nov 2005 21:50:51 -0800  dmarks:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/aram-shield.png
	   A /trunk/data/flags/aram.png
	   A /trunk/data/flags/aram.svg
	   A /trunk/data/flags/bangladesh-shield.png
	   A /trunk/data/flags/bangladesh.png
	   A /trunk/data/flags/bangladesh.svg
	   A /trunk/data/flags/georgia-shield.png
	   A /trunk/data/flags/georgia.png
	   A /trunk/data/flags/georgia.svg
	   A /trunk/data/flags/madagascar-shield.png
	   A /trunk/data/flags/madagascar.png
	   A /trunk/data/flags/madagascar.svg
	   A /trunk/data/flags/mali-shield.png
	   A /trunk/data/flags/mali.png
	   A /trunk/data/flags/mali.svg
	   A /trunk/data/flags/myanmar-shield.png
	   A /trunk/data/flags/myanmar.png
	   A /trunk/data/flags/myanmar.svg
	   A /trunk/data/flags/swaziland-shield.png
	   A /trunk/data/flags/swaziland.png
	   A /trunk/data/flags/swaziland.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/aramean.ruleset
	   A /trunk/data/nation/armenian.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   A /trunk/data/nation/bengali.ruleset
	   A /trunk/data/nation/burmese.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/colombian.ruleset
	   A /trunk/data/nation/georgian.ruleset
	   M /trunk/data/nation/greek.ruleset
	   A /trunk/data/nation/hellenic.ruleset
	   M /trunk/data/nation/hittite.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/iraqi.ruleset
	   M /trunk/data/nation/lankese.ruleset
	   A /trunk/data/nation/malagasy.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   A /trunk/data/nation/malian.ruleset
	   M /trunk/data/nation/mayan.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/papuan.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/sami.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   A /trunk/data/nation/southafrican.ruleset
	   A /trunk/data/nation/swazi.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/po/POTFILES.in

	Add several nations and make changes to other nations to point to these ones, including a few other fixes. The added nations are Aramean (RT#13952) Armenian (RT#13860) Bengali (RT#13972) Burmese (RT#14543) Georgian (RT#13862) Hellenic (RT#13857) Malagasy (RT#13867) Malian (RT#14126) South African and Swazi (RT#14544). Aramean ruleset by Aho Esen, Burmese ruleset by Heiko Schaefer and Hellenic ruleset by Nikos Mavroyanopoulos and Giorgos Vaiolos. Aram flag by me, the rest from OCAL - in some cases with fixed sizes and colors.


Wed, 16 Nov 2005 14:23:53 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix two problems in AI diplomacy code related to space race, found by Guillaume
	Melquiond <guillaume.melquiond@gmail.com>. The AI would call upon the player it would
	soon attack to seek assistance in the war effort, and it would not realize it had
	planned an attack and would try to plan another war effort on the same player. See
	PR#14617 for the full discussion.


Wed, 16 Nov 2005 14:20:14 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Remove AI autoattack in 'experimental' difficulty setting. See discussion in PR#14491.


Wed, 16 Nov 2005 13:59:09 -0800  per:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Removes the assert()ing from sanitycheck.c, which was entirely pointless, since
	corefiles here give us no useful information. It adds two new macros SANITY_CITY and
	SANITY_TILE which add extra information to some warnings dealing with cities and tiles,
	so that it is easier to pinpoint problems. See PR#14552.


Wed, 16 Nov 2005 13:35:16 -0800  per:

	Changed paths:
	   M /trunk/data/default/terrain.ruleset

	You can no longer build cities on top of glaciers, but they are no longer unsafe
	or considered unsafe coast. See PR#14555.


Tue, 15 Nov 2005 04:53:09 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/Makefile.am
	   M /trunk/client/gui-xaw/dialogs.c
	   A /trunk/client/gui-xaw/diplomat_dialog.c

	gui-xaw: compile fix and diplomat dialog exclusion into separate file.


Sun, 13 Nov 2005 09:44:20 -0800  cazfi:

	Changed paths:
	   M /trunk/common/version.c

	Include fc_types.h

	See #14599


Sun, 06 Nov 2005 16:35:45 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/irish.ruleset

	Reduced Irish leader list. Requested by Benedict Adamson <badamson@spamcop.net> with patch by me in RT#14530.


Sun, 06 Nov 2005 16:21:49 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/iraqi.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/iroquois.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/lankese.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/libyan.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/sami.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sudanese.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/tibetan.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset

	Updates to nation's conflicts, leader titles and city lists. Patch and
	discussion in RT#14535.
	 --This line, and those below, will be ignored--

	M    data/nation/greek.ruleset
	M    data/nation/latvian.ruleset
	M    data/nation/polish.ruleset
	M    data/nation/iraqi.ruleset
	M    data/nation/venezuelan.ruleset
	M    data/nation/phoenician.ruleset
	M    data/nation/lankese.ruleset
	M    data/nation/byzantium.ruleset
	M    data/nation/indonesian.ruleset
	M    data/nation/scottish.ruleset
	M    data/nation/british.ruleset
	M    data/nation/inca.ruleset
	M    data/nation/kampuchean.ruleset
	M    data/nation/argentine.ruleset
	M    data/nation/welsh.ruleset
	M    data/nation/serbian.ruleset
	M    data/nation/viking.ruleset
	M    data/nation/slovenian.ruleset
	M    data/nation/indian.ruleset
	M    data/nation/french.ruleset
	M    data/nation/cornish.ruleset
	M    data/nation/aztec.ruleset
	M    data/nation/swiss.ruleset
	M    data/nation/german.ruleset
	M    data/nation/iroquois.ruleset
	M    data/nation/bosnia.ruleset
	M    data/nation/irish.ruleset
	M    data/nation/babylonian.ruleset
	M    data/nation/chinese.ruleset
	M    data/nation/egyptian.ruleset
	M    data/nation/italian.ruleset
	M    data/nation/tibetan.ruleset
	M    data/nation/elvish.ruleset
	M    data/nation/mongol.ruleset
	M    data/nation/persian.ruleset
	M    data/nation/arab.ruleset
	M    data/nation/spanish.ruleset
	M    data/nation/sudanese.ruleset
	M    data/nation/roman.ruleset
	M    data/nation/libyan.ruleset
	M    data/nation/russian.ruleset
	M    data/nation/japanese.ruleset
	M    data/nation/newzealand.ruleset
	M    data/nation/sami.ruleset


Sun, 06 Nov 2005 12:28:12 -0800  vasc:

	Changed paths:
	   M /trunk/server/scripting/script_signal.c

	Updated comment.


Sun, 06 Nov 2005 11:46:44 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	PR#14521: Replace GTK_STOCK_EDIT stock item with GTK_STOCK_DND.

	GTK_STOCK_EDIT is in GTK+ 2.6 or better only. We should require only 2.4.

	Bug reported by William Allen Simpson <wsimpson@greendragon.com>. Patch by me.


Sun, 06 Nov 2005 08:22:48 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Prevent AI sea units from attempting to rampage for huts. Problem reported by Mateusz
	Stefek in PR#14368. Also add some more unit logging.


Sun, 06 Nov 2005 07:26:22 -0800  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Did not save the correct tile info for borders. See PR#14554.


Sun, 06 Nov 2005 06:58:22 -0800  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix crash if we connect with a client before loading a savegame. See PR#14550. Reported
	by Jason.


Sat, 05 Nov 2005 03:40:49 -0800  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/tile.h
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	New borders code. Fortresses now extend borders. Once a border claim
	has been made, it is not changed unless the source of this claim
	disappears. On turn end, each border source expands border claims
	gradually, unless enemy units present prevent this from happening.
	How far cities extend their border depends on their size. Fortresses
	are owned by whoever moved into it last. When you take a border source,
	you also take all tiles controlled by this source. See PR#13718 for
	details.


Wed, 02 Nov 2005 23:53:31 -0800  jdorje:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po

	Update PO files after "make dist".


Wed, 02 Nov 2005 13:41:03 -0800  dmarks:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/france_old-shield.png
	   A /trunk/data/flags/france_old.png
	   A /trunk/data/flags/france_old.svg
	   A /trunk/data/flags/hittite-shield.png
	   A /trunk/data/flags/hittite.png
	   A /trunk/data/flags/hittite.svg
	   A /trunk/data/flags/maya-shield.png
	   A /trunk/data/flags/maya.png
	   A /trunk/data/flags/maya.svg
	   A /trunk/data/flags/papua_newguinea-shield.png
	   A /trunk/data/flags/papua_newguinea.png
	   A /trunk/data/flags/papua_newguinea.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/french.ruleset
	   A /trunk/data/nation/gallic.ruleset
	   A /trunk/data/nation/hittite.ruleset
	   M /trunk/data/nation/inca.ruleset
	   A /trunk/data/nation/mayan.ruleset
	   A /trunk/data/nation/papuan.ruleset
	   M /trunk/po/POTFILES.in

	Add nations Mayan (RT#13868) Hittite (RT#14123) Gallic (RT#13953) and
	Papuan (RT#13870). Hittite ruleset by Bobby Bryant
	<bdbryant@mail.utexas.edu> with edits by Benedict Adamson
	<badamson@spamcop.net> and me. The other rulesets by me. Hittite and
	Mayan flag images made by me from scratch. The other two from OCAL. Note
	that leader Vercingetorix is moved from French to Gallic nation. Added
	Jeanne d'Arc to French leader list to compensate for the loss.
	--This line,
	and those below, will be ignored--

	M    data/default/nations.ruleset
	A    data/nation/mayan.ruleset
	M    data/nation/inca.ruleset
	A    data/nation/hittite.ruleset
	A    data/nation/papuan.ruleset
	A    data/nation/gallic.ruleset
	M    data/nation/french.ruleset
	M    data/nation/aztec.ruleset
	M    data/nation/Makefile.am
	M    data/misc/shields.spec
	M    data/misc/flags.spec
	A    data/flags/maya.svg
	A    data/flags/france_old.svg
	AM   data/flags/maya.png
	AM   data/flags/france_old.png
	M    data/flags/Makefile.am
	A    data/flags/hittite.svg
	AM   data/flags/maya-shield.png
	AM   data/flags/hittite.png
	AM   data/flags/papua_newguinea-shield.png
	AM   data/flags/france_old-shield.png
	A    data/flags/papua_newguinea.svg
	AM   data/flags/papua_newguinea.png
	AM   data/flags/hittite-shield.png
	M    po/POTFILES.in


Wed, 02 Nov 2005 09:17:47 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Allow you to specify server command files with their '.serv' extension.
	Patch from PR#14502, also should fix bug report PR#14515.


Wed, 02 Nov 2005 09:14:53 -0800  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Add helptext for governments related change to Palace. See PR#14234.


Wed, 02 Nov 2005 08:05:35 -0800  dmarks:

	Changed paths:
	   M /trunk/doc/README.nations

	Clarification of nation leader policy. Requested by Benedict Adamson
	<badamson@spamcop.net> at RT#14355. Patch by me.
	 --This line, and those below,
	will be ignored--

	M    doc/README.nations


Wed, 02 Nov 2005 02:14:51 -0800  mstefek:

	Changed paths:
	   M /trunk/server/techtools.c

	Fix a bug when random tech target was automatically chosen after applying Darwin's bonus. Reported by Christian in PR#14520, patch by me


Tue, 01 Nov 2005 22:40:39 -0800  mstefek:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   A /trunk/client/gui-gtk-2.0/caravan_dialog.c
	   A /trunk/client/gui-gtk-2.0/choice_dialog.c
	   A /trunk/client/gui-gtk-2.0/choice_dialog.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/diplomat_dialog.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c

	Rename message_dialog choice_dialog. Move caravan_dialog and choice_dialog to separate files. Fix problem with inaccurate button labels when two caravans arrive at a city at the same time. Patch by me in PR#13661 with suggestion by Jason. Problems with caravans reported by Jason and Christian


Tue, 01 Nov 2005 22:32:14 -0800  mstefek:

	Changed paths:
	   M /trunk/server/unithand.c

	When transfering a city, change ownership of supported units before moving them back to the city. Reported by Christian in PR#14473, patch by me


Tue, 01 Nov 2005 22:28:33 -0800  mstefek:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Fix a bug which caused the server to crash when changing rulesetdir. Reported by Curtis <cwarren89@gawab.com> in PR#14514, patch by me


Tue, 01 Nov 2005 10:23:28 -0800  dmarks:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/cartago-shield.png
	   A /trunk/data/flags/cartago.png
	   A /trunk/data/flags/cartago.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/carthaginian.ruleset

	Add unique flag for Carthaginian nation. Flag image by me in RT#14434.


Tue, 01 Nov 2005 08:39:44 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/belgian.ruleset

	Improved Belgian city list. Originally by Nicolas Evrard with changes by
	me in RT#14423.


Tue, 01 Nov 2005 03:03:48 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/hobbits.ruleset

	Remove comments referring to the now removed wonder-tags, plus more
	comment cleanup.


Mon, 31 Oct 2005 05:13:23 -0800  per:

	Changed paths:
	   M /trunk/common/game.h

	Set default endyear to max. This to avoid newbie frustration, as reported frequently on
	the forums. See PR#14478.


Mon, 31 Oct 2005 04:35:34 -0800  per:

	Changed paths:
	   M /trunk/data/default/effects.ruleset

	Give Palace a production bonus of +75% under Despotism and +50% under Monarchy.
	Suggested by me in PR#14234, patch by Vasco. This should speed up the early game a bit,
	and provide some interesting options other than an early race for the Republic.


Sun, 30 Oct 2005 16:21:38 -0800  dmarks:

	Changed paths:
	   M /trunk/data/nation/british.ruleset

	Removed apostrophe from comment in ruleset.


Sun, 30 Oct 2005 09:16:41 -0800  mstefek:

	Changed paths:
	   M /trunk/po/pl.po

	partial update


Sun, 30 Oct 2005 08:33:52 -0800  mstefek:

	Changed paths:
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplhand.h
	   M /trunk/server/plrhand.c

	Reject all currently being negotiated treaties when a pact is canceled. Patch by me in PR#14385. Problem reported by Christian


Fri, 28 Oct 2005 08:16:37 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/swedish.ruleset

	Fix for Swedish nation: Wrongly defined gender for two leaders.


Thu, 27 Oct 2005 01:17:48 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/persian.ruleset

	De-Latinized city list for Persian nation. Patch by me in #14408.


Tue, 25 Oct 2005 14:24:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-win32/connectdlg.c

	When exiting the client while it's still connected to a running local server,
	use /quit instead of signals to kill the server.  This prevents the server
	from being killed in the middle of an operation (particularly /save).

	Reported by Matz <matzjosh-freeciv@schokokeks.org> in PR#12346.  Patch by me.


Tue, 25 Oct 2005 14:00:28 -0700  chrisk:

	Changed paths:
	   M /trunk/po/de.po

	msgfmt: error while opening "po/de.po" for reading: No such file or directory


Tue, 25 Oct 2005 00:43:55 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/pages.c
	   M /trunk/client/gui-xaw/ratesdlg.c
	   M /trunk/client/gui-xaw/wldlg.c

	gui-xaw: compile fix. Patch by me in PR#13607 (xaw-20051022-compile-fix.diff)


Mon, 24 Oct 2005 13:23:07 -0700  chrisk:

	Changed paths:
	   M /trunk/po/de.po

	3469 übersetzte Meldungen, 243 ungenaue Übersetzungen, 158 unübersetzte Meldungen.


Mon, 24 Oct 2005 13:05:40 -0700  chrisk:

	Changed paths:
	   M /trunk/po/de.po

	3462 übersetzte Meldungen, 250 ungenaue Übersetzungen, 158 unübersetzte Meldungen.


Mon, 24 Oct 2005 12:19:40 -0700  chrisk:

	Changed paths:
	   M /trunk/po/de.po

	merged and progressed, 3420 translated messages, 264 fuzzy translations, 186 untranslated messages.


Mon, 24 Oct 2005 02:57:09 -0700  dmarks:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/zulu-shield.png
	   A /trunk/data/flags/zulu.png
	   A /trunk/data/flags/zulu.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/zulu.ruleset

	KwaZulu homeland flag for Zulu nation. Requested by Gerhard Killesreiter,
	flag image by me using parts of other PD flags in RT#14349.
	 --This line, and those below, will be ignored--

	M    data/nation/zulu.ruleset
	M    data/misc/shields.spec
	M    data/misc/flags.spec
	AM   data/flags/zulu-shield.png
	M    data/flags/Makefile.am
	A    data/flags/zulu.svg
	AM   data/flags/zulu.png


Mon, 24 Oct 2005 02:36:29 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/british.ruleset

	Grammatical change: Plural form of British->Britons as requested by me.
	Discussion and patch in RT#14324.

	 --This line, and those below, will be ignored--

	M    data/nation/british.ruleset


Mon, 24 Oct 2005 02:23:56 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/phoenician.ruleset

	Cleanup of Phoenician nation ruleset. Requested by Jason short in PR#14435.


Sun, 23 Oct 2005 23:30:09 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/movement.c
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/citytools.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/unittools.c

	Change all class-based effects to be class-independent, but use a UnitClass
	req.

	Patch by me in PR#14314.


Sun, 23 Oct 2005 21:33:05 -0700  jdorje:

	Changed paths:
	   M /trunk/server/airgoto.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Change sizeof calls in the server to use variables rather than types.

	Patch by me in PR#14427.


Sun, 23 Oct 2005 21:26:48 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/server/ruleset.c

	Change ruleset section file loading to be "nodup", so duplicate entries
	will generate an error.  The rulesets are also fixed to remove
	duplicates.

	Patch by me in PR#14436.


Sat, 22 Oct 2005 14:21:04 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aiparatrooper.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/packhand.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Change vision on submarines to use fog of war.  Now multiple fog layers
	are supported.

	Patch by me in PR#14356.


Sat, 22 Oct 2005 11:55:21 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/connection.c
	   M /trunk/common/dataio.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/government.c
	   M /trunk/common/tech.c
	   M /trunk/common/unit.c
	   M /trunk/common/worklist.c

	Improve sizeof() calls to not use fixed types or casts.

	Patch by me in PR#14387.


Sat, 22 Oct 2005 07:52:26 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/egyptian.ruleset

	Rewrite city list of Egypt nation to be truly ancient, rather than the
	current Ptolemaic (Graeco-Macedonian). Patch and discussion in RT#14343.


Sat, 22 Oct 2005 06:35:42 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/russian.ruleset

	Improved Russian nation. Ruleset by Egor Vyscrebentsov
	<evyscr@murom.net> and Dmitriy Genzel with edits by me in RT#13836.
	 --This line, and those below, will be ignored--

	M    data/nation/russian.ruleset


Sat, 22 Oct 2005 04:44:09 -0700  dmarks:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/inca-shield.png
	   A /trunk/data/flags/inca.png
	   A /trunk/data/flags/inca.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/inca.ruleset

	Add unique Inca flag. Flag image by me in RT#14285.


Sat, 22 Oct 2005 00:41:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c

	Redraw the selection rectangle when making other drawing changes.

	Patch by me in PR#14416.


Fri, 21 Oct 2005 11:54:20 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/colombian.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/iraqi.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/lankese.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/tibetan.ruleset
	   M /trunk/data/nation/turk.ruleset

	Improvements to the leader lists of many nations. Discussion and patch in
	RT#13843.
	 --This line, and those below, will be ignored--

	M    data/nation/greek.ruleset
	M    data/nation/portuguese.ruleset
	M    data/nation/iraqi.ruleset
	M    data/nation/lankese.ruleset
	M    data/nation/byzantium.ruleset
	M    data/nation/turk.ruleset
	M    data/nation/indonesian.ruleset
	M    data/nation/carthaginian.ruleset
	M    data/nation/scottish.ruleset
	M    data/nation/colombian.ruleset
	M    data/nation/british.ruleset
	M    data/nation/dutch.ruleset
	M    data/nation/inca.ruleset
	M    data/nation/kampuchean.ruleset
	M    data/nation/belgian.ruleset
	M    data/nation/french.ruleset
	M    data/nation/aztec.ruleset
	M    data/nation/babylonian.ruleset
	M    data/nation/korean.ruleset
	M    data/nation/egyptian.ruleset
	M    data/nation/italian.ruleset
	M    data/nation/tibetan.ruleset
	M    data/nation/english.ruleset
	M    data/nation/persian.ruleset
	M    data/nation/spanish.ruleset
	M    data/nation/hungarian.ruleset
	M    data/nation/roman.ruleset
	M    data/nation/quebecois.ruleset


Fri, 21 Oct 2005 10:55:49 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/greek.ruleset

	Improved Greek city list, originally by Thanasis Kinias
	<tkinias@optimalco.com> with edits by me in RT#14096.

	 --This line, and those below, will be ignored--

	M    data/nation/greek.ruleset


Fri, 21 Oct 2005 09:41:25 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/czech.ruleset

	Updated Czech civil war nations. Requested by Mateusz Stefek in RT#14367.


Fri, 21 Oct 2005 09:02:45 -0700  dmarks:

	Changed paths:
	   M /trunk/data/flags/turkestan-shield.png
	   M /trunk/data/flags/turkestan.png
	   M /trunk/data/flags/turkestan.svg

	New East Turkestan flag for Uyghur nation. Flag image by me in RT#14304.


Fri, 21 Oct 2005 08:45:51 -0700  dmarks:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/viking-shield.png
	   A /trunk/data/flags/viking.png
	   A /trunk/data/flags/viking.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/norwegian.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/po/POTFILES.in

	Split Viking nation into Viking and Norwegian nation. Rulesets by Andreas
	Rosdal <andrearo@stud.ntnu.no> in RT#3594. Flag image by me in RT#13918.

	 --This line, and those below, will be ignored--

	M    data/default/nations.ruleset
	A    data/nation/norwegian.ruleset
	M    data/nation/viking.ruleset
	M    data/nation/Makefile.am
	M    data/misc/shields.spec
	M    data/misc/flags.spec
	M    data/flags/Makefile.am
	A    data/flags/viking.svg
	AM   data/flags/viking.png
	AM   data/flags/viking-shield.png
	M    po/POTFILES.in


Fri, 21 Oct 2005 06:52:15 -0700  mstefek:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/happiness.c

	Make city investigement work again. Reported by Christian Knoke in PR#14377, patch by me


Fri, 21 Oct 2005 06:05:24 -0700  mstefek:

	Changed paths:
	   M /trunk/server/unithand.c

	Fix problems with occupychance > 0 reported by Christian Knoke in PR#14393. Patch by me


Thu, 20 Oct 2005 07:58:58 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/libyan.ruleset

	Fast bugfix: Typo in Libyan ruleset. "BAni Walid" should be "Bani Walid".
	Is it ok to make changes like this without posting to RT tracker first?


Thu, 20 Oct 2005 07:43:32 -0700  dmarks:

	Changed paths:
	   M /trunk/data/nation/welsh.ruleset

	Fix spelling of Welsh city Aberystwyth.

	Reported by Fred Labrosse in RT#13854.


Thu, 20 Oct 2005 07:17:48 -0700  dmarks:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/aztec-shield.png
	   A /trunk/data/flags/aztec.png
	   A /trunk/data/flags/aztec.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/aztec.ruleset

	Added unique Aztec flag. Flag image and patch by me in RT#13746.

	This time a new flag is added. Do I have to run any script to make this
	update work properly?
	 --This line, and those below, will be ignored--

	M    data/nation/aztec.ruleset
	M    data/misc/shields.spec
	M    data/misc/flags.spec
	M    data/flags/Makefile.am
	AM   data/flags/aztec-shield.png
	A    data/flags/aztec.svg
	AM   data/flags/aztec.png


Thu, 20 Oct 2005 04:32:03 -0700  dmarks:

	Changed paths:
	   M /trunk/data/flags/arab-shield.png
	   M /trunk/data/flags/arab.png
	   M /trunk/data/flags/arab.svg

	More neutral Arab flag, with different shade of green.

	Flag image by me in RT#14303.


Thu, 20 Oct 2005 00:10:05 -0700  mstefek:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   A /trunk/ai/aiparatrooper.c
	   A /trunk/ai/aiparatrooper.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Teach AI to use paratroopers. Original patch by Jordi Negrevernis i Font. Highly modified and updated by me in PR#14366


Wed, 19 Oct 2005 12:41:54 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/server/ruleset.c

	Fix sizeof arguments in mallocs.

	Report and patch by David A Knight <david@ritter.demon.co.uk> in PR#14369
	with changes by me.


Wed, 19 Oct 2005 06:02:31 -0700  mstefek:

	Changed paths:
	   M /trunk/server/plrhand.c

	Allow removing shared vision during war. Reported by Christian Knoke, patch by me in PR#14379


Tue, 18 Oct 2005 12:18:37 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/genlist.c
	   M /trunk/utility/genlist.h
	   M /trunk/utility/shared.h
	   M /trunk/utility/speclist.h
	   M /trunk/utility/support.h

	Add a new boolean genlist/speclist function to search for an item in a list.
	This requires changing the includes so that support.h is lower-level than
	shared.h.

	Patch by me in PR#14362, with added comments.


Tue, 18 Oct 2005 12:07:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Change a hard-coded "3" value to be SINGLE_MOVE.

	See PR#14361.


Tue, 18 Oct 2005 02:46:26 -0700  mstefek:

	Changed paths:
	   M /trunk/po/pl.po

	Update


Mon, 17 Oct 2005 13:04:30 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c

	Better unit key navigation for laptops.

	Enables use of regular cursor keys when the main map is focused.
	Clicking or moving the mouse over the main map focuses it.

	Suggested by Mike Kaufman. Patch by me under PR#12898.


Mon, 17 Oct 2005 13:00:58 -0700  vasc:

	Changed paths:
	   M /trunk/common/packets.c

	Remove redundant networking includes.


Sun, 16 Oct 2005 09:42:37 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix an assert crash during /quit when the game is running.

	Reported by Per Mathisen in PR#14346.


Sun, 16 Oct 2005 00:53:27 -0700  mstefek:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix compilation. My fault.


Sun, 16 Oct 2005 00:27:34 -0700  mstefek:

	Changed paths:
	   M /trunk/ai/aicity.c

	Don't crash in darwin evaluation when tech target is unset. Reported by Jason in PR#14341, patch by me


Sat, 15 Oct 2005 12:13:03 -0700  per:

	Changed paths:
	   M /trunk/server/commands.c
	   M /trunk/server/console.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h
	   M /trunk/utility/log.c

	Load and read commands now ctrl instead of hack cmdlevel. Scripts files
	now run with user's cmdlevel if possible. Under certain conditions, the
	file paths that the server may use are restricted using is_restricted().
	See PR#13262.


Sat, 15 Oct 2005 11:16:20 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Reassign unavailable nations when loading a savegame.

	Reported by Daniel Markstedt <himasaram@spray.se> in PR#14318.  Patch by me.


Sat, 15 Oct 2005 11:15:01 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Use player_set_nation to assign the new nation during a civil war.

	Patch by me in PR#14336.


Sat, 15 Oct 2005 11:13:36 -0700  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	Rewrite the fog backend code.  The plrtile "pending_seen" value is no longer
	needed.  Other functions are renamed to be more consistent.

	Patch by me in PR#14334.


Sat, 15 Oct 2005 11:10:21 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/data/history/techs.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unittools.c

	Change unit vision modifiers (e.g., watchtowers) to use effects.

	Patch by me in PR#14331.


Sat, 15 Oct 2005 11:08:03 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/savegame.c

	Make borders omniscient again.

	Patch and discussion in PR#13565.


Sat, 15 Oct 2005 02:52:29 -0700  vasc:

	Changed paths:
	   M /trunk/server/ruleset.c

	PR#14338: Cannot see enemies City Walls.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 14 Oct 2005 22:15:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/sanitycheck.c

	When sending city owner info to the client, let the border owner information
	supercede what the playermap knows about the city owner.

	Patch by me in PR#13722.


Fri, 14 Oct 2005 22:12:52 -0700  jdorje:

	Changed paths:
	   M /trunk/server/score.c

	Rewrite the landarea calculations in the score code.  The new calculations
	take advantage of borders information when available.

	Patch by me in PR#4680.


Fri, 14 Oct 2005 20:33:25 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Don't allow rehoming of homeless units.

	Patch by me in PR#14319.


Fri, 14 Oct 2005 15:58:29 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix a bug that was just introduced into watchtower vision.

	See PR#14316.


Fri, 14 Oct 2005 15:45:28 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Rewrite the vision interface to simplify the calling code substantially.
	Watchtower handling code is also greatly simplified.

	Patch by me in PR#14316.


Fri, 14 Oct 2005 02:41:49 -0700  mstefek:

	Changed paths:
	   M /trunk/server/srv_main.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	When target is A_UNSET and goal is specified pick correct tech at the start of next turn. Reported by Jason, patch by me in PR#14288


Thu, 13 Oct 2005 20:22:01 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c

	Change global warming and nuclear winter console messages to be LOG_VERBOSE.

	Patch by me in PR#14291.


Thu, 13 Oct 2005 20:02:14 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiexplorer.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/data/history/units.ruleset
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Change units to use circular vision.  The backend fog code is cleaned up
	slightly.

	Patch by me in PR#14294.


Thu, 13 Oct 2005 17:33:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c

	Fix a bug where mapview refreshes sometimes didn't get flushed to the screen.

	Reported by Per Mathisen and Christian Knoke in PR#14307.


Thu, 13 Oct 2005 09:44:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/common/capstr.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/doc/README.effects
	   M /trunk/server/cityturn.c

	Add a unitclass requirement, and change req functions to accept unittype
	parameters rather than unit parameters.

	Patch by me in PR#14302.


Thu, 13 Oct 2005 09:26:34 -0700  mstefek:

	Changed paths:
	   M /trunk/bootstrap/freeciv.desktop.in

	Fix problems in freeciv.desktop.in. Patch by Brian Pepple <bdpepple@gmail.com> in PR#12666


Thu, 13 Oct 2005 09:02:02 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/cities.ruleset
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/algerian.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/colombian.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/iraqi.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/iroquois.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/lankese.ruleset
	   M /trunk/data/nation/libyan.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/romanian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sudanese.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/tunisian.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/welsh.ruleset

	Update many city styles.  Two new city styles (Babylonian and Celtic) are
	added.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13898.


Thu, 13 Oct 2005 06:11:12 -0700  mstefek:

	Changed paths:
	   M /trunk/server/plrhand.c

	Reveal your real city style to all players. Patch by me in PR#14270


Thu, 13 Oct 2005 02:00:40 -0700  mstefek:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/themes_common.c
	   M /trunk/client/themes_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Allow tilesets to specify list of prefered gui themes


Thu, 13 Oct 2005 01:41:04 -0700  mstefek:

	Changed paths:
	   M /trunk/data/scenario/british-isles-85x80-v2.80.sav
	   M /trunk/data/scenario/earth-160x90-v2.sav

	Enable fog of war


Thu, 13 Oct 2005 01:34:35 -0700  mstefek:

	Changed paths:
	   M /trunk/data/scenario/british-isles-85x80-v2.80.sav

	Increase sciencebox in the british isles scenario


Thu, 13 Oct 2005 01:28:58 -0700  mstefek:

	Changed paths:
	   M /trunk/common/nation.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Introduce possibility of disalowing some nations to be choosen. They can be created through civil war or in scenarios. Patch by me in PR#14182


Thu, 13 Oct 2005 01:07:44 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c

	Fix an off-by-one error in the fogging of city areas.

	Patch by me as part of PR#14294.


Thu, 13 Oct 2005 00:57:24 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/libya-shield.png
	   M /trunk/data/flags/libya.png
	   M /trunk/data/flags/libya.svg

	Change the Libyan flag to a darker shade of green.

	New flag by Daniel Markstedt <himasaram@spray.se> in PR#14232.


Thu, 13 Oct 2005 00:53:43 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/bulgarian.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/maori.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Add numerous civilwar_nations tags to nation rulesets.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14233.


Wed, 12 Oct 2005 17:28:18 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c

	Remove an incorrect assertion from PR#14248.


Wed, 12 Oct 2005 17:23:37 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/game.c
	   M /trunk/common/map.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/savegame.c

	Add a new effect type City_Vision_Radius_Sq that can be used to increase the
	vision radius of a city.

	Patch by Alexander Sayenko <sayenko@cc.jyu.fi> and myself in PR#14248.


Wed, 12 Oct 2005 13:53:13 -0700  jdorje:

	Changed paths:
	   M /trunk

	Add core files to svn:ignore, and remove "civclient" and "civserver".


Tue, 11 Oct 2005 18:59:33 -0700  jdorje:

	Changed paths:
	   M /trunk/ai
	   M /trunk/client/agents
	   M /trunk/client/gui-ftwl
	   M /trunk/client/gui-gtk-2.0
	   M /trunk/client/gui-mui
	   M /trunk/client/gui-sdl
	   M /trunk/client/gui-stub
	   M /trunk/client/gui-win32
	   M /trunk/client/gui-xaw
	   M /trunk/common
	   M /trunk/common/aicore
	   M /trunk/dependencies/lua/src
	   M /trunk/dependencies/lua/src/lib
	   M /trunk/dependencies/tolua
	   M /trunk/server
	   M /trunk/server/generator
	   M /trunk/server/scripting
	   M /trunk/server/userdb
	   M /trunk/utility

	Update svn:ignore properties for various directories so that they include
	*.a files - for instance by `svn propedit svn:ignore common`.


Tue, 11 Oct 2005 18:30:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/aborigines.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/maori.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/doc/README.nations

	Rename the Australian nation group as Oceanian.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14214.


Tue, 11 Oct 2005 18:24:00 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/barbarian.ruleset

	Update barbarian nation ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14215.


Tue, 11 Oct 2005 18:15:29 -0700  jdorje:

	Changed paths:
	   D /trunk/.cvsignore
	   D /trunk/ai/.cvsignore
	   D /trunk/amiga/.cvsignore
	   D /trunk/bootstrap/.cvsignore
	   D /trunk/client/.cvsignore
	   D /trunk/client/agents/.cvsignore
	   D /trunk/client/gui-ftwl/.cvsignore
	   D /trunk/client/gui-gtk-2.0/.cvsignore
	   D /trunk/client/gui-mui/.cvsignore
	   D /trunk/client/gui-sdl/.cvsignore
	   D /trunk/client/gui-stub/.cvsignore
	   D /trunk/client/gui-win32/.cvsignore
	   D /trunk/client/gui-xaw/.cvsignore
	   D /trunk/client/include/.cvsignore
	   D /trunk/common/.cvsignore
	   D /trunk/common/aicore/.cvsignore
	   D /trunk/data/.cvsignore
	   D /trunk/data/amplio/.cvsignore
	   D /trunk/data/civ1/.cvsignore
	   D /trunk/data/civ2/.cvsignore
	   D /trunk/data/default/.cvsignore
	   D /trunk/data/flags/.cvsignore
	   D /trunk/data/history/.cvsignore
	   D /trunk/data/isophex/.cvsignore
	   D /trunk/data/isotrident/.cvsignore
	   D /trunk/data/misc/.cvsignore
	   D /trunk/data/nation/.cvsignore
	   D /trunk/data/scenario/.cvsignore
	   D /trunk/data/stdsounds/.cvsignore
	   D /trunk/data/themes/.cvsignore
	   D /trunk/data/themes/common/.cvsignore
	   D /trunk/data/themes/morgan/.cvsignore
	   D /trunk/data/themes/morgan/640x480/.cvsignore
	   D /trunk/data/trident/.cvsignore
	   D /trunk/dependencies/.cvsignore
	   D /trunk/dependencies/lua/.cvsignore
	   D /trunk/dependencies/lua/include/.cvsignore
	   D /trunk/dependencies/lua/src/.cvsignore
	   D /trunk/dependencies/lua/src/lib/.cvsignore
	   D /trunk/dependencies/tolua/.cvsignore
	   D /trunk/doc/.cvsignore
	   D /trunk/doc/de/.cvsignore
	   D /trunk/doc/fr/.cvsignore
	   D /trunk/doc/it/.cvsignore
	   D /trunk/doc/ja/.cvsignore
	   D /trunk/doc/man/.cvsignore
	   D /trunk/doc/nl/.cvsignore
	   D /trunk/doc/sv/.cvsignore
	   D /trunk/intl/.cvsignore
	   D /trunk/m4/.cvsignore
	   D /trunk/manual/.cvsignore
	   D /trunk/po/.cvsignore
	   D /trunk/server/.cvsignore
	   D /trunk/server/generator/.cvsignore
	   D /trunk/server/scripting/.cvsignore
	   D /trunk/server/userdb/.cvsignore
	   D /trunk/tests/.cvsignore
	   D /trunk/utility/.cvsignore
	   D /trunk/utility/ftwl/.cvsignore
	   D /trunk/vms/.cvsignore

	Remove .cvsignore files.


Tue, 11 Oct 2005 13:28:59 -0700  mstefek:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Work around a bug in the gtk library where scrolling a mouse wheel over GtkPaned inserted in GtkNotebook made a page to be changed on the GtkNotebook. Patch by Vasco in PR#13419


Tue, 11 Oct 2005 11:46:40 -0700  mstefek:

	Changed paths:
	   M /trunk/po/pl.po

	Update (and svn test)


Sun, 09 Oct 2005 21:23:11 -0700  jdorje:

	Changed paths:
	   M /trunk/client/servers.c

	Fix a small bug that caused lanserver detection to fail.

	Reported by Mike Kaufman.


Sun, 09 Oct 2005 17:11:45 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/data/scenario/british-isles-85x80-v2.80.sav
	   M /trunk/data/scenario/earth-160x90-v2.sav
	   M /trunk/data/scenario/earth-80x50-v2.sav
	   M /trunk/data/scenario/europe-200x100-v2.sav
	   M /trunk/data/scenario/hagworld-120x60-v1.2.sav
	   M /trunk/data/scenario/iberian-peninsula-136x100-v1.0.sav
	   M /trunk/data/scenario/tutorial.sav
	   M /trunk/po/POTFILES.in
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h

	PR#14243: New section_file_load_section registry function.

	This speeds up scenario description loading and may come in handy
	further in the future.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 09 Oct 2005 14:25:31 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/data/scenario/tutorial.sav

	PR#14243: Scenario descriptions.

	Requested by Hogne Håskjold.


Sun, 09 Oct 2005 10:02:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/servers.c
	   M /trunk/client/servers.h

	Rewrite the client's server-scanning interface.  This also changes the
	server scans so that metaserver connections do not block (though DNS
	lookups still do block).

	Reported by many in PR#10902; patch by me.


Sun, 09 Oct 2005 09:49:07 -0700  jdorje:

	Changed paths:
	   M /trunk/data/amplio.tilespec

	Change the amplio city flag offset to draw the flag properly.


Sun, 09 Oct 2005 09:41:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/amplio.tilespec
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec

	Allow separate specification of flag offsets for cities versus units.

	Patch by me in PR#13950 (requested by Hogne).


Sun, 09 Oct 2005 01:44:14 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdiplomacy.h
	   M /trunk/server/unittools.c

	Ai didn't react to explorers pillaging its territory, patch by me in PR#14228


Sat, 08 Oct 2005 09:42:00 -0700  vasc:

	Changed paths:
	   M /trunk/client/plrdlg_common.c

	Right align score column in players report.


Sat, 08 Oct 2005 09:17:03 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	PR#14231: Diplomacy dialog look changes.

	Patch by me.


Fri, 07 Oct 2005 18:06:20 -0700  vasc:

	Changed paths:
	   M /trunk/server/savegame.c

	PR#13025: Make the script.code section be correctly saved in pre-game.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 07 Oct 2005 16:02:11 -0700  vasc:

	Changed paths:
	   M /trunk/data/scenario/tutorial.sav
	   M /trunk/server/scripting/api.pkg

	PR#13449: Fix owner-pointer issues in scripts.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 07 Oct 2005 15:34:29 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/nations.ruleset
	   M /trunk/data/default/nations.ruleset

	Update in-ruleset documentation on nation rulesets.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14223 with changes
	by me.


Fri, 07 Oct 2005 01:41:44 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	update


Thu, 06 Oct 2005 10:15:05 -0700  matusik:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   A /trunk/client/gui-gtk-2.0/diplomat_dialog.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c

	Destroy diplomat dialog when the diplomat is killed. The diplomat dialog code is moved to a new file. Patch by me in PR#14062


Thu, 06 Oct 2005 09:28:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/commands.c
	   M /trunk/server/commands.h
	   M /trunk/server/meta.c
	   M /trunk/server/meta.h
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Remove the metatopic.

	Patch by me in PR#12337.


Thu, 06 Oct 2005 09:19:36 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c

	Fix a server bug that causes a client crash when connecting to a server
	in detached mode.

	Patch by Per Mathisen in PR#14173.  Patch by me.


Thu, 06 Oct 2005 09:11:26 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/server/ruleset.c

	Make some parameters in nation rulesets manditory.

	Patch by me in PR#14185.


Thu, 06 Oct 2005 09:09:59 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Fix a bug where map_expose would draw out-of-sync data because it didn't
	call unqueue_mapview_updates.

	Patch by me in PR#14194.


Thu, 06 Oct 2005 09:05:56 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix off-by-one error in message after a unit is killed.

	Patch by me in PR#14196.


Wed, 05 Oct 2005 17:24:57 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/Makefile.am
	   A /trunk/doc/README.nations
	   M /trunk/doc/README.rulesets

	Add a new doc README.nations.

	File and patch by Daniel Markstedt <himasaram@spray.se> with changes by me.


Wed, 05 Oct 2005 13:21:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c

	Fix a crash in color_system_free.

	Patch by me in PR#14204.


Wed, 05 Oct 2005 12:53:25 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/pages.c

	gui-win32: Fix compilation.


Tue, 04 Oct 2005 16:43:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix memory leaks when tileset loading fails.

	Patch by me in PR#14191.


Tue, 04 Oct 2005 12:17:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/israel-shield.png
	   M /trunk/data/flags/israel.png
	   M /trunk/data/flags/israel.svg
	   M /trunk/data/flags/korea-shield.png
	   M /trunk/data/flags/korea.png
	   M /trunk/data/flags/korea.svg

	Resize Israel and Korea flags to be 3:2 aspect ratio, and fix the colors
	on the Korea flag.

	Flags by Daniel Markstedt <himasaram@spray.se> in PR#14186.


Tue, 04 Oct 2005 12:13:46 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/convert_png

	Fix conversion to work with new imagemagick.


Tue, 04 Oct 2005 10:02:38 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/bulgarian.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/colombian.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/inuit.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/iroquois.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/romanian.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Update some nation leaders, and reformat existing leader lists for
	consistency.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14151.


Tue, 04 Oct 2005 09:56:25 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aiguard.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h

	Fix const qualifiers for parameters of AI log functions, and prevent those
	functions from having any side effects.

	Patch by me in PR#14166.


Tue, 04 Oct 2005 09:46:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/tilespec.c

	Fix a memory error in color_system_free.

	Patch by me in PR#14178.


Tue, 04 Oct 2005 04:30:53 -0700  matusik:

	Changed paths:
	   M /trunk/common/effects.c

	Fix mistake in 14170


Tue, 04 Oct 2005 01:33:00 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	Check alliances sanity after all player are loaded. Patch by me in PR#14167


Tue, 04 Oct 2005 00:27:13 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ1/techs.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/data/history/techs.ruleset
	   M /trunk/doc/README.effects

	Replace the Trade_revenue_reduce tech flag with proper effect. Patch by me in PR#14170, suggestions by Jason


Mon, 03 Oct 2005 16:32:54 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Add missing punctuation to AI chatter.


Mon, 03 Oct 2005 16:10:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/common/improvement.c
	   M /trunk/common/tech.c

	Fix a crash in the city report dialog by changing several functions to
	accept NULL values for pointers.

	Patch by me in PR#14176.


Mon, 03 Oct 2005 15:46:13 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/ryukyuan.ruleset

	Clean up Ryukyuan ruleset, fixing style and line feeds.

	New file by Daniel Markstedt <himasaram@spray.se> in PR#14174.


Mon, 03 Oct 2005 11:15:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a compiler warning in tilespec.c.

	Patch by me in PR#14172.


Mon, 03 Oct 2005 08:59:39 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/amplio/fog.spec
	   M /trunk/data/amplio.tilespec
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident/fog.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident/fog.spec
	   M /trunk/data/trident.tilespec

	Make several tileset options manditory.

	Patch by me in PR#14163.


Mon, 03 Oct 2005 00:26:41 -0700  matusik:

	Changed paths:
	   M /trunk/data/scenario/earth-160x90-v2.sav

	Fix starting position for the Ethiopians


Sun, 02 Oct 2005 23:54:54 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/slovakian.ruleset

	Updated Slovakian ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14160.


Sun, 02 Oct 2005 23:49:50 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/rome-shield.png
	   M /trunk/data/flags/rome.png
	   M /trunk/data/flags/rome.svg
	   M /trunk/data/flags/swiss-shield.png
	   M /trunk/data/flags/swiss.png
	   M /trunk/data/flags/swiss.svg

	Change several flags to a 3:2 aspect ratio.

	Flags by Daniel Markstedt <himasaram@spray.se> in PR#14149.


Sun, 02 Oct 2005 23:38:05 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/unithand.c

	Add probability in the NUCLEAR_PROOF effect, allowing modpacks in which sdi defences are less then 100% accurate. Patch by me in PR#14113


Sun, 02 Oct 2005 19:50:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/attribute.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/civclient.c
	   M /trunk/client/climap.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/reqtree.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/common/government.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/data/civ1/nations.ruleset
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/nation/Makefile.am
	   D /trunk/data/nation/observer.ruleset
	   M /trunk/po/POTFILES.in
	   M /trunk/server/gamehand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Redesign observers.  In the new system global observers are not assigned
	to any player.

	Patch by me in PR#13878.


Sun, 02 Oct 2005 17:10:25 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#13875: Fix broken cmp_func used in the science report.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 02 Oct 2005 16:12:55 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	PR#12334: Fix wrong sorting of techs in inteldlg.

	Bug reported by Christian Knoke <chrisk@cknoke.de>.


Sun, 02 Oct 2005 14:34:08 -0700  jdorje:

	Changed paths:
	   M /trunk/data/amplio.tilespec

	Set amplio priority to 20.


Fri, 30 Sep 2005 10:03:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c

	Don't allow output bonuses to drop below zero (or we'd have negative
	production).  Also fix a CM bug when the output bonus is zero.

	Reported by Lo'oris <lo_oris@email.it> in PR#14014.


Fri, 30 Sep 2005 09:55:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/bulgarian.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/romanian.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Updates to nation rulesets: add legends, reformat existing legends,
	update conflicts_with fields, change several nation groups.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14144 with grammar
	and spelling changes by me.


Wed, 28 Sep 2005 18:27:22 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/uyghur.ruleset

	Add conflicts for some nations.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14132.


Tue, 27 Sep 2005 20:33:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/aborigines.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/bulgarian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/inuit.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/lankese.ruleset
	   M /trunk/data/nation/maori.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/sami.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/tunisian.ruleset
	   M /trunk/data/nation/vietnamese.ruleset

	Rewrite the groups for many nations.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14105.


Tue, 27 Sep 2005 19:30:48 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/austria-shield.png
	   M /trunk/data/flags/austria.png
	   M /trunk/data/flags/austria.svg
	   M /trunk/data/flags/bavarian-shield.png
	   M /trunk/data/flags/bavarian.png
	   M /trunk/data/flags/bavarian.svg
	   M /trunk/data/flags/brasil-shield.png
	   M /trunk/data/flags/brasil.png
	   M /trunk/data/flags/brasil.svg
	   M /trunk/data/flags/byzantium-shield.png
	   M /trunk/data/flags/byzantium.png
	   M /trunk/data/flags/byzantium.svg
	   M /trunk/data/flags/catalan-shield.png
	   M /trunk/data/flags/catalan.png
	   M /trunk/data/flags/catalan.svg
	   M /trunk/data/flags/constantine-shield.png
	   M /trunk/data/flags/constantine.png
	   M /trunk/data/flags/constantine.svg
	   M /trunk/data/flags/indonesia-shield.png
	   M /trunk/data/flags/indonesia.png
	   M /trunk/data/flags/indonesia.svg
	   M /trunk/data/flags/kenya-shield.png
	   M /trunk/data/flags/kenya.png
	   M /trunk/data/flags/kenya.svg
	   M /trunk/data/flags/krev-shield.png
	   M /trunk/data/flags/krev.png
	   M /trunk/data/flags/krev.svg
	   M /trunk/data/flags/scotland-shield.png
	   M /trunk/data/flags/scotland.png
	   M /trunk/data/flags/scotland.svg
	   M /trunk/data/flags/stpatrick-shield.png
	   M /trunk/data/flags/stpatrick.png
	   M /trunk/data/flags/stpatrick.svg
	   M /trunk/data/flags/turkey-shield.png
	   M /trunk/data/flags/turkey.png
	   M /trunk/data/flags/turkey.svg
	   M /trunk/data/flags/united_nations-shield.png
	   M /trunk/data/flags/united_nations.png
	   M /trunk/data/flags/united_nations.svg

	Resize some flags to be at a 3:2 aspect ratio.

	New flags by Daniel Markstedt <himasaram@spray.se> in PR#14121.


Tue, 27 Sep 2005 08:10:19 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/byzantium.ruleset

	Updates to Byzantine nation.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14087.


Mon, 26 Sep 2005 15:34:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Remove log messages erronously introduced in PR#14077.


Mon, 26 Sep 2005 15:03:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c

	Fix a bug where the "full" citybar wasn't updated when production was
	changed while the show_city_productions option was off.

	Reported by Mateusz Stefek in PR#14012.


Mon, 26 Sep 2005 13:52:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Allow queueing of mapview updates inside the drawing code.  Fix a bug
	whereby city names may not be fully drawn the first time the city is
	seen.

	Patch by me in PR#14077.


Mon, 26 Sep 2005 12:04:38 -0700  matusik:

	Changed paths:
	   M /trunk/common/capstr.c

	Update capstr (compatibility got broken in PR#13327)


Mon, 26 Sep 2005 11:59:12 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/include/pages_g.h
	   M /trunk/client/packhand.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/stdinhand.c

	Allow adjusting game settings when loading a scenario (or any other savegame in pregame state). This fixes the most significant problem where the player couldn't pick a nation in scenario. Also fix problems with the aifill spin button and other related bugs found while writing a patch in PR#13327


Mon, 26 Sep 2005 10:09:46 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/armenia-shield.png
	   M /trunk/data/flags/armenia.png
	   M /trunk/data/flags/armenia.svg
	   M /trunk/data/flags/belgium-shield.png
	   M /trunk/data/flags/belgium.png
	   M /trunk/data/flags/belgium.svg
	   M /trunk/data/flags/denmark-shield.png
	   M /trunk/data/flags/denmark.png
	   M /trunk/data/flags/denmark.svg
	   M /trunk/data/flags/germany-shield.png
	   M /trunk/data/flags/germany.png
	   M /trunk/data/flags/germany.svg
	   M /trunk/data/flags/iceland-shield.png
	   M /trunk/data/flags/iceland.png
	   M /trunk/data/flags/iceland.svg
	   M /trunk/data/flags/mordor-shield.png
	   M /trunk/data/flags/mordor.png
	   M /trunk/data/flags/mordor.svg
	   M /trunk/data/flags/nato-shield.png
	   M /trunk/data/flags/nato.png
	   M /trunk/data/flags/nato.svg
	   M /trunk/data/flags/norway-shield.png
	   M /trunk/data/flags/norway.png
	   M /trunk/data/flags/norway.svg
	   M /trunk/data/flags/sapmi-shield.png
	   M /trunk/data/flags/sapmi.png
	   M /trunk/data/flags/sapmi.svg
	   M /trunk/data/flags/srilanka.png
	   M /trunk/data/flags/srilanka.svg
	   M /trunk/data/flags/sumeria-shield.png
	   M /trunk/data/flags/sumeria.png
	   M /trunk/data/flags/sumeria.svg
	   M /trunk/data/flags/syria-shield.png
	   M /trunk/data/flags/syria.png
	   M /trunk/data/flags/syria.svg
	   M /trunk/data/flags/wales-shield.png
	   M /trunk/data/flags/wales.png
	   M /trunk/data/flags/wales.svg

	Resize some more flags to have a 3:2 aspect ratio.

	Resizing by Daniel Markstedt <himasaram@spray.se> in PR#14116.


Mon, 26 Sep 2005 09:14:25 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/hash.c

	Rewrite the bucket deletion code for hashes.  This simplifies code and
	should make hash_delete_all_entries faster.

	Patch by me in PR#14097.


Sun, 25 Sep 2005 16:58:52 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/hash.c

	Fix a crash in the hash/attribute code from PR#14063.

	Reported by Christian Knoke <chrisk@cknoke.de> and Benedict Adamson
	<badamson@spamcop.net> in PR#14102.


Sun, 25 Sep 2005 07:09:48 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Allow /create when maxplayers is reached, but there are AI players generated by the aifill command. Patch by me in PR#14051


Sun, 25 Sep 2005 07:06:02 -0700  matusik:

	Changed paths:
	   M /trunk/client/reqtree.c

	Clean up reqtree.c. Patch by me in PR#14099


Fri, 23 Sep 2005 18:42:59 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/swedish.ruleset

	Updates/cleanups to Danish and Swedish nations.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14035.


Fri, 23 Sep 2005 18:28:06 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Don't allow recursive transporting, since it is buggy.

	Reported by Senti Lo'oris <lo_oris@email.it> in PR#14043.


Fri, 23 Sep 2005 12:23:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/attribute.c
	   M /trunk/utility/hash.c
	   M /trunk/utility/hash.h

	Fix a memory leak in the attribute hash code.

	Patch by me in PR#14063.


Fri, 23 Sep 2005 11:42:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Fix a memory leak caused by multiple calls to new_timer.

	Patch by me in PR#14064.


Fri, 23 Sep 2005 11:38:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	Change the LAN tab (not the metaserver tab) to be the default in the
	"connect to network game" pane.

	Patch by me in PR#14086.


Thu, 22 Sep 2005 23:24:39 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/azerbaijan-shield.png
	   M /trunk/data/flags/azerbaijan.png
	   M /trunk/data/flags/azerbaijan.svg
	   M /trunk/data/flags/cornwall-shield.png
	   M /trunk/data/flags/cornwall.png
	   M /trunk/data/flags/cornwall.svg
	   M /trunk/data/flags/croatia-shield.png
	   M /trunk/data/flags/croatia.png
	   M /trunk/data/flags/croatia.svg
	   M /trunk/data/flags/england-shield.png
	   M /trunk/data/flags/england.png
	   M /trunk/data/flags/england.svg
	   M /trunk/data/flags/finland-shield.png
	   M /trunk/data/flags/finland.png
	   M /trunk/data/flags/finland.svg
	   M /trunk/data/flags/iran-shield.png
	   M /trunk/data/flags/iran.png
	   M /trunk/data/flags/iran.svg
	   M /trunk/data/flags/libya.png
	   M /trunk/data/flags/libya.svg
	   M /trunk/data/flags/malaysia-shield.png
	   M /trunk/data/flags/malaysia.png
	   M /trunk/data/flags/malaysia.svg
	   M /trunk/data/flags/mexico-shield.png
	   M /trunk/data/flags/mexico.png
	   M /trunk/data/flags/mexico.svg
	   M /trunk/data/flags/norway-shield.png
	   M /trunk/data/flags/norway.png
	   M /trunk/data/flags/norway.svg
	   M /trunk/data/flags/slovenia-shield.png
	   M /trunk/data/flags/slovenia.png
	   M /trunk/data/flags/slovenia.svg
	   M /trunk/data/flags/soviet-shield.png
	   M /trunk/data/flags/soviet.png
	   M /trunk/data/flags/soviet.svg
	   M /trunk/data/flags/sudan-shield.png
	   M /trunk/data/flags/sudan.png
	   M /trunk/data/flags/sudan.svg
	   M /trunk/data/flags/sweden-shield.png
	   M /trunk/data/flags/sweden.png
	   M /trunk/data/flags/sweden.svg

	Change some flags from a 2:1 aspect ratio to a more regular 3:2 aspect
	ratio.

	Resizing by Daniel Markstedt <himasaram@spray.se> in PR#14091.


Thu, 22 Sep 2005 01:39:53 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/afghanistan.png
	   M /trunk/data/flags/afghanistan.svg
	   M /trunk/data/flags/argentina.png
	   M /trunk/data/flags/argentina.svg
	   M /trunk/data/flags/australia.png
	   M /trunk/data/flags/australia.svg
	   M /trunk/data/flags/bosnia.png
	   M /trunk/data/flags/bosnia.svg
	   M /trunk/data/flags/canada.png
	   M /trunk/data/flags/canada.svg
	   M /trunk/data/flags/cheyenne.png
	   M /trunk/data/flags/cheyenne.svg
	   M /trunk/data/flags/ethiopia.png
	   M /trunk/data/flags/ethiopia.svg
	   M /trunk/data/flags/hungary.png
	   M /trunk/data/flags/hungary.svg
	   M /trunk/data/flags/ireland.png
	   M /trunk/data/flags/ireland.svg
	   M /trunk/data/flags/latvia.png
	   M /trunk/data/flags/latvia.svg
	   M /trunk/data/flags/lithuania.png
	   M /trunk/data/flags/lithuania.svg
	   M /trunk/data/flags/mongolia.png
	   M /trunk/data/flags/mongolia.svg
	   M /trunk/data/flags/newzealand.png
	   M /trunk/data/flags/newzealand.svg
	   M /trunk/data/flags/nigeria.png
	   M /trunk/data/flags/nigeria.svg
	   M /trunk/data/flags/united_kingdom.png
	   M /trunk/data/flags/united_kingdom.svg
	   M /trunk/data/flags/usa.png
	   M /trunk/data/flags/usa.svg

	Resize a number of flags that had 2:1 aspect ratios to instead have the
	default 3:2 aspect ratios.

	Resized by Daniel Markstedt <himasaram@spray.se> in PR#13806.


Thu, 22 Sep 2005 01:34:17 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/rome-shield.png
	   M /trunk/data/flags/rome.png
	   M /trunk/data/flags/rome.svg

	Replace the Roman flag.

	New flag SVG by Daniel Markstedt <himasaram@spray.se> in PR#14081.


Wed, 21 Sep 2005 21:50:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a client crash when freeing an incomplete tileset.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#14076.


Wed, 21 Sep 2005 21:26:13 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/assyria-shield.png
	   M /trunk/data/flags/assyria.png
	   M /trunk/data/flags/assyria.svg

	Import a better Assyria flag.

	SVG flag by Daniel Markstedt <himasaram@spray.se> and potrace in PR#14078.


Tue, 20 Sep 2005 23:45:25 -0700  matusik:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	This patch allows to specify which nations shouldn't be considered by AI when selecting a nation in the same game. Patch by me in PR#14015


Tue, 20 Sep 2005 23:21:44 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Partial update


Tue, 20 Sep 2005 22:58:12 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aitools.c

	Improve is_player_dangerous: don't trust neutral players and players who we don't like. Patch by me in PR#14053


Tue, 20 Sep 2005 22:56:32 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix a bug in ai_incident_war, where ai love wasn't properly decreased when you declared war on AI. Patch by me in PR#14053


Tue, 20 Sep 2005 20:28:17 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/korean.ruleset

	Further improvements to Korean nation.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#14011.


Tue, 20 Sep 2005 20:15:43 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/maori.ruleset

	Remove ' characters that confuse gettext.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#14061 with changes by me.


Tue, 20 Sep 2005 20:10:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Fix a number of tileset memory leaks.

	Patch by me in PR#13980.


Tue, 20 Sep 2005 05:48:35 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	HEAD: The /debug command without arguments could crash the server. Reported by pubserver. Patch by me in PR#14032


Sun, 18 Sep 2005 04:47:56 -0700  matusik:

	Changed paths:
	   M /trunk/data/scenario/earth-160x90-v2.sav
	   M /trunk/data/scenario/earth-80x50-v2.sav

	Add new starting positions. Change some settings. Patch by me in PR#14004


Sun, 18 Sep 2005 00:26:03 -0700  matusik:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	Clean up a code which is responsible for initial techs (techlevel and init_techs). Give the techlevel bonus only one time per team. Patch by me in PR#11610. Team unfairness reported by saywhat@softhome.net (Eddie Anderson).


Sat, 17 Sep 2005 10:02:33 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/venezuelan.ruleset

	Don't use non-ascii characters in original english texts. xgettext doesn't accept them. This is the same problem as in the danish ruleset with Eric Blatland.


Sat, 17 Sep 2005 08:50:10 -0700  matusik:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/packets.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h

	Solve problems resulting from the fact that attribute upload isn't atomic. Patch by me in PR#13986


Sat, 17 Sep 2005 01:52:22 -0700  matusik:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Remove is-info attribute from packet_ruleset_nation. Patch by me in PR#14001


Sat, 17 Sep 2005 00:58:21 -0700  matusik:

	Changed paths:
	   M /trunk/server/ruleset.c

	Fix a bug where nation availibility wasn't sent to the client. packet.is_available wasn't initialized at all.


Fri, 16 Sep 2005 02:39:51 -0700  matusik:

	Changed paths:
	   M /trunk/client/clinet.c

	Send attributes when the client intentionally disconnects. Patch by me in PR#13924


Fri, 16 Sep 2005 01:29:15 -0700  matusik:

	Changed paths:
	   M /trunk/common/packets.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets.h
	   M /trunk/common/packets_gen.c

	Drop player attributes when we receive bad attribute chunk. Previously we simply crashed. Patch by me in PR#13802


Thu, 15 Sep 2005 23:59:54 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	Add nation name to the diplomacy dialog. Requested by Jason in PR#13929


Thu, 15 Sep 2005 11:05:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Display veteran status in popup_info_text.

	Patch by me in PR#8576.


Thu, 15 Sep 2005 10:41:28 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Improve alert message for the victor when an attacking unit succeeds.

	Patch by me in PR#13933.


Thu, 15 Sep 2005 10:34:40 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Remove wipe_unit_spec_safe.  Now all callers use wipe_unit.

	Patch by me in PR#13961.


Tue, 13 Sep 2005 20:04:01 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/ratesdlg.c

	forward port: gui-win32: Fix some untranslated strings.

	Reported by Florian Kattner and Christian Knoke <chrisk@cknoke.de> in PR#13940.

	Patch by me.


Tue, 13 Sep 2005 19:07:59 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/venezuelan.ruleset

	Revert parts of the PR#13955 patch because changing nation names breaks
	savegames.

	Patch by me in PR#13960.


Tue, 13 Sep 2005 18:38:50 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c

	gui-win32: Fix compilation.

	Patch by John Bauman <john@baumanfamily.com> in PR#13873.


Tue, 13 Sep 2005 16:14:38 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/vietnamese.ruleset

	Updates to several nations (including simple style improvements).

	Patches by Daniel Markstedt <himasaram@spray.se> in PR#13955.


Tue, 13 Sep 2005 01:43:32 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/techtools.c

	Don't notify the player when the tech goal isn't changed.  Add a new
	function notify_research to help in this alert.

	Patch by me in PR#13885.


Tue, 13 Sep 2005 01:34:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/events.c

	Fix a bug with signed comparisons of the event enumeration.

	Patch by me in PR#13951.


Tue, 13 Sep 2005 01:13:11 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/mapctrl_common.c

	Use create_event in place of append_output_window in some places in the
	client.  This allows configuration of the display of these messages.

	Patch by me in PR#13922.


Mon, 12 Sep 2005 23:53:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Fix a bug where the tile popup gave attack/defense percentages based only
	on the "visible" unit not on all known units on the tile.

	Patch by me in PR#13917.


Mon, 12 Sep 2005 23:44:41 -0700  jdorje:

	Changed paths:
	   M /trunk/common/events.h

	Remove the unused E_NOEVENT "eventless" event from the event enumeration.

	Patch by me in PR#13920.


Mon, 12 Sep 2005 18:00:28 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/iraq_old-shield.png
	   M /trunk/data/flags/iraq_old.png
	   M /trunk/data/flags/iraq_old.svg

	Update iraq_old flag.  See PR#13730.


Mon, 12 Sep 2005 17:59:26 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/aborigines-shield.png
	   A /trunk/data/flags/aborigines.png
	   A /trunk/data/flags/aborigines.svg
	   A /trunk/data/flags/algeria-shield.png
	   A /trunk/data/flags/algeria.png
	   A /trunk/data/flags/algeria.svg
	   A /trunk/data/flags/colombia-shield.png
	   A /trunk/data/flags/colombia.png
	   A /trunk/data/flags/colombia.svg
	   D /trunk/data/flags/columbia-shield.png
	   D /trunk/data/flags/columbia.png
	   D /trunk/data/flags/columbia.svg
	   A /trunk/data/flags/iraq-shield.png
	   A /trunk/data/flags/iraq.png
	   A /trunk/data/flags/iraq.svg
	   A /trunk/data/flags/libya-shield.png
	   A /trunk/data/flags/libya.png
	   A /trunk/data/flags/libya.svg
	   A /trunk/data/flags/maori-shield.png
	   A /trunk/data/flags/maori.png
	   A /trunk/data/flags/maori.svg
	   A /trunk/data/flags/qing-shield.png
	   A /trunk/data/flags/qing.png
	   A /trunk/data/flags/qing.svg
	   A /trunk/data/flags/ryukyu-shield.png
	   A /trunk/data/flags/ryukyu.png
	   A /trunk/data/flags/ryukyu.svg
	   A /trunk/data/flags/sapmi-shield.png
	   A /trunk/data/flags/sapmi.png
	   A /trunk/data/flags/sapmi.svg
	   A /trunk/data/flags/srilanka-shield.png
	   A /trunk/data/flags/srilanka.png
	   A /trunk/data/flags/srilanka.svg
	   A /trunk/data/flags/sudan-shield.png
	   A /trunk/data/flags/sudan.png
	   A /trunk/data/flags/sudan.svg
	   A /trunk/data/flags/tibet-shield.png
	   A /trunk/data/flags/tibet.png
	   A /trunk/data/flags/tibet.svg
	   A /trunk/data/flags/turkestan-shield.png
	   A /trunk/data/flags/turkestan.png
	   A /trunk/data/flags/turkestan.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/aborigines.ruleset
	   A /trunk/data/nation/algerian.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   A /trunk/data/nation/colombian.ruleset
	   D /trunk/data/nation/columbian.ruleset
	   A /trunk/data/nation/cuban.ruleset
	   M /trunk/data/nation/indian.ruleset
	   A /trunk/data/nation/iraqi.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   A /trunk/data/nation/lankese.ruleset
	   A /trunk/data/nation/libyan.ruleset
	   A /trunk/data/nation/manchu.ruleset
	   A /trunk/data/nation/maori.ruleset
	   A /trunk/data/nation/ryukyuan.ruleset
	   A /trunk/data/nation/sami.ruleset
	   A /trunk/data/nation/sudanese.ruleset
	   A /trunk/data/nation/tibetan.ruleset
	   A /trunk/data/nation/tunisian.ruleset
	   A /trunk/data/nation/uyghur.ruleset
	   M /trunk/po/POTFILES.in

	Add a number of new nations, and rename Columbia as Colombia.

	Collection, patch, and some nations/flags by Daniel Markstedt
	<himasaram@spray.se> in PR#13730 with changes by me.  Other nations by
	Wen-Hung Fang <wenhungf@yahoo.co.jp>, Cederik De Leon Acuna
	<torvalds@yahoo.com>, and Elias Markstedt.  Other flags from the public
	domain (authors unknown).


Mon, 12 Sep 2005 15:50:40 -0700  hogne:

	Changed paths:
	   M /trunk/data/amplio/medievalcities.spec

	Fixed occupied icon


Fri, 09 Sep 2005 00:52:38 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	A_UNSET was practically unused, because update_tech() called found_new_tech(). Reported by Jason in PR#13910


Fri, 09 Sep 2005 00:37:49 -0700  matusik:

	Changed paths:
	   M /trunk/client/text.c

	Include despotism penaly in the midle-mouse-button popup. Requested by C <bmorris3@san.rr.com> in PR#13902


Thu, 08 Sep 2005 12:51:23 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/server/citytools.c
	   M /trunk/server/techtools.c

	Fix bad grammar (comma splices and missing punctuation) in some messages.
	Also the city-looting message is improved: the looting clause isn't
	included unless there was some looting, and PL_ is used for better
	translation.

	Patch by me in PR#13901.


Thu, 08 Sep 2005 12:47:38 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Rewrite the messages sent when more than one of your units is killed in
	a single attack.  Now there is just one message sent instead of N+1 of
	them.  Translation is improved as well (using PL_).

	Patch by me in PR#13909.


Thu, 08 Sep 2005 12:20:36 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Remove duplicate messages when orders for a unit on goto or patrol are
	canceled because of an enemy unit.

	Patch by me in PR#13912.


Thu, 08 Sep 2005 11:03:27 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h

	Fix problems with return_dialog when user closes inactive page. Requested by Jason, patch by me in PR#13885.


Thu, 08 Sep 2005 10:59:25 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	Replace a name of a nation in the diplomacy dialog with a name of a leader. You can still see the nation name in the tab label and through a flag. Patch by Daniel Markstedt <himasaram@spray.se> in PR#13804


Thu, 08 Sep 2005 10:22:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Fix typo: beneach -> beneath.


Wed, 07 Sep 2005 23:47:40 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/Makefile.am

	Rerun Makefile.am.sh (this should have been done after adding a British nation)


Wed, 07 Sep 2005 12:18:12 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c

	Fix a guaranteed crash in game_remove_player.

	Patch by me as part of PR#13878.


Wed, 07 Sep 2005 11:31:49 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	fr.po updated by Frederic Rodrigo <f.rodrigo free.fr>


Wed, 07 Sep 2005 02:02:46 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/polish.ruleset

	?plural:Polish -> ?plural:Poles. Mentioned by Daniel Markstedt <himasaram@spray.se> in PR#13876


Mon, 05 Sep 2005 13:46:20 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.h
	   M /trunk/data/Freeciv.in

	gui-xaw: implement settable options dialog (with quick compile fix). Patch by me in PR#13769


Mon, 05 Sep 2005 08:55:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/packhand.c
	   M /trunk/common/game.h
	   M /trunk/server/citytools.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/handchat.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/sernet.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove game.game_connections.  Instead game.est_connections is used in
	its place.  This means most "game" packets may be sent to detached
	connections as well as player connections.  This also fixes several bugs
	where detached players didn't have proper game structures.

	Patch by me in PR#13789.


Sun, 04 Sep 2005 21:21:55 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unittools.c

	Rename notify_conn_ex as notify_conn, vnotify_conn_ex as vnotify_conn, and
	notify_team_ex as notify_team.

	Patch by me in PR#13847.


Sun, 04 Sep 2005 05:03:52 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates, changes, fixes


Sun, 04 Sep 2005 03:03:12 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates, changes, fixes


Sun, 04 Sep 2005 00:36:18 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates, changes, fixes


Sat, 03 Sep 2005 21:31:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/ruleset.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/srv_main.c

	Restructure nation availability code:

	- pnation->is_unavailable is renamed as pnation->is_available.
	- pnation->is_used is renamed as pnation->player.
	- A new function player_set_nation will set (or clear) nations.
	- The nation_available packet is removed; availability is sent with the
	  regular nation packet.

	This also fixes a bug where is_used could get out of sync.

	Reported by David Stewart <dmstewart@gmail.com> in PR#13776.  Patch by me.


Sat, 03 Sep 2005 20:03:44 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/ailog.c
	   M /trunk/client/options.c
	   M /trunk/common/events.c
	   M /trunk/common/events.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Remove notify_conn, and change its users to call notify_conn_ex instead.

	Patch by me in PR#13834.


Sat, 03 Sep 2005 18:15:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/options.c

	Avoid some problems when a detached player receives game packets.

	Patch by me in PR#13840.


Sat, 03 Sep 2005 03:07:18 -0700  matusik:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/reqtree.c

	Make the techtree images optional. Requested by Jason. Patch by me in PR#13588


Sat, 03 Sep 2005 02:58:59 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	Save bulbs_last_turn values in savegames. Patch by me in PR#13824


Sat, 03 Sep 2005 02:56:21 -0700  matusik:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   A /trunk/client/gui-gtk-2.0/themes.c
	   M /trunk/client/gui-stub/Makefile.am
	   A /trunk/client/gui-stub/themes.c
	   M /trunk/client/gui-win32/Makefile.am
	   A /trunk/client/gui-win32/themes.c
	   M /trunk/client/gui-xaw/Makefile.am
	   A /trunk/client/gui-xaw/themes.c
	   M /trunk/client/include/Makefile.am
	   A /trunk/client/include/themes_g.h
	   A /trunk/client/themes_common.c
	   A /trunk/client/themes_common.h

	Support for GTK+ themes. The engine is currently unused. Patch by me in PR#13589


Fri, 02 Sep 2005 19:14:14 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/mongol.ruleset

	Update names for the Mongol nation ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13826.


Fri, 02 Sep 2005 19:06:41 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   A /trunk/data/nation/british.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/po/POTFILES.in

	Add a British nation.  Update the English and Scottish nations to match.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13783 with changes by
	me.


Fri, 02 Sep 2005 18:49:13 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/sioux.ruleset

	Updated Sioux names.

	Patch by Daniel Markstedt <markstedt@home.se> in PR#13777.


Fri, 02 Sep 2005 17:58:09 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/columbian.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/inuit.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/iroquois.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/observer.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovakian.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Remove unused "wonder" and "government" fields from nation rulesets.

	Patch by me in PR#13715.


Fri, 02 Sep 2005 17:44:04 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/BUGS

	Known bug: characters output to the terminal may be drawn incorrectly.

	See PR#11531.


Fri, 02 Sep 2005 17:35:00 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Add credits for some nation authors.

	See PR#3589.


Fri, 02 Sep 2005 16:12:40 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tech.c

	Don't use the player_ptr in get_tech_name unless necessary (for future
	techs).  This allows the manual to run and allows the function to be used
	for detached clients.

	Patch by Guillaume Melquiond <guillaume.melquiond@ens-lyon.fr> in PR#13839
	with changes by me.


Fri, 02 Sep 2005 15:08:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Avoid a potential crash when saving settings (while quitting) while
	detached.

	Patch by me in PR#13812.


Thu, 01 Sep 2005 13:39:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/ruleset.c

	Send unit class info to the client.

	Reported by Rich Pinkall Pollei <whraven@worldnet.att.net> and Mateusz
	Stefek in PR#13833.


Wed, 31 Aug 2005 19:50:24 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix several bugs when removing a player automatically because of a /detach
	command.

	Patch by me in PR#12813.


Wed, 31 Aug 2005 19:47:52 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/ruleset.c

	Change unit_class variables, fields, and function parameters to use
	pointer rather than integer values.

	Patch by me in PR#13815.


Wed, 31 Aug 2005 19:32:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_notify.c
	   M /trunk/server/scripting/api_notify.h
	   M /trunk/server/techtools.c
	   M /trunk/server/unittools.c

	Add tile and event-type information to the notify_embassies function.

	Patch by me in PR#13814.


Wed, 31 Aug 2005 13:18:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h

	Redraw the overview when one of the overview options is changed.

	Patch by me in PR#13820.


Wed, 31 Aug 2005 00:59:46 -0700  matusik:

	Changed paths:
	   M /trunk/data/Makefile.am

	Add amplio.tilespec to the distribution and install it


Tue, 30 Aug 2005 13:38:08 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/data/Freeciv.in

	gui-xaw: make gui-xaw to use text.c functions. Reported by Jason Short. Patch by me in PR#13724.


Tue, 30 Aug 2005 13:06:27 -0700  matusik:

	Changed paths:
	   M /trunk/client/packhand.c

	Update connection list dialog when something is changed on the list. Also update the list when a player is removed. Patch by Jason in PR#13801


Tue, 30 Aug 2005 12:21:50 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c

	Change the way AI evaluates Great Library. The new method looks saner and doesn't have a bug reported by Brendon Oram <yautja@paradise.net.nz> in PR#13772, patch by me


Tue, 30 Aug 2005 11:50:14 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/data/Makefile.am
	   M /trunk/data/amplio
	   A /trunk/data/amplio/.cvsignore
	   A /trunk/data/amplio/Makefile.am

	Add amplio to the distribution.


Tue, 30 Aug 2005 11:23:28 -0700  hogne:

	Changed paths:
	   A /trunk/data/amplio
	   A /trunk/data/amplio/ancientcities.png
	   A /trunk/data/amplio/ancientcities.spec
	   A /trunk/data/amplio/cityicon.png
	   A /trunk/data/amplio/civicon.png
	   A /trunk/data/amplio/explosions.png
	   A /trunk/data/amplio/explosions.spec
	   A /trunk/data/amplio/fog.png
	   A /trunk/data/amplio/fog.spec
	   A /trunk/data/amplio/grid.png
	   A /trunk/data/amplio/grid.spec
	   A /trunk/data/amplio/icons.spec
	   A /trunk/data/amplio/medievalcities.png
	   A /trunk/data/amplio/medievalcities.spec
	   A /trunk/data/amplio/moderncities.png
	   A /trunk/data/amplio/moderncities.spec
	   A /trunk/data/amplio/nuke.png
	   A /trunk/data/amplio/nuke.spec
	   A /trunk/data/amplio/select-alpha.png
	   A /trunk/data/amplio/select.png
	   A /trunk/data/amplio/select.spec
	   A /trunk/data/amplio/terrain1.png
	   A /trunk/data/amplio/terrain1.spec
	   A /trunk/data/amplio/terrain2.png
	   A /trunk/data/amplio/terrain2.spec
	   A /trunk/data/amplio/tiles.png
	   A /trunk/data/amplio/tiles.spec
	   A /trunk/data/amplio/units.png
	   A /trunk/data/amplio/units.spec
	   A /trunk/data/amplio.tilespec

	Amplio - 96x48 iso tileset


Mon, 29 Aug 2005 09:14:51 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/afghani.ruleset

	Updated Afghani nation ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13796 with style
	changes by me.


Mon, 29 Aug 2005 09:11:26 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/korean.ruleset

	Updated Korean nation ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13799 with style
	changes by me.


Mon, 29 Aug 2005 07:10:11 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Remove a double-space between sentences in a player message from an AI
	ally.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13807.


Mon, 29 Aug 2005 06:56:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/packhand.c

	Fix several (more) client problems (crashes or buffer overruns) when it
	receives a game packet while detached.

	Patch by me in PR#13788.


Mon, 29 Aug 2005 05:59:58 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/scripting/api_notify.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Rename notify_player_ex as notify_player.

	Patch by me in PR#13790.


Sun, 28 Aug 2005 04:49:33 -0700  cazfi:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/unittools.c

	Put helicopter hitpoint loss percentage into unit_class.

	See #13344


Fri, 26 Aug 2005 14:02:37 -0700  cazfi:

	Changed paths:
	   M /trunk/ai/aitech.c

	When ai_select_tech() want for all available techs was 0, it erronously
	returned A_UNSET instead of real tech.

	See #13778


Fri, 26 Aug 2005 12:40:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/techtools.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove notify_player.  Change all its users to either notify_player_ex or
	notify_conn, and add message event types where needed.  A few places also
	have minor bugfixes.

	Patch by me in PR#13753.


Fri, 26 Aug 2005 12:27:40 -0700  cazfi:

	Changed paths:
	   M /trunk/ai/aitools.c

	Fix potential crash from debug compilations.

	See #13625


Fri, 26 Aug 2005 12:14:26 -0700  per:

	Changed paths:
	   M /trunk/server/scripting/api.pkg

	The inline Lua code at api.pkg used class method names which clashed with
	class attributes, and the code tried to access class attributes which do not exist.
	This fixes the "invalid 'self' in accessing variable 'owner'" bug. Fixed by Jason in
	PR#13449 and Vasco in PR#13729.


Thu, 25 Aug 2005 13:36:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c

	Fix several client problems (crashes or buffer overruns) when it receives
	a game packet while detached.

	Patch by me in PR#13763.


Thu, 25 Aug 2005 13:23:39 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/sweden-shield.png
	   M /trunk/data/flags/sweden.png
	   M /trunk/data/flags/sweden.svg

	Fix the sweden flag.

	New SVG by Daniel Markstedt <himasaram@spray.se> in PR#13775.


Thu, 25 Aug 2005 12:27:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/servers.c

	Fix several bugs in LAN server detection, caused because get_lan_servers
	can only detect one server (new or duplicate) per call.

	Patch by me in PR#13765.


Thu, 25 Aug 2005 12:26:36 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Fix a typo bug in PR#13753.


Thu, 25 Aug 2005 12:21:20 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Add some sanity checks for connections, and add comments to sanity check
	functions.

	Patch by me in PR#13743.


Thu, 25 Aug 2005 12:15:50 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Reset the target_government to NULL when a revolution is completed.

	Patch by me in PR#13750.


Thu, 25 Aug 2005 12:14:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Improve translation (use of PL_) in get_science_dialog_text.

	Reported by Egor Vyscrebentsov; patch by me in PR#13759.


Thu, 25 Aug 2005 12:12:23 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/options.c
	   M /trunk/common/capstr.c
	   M /trunk/common/events.c
	   M /trunk/common/events.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/handchat.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Change a lot of events that used E_NOEVENT to use a specific event instead.
	A few new event types are also added, and client defaults are updated to
	include them.

	Patch by me in PR#13753.


Thu, 25 Aug 2005 11:57:22 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Make sure the focus unit isn't hidden before we do combat animation on it.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#10843.


Wed, 24 Aug 2005 13:29:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/servers.c

	Add a missing include to servers.c.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#13762.


Wed, 24 Aug 2005 12:19:52 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/data/Freeciv.in

	gui-xaw: make option dialog to use scrollbars. Patch by me in PR#13737


Wed, 24 Aug 2005 09:49:26 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/ailog.c
	   M /trunk/server/plrhand.c

	Change notify_conn to take NULL as a flag meaning sending to all
	connections.  Change a few callers to use new new behavior.

	Patch by me in PR#13742.


Mon, 22 Aug 2005 17:09:41 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c

	Remove send_tile_info_always.  All callers can just use send_tile_info
	instead as the need for the "always" hack is removed.

	Patch by me in PR#13721.


Mon, 22 Aug 2005 14:15:49 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/player.c
	   M /trunk/common/unit.c
	   M /trunk/data/default/effects.ruleset
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c

	Add the No_Diplomacy effect, which stops a player from having any diplomactic relations
	to any other player, including embassy actions by diplomats and spies.

	This is meant to replace some checks for is_barbarian() by something more
	generally useful. See PR#13716.


Mon, 22 Aug 2005 13:46:00 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/plrhand.c

	Fix issues with initial government for barbarians and split players. This fixes PR#13740
	and PR#13723. Patch by Jason.


Mon, 22 Aug 2005 10:57:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h

	- Add a new function get_info_label_text_popup to generate the text used
	  in the panel popup.
	- Fix the nuclear winter tooltip (previously it accidentally showed the
	  global warming data).
	- Also add some new lines to the panel and panel popup texts.

	Patch by me in PR#13725.


Mon, 22 Aug 2005 00:47:02 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	When a player founds new tech set got_tech only if the tech is a tech which he is currently researching. Previously you could change research without loss of bulbs when you found a tech in a hut. Reported by Christian Knoke, patch by Jason in PR#12294


Sun, 21 Aug 2005 22:33:47 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c

	gui-win32: New nation dialog.

	Patch by me in PR#13612.


Sun, 21 Aug 2005 22:26:23 -0700  jcanete:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/dialogs.h
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/servers.c

	fix gui-win32 compilation, and move win_uname() from clinet.c to servers.c.


Sun, 21 Aug 2005 13:00:00 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.h
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c

	gui-xaw: compile fix. Patch by me in PR#13607 (xaw-20050821-compile-fix.diff)


Sat, 20 Aug 2005 12:58:55 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Send a unit's info to the client when its transporter is disbanded.  This
	fixes a bug where the info for the unit wasn't updated until the next
	turn.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#13691.


Sat, 20 Aug 2005 12:53:41 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/unithand.c

	Add a source tile to the orders packet.  This is used for sanity checking
	on the position of the unit.

	Patch by me in PR#13704.


Sat, 20 Aug 2005 10:50:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Add a warning for is_enemy_unit_tile that it shouldn't be used in the
	client.

	See PR#4538.


Sat, 20 Aug 2005 00:06:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/inuit.ruleset
	   M /trunk/po/POTFILES.in

	Add an Inuit nation ruleset.

	Nation and patch by Daniel Markstedt <himasaram@spray.se> in PR#13657
	with changes by me.


Fri, 19 Aug 2005 18:14:48 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/malaysian.ruleset

	Updated Malaysia nation ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> with ideas from Jason Tan
	Boon Teck and Loh Yap Kant in PR#13709.


Fri, 19 Aug 2005 13:57:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Avoid division by zero in get_science_target_text.

	Patch by Mateusz Stefek in PR#13708.


Fri, 19 Aug 2005 13:53:42 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add servers.c to POTFILES.in.


Fri, 19 Aug 2005 13:52:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/options.c
	   A /trunk/client/servers.c
	   A /trunk/client/servers.h

	Move client code that scans for servers into a new file servers.c.

	Patch by me in PR#13700.


Fri, 19 Aug 2005 00:40:16 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Fix a bug where the spying window won't appear again after sabotaging a unit. Reported by Bayprogrammer@aol.com in PR#13696, patch by me.


Thu, 18 Aug 2005 11:30:08 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix a crash with a NULL government dereference in DEBUG mode.

	Reported by Mateusz Stefek in PR#13701.


Thu, 18 Aug 2005 09:06:55 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/sioux.ruleset

	Add legend and a new civilwar nation for the Sioux nation.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13665 with changes
	by me.


Thu, 18 Aug 2005 09:02:04 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/iroquois-shield.png
	   A /trunk/data/flags/iroquois.png
	   A /trunk/data/flags/iroquois.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/iroquois.ruleset
	   M /trunk/po/POTFILES.in

	Add Iroquois (Haudenosaunee) ruleset.

	Ruleset, flag, and patch by Daniel Markstedt <himasaram@spray.se> with
	changes by me.


Wed, 17 Aug 2005 23:53:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/team.c
	   M /trunk/common/team.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/gamelog.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Take team names from the ruleset rather than hard-coding them.

	Patch by me in PR#13689.


Wed, 17 Aug 2005 23:44:29 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/techtools.c

	Use pointer values for governments (rather than index values).

	Patch by me in PR#13678.


Tue, 16 Aug 2005 10:47:02 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Only show the map to dead players if they are alone on their team.

	Reported by Per Mathisen in PR#13626.  Patch by me.


Tue, 16 Aug 2005 00:17:32 -0700  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt
	   M /trunk/doc/PEOPLE
	   M /trunk/m4/ngettext.m4

	Update email address for Raimar Falke.

	Reported by Christian Knoke in PR#13640.


Mon, 15 Aug 2005 23:58:02 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/polish.ruleset

	Use Latin2 characters for Swinoujscie (city) in Polish nation ruleset.

	Patch by Pawel Sakowski <pawel@sakowski.pl> in PR#13652.


Mon, 15 Aug 2005 23:54:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h

	Add turns-to-complete text to the science dialog for the current research.

	Patch by me in PR#13663.


Mon, 15 Aug 2005 23:10:53 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/swedish.ruleset

	Update to Swedish nation ruleset.

	Patch by Daniel Markstedt <himasaram@spray.se> in PR#13676 with style
	changes by me.


Mon, 15 Aug 2005 09:17:21 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	More fixes for player revolutions.  The player should always get a
	notification message now, and an incorrect assertion is removed.

	Reported by Mike Kaufman.  Patch by me in PR#13674.


Sun, 14 Aug 2005 20:33:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h

	Fix a bug where when all players disconnect with -q, the game advances a
	turn before ending and a savegame is made during the gameover state.
	When -e is given, a savegame is made and the server exits immediately.

	Reported by Benoit Hudson, Christian Knoke, "Jeff" <superfli@gmail.com>,
	Vladimir Pekez <vbpekez@EUnet.yu>, Carl Lobo <carllobo@gmail.com>, and
	<excellent.one@sympatico.ca> in PR#11688.  Patch by me.


Fri, 12 Aug 2005 22:27:24 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/unittools.c

	Rewrite and greatly simplify the handling of global side effects when
	terrain is changed.  Global side effects are also handled for global
	warming terrain changes.

	Patch by me in PR#13656.


Fri, 12 Aug 2005 22:22:55 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tile.c

	When changing terrain, don't allow huts in the ocean.

	Patch by me in PR#13655.


Fri, 12 Aug 2005 22:15:39 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/japanese.ruleset

	Update to Japanese ruleset.

	By Daniel Markstedt <himasaram@spray.se> in PR#13659 with changes by me.


Fri, 12 Aug 2005 11:12:31 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h

	gui-xaw: compile fix. Patch by me in PR#13607 (xaw-20050804-compile-fix.diff)


Fri, 12 Aug 2005 10:29:25 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/korean.ruleset

	Improvements to Korean ruleset.

	By Daniel Markstedt <himasaram@spray.se> in PR#13658.


Thu, 11 Aug 2005 10:26:27 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tile.c

	Fix bugs in tile_add_special and tile_remove_special.

	Reported by Raimar Falke in PR#13613.


Wed, 10 Aug 2005 21:51:09 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h

	Add two new functions to the tile API.  tile_add_special and
	tile_remove_special change the specials on a tile and handle side effects
	as well.

	Patch by me in PR#13613.


Wed, 10 Aug 2005 21:45:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix the behavior when you start a new revolution on the same turn the
	previous one ended.

	Reported by Per Mathisen in PR#13624.  Patch by me.


Wed, 10 Aug 2005 21:43:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/settings.h
	   M /trunk/server/stdinhand.c

	Don't send the values of server-only options to the client as part of the
	options_settable packet.

	Patch by me in PR#13631.


Wed, 10 Aug 2005 19:45:03 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/startpos.c

	Fix the grammar and spelling of an error message.

	Reported by Christian Knoke in PR#13635.  New text by Per Mathisen.


Wed, 10 Aug 2005 19:39:03 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c

	Add a new server setting, "shieldbox".  Setting this affects costs of all
	buildings and units.  It is a percentage value.

	Patch by James Canete and myself in PR#7239.


Wed, 10 Aug 2005 19:22:48 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aisettler.c
	   M /trunk/client/helpdata.c

	Use accessor functions for the build_cost values for buildings and unit
	types.

	Patch by me in PR#12634.


Tue, 09 Aug 2005 02:19:04 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/gui_main.c

	gui-xaw: make add_idle_callback to use XtAppAddWorkProc instead of XtAppAddTimeOut. Patch by me in PR#13395.
	Note: client/colors_common.c is unchanged (and doesn't caught by cvs diff)


Mon, 08 Aug 2005 16:52:51 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/wldlg.c

	gui-win32: fix compilation.


Mon, 08 Aug 2005 09:30:24 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h
	   M /trunk/common/capstr.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets.h
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/manual/civmanual.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/settings.c
	   M /trunk/server/settings.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h

	Rewrite the code that allows the client to control the server settings. The
	new code improves the user interface and the backend design.

	Patch by me in PR#13619.


Mon, 08 Aug 2005 09:15:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Change most of the client-common API to use city_production struct
	values instead of CIDs.

	Patch by me in PR#13609.


Mon, 08 Aug 2005 09:12:54 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settings.c

	Fix a typo bug in the endyear setting.

	Patch by me in PR#13616.


Sat, 06 Aug 2005 11:15:38 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	For some reason, this was forgotten from a previous commit concerning AI reactions to
	war declarations.


Sat, 06 Aug 2005 09:46:38 -0700  per:

	Changed paths:
	   M /trunk/server/commands.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Rename 'firstlevel' to 'first', whoever has ctrl cmdlevel becomes
	a 'game organizer', whoever has ctrl cmdlevel when game starts
	loses it, and voting is disabled in pregame.

	This means in pregame, we go from a voting model to a 'game host decides'
	model. See PR#13257.


Sat, 06 Aug 2005 00:41:38 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/startpos.h

	Try different values of the mode argument if create_start_positions fails. This fixes a crash reported by Jason in PR#13596, patch by me


Fri, 05 Aug 2005 08:10:31 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/gui_main.c

	gui-xaw: add_idle_callback. Patch by Jason Dorje Short <jdorje@users.sourceforge.net> in PR#13395


Thu, 04 Aug 2005 16:23:44 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-win32/wldlg.c

	gui-win32: fix compilation.

	Patch by me in PR#13606.


Thu, 04 Aug 2005 14:34:41 -0700  per:

	Changed paths:
	   M /trunk/common/combat.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset

	Two new unit flags:
	BadCity - replaces the hard-coded Pearl Harbour rule, which gives a city
	defender 1 firepower and the attacker x2 firepower. This applies for all
	sailing units. Since I doubt civ1 had this rule (civ1 did not have
	firepower), I did not add it to the civ1 ruleset.
	BadWall - if the unit attacks a city with fortifications (city wall), its
	firepower is set to 1. I intend to use this in a ruleset soonish (for
	cavalry).

	See PR#13537. Patch by me and Jason.


Thu, 04 Aug 2005 14:23:06 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Fix bug where cid was used before it was read. Reported and solved
	down by White Raven <whraven@worldnet.att.net> in PR#13610.


Thu, 04 Aug 2005 10:49:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Update the building requirement text even if the building has no
	requirement.

	Reported by Matz <matzjosh-freeciv2@schokokeks.org> in PR#13530.  Patch by
	me.


Thu, 04 Aug 2005 10:45:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/wldlg.c
	   M /trunk/client/gui-xaw/cityrep.c

	Rename CID collection functions to be somewhat more legible.

	Patch by me in PR#13603.


Thu, 04 Aug 2005 09:57:36 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Clicking on the focus unit on the panel will center it.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#13575.  Patch by me.


Thu, 04 Aug 2005 09:47:14 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/wldlg.c

	gui-xaw: compile fix. Patch by me in PR#13607


Thu, 04 Aug 2005 09:26:12 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdiplomacy.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c

	Rewriting larger portions of the AI diplomacy code, in order to get rid of the 'lobster
	logic' (always attack the stronger player) approach. Instead, the AI becomes
	opportunistic and greedy on players with lots of cities and little defense, and is
	influenced 'emotionally' by players who are nice to it throughout the game.

	The previous concept of countdown torwards a single war target has been replaced by a
	more general 'war footing' concept, which allows countdowns to war against multiple
	players at once. When on war footing (preparing for an attack), the AI will give
	priority to taxes (gold) and military.

	It should be slower to get treaties with the AI now, but you can get peace if you really
	want, as opposed to the 'if you are the lobster, nothing helps' of the current code.

	The AI will now inform allies when attacked or preparing for war.

	Logging has been improved considerably.

	See PR#13524.


Thu, 04 Aug 2005 08:47:12 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/BUGS
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h

	Remove the hardcoded limit on NCONT.  Add an entry to BUGS to document
	mapgen failures with unusual parameters.

	Patch by me in PR#13595.


Wed, 03 Aug 2005 19:50:35 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Avoid a potential patch in send_unit_info_to_onlookers when unusual
	connections are present.

	Patch by me in PR#13594.


Wed, 03 Aug 2005 13:22:25 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Wed, 03 Aug 2005 09:38:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-win32/wldlg.c

	Remove the WID API from the common client code.  It is moved into gui-win32
	since this client still uses these functions.

	Patch by me in PR#13585.


Wed, 03 Aug 2005 09:19:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/mapctrl_common.c

	Change most CID functions to use city_production instead.

	Patch by me in PR#13586.


Tue, 02 Aug 2005 11:37:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	Change the clipboard to use the city_production struct instead of an
	(is_unit,id) pair.

	Patch by me in PR#13587.


Mon, 01 Aug 2005 23:39:49 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/cityturn.c

	Replace the INCITE_DIST_PCT effect with INCITE_COST_PCT which is easier to understand and more mod friendly. The behaviour is unchanged. Patch by me in PR#13568


Mon, 01 Aug 2005 23:23:33 -0700  matusik:

	Changed paths:
	   M /trunk/data/scenario/earth-160x90-v2.sav
	   M /trunk/data/scenario/earth-80x50-v2.sav
	   M /trunk/data/scenario/hagworld-120x60-v1.2.sav

	Set aifill to be larger than 0 in all scenarious. Patch by me in PR#13570


Mon, 01 Aug 2005 19:40:59 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/options.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex/terrain1.png
	   M /trunk/data/isophex/terrain1.spec
	   M /trunk/data/isotrident/terrain1.png
	   M /trunk/data/isotrident/terrain1.spec
	   M /trunk/data/misc/colors.tilespec
	   M /trunk/data/trident/tiles.png

	Make fog-of-war toggleable in the map overview, and draw it on top of all
	other layers.

	Patch by me in PR#13582.


Mon, 01 Aug 2005 16:09:36 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/dataio.c
	   M /trunk/common/worklist.c
	   M /trunk/common/worklist.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c

	Change city, citydlg, and worklist functions to use city_production
	structures instead of (is_unit,id) pairs.

	Patch by me in PR#13572.


Mon, 01 Aug 2005 15:38:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/tile.c
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/manual/civmanual.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/unittools.c

	Rename terrain_name fields in the terrain structure and ruleset as simply
	"name".

	Patch by me in PR#13578.


Sun, 31 Jul 2005 23:48:30 -0700  matusik:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   M /trunk/client/gui-ftwl/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-mui/connectdlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/include/connectdlg_g.h

	Move autoconnect to the common client code. Patch by me in PR#13561


Sun, 31 Jul 2005 23:44:44 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h

	Introduce concept of return_dialog - the dialog which will be raised when some other dialog is closed. Use it to raise the players report when a diplomacy dialog is closed (the meeting has to be initiated by us). Problem noticed by Jason. Patch by me in PR#13566


Sun, 31 Jul 2005 19:35:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Fix a typo bug in the overview options dialog.

	Patch by me in PR#13581.


Sun, 31 Jul 2005 11:42:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c

	Use the untranslated terrain name for the terrain colors in the tileset,
	rather than the translated one.

	Reported as part of PR#13578.


Sun, 31 Jul 2005 09:29:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.h

	Scale the supported/present units in the citydlg to match the size of the
	citymap itself.

	Patch by me in PR#13559.


Sun, 31 Jul 2005 09:23:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/options.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/common/fc_types.h
	   M /trunk/data/misc/colors.tilespec

	Add a relief layer to the overview.

	Design by Egor Vyscrebentsov.  Patch by me in PR#13567.


Fri, 29 Jul 2005 23:39:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h

	Change the map overview to use configurable layers.  In addition to the
	existing layers a new one, borders, is added.

	Design by Egor Vyscrebentsov.  Patch by me in PR#13560.


Fri, 29 Jul 2005 22:10:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/savegame.c

	Change the pcity->changed_from values to use the city_production struct.

	Patch by me in PR#13556.


Fri, 29 Jul 2005 22:01:53 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix a bug in saving/loading of savegames caused by PR#13474.

	Patch by me in PR#13564.


Fri, 29 Jul 2005 06:44:30 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/wldlg.c

	gui-xaw: fix client-side worklists code. Patch by me


Fri, 29 Jul 2005 01:50:39 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Update


Fri, 29 Jul 2005 00:38:06 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	Add flags to diplomatic dialog. Patch by me in PR#13547


Thu, 28 Jul 2005 12:02:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c

	Avoid iterating over out-of-range improvements.

	Patch by me in PR#13556.


Thu, 28 Jul 2005 11:03:59 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/graphics.h
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/wldlg.c

	gui-xaw: client-side fixes of indexes-to-pointers change. Patch by me in PR#13555


Thu, 28 Jul 2005 10:59:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/options.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.h
	   M /trunk/common/dataio.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/worklist.c
	   M /trunk/common/worklist.h
	   M /trunk/server/savegame.c

	Change the worklist structure to use the city_production struct internally.
	Replace client and server registry worklist code with one set of common
	registry code.

	Patch by me in PR#13550.


Wed, 27 Jul 2005 13:22:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapctrl.c

	Treat an alt-left-click the same as a middle-click.

	Patch by me in PR#13542.  Bug reported by many on the mailing lists.


Tue, 26 Jul 2005 10:21:54 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/srv_main.c

	Due to aggressive cacheing in city.c, the AI did not perceive the benefit of
	buildings that give tile bonuses. Also, the AI did not analyze rulesets on savegame
	load. See PR#13539.


Tue, 26 Jul 2005 09:36:00 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aiferry.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-mui/worklistclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-win32/wldlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/wldlg.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/caravan.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/effects.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/report.c
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c

	Create a new struct for city production.  Use this struct inside the
	city struct in place of pcity->is_building_unit and
	pcity->currently_building.  The logic is unchanged as the new struct just
	holds these same two values.

	Patch by me in PR#13474.


Tue, 26 Jul 2005 02:55:22 -0700  matusik:

	Changed paths:
	   M /trunk/data/scenario/british-isles-85x80-v2.80.sav

	Improve british scenario. Patch by me in PR#13363


Tue, 26 Jul 2005 02:13:33 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/polish.ruleset

	Fix spelling


Tue, 26 Jul 2005 01:21:43 -0700  matusik:

	Changed paths:
	   M /trunk/client/reqtree.c

	Add icons for building, governments and units which are enabled by specific technology in the technology diagram. Patch by me in PR#13492


Tue, 26 Jul 2005 00:57:58 -0700  matusik:

	Changed paths:
	   M /trunk/bootstrap/freeciv.desktop.in
	   M /trunk/data/Makefile.am
	   A /trunk/data/freeciv-client.png

	Add freeciv icon to the gnome menu entry for Freeciv. Patch by me in PR#13508. Icon by bytecoder on the forum


Mon, 25 Jul 2005 20:02:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Correctly show the tech requirement for wonders.

	Reported by Matz <matzjosh-freeciv2@schokokeks.org> as part of PR#13530.


Mon, 25 Jul 2005 19:48:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Fix a crash in the help dialog.

	Reported by Matz <matzjosh-freeciv2@schokokeks.org> in PR#13529.


Mon, 25 Jul 2005 14:47:35 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Add a disabled-by-default assertion to check the validity of the city's
	tile cache.

	See PR#13539.


Mon, 25 Jul 2005 09:29:51 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	The most recent index-to-pointer patch introduced two serious bugs in the
	AI, making it stop building settlers and workers. See PR#13540. Also improve comments a
	bit.


Mon, 25 Jul 2005 04:58:33 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Fix crash in AI logging code due to improvement type pointer changes. Pointed out first
	by Jason then by Matuesz in PR#13536.


Mon, 25 Jul 2005 04:50:53 -0700  per:

	Changed paths:
	   M /trunk/utility/Makefile.am
	   A /trunk/utility/md5.c
	   A /trunk/utility/md5.h

	Adding support for the MD5 cryptographic hash algorithm, specified in RFC 1321.
	Code originally by Ulrich Drepper <drepper@gnu.ai.mit.edu>, written for glibc.
	Modified by Mike Kaufman for pubserver usage and style changes by me.


Sun, 24 Jul 2005 11:11:00 -0700  jdorje:

	Changed paths:
	   M /trunk/common/improvement.h

	Remove duplicated B_LAST definition.


Sun, 24 Jul 2005 10:16:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Restrict the city dialog citymap to 300 pixels.  Anything larger will be
	scaled down to fit.

	Patch by me in PR#13518.


Sun, 24 Jul 2005 10:01:37 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/techtools.c

	Encapsulate the improvement_types[] array inside improvement.c.  Change
	all users to use get_improvement_type().

	Patch by me in PR#13516.


Sat, 23 Jul 2005 17:19:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't draw settler citymap outlines in the city dialog.

	Patch by me in PR#13523.


Sat, 23 Jul 2005 17:02:38 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.h
	   M /trunk/server/barbarian.c

	Fix bugs in PR#13513 commit when DEBUG is defined.

	Reported by Per Mathisen in PR#13522.


Sat, 23 Jul 2005 11:02:44 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/ruleset.c

	Encapsulate the unit_types array inside unittype.c.  All the old users
	now use get_unit_type.  get_unit_type returns NULL for out-of-range
	calls.

	Patch by me in PR#13513.


Fri, 22 Jul 2005 17:59:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Fix the button_down_citymap function.

	Patch by me in PR#13517.


Fri, 22 Jul 2005 17:35:18 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidiplomat.c

	Fix several NULL dereferences of unit types in AI code.

	Patch by me in PR#13515.


Fri, 22 Jul 2005 09:18:08 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitech.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.c
	   M /trunk/common/improvement.h
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h
	   M /trunk/common/nation.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/diplomats.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_actions.c
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/scripting/api_methods.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Change unit types to be stored by pointers rather than by index values.

	Patch by me in PR#13503.


Fri, 22 Jul 2005 08:39:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/report.c

	Change the demographics code to use bitvectors rather than integer
	bitfields.

	Patc by me in PR#13502.


Fri, 22 Jul 2005 08:37:39 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/savegame.c

	Rewrite the city options code to use a bitvector, and remove the unused
	autoattack-related city options.

	Patch by me in PR#13501.


Thu, 21 Jul 2005 19:51:30 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Add the length of the revolution to the text of the message given when a
	revolution is started.

	Patch by Dmitry V. Levin <ldv@altlinux.org> in PR#13375 with changes by me.


Thu, 21 Jul 2005 18:45:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c
	   M /trunk/utility/astring.c
	   M /trunk/utility/astring.h

	Remove the string and flow control macros from text.c, and use astrings
	instead.  A new function, astr_add_line, is added.

	Patch by me in PR#13504.


Thu, 21 Jul 2005 11:34:11 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Don't dereference T_UNKNOWN (NULL) terrains inside generic_city_refresh.

	Patch by me in PR#13481.


Thu, 21 Jul 2005 11:26:15 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix a bug in loading of buildings from pre-2.0 savegames.

	Reported by me in PR#13489.  Patch by Mateusz Stefek.


Thu, 21 Jul 2005 11:21:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h

	Rerun packet generator.


Thu, 21 Jul 2005 01:33:36 -0700  per:

	Changed paths:
	   M /trunk/common/packets.def

	Restructure bitvector packet definition fields for consistency. See PR#13367.


Thu, 21 Jul 2005 01:17:09 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Add a * postfix to usernames in pregame dialog who have control cmdlevel or higher. See
	PR#13256.


Thu, 21 Jul 2005 01:12:28 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/server/srv_main.c

	Remove the unused movemap AI code. It turned out to be too slow to be usable, and needs
	a redesign. See comment in PR#13414, and full discussion in PR#9610.


Thu, 21 Jul 2005 01:07:19 -0700  per:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/common/packets.def
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c

	Cleans up some of the autosettler code in the client. Removing obsolete autoattack
	code. Patch by Jason. See PR#13499.


Wed, 20 Jul 2005 11:28:48 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdiplomacy.h
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/unittools.c

	Add AI reactions to diplomat incidents, declarations of war and nuclear explosions, even
	if not done against that player. This affects 'AI love'.

	Also changes Senate so that it will only prevent declarations of war, not every treaty
	reduction.

	For declarations of war, we will remember the highest level of treaties between players
	ever, and punish AI attitudes towards war between former allies and friends, which is an
	indication of backstabbing and betrayal. Patch in PR#13361.


Wed, 20 Jul 2005 11:20:21 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/aisupport.c

	Make the AI's calculation of the gold worth of cities more realistic, adding more
	variables to the equation and removing a silly constant. Prices go up by more than 100%
	in most cases, which should help against the complaints that the AI sells its cities
	cheap. See PR#13362.


Wed, 20 Jul 2005 10:32:30 -0700  per:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/plrhand.c

	A previous commit missed some files, breaking compile. Reported as PR#13496 by White
	Raven.


Wed, 20 Jul 2005 06:18:16 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix cannot-declare war bug. Do not increase love while we count down to war. See
	PR#13401.


Wed, 20 Jul 2005 04:02:37 -0700  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Remove obsolete AI comments. Reported by Lo'oris. See
	http://forum.freeciv.org/viewtopic.php?p=6941#6941


Wed, 20 Jul 2005 00:19:21 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-win32/inteldlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/game.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/team.c
	   M /trunk/common/team.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	Move the player_research struct into the team structure. Now every player has a team and you always share your research with team mates. Patch by me in PR#13429


Tue, 19 Jul 2005 19:04:31 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c

	Fix gui-win32 compilation.  Nation select dialog has been disabled
	pending a rewrite.


Mon, 18 Jul 2005 23:58:45 -0700  matusik:

	Changed paths:
	   M /trunk/common/terrain.c

	Fix one crash when the client dereferences T_UNKNOW. Patch by me in PR#13478


Mon, 18 Jul 2005 15:46:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/map.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/player.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/tech.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/barbarian.h
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Change nation variables to be pointers rather than index integers.

	Patch by me in PR#13482.


Mon, 18 Jul 2005 10:16:16 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Remove the is-info tag from all packets, and add a warning note to the
	tag to discourage future use.  This fixes at least one known bug where
	player info wasn't being updated properly in the client.

	Reported by Mateusz Stefek in PR#13468.  Patch by me.


Sat, 16 Jul 2005 02:04:53 -0700  matusik:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c

	Make the diplomatic window a tab. Patch by me in PR#13432


Sat, 16 Jul 2005 01:59:26 -0700  matusik:

	Changed paths:
	   M /trunk/common/game.c

	Don't crash the client when a user with no player presses the nation column after the game has started. Patch by Jason in PR#13456


Fri, 15 Jul 2005 20:54:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/observer.ruleset
	   M /trunk/server/barbarian.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Remove the playable_nation_count variable.  Now the nation struct tells
	whether the nation is for regular, barbarian, and/or observer players.

	Patch by me in PR#13473.


Fri, 15 Jul 2005 20:35:56 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/terrain.h

	Fix several bugs with dereferencing of T_UNKNOWN in client-side goto.

	Patch by me in PR#13478.


Fri, 15 Jul 2005 10:06:06 -0700  matusik:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix rarelly occuring bug when pplayer.ai.control is still garbage and player's science handicap is being calculated in handle_player_info(). Reported by Jason in PR#13451, patch by me


Fri, 15 Jul 2005 09:09:05 -0700  jdorje:

	Changed paths:
	   M /trunk/common/dataio.c

	Use C99 stdint data types inside the network code.

	Patch by me in PR#13464; requested by Benoit Hudson.


Fri, 15 Jul 2005 09:03:18 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/m4/c99.m4

	Require that stdint.h (provided in C99) is present.

	Patch by me in PR#13450.


Thu, 14 Jul 2005 12:25:47 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/common/unit.c
	   M /trunk/manual/civmanual.c
	   M /trunk/server/citytools.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Change terrain variables to use pointers to struct terrains instead of
	Terrain_type_id integers.  T_UNKNOWN is changed to be NULL; this may
	expose bugs where T_UNKNOWN is dereferenced as a terrain type.

	Patch by me in PR#13442.


Wed, 13 Jul 2005 23:59:27 -0700  matusik:

	Changed paths:
	   M /trunk/client/packhand.c

	Don't popup city dialog in observer mode when the city is founded or conquered. Patch by me in PR#13466


Wed, 13 Jul 2005 09:49:39 -0700  per:

	Changed paths:
	   M /trunk/ai/aiguard.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/server/unithand.c

	Reinitialize AI unit data when units change owners, and do not complain so loudly at
	wrong owner references, since we cannot guarantee them. Patch by Benedict Adamson in
	PR#13401.


Wed, 13 Jul 2005 08:41:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c

	Allow client goto into unknown tiles.

	Patch by Raimar Falk and myself in PR#6977.


Wed, 13 Jul 2005 08:29:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c

	Remove references to game.control.playable_nation_count.  Users instead
	use is_nation_playable where needed.  pick_available_nation is rewritten
	and select_random_nation is removed in the process.  The behavior of the
	GTK2 nation selection dialog is also changed slightly.

	Patch by me in PR#13453.


Tue, 12 Jul 2005 16:57:53 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Add a new function is_safe_filename to see if a file name from an untrusted
	source is safe to use.

	Patch by Per Mathisen in PR#13463 with changes by me.


Tue, 12 Jul 2005 14:51:23 -0700  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/settings.c

	Use GAME_DEFAULT_SAVETURNS define instead of a hard-coded number for saveturns. From
	pubserver patch in PR#13262.


Tue, 12 Jul 2005 14:25:48 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gamelog.c
	   M /trunk/server/gamelog.h
	   M /trunk/utility/log.c

	Change log functions to strdup pointers to filenames so that they don't
	end up dangling.

	Patch by Per Mathisen in PR#13461 with changes by me.


Tue, 12 Jul 2005 10:57:53 -0700  per:

	Changed paths:
	   M /trunk/server/diplomats.c

	Fix compile failure on pubserver. Someone thought stuffing a variable declaration in the
	middle of a function was a good idea. But it is not!


Mon, 11 Jul 2005 12:31:13 -0700  jdorje:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/server/srv_main.c

	Add a new function is_nation_playable.  Change nations_iterate to iterate
	over all (including unplayable) nations and have the callers use
	is_nation_playable as needed to filter out unplayable ones.

	Patch by me in PR#13425.


Mon, 11 Jul 2005 08:09:22 -0700  jdorje:

	Changed paths:
	   M /trunk/common/dataio.c

	Fix a glitch where "long" was assumed to be a 32-bit value; this broke the
	network code on some 64-bit machines.  Also add assertions to catch (at
	runtime) other such errors.

	Reported by Michael Lorenz <macallan@netbsd.org> in PR#13416.


Mon, 11 Jul 2005 00:33:52 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	If a diplomat is killed and a user presses the Incite button, the diplomat dialog is hidden and no new diplomat dialog will ever be opened. Reported by David Tansey <djtansey@gmail.com>. Patch by me in PR#13443


Sun, 10 Jul 2005 09:03:11 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	Save nations on starting positions by untranslated name. Patch by me in PR#13440


Sat, 09 Jul 2005 10:46:09 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/tile.c
	   M /trunk/common/unit.c
	   M /trunk/manual/civmanual.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/scripting/api_types.h
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Rename "struct tile_type" as "struct terrain".  Rename "get_tile_type",
	"tile_types_free", and "tile_types" accordingly.

	Patch by me in PR#13424.


Sat, 09 Jul 2005 03:19:47 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aidata.c

	Fix a mistake in 13407 which made AI not to build any settlers at all. Fix AI behaviour in AI-only games. Patch by me in PR#13407


Thu, 07 Jul 2005 20:31:18 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/tile.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	Add an index to the tile_type struct, and remove the const casts on the
	index fields of the other structs.

	Patch by me in PR#13412.


Thu, 07 Jul 2005 01:34:40 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	Allow easy AI to build only few more cities than the best human player has. Patch by me in PR#13407


Wed, 06 Jul 2005 01:16:52 -0700  matusik:

	Changed paths:
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h

	Properly handle alliance breakup in a pact reduction treaty. Patch by me in PR#13413


Tue, 05 Jul 2005 09:40:51 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-xaw/inteldlg.c

	Fix a bug in the gui-xaw's intelligence dialog when total_bulbs_required is called on A_NOINFO. Reported by Dag Arneson, patch by me in PR#13405


Mon, 04 Jul 2005 11:42:28 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/common/combat.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/unittools.c

	Change terrain defense bonus values to be represented in the ruleset as
	a percent bonus instead of a perdeca multiplier.  Most internal
	calculations are unchanged and convert back into a perdeca before using
	the value so only multiples of 10% are supported properly for now.

	Patch by James Canete in PR#13355 with added comment by me.


Mon, 04 Jul 2005 10:48:38 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/sha.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/caravan.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/player.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Change several fields that point to players by number so that they instead
	point to the player by pointer.  Now all players in global structures
	should be referred to by pointer.

	Patch by me in PR#13391.


Sun, 03 Jul 2005 11:31:58 -0700  per:

	Changed paths:
	   M /trunk/common/packets.def

	Improve packets.def documentation. See PR#13397.


Sat, 02 Jul 2005 23:53:18 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/common/capstr.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	Cleanup code and protocol relevant to diplomats stealing techs. Patch by me in PR#13394


Sat, 02 Jul 2005 11:03:53 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Don't dissolve the senate automatically when declaring war without reason
	under governments with a senate.  Instead the player is given a message
	telling him he must dissolve the senate manually before declaring war.

	Patch by me in PR#13222; design by myself and Per Mathisen.


Sat, 02 Jul 2005 08:59:11 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c

	Remove an assertion that causes the server to crash when loading a game
	with a client connected.

	Report and fix by <whraven@worldnet.att.net> in PR#13388.


Sat, 02 Jul 2005 08:41:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Handle nation availability packets for barbarian and observer nations,
	rather than logging an error.

	Patch by me in PR#13386.


Fri, 01 Jul 2005 01:25:34 -0700  matusik:

	Changed paths:
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/scripting/api_actions.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	Remove unused next_tech argument of found_new_tech(). Patch by me in PR#13378


Thu, 30 Jun 2005 14:11:00 -0700  matusik:

	Changed paths:
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/scripting/api_actions.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	Calculate conquercost/freecost/diplcost based on the tech we've received, not on the tech we are currently researching. Patch by Marko Lindqvist in PR#9148


Thu, 30 Jun 2005 13:38:42 -0700  matusik:

	Changed paths:
	   M /trunk/server/settings.c
	   M /trunk/server/settings.h
	   M /trunk/server/stdinhand.c

	Add new server command: 'show changed'. It shows a list of options with non-default values. Patch by Thomas Müller <mail@elfstone.de> in PR#13302


Thu, 30 Jun 2005 13:29:23 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	total_bulbs_required() cannot be called on A_UNSET. This patch fixes show_info_popup(). Patch by me in PR#13385


Thu, 30 Jun 2005 13:18:37 -0700  matusik:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/text.c
	   M /trunk/server/report.c
	   M /trunk/server/techtools.c

	total_bulbs_required() cannot be called on A_UNSET. This patch fixes some cases where it is called. Patch by Jason in PR#13385


Thu, 30 Jun 2005 12:12:57 -0700  cazfi:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/savegame.c

	Make tile owner information subject to fog of war.

	Patch by me in #10191


Thu, 30 Jun 2005 11:56:13 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/server/stdinhand.c

	Fix a bug where game_renumber_players would end up sharing unit and
	city lists between players.  Now the old player's pointer data is
	completely freed in game_remove_player and game_renumber_players
	reallocates it all from scratch.

	Reported by Benedict Adamson <badamson@spamcop.net> in PR#13353.  Patch by
	me.


Thu, 30 Jun 2005 08:43:01 -0700  cazfi:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/movement.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	unit_class structure with movement related parameters terrain_affects and
	damage_slows.

	Patch by me in #13334.


Thu, 30 Jun 2005 01:23:37 -0700  matusik:

	Changed paths:
	   M /trunk/data/scenario/europe-200x100-v2.sav

	Add starting positions for Bulgaria and Romania. Patch by me in PR#13370


Thu, 30 Jun 2005 01:07:10 -0700  matusik:

	Changed paths:
	   M /trunk/server/diplomats.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	Remove redundant found_new_future_tech() and replace it with proper found_new_tech() calls. Patch by me in PR#13369


Wed, 29 Jun 2005 12:47:34 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c

	gui-xaw: fix crashes when png transparent array entry is out of palette.
	Patch in PR#13374.


Wed, 29 Jun 2005 02:23:12 -0700  matusik:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/bulgarian.ruleset
	   M /trunk/po/POTFILES.in

	Add bulgarian nation by Grigor Gatchev


Wed, 29 Jun 2005 01:53:17 -0700  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/techtools.c

	Introduce notify_team_ex() function and use it in found_new_tech(). Patch by me in #13357


Wed, 29 Jun 2005 01:43:52 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	Revert 13360. Since the real cause of the bug is fixed in 13366 we don't need this hack


Wed, 29 Jun 2005 01:21:25 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/common/tech.c

	Clean up get_invention(). Specify that it can be called only with real techs or A_FUTURE. Make update_research() mark A_FUTURE as TECH_REACHABLE when a player cannot research any other tech. Patch by me in PR#13366. Suggestions by Jason


Tue, 28 Jun 2005 20:32:46 -0700  jdorje:

	Changed paths:
	   M /trunk/server/techtools.c

	Avoid a crash if the client requests the tech goal be changed to A_NONE.

	Patch by me in PR#13350.


Tue, 28 Jun 2005 19:17:53 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/srv_main.c

	Fix a potential crash when an anonymous player picks their nation.

	Patch by me in PR#13343.


Tue, 28 Jun 2005 15:38:09 -0700  cazfi:

	Changed paths:
	   M /trunk/server/unittools.c

	When resolving stacks, bounce all third party units that cannot survive at
	tile, no matter the terrain.

	Patch by me in #13336.


Tue, 28 Jun 2005 11:12:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapctrl.c

	Fix a possible crash in the GTK2 overview code.

	Reported by Benoit Hudson in PR#13356.  Patch by me.


Tue, 28 Jun 2005 10:48:47 -0700  matusik:

	Changed paths:
	   M /trunk/server/maphand.c

	If tile ownership changes, update homecities of all units standing on that tile. This is needed because of the happyborders rule. Patch by me in PR#13340


Tue, 28 Jun 2005 10:32:53 -0700  matusik:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h
	   M /trunk/server/unittools.c

	Clean up some tech code related to free techs. Patch by me in PR#13354


Tue, 28 Jun 2005 10:24:56 -0700  cazfi:

	Changed paths:
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h
	   M /trunk/doc/README.rulesets
	   M /trunk/server/unittools.c

	More general paratroopers. They cannot paradrop into any terrain they
	cannot survive at.

	Patch by me in #13341.


Tue, 28 Jun 2005 10:21:03 -0700  cazfi:

	Changed paths:
	   M /trunk/common/fc_types.h
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset
	   M /trunk/server/ruleset.c

	Replace move_type by unit class in units.ruleset. Internally move_type,
	determined from class, is still used.

	Patch by me in #13136.


Tue, 28 Jun 2005 09:34:41 -0700  cazfi:

	Changed paths:
	   M /trunk/server/scripting/Makefile.am

	Distribute api.pkg

	Patch by Mateusz Stefek <mstefek@poczta.fm> in #13359


Tue, 28 Jun 2005 03:21:52 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	Allow A_FUTURE in choose_tech. Patch by me in PR#13360. Reported by pubserver


Tue, 28 Jun 2005 00:29:13 -0700  matusik:

	Changed paths:
	   M /trunk/client/helpdata.c

	Fix a crash in helpdata. Patch by White Raven <whraven@worldnet.att.net> in PR#13352


Mon, 27 Jun 2005 11:06:08 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Don't allow away AI players declare war against it's war target. Patch by me in PR#13349. Reported by Thomas Moler


Mon, 27 Jun 2005 07:30:19 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/tech.c
	   M /trunk/data/default/game.ruleset
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/unittools.c

	Put several additional previously hard-coded values into the rulesets. This should allow
	scaling outputs by some factor with only ruleset changes. Patch in PR#13322.


Mon, 27 Jun 2005 07:13:44 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	A vote needs plurality (>50% of votes) to pass. it does not matter how many turns it
	takes. This removes the problem of surprise votes. Player observers cannot vote or
	suggest new votes; right now they can pretend to be the controlling connection; i see no
	reason to grant observer suffrage. These things have been noted by several people, fixed
	first by this patch in PR#12604.


Mon, 27 Jun 2005 01:30:34 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c
	   M /trunk/server/unithand.c

	When caravan revenue is added to the research only one player got updated information. Fixed by me in PR#13339


Sun, 26 Jun 2005 09:01:37 -0700  cazfi:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Removed Mountains requirement from Hydro Plant

	See #13273


Sun, 26 Jun 2005 08:58:06 -0700  cazfi:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/doc/README.rulesets

	Allow airborne city building units.

	Patch by me in #13330


Sun, 26 Jun 2005 04:24:23 -0700  matusik:

	Changed paths:
	   M /trunk/server/ruleset.c

	Send nation availability information with rulesets. Patch by me in PR#13270


Sun, 26 Jun 2005 04:18:08 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	Increase the had_embassies[] and can_switch[] arrays sizes. See #13338


Sun, 26 Jun 2005 03:44:42 -0700  cazfi:

	Changed paths:
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h

	New function is_native_terrain()

	Patch by me in #13335


Sun, 26 Jun 2005 02:30:11 -0700  cazfi:

	Changed paths:
	   M /trunk/server/settlers.c

	Do not subtract worker food consumption from
	improvement want when looking for work for
	existing workers. Even idle workers eat.

	Patch by me in #13319


Sun, 26 Jun 2005 02:10:08 -0700  cazfi:

	Changed paths:
	   M /trunk/configure.ac

	Check for c++ compilers

	Patch by Frédéric Brière <fbriere@fbriere.net> in #11320


Sat, 25 Jun 2005 11:09:42 -0700  matusik:

	Changed paths:
	   M /trunk/server/unittools.c

	Improve 13303 - don't refresh the city when it isn't necessary with happyborders=0. Suggested by Jason


Sat, 25 Jun 2005 09:55:26 -0700  matusik:

	Changed paths:
	   M /trunk/server/unittools.c

	When a unit crosses a border refresh its homecity. This is needed because of the happyborders rule. Patch by me in PR#13303


Sat, 25 Jun 2005 07:32:38 -0700  cazfi:

	Changed paths:
	   M /trunk/po/fi.po

	Translation merged from S2_0


Sat, 25 Jun 2005 01:24:04 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	Check incoming player_research and player_tech_goal packets. We cannot trust the client. Patch by me in PR#13326


Sat, 25 Jun 2005 01:11:38 -0700  matusik:

	Changed paths:
	   M /trunk/server/techtools.c

	Clean up some code in found_new_tech and make it less buggy in team research. Patch by me in PR#13325


Sat, 25 Jun 2005 01:05:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c

	Add support for fuel to the pathfinding code, and use it to support better
	client goto for air units.

	Patch by me in PR#13277 based on a design by Gregory Berkolaiko and myself.


Sat, 25 Jun 2005 00:49:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Fix a bug in the display of the "change to" worker action text in the
	orders menu.

	Reported by Mike Jing in PR#13329.


Fri, 24 Jun 2005 08:04:29 -0700  cazfi:

	Changed paths:
	   M /trunk/ai/aiexplorer.c

	likely_ocean() cheated and returned wrong probabilities in
	hex topologies.

	Patch by me in #11601.


Fri, 24 Jun 2005 07:50:19 -0700  cazfi:

	Changed paths:
	   M /trunk/autogen.sh
	   M /trunk/configure.ac

	Require at least version 2.55 of autoconf since
	that is first version with AC_HEADER_STDBOOL

	Problem reported by Eddie Anderson <saywhat@softhome.net>


Fri, 24 Jun 2005 03:12:47 -0700  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/techtools.c
	   M /trunk/server/techtools.h

	Move do_*_cost functions into techtools.[ch]. Patch by me in 13324


Thu, 23 Jun 2005 22:00:01 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix an off-by-one bug that prevented player 0 from ever being removed
	through the "aifill" setting, and change "aifill" so that created players
	(from /create) are never removed.

	Patch by me in PR#13301.


Thu, 23 Jun 2005 21:34:03 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/team.c

	Fix a potential crash when adding and removing players from teams.

	Patch by me in PR#13299.


Thu, 23 Jun 2005 14:58:24 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitech.c
	   M /trunk/server/Makefile.am
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/scripting/api_actions.c
	   M /trunk/server/srv_main.c
	   A /trunk/server/techtools.c
	   A /trunk/server/techtools.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Move server tech (research) code into a new set of files techtools.[ch].

	Patch by Mateusz Stefek in PR#13314 with style and comment changes by me.


Thu, 23 Jun 2005 13:35:45 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Fix a bug where if the server was compiled without readline, and stdin
	had been closed, it would crash when a client connected.

	Patch by me in PR#13307.


Thu, 23 Jun 2005 08:36:46 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	When server map generation fails with generator=3 startpos=3 and landmass=85 fallback to proper generator. Reported by pubserver. Patch by me in PR#13315


Thu, 23 Jun 2005 01:45:49 -0700  matusik:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Commit new packets_gen.[ch] and update capstring


Thu, 23 Jun 2005 01:05:35 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	update


Thu, 23 Jun 2005 01:01:09 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/game.c
	   M /trunk/common/improvement.c
	   M /trunk/common/packets.def
	   M /trunk/common/requirements.c
	   M /trunk/common/tech.c
	   M /trunk/server/plrhand.c

	Reduce the amount of information stored in the global_advances array. This makes it easier to handle and less information is transfered to the client. See #13308


Thu, 23 Jun 2005 00:24:38 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Cross out unavailable nation when the nation selection dialog is open. Patch by me in #13305


Tue, 21 Jun 2005 09:21:02 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/client/reqtree.c
	   M /trunk/client/text.c
	   M /trunk/common/game.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/scripting/api_actions.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	Encapsulate the pplayer->research field behind an accessor function
	get_player_research.

	Patch by Mateusz Stefek in PR#13306 with changes by me.


Tue, 21 Jun 2005 03:17:03 -0700  matusik:

	Changed paths:
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Call init_available_nations after loading a game. Patch by me in PR#13270


Tue, 21 Jun 2005 02:10:14 -0700  matusik:

	Changed paths:
	   M /trunk/client/packhand.c

	Don't popup the caravan dialog in front of the observer dialog. Patch by me in PR#13265


Mon, 20 Jun 2005 14:46:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix a bug where bulbs are lost when the server changes the player's
	research from NONE to a new tech chosen from the player's goal.

	Patch by Thomas Muller <lists@elfstone.de> in PR#13198 with changes by me.


Fri, 17 Jun 2005 16:03:35 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Fix a bug in get_unit_tile_pillage_set that caused it to crash.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#13276.


Fri, 17 Jun 2005 15:11:29 -0700  jdorje:

	Changed paths:
	   M /trunk/common/movement.c

	Don't allow naval units to move into inland cities, even if they happen
	to be illegally adjacent to one.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#13194.


Thu, 16 Jun 2005 12:54:06 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Fix a bug in autosettlers that caused ETA times to be stored incorrectly.
	This could result in an infinite recursion in some cases or simply wrong
	autosettler behavior.  Also some additional sanity checks are added to
	catch future errors.

	Reported by Benoit Hudson in PR#13156.  Patch by Marko Lindqvist and
	myself.


Wed, 15 Jun 2005 14:47:33 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/pages.c

	gui-xaw: fixes in graphics load code and improvement of start page popdown


Wed, 15 Jun 2005 13:23:00 -0700  per:

	Changed paths:
	   M /trunk/utility/shared.c

	Change multicast group from 225.0.0.1 to 225.1.1.1, since the former is treated specially
	by some routers, and can cause network trouble. Reported by "Tamara, Enrique"
	<enrique.tamara@hp.com> in PR#13245.


Wed, 15 Jun 2005 12:41:26 -0700  per:

	Changed paths:
	   M /trunk/doc/BUGS
	   M /trunk/doc/TODO

	Fix some bugs-related addresses and references in doc/BUGS and doc/TODO. Patch by Egor in
	PR#13272.


Wed, 15 Jun 2005 12:39:25 -0700  per:

	Changed paths:
	   M /trunk/ai/aiguard.c

	Ensure that we never have a unit owned by another player as guard. Reported by Jason in
	PR#13227.


Wed, 15 Jun 2005 10:14:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Use tech graphics in the help dialog.

	Patch by me in PR#13258.


Tue, 14 Jun 2005 11:49:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/nation.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/meta.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Put the is_new_game value into the game.info struct, where it will be
	sent to the client automatically.

	Patch by me in PR#13264.


Tue, 14 Jun 2005 11:31:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/common/nation.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Fix bugs in loading of savegames:
	- Don't try to aifill if it's not a new game.
	- Don't allow changing teams if it's not a new game.
	- Don't allow changing nations if it's not a new game.

	Reported by Mateusz Stefek in PR#13246.  Patch by me.


Sun, 12 Jun 2005 21:09:37 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update PEOPLE from 2.0.2.


Sat, 11 Jun 2005 16:14:01 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1.serv
	   M /trunk/data/civ2.serv

	Add sciencebox value back to civ1 and civ2 rulesets.


Sat, 11 Jun 2005 12:07:30 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h

	Improve the sorting behaviour of the players list. Now you can specify ordering method for each column, so they may be ordered differently then alphabetically. The patch defines sorting method for score and for AI love. Patch by me in #13238


Sat, 11 Jun 2005 11:16:37 -0700  per:

	Changed paths:
	   M /trunk/data/civ1.serv

	Remove now unused 'researchcost' server setting in civ1.serv.


Sat, 11 Jun 2005 11:13:00 -0700  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	When loading the rulesets, a bad impr_req for a unit generated no error
	message at all. Fixed in PR#13225 by Jason.


Sat, 11 Jun 2005 11:06:48 -0700  per:

	Changed paths:
	   M /trunk/data/civ2.serv

	Remove unused 'researchcost' server setting from civ2.serv.


Fri, 10 Jun 2005 01:11:01 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/menu.c

	gui-win32: fix compilation.


Thu, 09 Jun 2005 19:20:09 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/savegame.c

	Make the foodbox server setting into a percentage value.

	Patch by me in PR#12966.


Thu, 09 Jun 2005 11:34:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec

	Add a tileset priority.  When the software has to pick a tileset it
	chooses the highest-priority matching tileset.

	Patch by me in PR#13231.


Thu, 09 Jun 2005 11:30:13 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	When assigning nations at random, assign leader names too.

	Patch by me in PR#13230.


Thu, 09 Jun 2005 11:24:48 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Change the aifill server setting so that it has immediate effects.  New
	AI players are created or removed immediately to reach the aifill
	amount.

	Patch by me in PR#13211.


Wed, 08 Jun 2005 14:11:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/overview_common.c

	Return a color structure in overview_tile_color.

	Taken from PR#13240 by Egor Vyscrebentsov <evyscr@murom.net>.


Wed, 08 Jun 2005 11:26:05 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/packhand.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/stdinhand.c

	Show the AI difficulty level in the pregame player list.  This also
	means the difficulty level must be sent to the client.

	Patch by me in PR#13229.


Wed, 08 Jun 2005 11:14:57 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Give free railroads to everyone on the team when one team member
	researches railroad.

	Patch by Mateusz Stefek in PR#13180.


Wed, 08 Jun 2005 11:02:00 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Make sure the player packet is actually filled out when sending it to
	unattached connections.

	Patch by me in PR#13217.


Wed, 08 Jun 2005 09:54:32 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Remove the unused firepower_factor variable.

	Patch by me in PR#13236.


Wed, 08 Jun 2005 07:39:26 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/pages.c

	gui-xaw: compile fix


Tue, 07 Jun 2005 09:55:00 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Remove a spurious log added in PR#13171.


Tue, 07 Jun 2005 09:18:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/overview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/colors.tilespec
	   M /trunk/data/trident.tilespec

	Add separate colors for allied units and cities in the overview.

	Patch by me in PR#12945.


Mon, 06 Jun 2005 23:20:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/plrhand.c

	Include the turn number in the turn-done packet.  If the turn doesn't
	match the packet is discarded.

	Patch by me in PR#13185.


Mon, 06 Jun 2005 23:17:15 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Change terrain special values from a mask into an enumeration.

	Patch by me in PR#13171.


Mon, 06 Jun 2005 16:19:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/scripting/Makefile.am

	Don't distribute built sources, since they aren't built as part of
	"make dist".

	Reported by Daniel Doran <dadoran@sbcglobal.net> in PR#13221; problem
	tracked down by Reinier Post.


Mon, 06 Jun 2005 13:35:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Popup the science dialog in alert mode if there is no tech goal or
	research target set.

	Patch by Daniel Speyer <dspeyer@gmail.com> in PR#13220 with changes by me.


Mon, 06 Jun 2005 12:03:30 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	When a unit is moved for some external reason (like having its
	transporter move under it), cancel its orders.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12616.


Mon, 06 Jun 2005 11:47:41 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix a menu update problem: when a unit is selected the "load"/"unload"
	menu choices are sensitized or desensitized correctly, but later the
	(un)loading of another unit can cause this sensitivity to become wrong.
	The fix is just to update the menus when a nearby unit is (un)loaded.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12679.


Sat, 04 Jun 2005 20:54:40 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c

	gui-win32: Add "Pick nation" button, and ensure connect dialog is closed
	upon starting a new game.

	Reported by Graham Reeds <graham.reeds@gmail.com> as PR#13204.
	Patch by me.


Sat, 04 Jun 2005 16:34:48 -0700  jdorje:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po

	Updated pofiles after 'make dist'.


Sat, 04 Jun 2005 15:57:24 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h

	Fix several bugs when removing a player twice.

	Patch by me in PR#13213.


Sat, 04 Jun 2005 11:20:24 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Resend player info when AI status is toggled.

	Patch by me as part of PR#13202.


Sat, 04 Jun 2005 11:11:25 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Change a send_game_info(game_connections) to send_game_info(NULL).

	Patch by me as part of PR#13202.


Sat, 04 Jun 2005 09:31:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c

	Add sanity checking to get_player to avoid returning a garbage pointer
	for out-of-range player numbers.

	Patch by me in PR#13207.


Sat, 04 Jun 2005 09:28:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/common/team.c
	   M /trunk/server/stdinhand.c

	Add a GUI interface to the GTK client that allows easy configuration of
	teams.

	Patch by me in PR#13208.


Fri, 03 Jun 2005 18:52:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Draw the tens digit of the goto path length instead of drawing the ones
	digit twice.

	Reported by Benoit Hudson in PR#13210.


Fri, 03 Jun 2005 18:31:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Fix the turns-to-research number in the goal text of the science dialog.
	Previously it wouldn't count bulbs researched on the current tech if the
	current tech was the same as the goal.

	Patch by me in PR#13209.


Fri, 03 Jun 2005 11:09:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix several conflicting bugs in the updating of city dialog unit lists
	when units are loaded or unloaded.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12787.  Patch by me.


Fri, 03 Jun 2005 09:53:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c

	Update the connection list (pregame players' dialog) when a player is
	removed.

	Patch by me as part of PR#13202.


Fri, 03 Jun 2005 09:46:18 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/server/srv_main.c

	Don't allow the player to popup the nation selection dialog for a player
	if they don't have permissions to edit that player's nation.

	Patch by me in PR#13203.


Tue, 31 May 2005 18:02:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/pages.h
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Allow toggling of pregame readiness.  You can toggle your readiness by
	clicking on the check-box in the pregame player list.  The "Ready" button
	also renames itself as needed when readiness status changes.

	Patch by me in PR#13184.


Tue, 31 May 2005 17:47:15 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/control.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/unithand.c

	Remove server goto from the client.  All client goto now uses orders.

	Patch by me in PR#13187.


Tue, 31 May 2005 17:32:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/mapctrl_common.c

	Remove the draw_goto_line conditional in client goto, since it is now
	always true.

	Patch by me in PR#13186.


Mon, 30 May 2005 20:15:58 -0700  bhudson:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Modify ai_manage_caravan to use the new caravan-optimizing code.
	As an aside, this fixes an unreported bug whereby ai caravans sit around
	a turn before creating a trade route when they get to their destination.

	Patch by me in PR#9856.


Mon, 30 May 2005 20:10:33 -0700  bhudson:

	Changed paths:
	   M /trunk/common/aicore/Makefile.am
	   A /trunk/common/aicore/caravan.c
	   A /trunk/common/aicore/caravan.h

	Added aicore support for optimizing caravans.

	Patch by me in PR#9856.


Sun, 29 May 2005 03:40:44 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/pages.c
	   M /trunk/client/gui-xaw/pages.h
	   M /trunk/data/Freeciv.in

	gui-xaw: Implement start (pregame) page and compile fix


Sat, 28 May 2005 14:26:29 -0700  jdorje:

	Changed paths:
	   M /trunk/server/diplomats.c

	Fix the setting of bitfields in the spy sabotage list packet.

	Reported by Egor Vyscrebentsov and Marko Lindqvist in PR#13164.  Patch
	by me.


Sat, 28 May 2005 14:24:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-mui/gotodlg.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-xaw/gotodlg.c

	Change the go-to-city operation (from the goto dialog) to use client-side
	goto (orders) instead of server goto.  This improves the behavior since
	server goto is buggy.

	Reported by Benoit Hudson in PR#13172.  Patch by me.


Sat, 28 May 2005 14:15:42 -0700  jdorje:

	Changed paths:
	   M /trunk/data/Makefile.am
	   M /trunk/data/trident.tilespec
	   D /trunk/data/trident_shields.tilespec

	Remove trident_shields, and add the selection rectangle to trident.

	Patch by me in PR#13176.


Sat, 28 May 2005 03:47:21 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/colors.c
	   M /trunk/client/gui-xaw/colors.h
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/messagedlg.c

	gui-xaw: Add RGBA-32 support and multiple compile fixes


Fri, 27 May 2005 19:19:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/team.c

	Fix two bugs causing both server and client to crash in the team code
	when a savegame is loaded while the server has a user connected already.

	Reported by Mateusz Stefek in PR#13179.  Patch by me.


Fri, 27 May 2005 01:21:11 -0700  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c

	Reset changed_from when a new tech is researched. This should remove many cheat-like scenarios like the one which elfstone (lists at elfstone.de) described in #13178. Patch by me.


Thu, 26 May 2005 08:06:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c

	Put all players (not just connected ones) into the pregame player list.

	Patch by me in PR#13151.


Wed, 25 May 2005 21:58:20 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Stop a patrol after it's gone through one full cycle in a single
	turn.  Without this, a patrol on railroad will never end.

	Reported by Frank Wilde <perle@cs.tu-berlin.de> in PR#13167.  Patch by me.


Wed, 25 May 2005 21:55:18 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Fix a bug where another player's units could become the focus
	unit at the client.

	Reported by Evan Daniel <evanbd@gmail.com> in PR#13166.  Patch by me.


Wed, 25 May 2005 21:49:38 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix a crash when doing /away while detached, and don't let observer
	connections do /away on the player they're observing.

	Patch by me in PR#13177.


Tue, 24 May 2005 09:45:39 -0700  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Fix some bugs with loading of teams from savegames.

	Reported by Mateusz Stefek in PR#13159.


Mon, 23 May 2005 02:05:43 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/repodlgs.c

	gui-win32: Fix compilation.


Sun, 22 May 2005 11:12:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/gui-gtk-2.0/canvas.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/reqtree.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/colors.tilespec
	   M /trunk/data/trident.tilespec

	Put the enumerated colors and player colors into the tileset.  Artists
	can now edit the RGB values for these colors.

	Patch by me in PR#13152.


Sun, 22 May 2005 11:06:37 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/stdinhand.c

	Send info about newly created players to the clients.

	Patch by me in PR#13150.


Sun, 22 May 2005 11:05:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/srv_main.c

	Allow editing of other players' nations in pregame.

	Patch by me in PR#13149.


Sun, 22 May 2005 10:48:11 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c

	Remove the future_tech value out of the player structure and into the
	research structure where it belongs.

	Patch by me in PR#13148.


Sun, 22 May 2005 10:45:24 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/ruleset.c

	Remove the farmland_supermarket_bonus from the ruleset and code, since it
	is no longer used (effects are used instead).

	Patch by me in PR#13141.


Sun, 22 May 2005 02:53:12 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Add an option to hide dead players in players dialog. Patch by me in PR#13144, suggestions by Jason, reported by many


Sat, 21 May 2005 12:45:41 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix bugs in the forward- and backward- compatibility of researchcost and
	sciencebox values.

	Patch by me in PR#13142.


Sat, 21 May 2005 12:40:25 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/team.c
	   M /trunk/common/team.h
	   M /trunk/server/commands.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Change the design for teams.  The team names are now statically
	allocated rather than creating new teams when players name them.

	Patch by me in PR#13145.


Sat, 21 May 2005 12:03:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Avoid doing some sanity checks on non-living (including observer)
	players.

	Patch by me in PR#13155.


Fri, 20 May 2005 09:07:32 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h

	Initialize AI unit "stats".

	Patch by me in PR#13137.


Thu, 19 May 2005 09:58:23 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/server/stdinhand.c

	Add the pregame state back to the server_state enum as an unused entry.
	This restores the numbering of the states, without which compatibility
	with old savegames was broken.

	Patch by me as part of PR#13131.


Thu, 19 May 2005 09:57:30 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Don't reset players' governments to Despotism when loading a game.  This
	should obviously only be done for a new game.

	Patch by me as part of PR#13131.


Thu, 19 May 2005 09:22:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a memory leak in the tileset code.

	Patch by me in PR#13130.


Wed, 18 May 2005 07:12:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Prevent a crash from using an empty color as the player dialog default
	player color.

	Patch by Mateusz Stefek in PR#13133.


Tue, 17 May 2005 16:10:44 -0700  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am

	Fix generate_packets so it runs when freeciv is built out of a separate
	builddir (but will modify the packets_gen files directly in the srcdir).

	Patch by me in PR#12992.


Tue, 17 May 2005 16:01:22 -0700  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.h
	   A /trunk/common/team.c
	   A /trunk/common/team.h

	Move team code into new files team.[ch].

	Patch by me in PR#13044.


Tue, 17 May 2005 16:00:14 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/utility/shared.c

	Fix compilation in gui-win32, and fix an obvious bug in shared.c.


Sat, 14 May 2005 15:49:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/gui-gtk-2.0/canvas.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/reqtree.c

	Rewrite the color enumeration.  Now colors are enumerated by use rather
	than (partially) by color.

	Patch by me in PR#13047.


Sat, 14 May 2005 15:35:28 -0700  vasc:

	Changed paths:
	   M /trunk/common/effects.c

	PR#13049: Ruleset effects cache has two negated fields and one is
	uninitialized.

	Bug reported by Jason Dorje Short, patch by me.


Sat, 14 May 2005 15:33:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Send the default specialist correctly over the network (previously garbage
	was sent, a major bug).

	Patch by me in PR#13050.


Sat, 14 May 2005 08:38:49 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitech.c

	PR#13056: Fix requirements vector bug.

	Patch by me.


Sat, 14 May 2005 08:34:41 -0700  vasc:

	Changed paths:
	   M /trunk/common/improvement.c
	   M /trunk/common/requirements.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c

	PR#13056: Fix requirements bug.

	Patch by Per Inge Mathisen.


Sat, 14 May 2005 07:45:23 -0700  per:

	Changed paths:
	   M /trunk/common/city.c

	A requirement_vector_iterate ended as a requirement_list_iterate... Fixed. See PR#13056.


Thu, 12 May 2005 09:48:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/helpdlg.c

	Fix compilation of gui-win32's help dialog.

	Patch by me in PR#13048.


Wed, 11 May 2005 15:07:00 -0700  vasc:

	Changed paths:
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/ruleset.c

	PR#13046: Clean up specialists in the ruleset.

	Patch by Jason Dorje Short with changes by me.


Wed, 11 May 2005 13:54:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Remove the unused, deprecated get_grid_color function.

	Patch by me in PR#13045.


Wed, 11 May 2005 13:35:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/colors_common.c
	   M /trunk/client/colors_common.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Use a separate function, get_player_color, for accessing player colors.
	Player colors are no longer included in the "standard" color enumeration.

	Patch by me in PR#13034.


Wed, 11 May 2005 13:03:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/specialist.c
	   M /trunk/common/specialist.h
	   M /trunk/server/ruleset.c

	Move specialist ruleset data into its own packet.

	Patch by me in PR#13042.


Wed, 11 May 2005 12:47:27 -0700  jdorje:

	Changed paths:
	   M /trunk/common/events.c

	Fix comments and style in events.c


Wed, 11 May 2005 12:31:38 -0700  vasc:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-win32/messagedlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c
	   M /trunk/common/Makefile.am
	   A /trunk/common/events.c
	   M /trunk/common/events.h

	Move the event struct declaration to common/events.c. Cleanup.

	Patch by me under PR#13041: Event unification.


Wed, 11 May 2005 09:44:34 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Document the client's irregular use of the ruleset_control packet.

	See PR#13040.


Wed, 11 May 2005 09:40:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Add some assertions to catch requirements initialization errors.

	See PR#13040.


Wed, 11 May 2005 07:57:10 -0700  vasc:

	Changed paths:
	   M /trunk/data/scenario/tutorial.sav
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/scripting/script_signal.c
	   M /trunk/server/unittools.c

	Add script signals:
	* building_built (building, city)
	* unit_cant_be_built (unittype, city, reason)
	* building_cant_be_built (building, city, reason)
	* tech_researched (tech, player, source)

	Update tutorial.

	Patch by Jason Dorje Short under PR#7245.


Wed, 11 May 2005 07:11:22 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/specialist.c
	   M /trunk/common/specialist.h
	   M /trunk/manual/civmanual.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c

	* Replace the use of static requirement arrays with dynamic requirement
	  vectors.
	* Parse 'negated' requirement attribute to enable more complex
	  requirements. Make is_req_active take 'negated' attribute into
	  consideration.

	Patch under PR#13040.


Wed, 11 May 2005 01:03:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/fc_types.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Move MAX_LEN_NAME into fc_types.h.  Change user_username to take a
	buffer as a parameter so there is no enforced maximum length of the
	name found.

	Patch by me in PR#13012.


Tue, 10 May 2005 19:06:02 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/canvas.c

	gui-win32: Fix compilation.


Tue, 10 May 2005 17:53:22 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_methods.c
	   M /trunk/server/scripting/api_methods.h

	Add more script API functions.

	Requested by Jason Dorje Short under PR#13037. Patch by me.


Tue, 10 May 2005 17:13:24 -0700  vasc:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h
	   M /trunk/common/effects.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets.h
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/server/ruleset.c

	PR#13036: Parse and transmit 'negated' requirement field.

	Patch by me.


Tue, 10 May 2005 16:44:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/reqtree.c

	Avoid passing in COLOR_STD_BLACK as a NULL color pointer.

	Patch by me in PR#13035.


Tue, 10 May 2005 13:36:19 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tech.c

	Fix the comment of base_total_bulbs_required.


Tue, 10 May 2005 13:33:09 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/scripting/api_find.h
	   M /trunk/server/scripting/api_types.h
	   M /trunk/server/scripting/script_signal.c
	   M /trunk/server/scripting/script_signal.h

	Add the Government type to the scripting API.
	Add the following methods:
	  * Unit_Type:build_shield_cost()
	  * Building_Type:build_shield_cost()

	Requested by Jason Dorje Short under PR#13024. Patch by me.


Tue, 10 May 2005 13:02:07 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/canvas.c
	   M /trunk/client/include/canvas_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/reqtree.c

	#13014: Use color struct in the canvas interface.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 10 May 2005 12:08:56 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/government.c
	   M /trunk/common/improvement.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/specialist.c
	   M /trunk/common/specialist.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/cities.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c

	PR#8759: Effects to give bonuses to specialists.

	Requested by Per Inge Mathisen, patch by Jason Dorje Short.


Tue, 10 May 2005 10:27:09 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/tech.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c

	Change the researchcost value into a sciencebox (percentage multiplier)
	value.  This also fixes a bug causing the researchcost setting to not
	work with techcost style 1.

	Patch by me in PR#12929.


Tue, 10 May 2005 10:03:18 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Fix a bug with client-side nations when loading a savegame while
	connected to the server.

	Reported by Per, Hogne, and myself in PR#13028.


Tue, 10 May 2005 10:01:24 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/Makefile.am
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   A /trunk/common/specialist.c
	   A /trunk/common/specialist.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Separate the specialist code out into a separate set of files
	specialist.[ch].

	Patch by me in PR#13007.


Tue, 10 May 2005 09:58:53 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/Makefile.am
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/scripting/api_find.h
	   A /trunk/server/scripting/api_methods.c
	   A /trunk/server/scripting/api_methods.h
	   M /trunk/server/scripting/api_types.h
	   M /trunk/server/scripting/script_signal.c
	   M /trunk/server/scripting/script_signal.h

	Renames Impr_Type to Building_Type.
	Adds UnitType:has_role(role) method.

	Under PR#13024. Requested by Jason Dorje Short, patch by me.


Tue, 10 May 2005 09:13:47 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/script.c
	   M /trunk/server/scripting/script_signal.c
	   M /trunk/server/scripting/script_signal.h

	PR#13024: Add new script API types.

	Adds these new API types (types you can pass as signal arguments):
	API_TYPE_IMPR_TYPE,
	API_TYPE_NATION_TYPE,
	API_TYPE_UNIT_TYPE,
	API_TYPE_TECH_TYPE,
	API_TYPE_TERRAIN

	Requested by Jason Dorje Short. Patch by me.


Tue, 10 May 2005 08:44:02 -0700  jdorje:

	Changed paths:
	   M /trunk/data/misc/shields.spec

	Add a missing sprite tag for the Slovakia shield flag.


Tue, 10 May 2005 06:24:03 -0700  vasc:

	Changed paths:
	   M /trunk/data/scenario/tutorial.sav
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/scripting/script_signal.c

	PR#7245: Wish List: Freeciv Tutorial.

	Added events: city-built, city-growth, unit-built.

	These events, which are so obnoxious in-game, allow a steady progression
	of advice to be given to the user (although a tutorial game is probably
	short and some of these messages may not be reached).

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 09 May 2005 19:25:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/common/events.h
	   M /trunk/data/scenario/Makefile.am
	   A /trunk/data/scenario/tutorial.sav
	   M /trunk/po/POTFILES.in
	   M /trunk/server/scripting/api.pkg

	PR#7245: Wish List: Freeciv Tutorial.

	Add prototype tutorial scenario.

	Patch by Jason Dorje Short.


Mon, 09 May 2005 19:09:57 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_types.h

	PR#13019: Meta-Ticket: Improved scripting.

	Add myplayer:is_human() method.

	Requested by Jason Dorje Short. Patch by me.


Mon, 09 May 2005 18:48:56 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/script.c

	PR#13019: Meta-Ticket: Improved scripting.

	Add even better error reporting for when a callback fails.

	Reported by Jason Dorje Short.


Mon, 09 May 2005 18:38:03 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/script.c

	PR#13019: Meta-Ticket: Improved scripting.

	Add slighly better error reporting for when a callback fails.


Mon, 09 May 2005 18:03:03 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/script_signal.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	PR#13019: Meta-Ticket: Improved scripting.

	This patch adds two more signals:
	'turn_started' and 'unit_moved'.

	Patch by Jason Dorje Short.


Mon, 09 May 2005 17:35:15 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/scripting/api_find.h
	   M /trunk/server/scripting/api_types.h

	PR#13019: Meta-Ticket: Improved scripting API.

	This patch adds the Terrain type and makes all names use name_orig.

	Requested by Jason Dorje Short. Patch by me.


Mon, 09 May 2005 15:32:50 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/canvas.c
	   M /trunk/client/gui-win32/colors.c
	   M /trunk/client/gui-win32/colors.h
	   M /trunk/client/gui-win32/helpdlg.c

	gui-win32: Fix compilation.


Mon, 09 May 2005 14:24:48 -0700  vasc:

	Changed paths:
	   M /trunk/server/savegame.c
	   M /trunk/server/scripting/script.c
	   M /trunk/server/scripting/script.h
	   M /trunk/server/scripting/script_signal.c
	   M /trunk/server/scripting/script_signal.h

	PR#13015: Remove misfeature of script signals.

	Signal enabled/disabled state caused havok on scenarios. A bug in script
	loading from savedgames was also fixed.

	Bug reported by Jason Dorje Short. Patch by me.


Mon, 09 May 2005 11:44:33 -0700  vasc:

	Changed paths:
	   A /trunk/client/colors_common.c
	   A /trunk/client/colors_common.h

	PR#13011: move color system into client common.

	Patch by Jason Short <jdorje@users.sourceforge.net>.


Mon, 09 May 2005 11:42:19 -0700  vasc:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/gui-gtk-2.0/canvas.c
	   M /trunk/client/gui-gtk-2.0/colors.c
	   M /trunk/client/gui-gtk-2.0/colors.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-stub/colors.c
	   M /trunk/client/gui-stub/colors.h
	   M /trunk/client/include/canvas_g.h
	   M /trunk/client/include/colors_g.h

	PR#13011: move color system into client common.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 09 May 2005 09:48:10 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Remove audio_esd.c from POTFILES.


Sun, 08 May 2005 11:30:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/server/ruleset.c

	Fix a bug with citymindist, caused because rulesets are loaded immediately
	when the server starts.

	Reported by Brian Dunstan <bdunstan149@yahoo.com> in PR#12996.


Sun, 08 May 2005 06:31:24 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/utility/ftwl/Makefile.am
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/be_common_24.h
	   D /trunk/utility/ftwl/be_common_24_sprite.c
	   A /trunk/utility/ftwl/be_common_pixels.c
	   A /trunk/utility/ftwl/be_common_pixels.h
	   M /trunk/utility/ftwl/be_sdl.c
	   A /trunk/utility/ftwl/be_sdl_pixels.c

	Reorganize ftwl to prepare for an OpenGL backend later on. The pixel-based code is moved
	into *_pixels. Patch in PR#12656.


Sat, 07 May 2005 23:37:50 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/unittools.c

	Add a new function tile_apply_activity to the tile.h interface.  This
	function replaces tile_irrigate, tile_mine, and tile_transform.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#13003.


Sat, 07 May 2005 23:19:04 -0700  jdorje:

	Changed paths:
	   M /trunk/common/effects.c

	Remove an incorrect effects assertion.

	Reported by Brian Dunstan <bdunstan149@yahoo.com> in PR#13005.


Sat, 07 May 2005 14:39:20 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/citydlg.c
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-ftwl/mapview.c

	Update gui-ftwl to work with most recent cvs.


Sat, 07 May 2005 11:58:04 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/text.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/government.c
	   M /trunk/common/improvement.c
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/score.c

	PR#12930: RFC: generalizing output types in effects.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 07 May 2005 11:45:13 -0700  vasc:

	Changed paths:
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h

	Use hashtable section lookups instead of a genlist linear search.

	Patch by me under PR#11779.


Sat, 07 May 2005 08:38:31 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Reorder a bad variable declaration.


Sat, 07 May 2005 07:03:53 -0700  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/packhand.c
	   M /trunk/common/game.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/columbian.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/observer.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/romanian.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovakian.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Adds a new nation ruleset define init_government, which sets the
	starting government of a nation. This is very useful for modpacks.
	Removes useless AI hints in nation rulesets, replacing them with the
	above and init_units (implemented earlier). See PR#12963.


Sat, 07 May 2005 06:55:56 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/unithand.c

	Add some asserts to easier catch an elusive error in transfer_city().


Sat, 07 May 2005 06:53:13 -0700  vasc:

	Changed paths:
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h

	Remove unused get_building_for_effect function.

	Patch by me as PR#13001.


Sat, 07 May 2005 06:35:25 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiferry.c
	   A /trunk/ai/aiguard.c
	   A /trunk/ai/aiguard.h
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c

	Add a bodyguard API with stricter safe checking. Patch by Benedict Adamson in PR#12781.


Sat, 07 May 2005 06:31:55 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Improve/correct AI comment on city exchange.


Sat, 07 May 2005 02:50:46 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/gui-xaw/ratesdlg.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c

	gui-xaw: rest part of gui-xaw compile fixes (PR#13000).


Sat, 07 May 2005 00:26:18 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c

	gui-xaw: fix occurences of player_idx in citydlg.c. Patch by me in PR#13000


Fri, 06 May 2005 23:10:05 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/README.effects

	Update README.effects.


Fri, 06 May 2005 23:01:12 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Simplify the init_min_production function by using the pcity->usage
	array.

	Patch by me in PR#11907.


Fri, 06 May 2005 22:52:26 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Don't reload the ruleset on /rulesetdir if it isn't changed.

	Patch by me in PR#12985.


Fri, 06 May 2005 22:48:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/packhand.c

	Update the citybar when units move into or out of the city.

	Patch by me in PR#12984.


Fri, 06 May 2005 22:44:43 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h

	Reload the rulesets when the game restarts.

	Reported by Per Mathisen in PR#12956.


Fri, 06 May 2005 22:42:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Fix focus problems on "unload transporter".

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12935.  Patch by
	John Bauman <john@baumanfamily.com> with changes by me.


Fri, 06 May 2005 22:24:55 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/american.ruleset

	Extend the United States nation ruleset.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12986.


Fri, 06 May 2005 21:06:26 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/romania-shield.png
	   A /trunk/data/flags/romania.png
	   A /trunk/data/flags/romania.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/romanian.ruleset
	   M /trunk/po/POTFILES.in

	Add the Romanian nation.

	Nation by Netotea Sergiu <nepleausall@yahoo.com> in PR#12988 with changes
	by me.


Fri, 06 May 2005 20:48:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Change a recursive C99-style initializer to use nested initializers
	instead.  This allows it to compile in gcc2.

	Patch by David Stewart <dmstewart@gmail.com> in PR#12989.


Fri, 06 May 2005 20:43:21 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c

	Remove the territory and enemy considerations of autosettlers (these were
	nearly useless anyway, and they cheated).  Also simplify the autosettlers
	state into a single struct.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12977.


Fri, 06 May 2005 17:08:01 -0700  vasc:

	Changed paths:
	   M /trunk/client/helpdata.c

	Fix bug in my previous commit of the UnitFlag requirement patch.

	Patch under PR#12997.


Fri, 06 May 2005 16:44:41 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/repodlgs.c

	forward port: gui-win32: clean up science dialog and (hopefully) fix a crash bug.

	Reported by many as PR#12252.

	Patch by me.


Fri, 06 May 2005 16:23:20 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-win32/spaceshipdlg.c

	gui-win32: Fix compilation.


Fri, 06 May 2005 16:13:53 -0700  vasc:

	Changed paths:
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityturn.c

	Implement UnitFlag requirement.

	Patch by me under PR#12997.


Fri, 06 May 2005 13:11:52 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aiexplorer.c
	   M /trunk/client/control.c
	   M /trunk/common/unit.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/unittools.c

	More unit effects:
	EFT_NO_SINK_DEEP, EFT_UNIT_RECOVER, EFT_LAND_VET_COMBAT.

	These unit targetted effects were still using get_player_bonus when they can
	now use get_unit_bonus perfectly well.

	Patch by me under PR#12997.


Fri, 06 May 2005 09:01:43 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/helpdata.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/government.c
	   M /trunk/common/improvement.c
	   M /trunk/common/movement.c
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c

	PR#12994: Requirements of unittypes.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 06 May 2005 08:55:46 -0700  vasc:

	Changed paths:
	   D /trunk/data/default/events.lua
	   A /trunk/data/default/script.lua

	Forgot these in my last commit.


Fri, 06 May 2005 08:54:42 -0700  vasc:

	Changed paths:
	   M /trunk/data/default/Makefile.am
	   M /trunk/po/POTFILES.in
	   M /trunk/server/ruleset.c

	PR#12706: Rename events.lua to script.lua.


Thu, 05 May 2005 20:23:55 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/stdinhand.c

	Reset player readiness when a player joins or leaves, a take or detach
	happens, or a server setting is changed.

	Patch by me in PR#12975.


Thu, 05 May 2005 15:09:49 -0700  per:

	Changed paths:
	   M /trunk/server/settings.c

	Fix sed noise from a previous commit. Fixed by Jason in PR#12995.


Thu, 05 May 2005 14:14:57 -0700  per:

	Changed paths:
	   M /trunk/data/default/effects.ruleset

	Forgot to remove reputation effect from default/effects.ruleset in a previous commit.


Thu, 05 May 2005 14:12:21 -0700  per:

	Changed paths:
	   M /trunk/client/audio_sdl.c

	The SDL_mixer sound plugin had a problem with a strange delay before
	playing sounds. This fix, taken from Wesnoth, fixes the problem. See PR#12971.


Thu, 05 May 2005 14:10:58 -0700  per:

	Changed paths:
	   D /trunk/client/audio_alsa.c
	   D /trunk/client/audio_alsa.h
	   D /trunk/client/audio_amiga.c
	   D /trunk/client/audio_amiga.h
	   D /trunk/client/audio_esd.c
	   D /trunk/client/audio_esd.h
	   D /trunk/client/audio_winmm.c
	   D /trunk/client/audio_winmm.h

	Remove now unused files.


Thu, 05 May 2005 14:09:15 -0700  per:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/audio.c
	   M /trunk/client/audio.h
	   M /trunk/client/audio_sdl.c
	   M /trunk/configure.ac
	   M /trunk/m4/sound.m4

	Remove sounds plugins that do not support the .ogg format. That is, all but SDL_mixer.
	Add volume control API to audio code. Patch in PR#12972.


Thu, 05 May 2005 13:41:15 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c

	When units are transfered between players, the client complained loudly
	about hash collisions. Fixed in PR#12980.


Thu, 05 May 2005 13:26:14 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.h
	   M /trunk/server/commands.c
	   M /trunk/server/commands.h
	   M /trunk/server/gamelog.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/report.h
	   M /trunk/server/score.c
	   M /trunk/server/score.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Move score into player dialog, and remove the /score command. You can see the score of
	another player whenever you have 'contact' or 'embassy' info with that player. Patch from
	PR#12641.


Thu, 05 May 2005 13:00:43 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	Remove reputation from the game. This concept is (to be) replaced by the more
	fine-grained AI attitude towards you. Senate is now much stronger, as it will always
	throw you into anarchy when you declare war without due reason. Patch from PR#12638.


Thu, 05 May 2005 12:22:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/meta.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Change nation selection to occur in pregame.

	See PR#9172.


Thu, 05 May 2005 11:32:54 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/sha.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/civclient.c
	   M /trunk/client/climap.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/finddlg.c
	   M /trunk/client/gui-mui/gotodlg.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/inteldlg.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/finddlg.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/inteldlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/finddlg.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/reqtree.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/effects.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/requirements.c
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/maphand.c
	   M /trunk/server/meta.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/scripting/api_types.h
	   M /trunk/server/sernet.c
	   M /trunk/server/settings.c
	   M /trunk/server/settlers.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Reuse two more of the packets_gen structures inside the game structure.
	This means the values specified in packets.def are used to assemble the
	pieces of the game structure itself, making network transmission of this
	data much easier and less bug-prone.

	Patch by Per Mathisen in PR#12983.


Thu, 05 May 2005 09:55:32 -0700  jdorje:

	Changed paths:
	   M /trunk/dependencies/tolua/Makefile.am

	Fix compilation when builddir != srcdir.

	Patch by Egor Vyscrebentsov in PR#12990 with changes by me.


Thu, 05 May 2005 05:35:28 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/Makefile.am

	PR#12990: Fix compilation failure when builddir != srcdir.

	Bug reported by Egor Vyscrebentsov <evyscr@murom.net>, patch by me.


Wed, 04 May 2005 13:55:58 -0700  vasc:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/maphand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	PR#12954: Remove palace and city walls kludge.

	Thanks are in order to Mike Kaufman for reporting a savedgame forward
	compatibility issue. Kudos are also in order to Jason Dorje Short for fixes.


Wed, 04 May 2005 10:56:06 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Put an enum into the output type structure that tells how each output
	type is handled in unhappy cities.

	Patch by me in PR#12967.


Wed, 04 May 2005 01:10:07 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/tile.h
	   M /trunk/server/settlers.c

	Restructure the autosettler code a little bit.  Instead of tracking a
	single assigned bit for each tile, we now track the unit targeted on that
	tile and it's ETA.  This information is used by the algorithm to displace
	a worker if there is another one that can do the job from closer.  This
	means tile assignments are no longer tracked between turns but are
	recalculated from scratch on each turn.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12840 with changes by
	me.


Tue, 03 May 2005 23:18:07 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.h

	Change startunits to ccwwx.

	See PR#12916.


Tue, 03 May 2005 17:17:08 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/api.pkg
	   M /trunk/server/scripting/api_utilities.c
	   M /trunk/server/scripting/api_utilities.h

	PR#12706: Fix utility module random bug. Tweak API.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Tue, 03 May 2005 13:22:13 -0700  per:

	Changed paths:
	   M /trunk/data/Makefile.am

	Add sounds dir to compile chain. Forgot to commit in previous commit.


Tue, 03 May 2005 13:08:25 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Show whether players are ready in the /list command.

	Patch by me in PR#12962.


Tue, 03 May 2005 12:42:48 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Put the watchtower_vision value into the savegame, so that 2.0 servers
	will be able to load 2.1 savegames.

	Patch by me in PR#12948.


Tue, 03 May 2005 12:26:48 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	If a scenario contains starting positions and one of the nations is
	unknown, don't discard all the starting positions.  Only discard that
	one.

	Patch by Mateusz Stefek in PR#12953.


Tue, 03 May 2005 12:11:00 -0700  jdorje:

	Changed paths:
	   M /trunk/common/movement.c
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Further cleanups to transferring code.  This should also fix the bug
	introduced by PR#12899.

	Patch by Per Mathisen in PR#12950.


Tue, 03 May 2005 12:05:14 -0700  jdorje:

	Changed paths:
	   M /trunk/data/stdsounds
	   A /trunk/data/stdsounds/.cvsignore

	Add .cvsignore.


Tue, 03 May 2005 11:29:18 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   A /trunk/data/stdsounds
	   A /trunk/data/stdsounds/LrgCan.ogg
	   A /trunk/data/stdsounds/LrgExpl.ogg
	   A /trunk/data/stdsounds/Makefile.am
	   A /trunk/data/stdsounds/MedCan.ogg
	   A /trunk/data/stdsounds/MgBar1.ogg
	   A /trunk/data/stdsounds/MgBar2.ogg
	   A /trunk/data/stdsounds/MgHeavy.ogg
	   A /trunk/data/stdsounds/Mortar.ogg
	   A /trunk/data/stdsounds/SmlExpl.ogg
	   A /trunk/data/stdsounds/Splash.ogg
	   A /trunk/data/stdsounds/THover.ogg
	   A /trunk/data/stdsounds/Tread.ogg
	   A /trunk/data/stdsounds/foot3.ogg
	   A /trunk/data/stdsounds/inh2o.ogg
	   A /trunk/data/stdsounds/metbrk.ogg
	   A /trunk/data/stdsounds/wall01.ogg
	   A /trunk/data/stdsounds/woodbrk.ogg
	   A /trunk/data/stdsounds.soundspec

	Add sound files to cvs. These are taken from OpenQuartz (GPL) and the GPL release of
	Warzone. So the sounds are under the GPL. Copyright details are in the
	data/stdsounds.soundspec.


Tue, 03 May 2005 08:09:05 -0700  vasc:

	Changed paths:
	   M /trunk/server/scripting/Makefile.am
	   M /trunk/server/scripting/api.pkg
	   A /trunk/server/scripting/api_actions.c
	   A /trunk/server/scripting/api_actions.h
	   M /trunk/server/scripting/api_find.c
	   M /trunk/server/scripting/api_find.h
	   M /trunk/server/scripting/api_notify.c
	   M /trunk/server/scripting/api_notify.h
	   M /trunk/server/scripting/api_types.h
	   A /trunk/server/scripting/api_utilities.c
	   A /trunk/server/scripting/api_utilities.h

	PR#12706: Add actions to events framework, cleanup notify module API.

	Patch by me.


Tue, 03 May 2005 00:11:58 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Mark output type names for translation.

	Patch by me in PR#12952.


Mon, 02 May 2005 23:48:04 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/agents.c

	Don't run any agents until the game has started.

	Reported by myself, Chris Knoke, and
	Nicolau C. Saldanha <nicolau.saldanha@gmail.com> in PR#12223.  Bug tracked
	down by Benoit Hudson; patch by me.


Mon, 02 May 2005 20:29:10 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	When activating a unit dismisses AI control, clear the goto tile as well.

	Patch by me in PR#8957.


Mon, 02 May 2005 12:05:15 -0700  per:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/settings.c

	Make diplomat combat not depend on diplchance. Give a message to reveal why a diplomat
	was caught when trying to steal from a city you have stolen from before. Allow
	auto-success for diplomats (diplchance=100). Limit diplchance to a minimum of 40.
	Improve server helptext for diplchance. See PR#12896.


Mon, 02 May 2005 11:44:40 -0700  per:

	Changed paths:
	   M /trunk/ai/aihand.c

	Do not try to celebrate if we are in /away mode. See PR#12959, based on report by Peter
	Schaefer <peter.schaefer@gmail.com>.


Mon, 02 May 2005 08:42:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climap.c
	   M /trunk/client/climap.h
	   M /trunk/client/climisc.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/common/unit.c
	   M /trunk/server/unittools.c

	Move map_get_known into tile.[ch], and remae it as tile_get_known.  Rename
	the old tile_get_known as client_tile_get_known.

	Patch by me in PR#12947.


Mon, 02 May 2005 03:37:18 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/commands.c
	   M /trunk/server/commands.h
	   M /trunk/server/gamelog.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Add /surrender command. This marks you as willing to concede the game. If all but one
	player (or team or alliance) has either died or conceded (by /surrender), then the game
	ends in victory to this player (or team or alliance). /endgame is made a hack level
	command that ends the game in a draw. Fix team victory conditions (were buggy) and fixes
	possibility of game ending due to death of a solo player. Some unnecessary code removed.
	See PR#12668 and PR#12543.


Mon, 02 May 2005 03:06:39 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/ratesdlg.c

	gui-win32: Fix compilation.


Mon, 02 May 2005 01:57:46 -0700  per:

	Changed paths:
	   M /trunk/common/effects.c

	Fix tiny problem in previous commit today, which would crash effects on server restart.


Mon, 02 May 2005 01:56:26 -0700  per:

	Changed paths:
	   M /trunk/common/game.c

	Fix memory leak in player research. See PR#6444.


Mon, 02 May 2005 01:45:23 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aihand.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/cities.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Move a number of configuration options from the governments ruleset to effects. Move
	partisan requirements to an effect. This adds the following new effects:
	"Civil_War_Chance", "Empire_Size_Mod", "Empire_Size_Step", "Max_Rates",
	"Martial_Law_Each", "Martial_Law_Max", "Rapture_Grow", "Unbribable_Units",
	"Veteran_Diplomats", "Revolution_When_Unhappy", "Has_Senate", "Inspire_Partisans",
	"Happiness_To_Gold" and "Fanatics". Also fixes some requirements spelling mistakes in the
	civ2 ruleset.

	Government help texts related to above effects are ifdef'ed out.
	This needs more effects/requirements code support before it can be
	reimplemented.


Sun, 01 May 2005 23:27:22 -0700  matusik:

	Changed paths:
	   M /trunk/data/civ2/governments.ruleset

	Make fundamentalism require fundamentalism(tech) in civ2 ruleset. Patch by me in PR#12867


Sun, 01 May 2005 09:21:59 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/settlers.c

	Move map_get_tile_info_text into tile.[ch], and mao_get_tile_fpt_text into
	text.[ch].

	Patch by me in PR#12938.


Sun, 01 May 2005 09:18:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	Use bitvectors for tracking player embassies.

	Patch by me in PR#12937.


Sun, 01 May 2005 06:59:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/stdinhand.c

	Show the player ready information in the pregame connections dialog.

	Patch by me in PR#12936.


Sun, 01 May 2005 06:52:26 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	update


Sun, 01 May 2005 06:20:01 -0700  jdorje:

	Changed paths:
	   M /trunk/data/scenario/europe-200x100-v2.sav

	Add missing settings values to the Europe scenario, and uncomment the
	Slovakian nation starting position.

	Patch by Mateusz Stefek in PR#12302.


Sun, 01 May 2005 06:17:29 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/Makefile.am
	   M /trunk/po/POTFILES.in

	Add new nations to POTFILES.in and Makefile.am.

	Patch by Mateusz Stefek in PR#12951.


Sun, 01 May 2005 06:09:52 -0700  vasc:

	Changed paths:
	   M /trunk/common/packets.def

	Revert goof by me.


Sun, 01 May 2005 06:05:21 -0700  vasc:

	Changed paths:
	   M /trunk/common/packets.def

	Fix typedef names broken by Jason's rename patch.


Sun, 01 May 2005 05:04:12 -0700  vasc:

	Changed paths:
	   M /trunk/diff_ignore

	Add tolua executable to diff ignore list.


Sun, 01 May 2005 05:01:16 -0700  vasc:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/data/default/Makefile.am
	   A /trunk/data/default/events.lua
	   M /trunk/manual/Makefile.am
	   M /trunk/po/POTFILES.in
	   M /trunk/server/Makefile.am
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   A /trunk/server/scripting
	   A /trunk/server/scripting/.cvsignore
	   A /trunk/server/scripting/Makefile.am
	   A /trunk/server/scripting/api.pkg
	   A /trunk/server/scripting/api_find.c
	   A /trunk/server/scripting/api_find.h
	   A /trunk/server/scripting/api_intl.c
	   A /trunk/server/scripting/api_intl.h
	   A /trunk/server/scripting/api_notify.c
	   A /trunk/server/scripting/api_notify.h
	   A /trunk/server/scripting/api_types.h
	   A /trunk/server/scripting/script.c
	   A /trunk/server/scripting/script.h
	   A /trunk/server/scripting/script_signal.c
	   A /trunk/server/scripting/script_signal.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	PR#12706: Events framework.

	Patch by me, kudos to Jason Dorje Short <jdorje@users.sourceforge.net> for
	proofreading and comment.


Sat, 30 Apr 2005 22:42:04 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unithand.h
	   M /trunk/server/unittools.c

	Clean up transferring of cities and units.  Change some code to be safer
	if units unexpectedly disappear underneath us.

	Patch by Per Inge Mathisen <per@freeciv.org> in PR#12899 with style
	changes by me.


Sat, 30 Apr 2005 22:23:05 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Avoid a potential crash from autoexplorers who found a path to a nearby
	island but then couldn't follow it.  The new code doesn't fix the bug but
	corrects the behavior when it happens.

	Patch by me in PR#12931.


Sat, 30 Apr 2005 22:11:53 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aitools.c

	Add some more unit logs in the autoexplorer code, and add the unit
	activity to the unit log by default.

	Patch by me as part of PR#12931.


Sat, 30 Apr 2005 22:08:37 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	Fix a bug causing river generation to occasionally fail.

	Patch by me in PR#12933.


Sat, 30 Apr 2005 21:57:45 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/stdinhand.c

	Add a new function create_global_observer to be called when a global
	observer is needed.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu> in PR#12939 with
	style and comment changes by me.


Sat, 30 Apr 2005 21:12:56 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	In evaluate_improvements, divide the want by the multiplying factor that we
	previously multiplied by in consider_settler_action.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12946 with style and
	comment changes by me.


Sat, 30 Apr 2005 13:59:50 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climap.c
	   M /trunk/client/climisc.c
	   M /trunk/client/packhand.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/player.h
	   M /trunk/common/tile.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/utility/shared.h

	Unify the client and server implementations of map_get_known.  Known and
	seen info is now stored identically on client and server in the
	ptile->tile_known and ptile->tile_seen BV fields.  Only in the network
	code is it enforced that the client only knows the known values for its
	player.

	Patch by me in PR#11126.


Sat, 30 Apr 2005 10:09:30 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitech.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/helpdlg.h
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.h
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h
	   M /trunk/client/reqtree.c
	   M /trunk/client/reqtree.h
	   M /trunk/client/text.c
	   M /trunk/client/text.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.h
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/cityhand.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/diplomats.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Rename Foo_Type_id as Foo_type_id, for consistency.

	Patch by me in PR#12928.


Sat, 30 Apr 2005 09:47:49 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/Makefile.am

	Add New Zealand flag graphics to the distribution.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12942.


Sat, 30 Apr 2005 01:34:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h

	Add an output_type structure, declared statically and initialized to
	contain data for the current output types.

	Patch by me in PR#12926.


Fri, 29 Apr 2005 11:46:37 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/HOWTOPLAY

	Remove a link to the unavaliable techtree generator.

	Patch by Marcel Edward Verhagen <marcel@meverhagen.com> in PR#12920.


Fri, 29 Apr 2005 11:39:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/text.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/server/unithand.c

	Move specials helper functions from map.[ch] into terrain.[ch], and
	rename them accordingly.

	Patch by me in PR#12925.


Fri, 29 Apr 2005 11:14:40 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Send rulesets to the client immediately when it connects.

	Patch by me in PR#12913.


Fri, 29 Apr 2005 10:58:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/columbian.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/newzealand.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/observer.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovakian.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/data/trident.tilespec

	Make the use of full flags versus nation "shield" graphics a client
	option.  Each tileset now includes both flag and shield graphics
	(auto-generated from a single SVG flag) and both are loaded at runtime.

	Patch by me in PR#12914.


Fri, 29 Apr 2005 10:49:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settings.c
	   M /trunk/server/settings.h

	Remove the ecology category from the server settings.  Change the
	'specials' setting to be in the geology category.

	Patch by me in PR#12915.


Fri, 29 Apr 2005 10:41:17 -0700  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c

	Move a myrand call out from inside a for loop.

	Patch by me in PR#12917.


Fri, 29 Apr 2005 10:39:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/maphand.c
	   M /trunk/server/unittools.c

	Move map_change_terrain and friends into tile.h.  Rename them to be part
	of the tile API.  Clean up their internal code.

	Patch by me in PR#12918.


Thu, 28 Apr 2005 18:52:10 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/government.c
	   M /trunk/common/improvement.c
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/server/citytools.c

	Change the building target in the requirements and effects interfaces from
	an Impr_Type_id to a struct impr_type *.  This makes the functions more
	typesafe.

	Patch by me in PR#11572.


Thu, 28 Apr 2005 10:19:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/clinet.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h
	   M /trunk/common/packets.c

	Fix several compiler warnings under gcc 4.0.

	Patch by me in PR#12907.


Wed, 27 Apr 2005 21:51:43 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/newzealand.svg

	Oops!  Import flag by Caleb Moore.

	See PR#3624.


Wed, 27 Apr 2005 21:49:02 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   A /trunk/data/flags/newzealand-shield.png
	   A /trunk/data/flags/newzealand.png
	   A /trunk/data/flags/newzealand.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/newzealand.ruleset

	Add a New Zealand nation.

	Nation by banjo <banjo@actrix.com> and David Stewart <dmstewart@gmail.com>
	in PR#3624.  Flag by Caleb Moore.


Wed, 27 Apr 2005 21:15:42 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/unit.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Add several new types of orders.  They are unused for now.

	Patch by Arnstein Lindgard <a-l@c2i.net> and myself in PR#12891.


Wed, 27 Apr 2005 21:08:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	When certain mapview options are changed, use the callback mechanism to
	redraw the mapview.

	Reported by Per Mathisen in PR#12895.


Wed, 27 Apr 2005 21:03:29 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/slovakia-shield.png
	   A /trunk/data/flags/slovakia.png
	   A /trunk/data/flags/slovakia.svg
	   M /trunk/data/misc/flags.spec
	   A /trunk/data/nation/slovakian.ruleset

	Add a Slovakian nation.

	Nation by Robo Trebula <r0b0@deepblue.sk> in PR#12897 with changes by
	me.


Wed, 27 Apr 2005 20:53:45 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/convert_png

	Don't use pngquant in convert_png (just use RGBA instead).


Wed, 27 Apr 2005 20:47:56 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Remove get_tile_output_base, and merge it into base_get_output_tile.

	Patch by me in PR#12904.


Wed, 27 Apr 2005 09:31:47 -0700  jdorje:

	Changed paths:
	   M /trunk/common/effects.c
	   M /trunk/common/game.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Load rulesets immediately when starting the server.

	Patch by me in PR#12892.


Tue, 26 Apr 2005 19:48:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/tile.c
	   M /trunk/common/tile.h
	   M /trunk/common/unit.c
	   M /trunk/server/unittools.c

	Move map_activity_time into tile.h, and rename it as tile_activity_time.
	Remove all other map_xxx_time functions, and change their callers to use
	tile_activity_time.

	Patch by me in PR#12889.


Tue, 26 Apr 2005 15:18:43 -0700  kauf:

	Changed paths:
	   M /trunk/common/generate_packets.py

	Additional fix to allow hand_gen.c to work.

	Patch by me. See PR#12883.


Tue, 26 Apr 2005 15:11:17 -0700  vasc:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/manual/Makefile.am
	   M /trunk/server/Makefile.am

	PR#12706: Events framework.

	Link civserver with lua libraries, required for future event script support.

	Patch by Per Inge Mathisen <per@freeciv.org>, with changes by me.


Tue, 26 Apr 2005 15:09:06 -0700  vasc:

	Changed paths:
	   M /trunk/dependencies
	   A /trunk/dependencies/.cvsignore
	   A /trunk/dependencies/Makefile.am
	   A /trunk/dependencies/tolua/COPYRIGHT.tolua

	Missed these files in my last commit.


Tue, 26 Apr 2005 15:08:24 -0700  vasc:

	Changed paths:
	   A /trunk/dependencies
	   A /trunk/dependencies/lua
	   A /trunk/dependencies/lua/.cvsignore
	   A /trunk/dependencies/lua/COPYRIGHT.lua
	   A /trunk/dependencies/lua/Makefile.am
	   A /trunk/dependencies/lua/include
	   A /trunk/dependencies/lua/include/.cvsignore
	   A /trunk/dependencies/lua/include/lauxlib.h
	   A /trunk/dependencies/lua/include/lua.h
	   A /trunk/dependencies/lua/include/lualib.h
	   A /trunk/dependencies/lua/src
	   A /trunk/dependencies/lua/src/.cvsignore
	   A /trunk/dependencies/lua/src/Makefile.am
	   A /trunk/dependencies/lua/src/README
	   A /trunk/dependencies/lua/src/lapi.c
	   A /trunk/dependencies/lua/src/lapi.h
	   A /trunk/dependencies/lua/src/lcode.c
	   A /trunk/dependencies/lua/src/lcode.h
	   A /trunk/dependencies/lua/src/ldebug.c
	   A /trunk/dependencies/lua/src/ldebug.h
	   A /trunk/dependencies/lua/src/ldo.c
	   A /trunk/dependencies/lua/src/ldo.h
	   A /trunk/dependencies/lua/src/ldump.c
	   A /trunk/dependencies/lua/src/lfunc.c
	   A /trunk/dependencies/lua/src/lfunc.h
	   A /trunk/dependencies/lua/src/lgc.c
	   A /trunk/dependencies/lua/src/lgc.h
	   A /trunk/dependencies/lua/src/lib
	   A /trunk/dependencies/lua/src/lib/.cvsignore
	   A /trunk/dependencies/lua/src/lib/Makefile.am
	   A /trunk/dependencies/lua/src/lib/README
	   A /trunk/dependencies/lua/src/lib/lauxlib.c
	   A /trunk/dependencies/lua/src/lib/lbaselib.c
	   A /trunk/dependencies/lua/src/lib/ldblib.c
	   A /trunk/dependencies/lua/src/lib/liolib.c
	   A /trunk/dependencies/lua/src/lib/lmathlib.c
	   A /trunk/dependencies/lua/src/lib/loadlib.c
	   A /trunk/dependencies/lua/src/lib/lstrlib.c
	   A /trunk/dependencies/lua/src/lib/ltablib.c
	   A /trunk/dependencies/lua/src/llex.c
	   A /trunk/dependencies/lua/src/llex.h
	   A /trunk/dependencies/lua/src/llimits.h
	   A /trunk/dependencies/lua/src/lmem.c
	   A /trunk/dependencies/lua/src/lmem.h
	   A /trunk/dependencies/lua/src/lobject.c
	   A /trunk/dependencies/lua/src/lobject.h
	   A /trunk/dependencies/lua/src/lopcodes.c
	   A /trunk/dependencies/lua/src/lopcodes.h
	   A /trunk/dependencies/lua/src/lparser.c
	   A /trunk/dependencies/lua/src/lparser.h
	   A /trunk/dependencies/lua/src/lstate.c
	   A /trunk/dependencies/lua/src/lstate.h
	   A /trunk/dependencies/lua/src/lstring.c
	   A /trunk/dependencies/lua/src/lstring.h
	   A /trunk/dependencies/lua/src/ltable.c
	   A /trunk/dependencies/lua/src/ltable.h
	   A /trunk/dependencies/lua/src/ltests.c
	   A /trunk/dependencies/lua/src/ltm.c
	   A /trunk/dependencies/lua/src/ltm.h
	   A /trunk/dependencies/lua/src/lundump.c
	   A /trunk/dependencies/lua/src/lundump.h
	   A /trunk/dependencies/lua/src/lvm.c
	   A /trunk/dependencies/lua/src/lvm.h
	   A /trunk/dependencies/lua/src/lzio.c
	   A /trunk/dependencies/lua/src/lzio.h
	   A /trunk/dependencies/tolua
	   A /trunk/dependencies/tolua/.cvsignore
	   A /trunk/dependencies/tolua/Makefile.am
	   A /trunk/dependencies/tolua/all.lua
	   A /trunk/dependencies/tolua/array.lua
	   A /trunk/dependencies/tolua/basic.lua
	   A /trunk/dependencies/tolua/class.lua
	   A /trunk/dependencies/tolua/clean.lua
	   A /trunk/dependencies/tolua/code.lua
	   A /trunk/dependencies/tolua/compat.lua
	   A /trunk/dependencies/tolua/container.lua
	   A /trunk/dependencies/tolua/declaration.lua
	   A /trunk/dependencies/tolua/define.lua
	   A /trunk/dependencies/tolua/doit.lua
	   A /trunk/dependencies/tolua/enumerate.lua
	   A /trunk/dependencies/tolua/feature.lua
	   A /trunk/dependencies/tolua/function.lua
	   A /trunk/dependencies/tolua/module.lua
	   A /trunk/dependencies/tolua/namespace.lua
	   A /trunk/dependencies/tolua/operator.lua
	   A /trunk/dependencies/tolua/package.lua
	   A /trunk/dependencies/tolua/tolua.c
	   A /trunk/dependencies/tolua/tolua.h
	   A /trunk/dependencies/tolua/tolua.pkg
	   A /trunk/dependencies/tolua/tolua_event.c
	   A /trunk/dependencies/tolua/tolua_event.h
	   A /trunk/dependencies/tolua/tolua_is.c
	   A /trunk/dependencies/tolua/tolua_map.c
	   A /trunk/dependencies/tolua/tolua_push.c
	   A /trunk/dependencies/tolua/tolua_to.c
	   A /trunk/dependencies/tolua/toluabind.c
	   A /trunk/dependencies/tolua/typedef.lua
	   A /trunk/dependencies/tolua/variable.lua
	   A /trunk/dependencies/tolua/verbatim.lua

	PR#12706: Add lua 5.0.2 and tolua 5.0 to the dependencies directory.

	Patch by Per Inge Mathisen <per@freeciv.org>.


Tue, 26 Apr 2005 15:03:28 -0700  kauf:

	Changed paths:
	   M /trunk/common/generate_packets.py

	If you set handle-per-conn for a packet in packets.def it is supposed to
	cause the connection rather than the player to be passed to the packet
	handler.  However with handle-via-packet, handle-per-conn directive is
	simply ignored and the player is passed in rather than the conn. Fixes this.

	Patch by Raimar. See PR#12883.


Tue, 26 Apr 2005 13:09:28 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Give players an alert when the game is started.

	Patch by me in PR#12838.


Tue, 26 Apr 2005 12:58:24 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/control.h

	Blink the turn-done button on a fixed half-second timer.

	Patch by me in PR#12885.


Tue, 26 Apr 2005 12:53:22 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Send out player info to inform clients of players' phase_done status.

	Reported by Per Inge Mathisen <per@freeciv.org> in PR#12882.


Tue, 26 Apr 2005 12:35:53 -0700  vasc:

	Changed paths:
	   M /trunk/utility/hash.c
	   M /trunk/utility/hash.h

	PR#12893: Improved hash tables.

	This patch adds better facilities for user-side memory management of keys
	and user-data on hash tables by the addition of callbacks.

	Patch by me.


Tue, 26 Apr 2005 10:37:51 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Remove accidental 'FIXME' artifacts.


Tue, 26 Apr 2005 10:16:53 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix a crash when a detached player does /start.

	Crash from pubserver in PR#12900.


Tue, 26 Apr 2005 03:54:27 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Remove overly chatty diplomacy message. See PR#9385 by Chris Knoke.


Mon, 25 Apr 2005 23:57:37 -0700  jdorje:

	Changed paths:
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/ruleset.c

	Generalize terrain in the map generator.  Instead of placing specific
	types of terrain the generator has various methods to look up a desirable
	terrain based on several properties.  The ruleset is able to define the
	properties that each terrain has.

	Patch by me in PR#9787.


Mon, 25 Apr 2005 22:23:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/unit.h
	   M /trunk/server/settlers.c

	Add an Activity_type_id typedef.  Add an activity_iterate macro to
	iterate over activity types.  Change the AI city terraforming evaluation
	to do a lookup by activity type as an index rather than hard-coding the
	types of activities that are evaluated.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12861.


Mon, 25 Apr 2005 12:28:22 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/unittools.c

	Change the server so that auto_arrange_workers is not automatically called
	when a city's tile becomes available.  update_city_tile_status_map no
	longer returns a boolean value but instead calls auto_arrange_workers
	internally if necessary.

	Bug report by Eddie Anderson <saywhat@softhome.net> and discussion in
	PR#11144.  Patch by me.


Mon, 25 Apr 2005 12:11:26 -0700  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   A /trunk/common/tile.c
	   A /trunk/common/tile.h

	Add a new set of files tile.[ch].  These files hold the tile structure and
	some accessors.

	Patch by me in PR#12879.


Mon, 25 Apr 2005 11:01:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Fix overview scaling in gui-xaw.

	Patch by Vijay Kiran Kamuju <infyquest@gmail.com>in PR#12886.


Sun, 24 Apr 2005 23:19:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/citybar.png
	   A /trunk/data/misc/citybar.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Make the citybar into a client option, instead of a tileset option.  This
	also means all tilesets must have the citybar graphics, so they are added
	in the misc/ directory.

	Patch by myself in PR#12880.  Graphics by
	Hogne Haskjold <haskjold@idi.ntnu.no>.


Sun, 24 Apr 2005 16:10:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h

	Fix the zig-zagging of the map overview on an isometric map.

	Patch by me in PR#12874.


Sat, 23 Apr 2005 23:18:28 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Give the player a special message when famine destroys a city completely.

	Patch by me in PR#12814.


Sat, 23 Apr 2005 10:47:14 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Clean up find_a_unit_type.  The prototype is changed to use proper types
	and the implementation now checks all reqs of the role units being looked
	at.

	Patch by me in PR#12863.


Sat, 23 Apr 2005 10:40:29 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-ftwl/citydlg.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-stub/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/overview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/movement.c
	   M /trunk/common/player.c
	   M /trunk/common/requirements.c
	   M /trunk/common/terrain.c
	   M /trunk/common/unit.c
	   A /trunk/scripts
	   A /trunk/scripts/replace
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/generator/utilities.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Rename some map_get_xxx and map_set_xxx functions as tile_get_xxx and
	tile_set_xxx.  The script used to make the replacement is added in the
	scripts dir.

	Patch by me in PR#12876.


Sat, 23 Apr 2005 10:21:20 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Fix a bug causing the AI difficulty level expansion-want modifier to be
	ignored.  This meant even on easy and novice the AI would fully value
	expansion.

	Patch by me in PR#12852.


Sat, 23 Apr 2005 10:18:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Avoid a potential near-infinite loop in decrease_unit_hp_smooth.

	Patch by me in PR#12857.


Fri, 22 Apr 2005 21:27:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Fix a bug in the "allows" list of the help causing empty entries to
	be inserted into the list.

	Patch by me in PR#12872.


Fri, 22 Apr 2005 21:26:57 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Fix a bug in the network packets causing specials requirements to be lost
	when passed to the client.

	Reported by Benedict Adamson <badamson@spamcop.net> in PR#12872.


Fri, 22 Apr 2005 18:36:46 -0700  jdorje:

	Changed paths:
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h

	Fix the flickering of the overview.

	Patch by me in PR#12858.


Fri, 22 Apr 2005 11:08:29 -0700  bhudson:

	Changed paths:
	   M /trunk/common/city.c

	Make city_happy return false if the city is too small.  This is a rules
	change: now a city of size 1 or 2 doesn't set was_happy, so growing it to
	size 3 (via food or settlers) doesn't have the city be celebrating.

	Patch by me in PR#9480.


Thu, 21 Apr 2005 21:20:08 -0700  bhudson:

	Changed paths:
	   M /trunk/client/cityrepdata.c

	Better sorting in the city report: numbers in a string are broken out and
	compared as numbers so that Marketplace (3/60/9/114) sorts before
	Marketplace (11/60/8/98).

	Patch by me in PR#12651.


Thu, 21 Apr 2005 18:16:28 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/sprite.c

	gui-win32: A new bitmap cache, replacing the old per-sprite bitmap cache.

	Patch by me in PR#12689.


Thu, 21 Apr 2005 16:22:57 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: fix compilation.


Thu, 21 Apr 2005 15:53:13 -0700  vasc:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/common/movement.c
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/civ2/techs.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/data/history/techs.ruleset

	PR#12854: Remove the FastBoat tech flag and replace it with an effect.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 21 Apr 2005 15:32:43 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/server/settlers.c

	Fix "(PR#12610) AI tries to move units with zero movement" reported by Marko Lindqvist.


Thu, 21 Apr 2005 15:23:40 -0700  per:

	Changed paths:
	   M /trunk/utility/inputfile.c

	Improve error reporting when loading ini files with syntax errors. See PR#12756.


Thu, 21 Apr 2005 14:37:34 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/helpdata.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/doc/README.effects

	Add a number of new bonus effects.  Now there are 2 bonus effects, applied
	one after the other, for each output type.  The G_REDUCED_RESEARCH
	government flag is removed and replaced by a science-bonus-2 effect.

	Patch by me in PR#12856.


Wed, 20 Apr 2005 19:43:23 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/overview_common.c
	   M /trunk/client/overview_common.h
	   M /trunk/client/packhand.c

	Change the overview code so it correctly scales itself to the panel area
	at the time it is created.  Note that resizing the panel later still won't
	resize the overview.

	Patch by me as part of PR#4543.


Wed, 20 Apr 2005 18:59:08 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Rewrite the comment for map_rivers_overlay_load.


Wed, 20 Apr 2005 17:28:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c

	Add a new minimum-size requirement type.  When applied at city range this
	requirement passes if the city is at least the given size.

	Patch by me in PR#12793.


Wed, 20 Apr 2005 13:26:16 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Do not go to defend a city that has been taken by/given to another player in the meantime
	in ai_military_defend(). Noticed by Benedict Adamson in PR#12850.


Wed, 20 Apr 2005 12:52:53 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Do not assign allied units as city defenders. Pointed out by Benedict Adamson in
	PR#12836.


Wed, 20 Apr 2005 10:40:34 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Partially rewrite consider_settler_action.

	Patch by Brian Dunstan <bdunstan149@yahoo.com> in PR#12833 with changes
	by me.


Wed, 20 Apr 2005 10:01:08 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Rewrite amortize() to use simple math using floating-point functions.

	See PR#12834.  Based on a discussion by Benoit Hudson and
	Brian Dunstan <bdunstan149@yahoo.com>.


Wed, 20 Apr 2005 09:54:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Avoid a crash in the start command when run from the command line.

	See PR#12855.


Wed, 20 Apr 2005 09:44:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug that could sometimes cause the overview not to update.

	Reported by Per Inge Mathisen in PR#12561.


Wed, 20 Apr 2005 09:42:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Add draw_city_outlines to the view_option list, so it will be saved and
	loaded.

	Reported by Hogne Haskjold <haskjold@idi.ntnu.no> in PR#12818.


Tue, 19 Apr 2005 19:57:06 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.h
	   M /trunk/server/gotohand.c

	Remove the MOVE_COST_AIR definition, since it is just unity (one air step
	takes one step).

	Patch by me as part of PR#12776.


Tue, 19 Apr 2005 19:36:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Add a backing rectangle for the citybar (mapview city texts).  If the
	tileset specifies is_full_citybar then some extra sprites will be loaded
	and the citybar will be drawn quite a bit differently.  Currently only
	the freim96 (working title) tileset supports the new functionality.

	Patch by me in PR#2708.  Citybar design by
	Hogne Haskjold <haskjold@idi.ntnu.no>.


Tue, 19 Apr 2005 15:05:58 -0700  jdorje:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/commands.c
	   M /trunk/server/stdinhand.c

	Forward port: add new behavior of the /start command.  Now start is INFO
	level but the game will not start until all players choose to start.

	See PR#12838.


Tue, 19 Apr 2005 10:07:14 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h

	Move some terrain-special code out of map.[ch] into terrain.[ch].

	Patch by me in PR#12822.


Tue, 19 Apr 2005 07:48:34 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	fixes


Tue, 19 Apr 2005 01:29:00 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	fixes


Mon, 18 Apr 2005 22:31:12 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates


Mon, 18 Apr 2005 16:33:03 -0700  jdorje:

	Changed paths:
	   M /trunk/common/requirements.c
	   M /trunk/data/default/buildings.ruleset

	Fix a typo in the requirement for University (building), and improve the
	code to detect invalid requirements.

	Patch by me in PR#12823.  Reported separately by
	Brian Dunstan <bdunstan149@yahoo.com>.


Mon, 18 Apr 2005 16:06:07 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix a bug causing a crash when no units are available to be built.

	Reported by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#12811.


Mon, 18 Apr 2005 12:47:06 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Sun, 17 Apr 2005 23:52:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/ruleset.c

	Remove the terr_gate and spec_gate arrays.  Instead the requirement
	array is used with terrain and special requirements at adjacent range.

	Patch by me in PR#12792.


Sat, 16 Apr 2005 01:35:36 -0700  jdorje:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po

	Changes to pofiles after 'make dist'.


Sat, 16 Apr 2005 00:35:21 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset

	Avoid warnings in xgettext.


Sat, 16 Apr 2005 00:13:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/helpdlg.c

	Fix compilation of gui-xaw after PR#12772.

	Patch by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#12797.


Fri, 15 Apr 2005 22:42:59 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/helpdlg.c

	gui-win32: Fix compilation.


Fri, 15 Apr 2005 21:44:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c

	Fix a bug preventing most units from being built.

	Bug reported by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#12810
	(introduced by PR#12772).


Fri, 15 Apr 2005 20:56:34 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Forward-port: update PEOPLE from the wiki.


Fri, 15 Apr 2005 20:51:21 -0700  jdorje:

	Changed paths:
	   M /trunk/NEWS

	Forward-port: update NEWS from the wiki.  Changes were made by many.


Fri, 15 Apr 2005 15:53:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/gui-gtk-2.0/canvas.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/include/canvas_g.h
	   A /trunk/client/reqtree.c
	   A /trunk/client/reqtree.h

	Generate an interactive technology tree diagram in the science report
	dialog.

	Patch by Mateusz Stefek with a little help from me in PR#12719.


Fri, 15 Apr 2005 13:24:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c

	Add a TRANS comment to a cryptic error message.


Thu, 14 Apr 2005 22:40:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Read the toplevels of tilesets when loading the list of available
	tilesets.  This prevents tilesets that will crash the client from being
	shown as possible choices when changing tilesets through the options
	dialog.

	Patch by me in PR#12488.


Thu, 14 Apr 2005 22:22:52 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c

	Move the player's tech_goal field into the research structure (from the
	ai structure).

	Patch by me in PR#12745.


Thu, 14 Apr 2005 22:08:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Clean up the first-time tileset loading code.  Instead of automatically
	falling back to the fallback tileset inside tileset_fullname, instead
	there is a wrapper function that tries to do the full tileset toplevel
	load and does the fallback if it fails at any point.

	Patch by me in PR#12782.


Thu, 14 Apr 2005 22:03:36 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c

	Fix some compile problems in gui-xaw.

	Patch by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#12783.


Thu, 14 Apr 2005 15:46:54 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	forward port: gui-win32: fix column widths in connect dialog.

	Requested by Jason as PR#11745.  Patch by me.


Wed, 13 Apr 2005 21:49:15 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitech.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/common/unittype.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/manual/civmanual.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c

	Change the buildings code to use requirements.  Instead of a tech_req and
	bldg_req, now each building type simply uses an array of requirements.  AI
	and helptext code is updated but may not handle extra requirements (other
	than building and tech reqs) properly.

	Patch by me in PR#12772.


Wed, 13 Apr 2005 19:22:34 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	Remove effect and group data from building rulesets.

	Patch by me in PR#12789.


Wed, 13 Apr 2005 11:41:11 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/citytools.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/srv_main.c

	Remove the ptile->move_cost AI move-cost cache.  This info is now
	recalculated as needed using map_move_cost_ai.

	Patch by me in PR#10702.


Wed, 13 Apr 2005 11:22:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Change the CMA to use cm_init_parameter instead of manual initialization
	of unused parameter values.

	Patch by me in PR#12769.


Wed, 13 Apr 2005 11:19:14 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.c
	   M /trunk/common/unit.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove map_has_special.  Change all its users to use tile_has_special.

	Patch by me in PR#12773.


Tue, 12 Apr 2005 20:38:14 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/wldlg.c

	gui-win32:  Make double click on worklist remove the item.

	Requested as PR#12378.  Patch by me.


Tue, 12 Apr 2005 20:35:15 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.h
	   M /trunk/client/gui-win32/menu.c

	gui-win32:  Add support for the escape key.

	Requested as PR#12254.  Patch by me.


Tue, 12 Apr 2005 20:25:52 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Make a local copy of the savegame filename passed in to load_command.
	This avoids some minor memory errors.

	Reported by Per Mathisen in PR#12731.  Patch by me.


Tue, 12 Apr 2005 19:21:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/audio.c
	   M /trunk/client/tilespec.c
	   M /trunk/server/gamehand.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Change the datafilelist function so it returns a 'char **' instead of a
	'const char **'.  This means the callers can actually free the strings
	when they're finished with them.  Some of the callers must use casts to
	convert the return value to a 'const char **' so the solution is still not
	perfect.

	Patch by me in PR#12744.


Tue, 12 Apr 2005 19:18:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/include/citydlg_g.h
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/packhand.c

	Remove the make_modal parameter of the popup_city_dialog function.  All
	city dialogs should be non-modal now.

	Patch by me in PR#12761.


Tue, 12 Apr 2005 19:13:49 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	Add an index value to the tech, building, nation, and unit_type structures.
	This allows code that has access only to a pointer to (easily) find the
	index of the source it's looking at.

	Patch by me in PR#12766.


Tue, 12 Apr 2005 18:59:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h

	Improve the text shown for the research goal.  Add a function to return
	this text to text.[ch].

	Patch by me in PR#12747.


Tue, 12 Apr 2005 07:44:36 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/commands.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Add better "/debug timing" command, and add "/debug info" for a quick overview
	of the total size of the savegame being tested.


Mon, 11 Apr 2005 15:42:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/common/capstr.c
	   M /trunk/common/effects.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/nation.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/doc/README.effects

	Add requirements for nations.  This allows modpacks to differentiate
	nations by adding effects for them.

	Patch by me in PR#12750.


Mon, 11 Apr 2005 15:11:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/nation.h

	Move nation sprite pointers into the tileset (and out of the
	nation structure).

	Patch by me in PR#12751.


Mon, 11 Apr 2005 10:35:02 -0700  per:

	Changed paths:
	   M /trunk/server/cityhand.c

	Make a LOG_ERROR into LOG_VERBOSE that was not usually an error to avoid
	confusing users.


Sun, 10 Apr 2005 16:55:25 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c

	PR#9817: default building specified in ruleset.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 10 Apr 2005 14:53:30 -0700  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Change citizen_base_mood() so that we no longer need to change the city state.
	Add new constant FOOD_COST which is how much food each citizen eats (used to
	be hardcoded to 2.) Part of PR#12734.


Sun, 10 Apr 2005 13:33:13 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#12034: Renamed Ok button on Network page to Connect.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Sun, 10 Apr 2005 12:52:05 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	PR#11396: Treaty doesn't always respect money transfer.

	Bug reported by Nathanael Nerode <neroden@fastmail.fm>, patch by me.


Sun, 10 Apr 2005 12:27:34 -0700  vasc:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/common/worklist.h

	PR#10011: Add more city dialog base worklist functions.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 10 Apr 2005 12:20:18 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#11342: GUI should know that we can't buy.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Sun, 10 Apr 2005 12:06:57 -0700  vasc:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/server/cityhand.c

	PR#11342: GUI should know that we can't buy.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 10 Apr 2005 11:56:32 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	#12762: Player dialog menu reorganization.

	Inverts the order of the items and changes the name of the "player"
	menu to the clearer "diplomacy".

	Patch by me.


Sun, 10 Apr 2005 10:33:47 -0700  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c

	Don't allow to cheat by going around diplcost, freecost and conquercost settings. Reported by Petri Pipatti in #12714


Sun, 10 Apr 2005 07:55:47 -0700  vasc:

	Changed paths:
	   M /trunk/client/tilespec.c

	PR#12754: Fix "show future targets" assert failure.

	Bug reported by Brendon Oram <yautja@paradise.net.nz>, patch by me.


Sat, 09 Apr 2005 20:31:23 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	This patch adds several UI fixes to the GTK+ 2.0 client. It moves the
	city and player report menus to the bottom, moves message options to the
	main tab area, plus some minor fixes.

	Patch by me as PR#12752.


Sat, 09 Apr 2005 20:17:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Remove several unnecessary side effects from tileset_read_toplevel.

	Patch by me in PR#12740.


Sat, 09 Apr 2005 18:59:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/unittype.h

	Move unittype sprite pointers into the tileset (and out of the
	unittype structure).

	Patch by me in PR#12741.


Sat, 09 Apr 2005 17:56:05 -0700  vasc:

	Changed paths:
	   M /trunk/common/capstr.c

	Bump up capstr.


Sat, 09 Apr 2005 17:50:37 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/game.c
	   M /trunk/data/default/effects.ruleset
	   M /trunk/doc/README.effects

	PR#12686: New effect slow_down_timeline.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>, which changes by me.


Thu, 07 Apr 2005 23:32:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/government.h

	Move government sprite pointers into the tileset (and out of the
	government structure).

	Patch by me in PR#12729.


Wed, 06 Apr 2005 21:36:02 -0700  bhudson:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	tile_get lacked a cheap assertion documented in the comments.

	Patch by me in PR#12737.


Wed, 06 Apr 2005 17:49:45 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/CodingStyle
	   M /trunk/doc/HACKING
	   M /trunk/utility/genlist.h
	   M /trunk/utility/speclist.h
	   M /trunk/utility/specvec.h

	Add explicit casts to void pointers in header files, to make them
	compatible with C++.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11283 with style
	changes and added docs by me.


Wed, 06 Apr 2005 16:50:06 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/HACKING

	Add documentation for C++ compatibility for header files.

	See PR#11213.


Wed, 06 Apr 2005 14:24:41 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Redraw the unit panel icons every time, instead of (buggily) trying to
	tell if something has changed.  This fixes some problems with the icons
	not being updated properly.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12080.  Patch by me.


Wed, 06 Apr 2005 10:36:15 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/improvement.h

	Move building sprites into the tileset structure (and out of the
	building structure).

	Patch by me in PR#12698.


Tue, 05 Apr 2005 13:40:47 -0700  per:

	Changed paths:
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	When rulesets are loaded, some checks are made on existing players to
	ensure that they are valid, and fix them if not. This assumes that
	all players are created prior to loading rulesets, which is not true
	for 'set aifill' created players. Fix the problem by moving the
	affected code later in the game boot process. See PR#12716.


Tue, 05 Apr 2005 13:36:10 -0700  per:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aiferry.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/server/unittools.c

	Make AI goto code use pf. Try to prevent AI from forming large and
	vulnerable stacks. New amphibious pf method that uses
	implicit beachheads. Patch by Benedict Adamson <badamson@spamcop.net>
	in PR#11995.


Tue, 05 Apr 2005 12:48:30 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Do not attempt to become a unit bodyguard when assigned to guard duty
	for a city.

	Do not yoyo between cities attempting to defend them all.
	look_for_charge() has the problem that it calculates current defense
	in each city in the world, but forgets to calculate in that once we
	leave the city we are currently in, that city might become the most
	needy! So instead we try harder to stay where we are.

	When military code can't find us work to do, actually do go home.
	Now using ai_military_defend().


Tue, 05 Apr 2005 02:24:29 -0700  per:

	Changed paths:
	   M /trunk/client/text.c

	Move "(Unit ID %d)" text in unit info box below city name. This fixes PR#12587,
	reported by Jason.


Mon, 04 Apr 2005 15:46:06 -0700  per:

	Changed paths:
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/history/units.ruleset

	Add hunter AI hints to the other rulesets.


Mon, 04 Apr 2005 14:45:49 -0700  per:

	Changed paths:
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aihunt.h
	   M /trunk/ai/aiunit.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/srv_main.c

	Partial rewrite of the hunter code. We now use pf for finding viability of
	targets, removing a whole class of problems with the previous method of guessing
	that we could reach the target but really could not. Adds the 'Hunter' AI hint
	unit role to indicate a unit useful for hunting to speed up the code. We also
	reevaluate our targets each turn, adding the feature of changing targets during
	missions if we find something closer that is more interesting. The changes
	balance each other out in terms of speed, which does not change noticably. See
	PR#12572 for more info.


Sun, 03 Apr 2005 17:37:00 -0700  bhudson:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Make the gtk2 city report use cityrepfield_compare rather than strcmp to
	sort.

	Patch by me in PR#12644.


Sun, 03 Apr 2005 13:19:52 -0700  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/government.c
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h

	PR#11571: Remove target_type from get_*_bonus.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 03 Apr 2005 04:34:59 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aisettler.h
	   M /trunk/client/gui-ftwl/gui_text.h
	   M /trunk/client/gui-gtk-2.0/cma_fe.h
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-sdl/cma_fe.h
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-xaw/dialogs.h
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/gui-xaw/wldlg.h
	   M /trunk/common/aicore/citymap.h
	   M /trunk/server/generator/mapgen_topology.h
	   M /trunk/server/generator/temperature_map.h
	   M /trunk/server/generator/utilities.h

	Replace struct declarations with an include of fc_types.h. This the
	preferred way now.

	Patch from me in PR#12629.


Sun, 03 Apr 2005 04:04:37 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c

	Add an include to make the FTWL compile agian.


Thu, 31 Mar 2005 21:06:18 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: compile fix.


Thu, 31 Mar 2005 16:42:27 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/unittools.c

	Fix a critical fog-of-war bug when a watchtower fortress is built or
	destroyed and there are allied units on the tile.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#12618 with
	style and comment changes by me.


Thu, 31 Mar 2005 16:05:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix bugs with refreshing of city dialogs after a unit's transported status
	changes.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12080.  Patch by
	Mateusz Stefek with changes by me.


Thu, 31 Mar 2005 10:32:10 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h

	Add PF support for amphibious (ferry+passenger) combo movement, along with
	a few other minor improvements.

	Patch by Benedict Adamson <badamson@spamcop.net> in PR#11995 with style
	and comment changes by me.


Thu, 31 Mar 2005 10:28:14 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix comment in send_unit_info_to_onlookers.

	Patch by Benedict Adamson <badamson@spamcop.net> as part of PR#11995.


Thu, 31 Mar 2005 09:59:51 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Backport: activate sentried units when their transporter is wiped from
	under them.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#1524.  Patch by me.


Thu, 31 Mar 2005 09:48:34 -0800  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c
	   M /trunk/server/stdinhand.c

	Don't aitoggle a player until all info is sent to the client.  This bug
	occurrs in /take or when connecting directly to a player in a running
	game; doing the aitoggle first triggers a player packet which the client
	cannot correctly handle, and because of delta no second packet may be
	sent.

	Reported by Marko Lindqvist in PR#11612.  Patch by Mike Kaufman and myself.


Thu, 31 Mar 2005 09:37:57 -0800  jdorje:

	Changed paths:
	   M /trunk/common/tech.c

	Fix a bug whereby update_tech assumes A_NONE is set to known, even though
	a comment says this isn't always true.

	Patch by me in PR11612.


Thu, 31 Mar 2005 09:29:42 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c

	Fix goto for units with unlimited fuel.

	Reported by Per Inge Mathisen in PR#12664.


Thu, 31 Mar 2005 09:28:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   A /trunk/client/overview_common.c
	   A /trunk/client/overview_common.h
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Move the common overview code into a new set of files overview_common.[ch].

	Patch by me in PR#12694.


Wed, 30 Mar 2005 15:06:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/tech.h

	Move tech sprite pointers into the tileset (and out of the tech structure).

	Patch by me in PR#12688.


Wed, 30 Mar 2005 14:01:16 -0800  jdorje:

	Changed paths:
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h

	Add support for world-ranged tech requirements.

	Patch by me as part of PR#12686.


Wed, 30 Mar 2005 12:03:08 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Fixed & updated ru.po


Wed, 30 Mar 2005 09:19:16 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add tileset parameters to the gui-position functions.

	Patch by me in PR#12685.


Wed, 30 Mar 2005 09:13:12 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Add the tileset name to the tileset struct.  Remove the current_tileset
	global variable.

	Patch by me in PR#12683.


Wed, 30 Mar 2005 08:54:20 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/utility/specvec.h

	Change tileset accessor functions to take a const tileset parameter.

	Patch by me in PR#12684.


Tue, 29 Mar 2005 20:46:18 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset

	Fix typo: "Mediaval" -> "Medieval".  Reported by Dmitriy Genzel.


Tue, 29 Mar 2005 14:17:03 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Tue, 29 Mar 2005 09:46:48 -0800  rfalke:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/packets.c

	Make the packet more robust. Instead of assuming by assert that the
	decompression is always successful we cut the connection if an errors
	occurs. Also a decompressed packet is at least 3 bytes long. If this
	condition is not true than the connection will also be closed.

	Reported by various people. Patch from me in PR#12692.


Tue, 29 Mar 2005 04:46:41 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c

	gui-xaw: Replace using of obsolete city_styles.techreq by call of
	city_style_has_requirements (PR#12691). Patch by me


Tue, 29 Mar 2005 04:28:27 -0800  per:

	Changed paths:
	   M /trunk/common/fc_types.h
	   M /trunk/common/nation.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/ruleset.c
	   M /trunk/utility/shared.h

	Move some freeciv-specific defines from shared.h to fc_types.h. Add
	init_units="" list to nation rulesets where you add specific units this
	nation should start the game with. See PR#12667


Tue, 29 Mar 2005 04:27:19 -0800  per:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/unittools.c

	Do no try to unleash barbarians if there are no barbarian units in the
	ruleset. Allow rulesets with no barbarians or hut units. From PR#12667.


Tue, 29 Mar 2005 04:26:01 -0800  per:

	Changed paths:
	   M /trunk/common/requirements.c

	Generate actually helpful error messages from gen req code. From
	PR#12667.


Tue, 29 Mar 2005 04:24:45 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Correctly handle rulesets with no F_HELP_WONDER units. From PR#12667.


Mon, 28 Mar 2005 15:25:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Make the load_sprite, unload_sprite, and sprite_exists functions static
	within tilespec.c.

	Patch by me in PR#12424.


Mon, 28 Mar 2005 09:19:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-stub/canvas.c
	   M /trunk/client/gui-stub/cityrep.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-stub/diplodlg.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-stub/helpdlg.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-stub/menu.c
	   M /trunk/client/gui-stub/pages.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-stub/sprite.c
	   M /trunk/client/include/pages_g.h

	Improve some client function comments, particularly for gui-stub.

	Patch by Raimar Falke in PR#12643.


Mon, 28 Mar 2005 09:14:58 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Add requirements for governments.  This allows a government type to depend
	on any possible requirement.  The AI however can only handle tech reqs.

	Patch by me in PR#12659.


Mon, 28 Mar 2005 09:05:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/messagewin_common.c

	Fix the message window so it doesn't try to remove leading "Game:"
	prefixes (since there aren't any such prefixes anymore).

	Reported by Mateusz Stefek in PR#12627.  Patch by me.


Mon, 28 Mar 2005 08:59:15 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-ftwl/canvas.c
	   M /trunk/client/gui-ftwl/chatline.c
	   M /trunk/client/gui-ftwl/graphics.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-ftwl/sprite.c
	   M /trunk/client/gui-ftwl/sprite.h
	   M /trunk/client/gui-gtk-2.0/canvas.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/sprite.c
	   M /trunk/client/gui-gtk-2.0/sprite.h
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/graphics.h
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapclass.h
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/canvas.c
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-stub/sprite.c
	   M /trunk/client/gui-win32/canvas.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/sprite.c
	   M /trunk/client/gui-win32/sprite.h
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/graphics.h
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/canvas_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/include/sprite_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/government.h
	   M /trunk/common/improvement.h
	   M /trunk/common/nation.h
	   M /trunk/common/tech.h
	   M /trunk/common/unittype.h
	   M /trunk/utility/ftwl/back_end.h
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/be_common_24.h
	   M /trunk/utility/ftwl/be_common_24_sprite.c
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/theme_engine.h
	   M /trunk/utility/ftwl/widget.h
	   M /trunk/utility/ftwl/widget_button.c
	   M /trunk/utility/ftwl/widget_core.c
	   M /trunk/utility/ftwl/widget_list.c
	   M /trunk/utility/ftwl/widget_p.h
	   M /trunk/utility/ftwl/widget_slider.c

	Rename "struct Sprite" as "struct sprite".

	Patch by automatic search-and-replace in PR#12645.


Mon, 28 Mar 2005 08:48:42 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/sprite.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Remove tileset dimension macros.  The users now use the dimension
	accessor functions directly.

	Patch by me in PR#12653.


Mon, 28 Mar 2005 08:42:35 -0800  jdorje:

	Changed paths:
	   D /trunk/client/gui-gtk

	Remove .cvsignore.


Mon, 28 Mar 2005 08:29:45 -0800  jdorje:

	Changed paths:
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Rerun packet generator.


Sun, 27 Mar 2005 09:29:25 -0800  matusik:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/tech.c
	   M /trunk/server/plrhand.c

	Send science handicap info to the client. Patch by me in #12661.


Sun, 27 Mar 2005 01:22:43 -0800  matusik:

	Changed paths:
	   M /trunk/client/control.c

	Don't try to create patrol route when there is an enemy unit on the destination tile. Reported by Eric F. Paul in #12637


Sun, 27 Mar 2005 01:17:16 -0800  matusik:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/data/default/nations.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Make ai select nations intelligently. Patch by me in #12647.


Sat, 26 Mar 2005 23:48:38 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/canvas.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/sprite.c
	   M /trunk/client/gui-win32/sprite.h

	gui-win32: Move all BITMAP related code to graphics.c, and do some general
	cleanup.

	Patch by me in PR#12628.


Sat, 26 Mar 2005 06:16:36 -0800  rfalke:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c

	Speed image_copy_full by copy a full line instead of seperate pixels.

	Patch by Jason in PR#12577 with changes from me.


Sat, 26 Mar 2005 06:00:12 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-win32/canvas.c
	   M /trunk/client/gui-win32/canvas.h
	   M /trunk/client/gui-win32/sprite.c
	   M /trunk/client/gui-win32/sprite.h
	   M /trunk/manual/civmanual.c

	Convert the files from DOS line-endings to the UNIX line-endings which
	are used by all files.

	Reported by me in PR#12632.


Sat, 26 Mar 2005 05:51:49 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/utility/ftwl/back_end.h
	   M /trunk/utility/ftwl/be_sdl.c
	   M /trunk/utility/ftwl/be_x11_ximage.c
	   M /trunk/utility/ftwl/widget.c
	   M /trunk/utility/ftwl/widget_p.h
	   M /trunk/utility/ftwl/widget_timeout.c

	Use the way in which the X11 backend handled events for the whole
	FTWL. Events are distinguished between blocking and non-blocking
	events. The fetch function for the non-blocking event will return
	immediately. The other one may block since it has to wait for a
	timeout, the server or the network.

	The main loop now looks like this:
	 forever {

	   execute non-idle timeouts

	   while get_non_blocking event() {
	     handle_event();
	   }

	   execute idle timeouts

	   update screen

	   get_blocking_event()
	   handle_event()
	}

	This order ensures that the user will always sees an up-to-date screen
	before the system goes into a waiting state. This was not the case for
	the SDL backend before.

	SDL problem reported by Per in PR#12634. Patch from me.


Sat, 26 Mar 2005 05:36:53 -0800  rfalke:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/common/city.c

	Replace code of the form
	  my_snprintf(buf + strlen(buf), x - strlen(buf),
	with
	  cat_snprintf(buf, x,

	Patch by me in PR#12663.


Sat, 26 Mar 2005 04:53:19 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/manual/civmanual.c
	   M /trunk/server/savegame.c
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/common_types.c

	Use freeciv specific functions if they are available. Use cat_snprintf
	if possible.

	Patch from me in PR#12635.


Sat, 26 Mar 2005 01:33:35 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Update


Fri, 25 Mar 2005 23:58:32 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c

	gui-win32: couple of fixes to get compiling again.


Fri, 25 Mar 2005 21:59:15 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Change city styles to use requirements (instead of a single tech_req).

	Patch by me in PR#12615.


Fri, 25 Mar 2005 16:11:16 -0800  jdorje:

	Changed paths:
	   D /trunk/client/gui-gtk/Makefile.am
	   D /trunk/client/gui-gtk/chatline.c
	   D /trunk/client/gui-gtk/chatline.h
	   D /trunk/client/gui-gtk/citydlg.c
	   D /trunk/client/gui-gtk/citydlg.h
	   D /trunk/client/gui-gtk/cityrep.c
	   D /trunk/client/gui-gtk/cityrep.h
	   D /trunk/client/gui-gtk/cma_fe.c
	   D /trunk/client/gui-gtk/cma_fe.h
	   D /trunk/client/gui-gtk/colors.c
	   D /trunk/client/gui-gtk/colors.h
	   D /trunk/client/gui-gtk/connectdlg.c
	   D /trunk/client/gui-gtk/connectdlg.h
	   D /trunk/client/gui-gtk/dialogs.c
	   D /trunk/client/gui-gtk/dialogs.h
	   D /trunk/client/gui-gtk/diplodlg.c
	   D /trunk/client/gui-gtk/diplodlg.h
	   D /trunk/client/gui-gtk/finddlg.c
	   D /trunk/client/gui-gtk/finddlg.h
	   D /trunk/client/gui-gtk/gamedlgs.c
	   D /trunk/client/gui-gtk/gotodlg.c
	   D /trunk/client/gui-gtk/gotodlg.h
	   D /trunk/client/gui-gtk/graphics.c
	   D /trunk/client/gui-gtk/graphics.h
	   D /trunk/client/gui-gtk/gtkpixcomm.c
	   D /trunk/client/gui-gtk/gtkpixcomm.h
	   D /trunk/client/gui-gtk/gui_main.c
	   D /trunk/client/gui-gtk/gui_main.h
	   D /trunk/client/gui-gtk/gui_stuff.c
	   D /trunk/client/gui-gtk/gui_stuff.h
	   D /trunk/client/gui-gtk/happiness.c
	   D /trunk/client/gui-gtk/happiness.h
	   D /trunk/client/gui-gtk/helpdlg.c
	   D /trunk/client/gui-gtk/helpdlg.h
	   D /trunk/client/gui-gtk/inputdlg.c
	   D /trunk/client/gui-gtk/inputdlg.h
	   D /trunk/client/gui-gtk/inteldlg.c
	   D /trunk/client/gui-gtk/inteldlg.h
	   D /trunk/client/gui-gtk/mapctrl.c
	   D /trunk/client/gui-gtk/mapctrl.h
	   D /trunk/client/gui-gtk/mapview.c
	   D /trunk/client/gui-gtk/mapview.h
	   D /trunk/client/gui-gtk/menu.c
	   D /trunk/client/gui-gtk/menu.h
	   D /trunk/client/gui-gtk/messagedlg.c
	   D /trunk/client/gui-gtk/messagedlg.h
	   D /trunk/client/gui-gtk/messagewin.c
	   D /trunk/client/gui-gtk/messagewin.h
	   D /trunk/client/gui-gtk/optiondlg.h
	   D /trunk/client/gui-gtk/pages.c
	   D /trunk/client/gui-gtk/pages.h
	   D /trunk/client/gui-gtk/plrdlg.c
	   D /trunk/client/gui-gtk/plrdlg.h
	   D /trunk/client/gui-gtk/ratesdlg.h
	   D /trunk/client/gui-gtk/rc2c
	   D /trunk/client/gui-gtk/repodlgs.c
	   D /trunk/client/gui-gtk/repodlgs.h
	   D /trunk/client/gui-gtk/resources.c
	   D /trunk/client/gui-gtk/resources.h
	   D /trunk/client/gui-gtk/spaceshipdlg.c
	   D /trunk/client/gui-gtk/spaceshipdlg.h
	   D /trunk/client/gui-gtk/wldlg.c
	   D /trunk/client/gui-gtk/wldlg.h
	   M /trunk/po/POTFILES.in

	Remove gui-gtk files.  See PR#12132.


Fri, 25 Mar 2005 16:10:02 -0800  jdorje:

	Changed paths:
	   M /trunk/data/Makefile.am
	   A /trunk/data/freeciv.rc

	Add back freeciv.rc: it is used by gui-sdl.


Fri, 25 Mar 2005 14:33:49 -0800  jdorje:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po

	Update pofiles after 'make dist'.


Fri, 25 Mar 2005 13:13:49 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   A /trunk/po/he.po
	   D /trunk/po/he_IL.po

	Rename he_IL.po as he.po.

	See PR#6152.


Fri, 25 Mar 2005 10:26:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/capstr.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/stdinhand.c

	Change the way the server tells the client about a loaded game.  Now
	instead of sending ruleset-specific info in a way so that the client
	doesn't need to know the ruleset, the server just sends the ruleset before
	sending the game-load info.

	Patch by me in PR#12605.


Fri, 25 Mar 2005 10:15:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.h
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/sprite.h

	Remove the SPRITE definition, replacing it with simply "struct Sprite".

	Patch by me in PR#12607.


Fri, 25 Mar 2005 10:03:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h

	Speed up the iteration in gui_rect_iterate in non-iso view.

	Patch by me in PR#12608.


Fri, 25 Mar 2005 10:03:17 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/assyrian.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/belgian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/bosnia.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/byzantium.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/columbian.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/elvish.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hobbits.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/indonesian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/malaysian.ruleset
	   M /trunk/data/nation/martian.ruleset
	   M /trunk/data/nation/mexican.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/nigerian.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/phoenician.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/quebecois.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/sumerian.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/taiwanese.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/venezuelan.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Add a possibility for nations to be in more than a one group. Patch by me in #9596


Fri, 25 Mar 2005 08:49:06 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Improve defender logging in AI; make AI build "DefendOk" role units if
	it has to, no more building Settlers as defenders.


Fri, 25 Mar 2005 07:26:54 -0800  rfalke:

	Changed paths:
	   M /trunk/utility/ftwl/common_types.c

	Correct a clipping function. Symtoms were described PR#12593.

	Reported by various. Patch by me.


Fri, 25 Mar 2005 06:44:09 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Partial update


Fri, 25 Mar 2005 05:20:24 -0800  rfalke:

	Changed paths:
	   M /trunk/tests/Makefile.am

	Create a tmp file to avoid using the same file as input and output to sed.

	Reported by Marko Lindqvist in PR#11594. Patch from me.


Fri, 25 Mar 2005 05:08:29 -0800  matusik:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/server/srv_main.c

	Call clean_players_research() inside game_free() instead of server_game_free(). Reported by Marko Lindqvist in PR#10838


Fri, 25 Mar 2005 03:31:36 -0800  per:

	Changed paths:
	   M /trunk/utility/ftwl/back_end.h

	Remove unimplemented function be_set_transparent() from back_end.h


Fri, 25 Mar 2005 03:25:09 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_text.h
	   M /trunk/server/commands.h
	   M /trunk/server/generator/startpos.h
	   M /trunk/server/settings.h
	   M /trunk/utility/ftwl/back_end.h
	   M /trunk/utility/ftwl/text_renderer.h

	Add 2 and rename some other header guards to follow the standard.

	Patch by me in PR#12633.


Fri, 25 Mar 2005 02:31:52 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/Makefile.am
	   A /trunk/client/gui-ftwl/canvas.c
	   A /trunk/client/gui-ftwl/canvas.h
	   M /trunk/client/gui-ftwl/graphics.c
	   M /trunk/client/gui-ftwl/gui_main.h
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-ftwl/mapview.h
	   A /trunk/client/gui-ftwl/sprite.c
	   A /trunk/client/gui-ftwl/sprite.h
	   M /trunk/client/include/canvas_g.h
	   M /trunk/client/include/sprite_g.h

	Move canvas and sprite specific function to the newly created
	files. Thus implementing the newly created canvas and sprite header
	files.

	Patch from me in PR#12622.


Fri, 25 Mar 2005 02:20:51 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aisettler.h
	   M /trunk/ai/aitech.h
	   M /trunk/client/gui-ftwl/gui_text.h
	   M /trunk/client/gui-gtk-2.0/messagewin.h
	   M /trunk/client/gui-gtk-2.0/pages.h
	   M /trunk/client/gui-xaw/inteldlg.h
	   M /trunk/client/helpdata.h
	   M /trunk/common/aicore/citymap.h
	   M /trunk/server/commands.h
	   M /trunk/server/generator/mapgen.h
	   M /trunk/server/generator/mapgen_topology.h
	   M /trunk/server/generator/temperature_map.h
	   M /trunk/server/generator/utilities.h
	   M /trunk/utility/ftwl/be_common_24.h
	   M /trunk/utility/ftwl/text_renderer.h
	   M /trunk/utility/ftwl/theme_engine.h

	Add includes and type declarations to make each header file
	self-contained.

	Patch from me in PR#12629.


Thu, 24 Mar 2005 13:39:33 -0800  jdorje:

	Changed paths:
	   M /trunk/common/combat.c

	Fix a bug where transporting an air unit would make sea units invulnerable
	to attack by other sea units.  The fix is that transported units are
	ignored when checking to see if a tile may be attacked.

	Reported by many in PR#9554.


Thu, 24 Mar 2005 12:55:51 -0800  rfalke:

	Changed paths:
	   M /trunk/utility/ftwl/text_renderer.c

	Don't bail out if a certain character isn't available in the font. It
	will be rendered as such. Usually a box.

	Reported by Per in PR#10064 and Jason in PR#12594.


Thu, 24 Mar 2005 09:48:49 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Remove random movement. You can now always move into a tile if you have
	any movement points (even a fraction) left. See PR#4387 for the long
	story.


Thu, 24 Mar 2005 08:48:57 -0800  jdorje:

	Changed paths:
	   M /trunk/server/userdb/lockfile.c

	Fix compilation when flock() is not available.

	Reported by Brett Albertson; see PR#12512.


Thu, 24 Mar 2005 08:45:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Add logging code to pixmap_put_sprite.

	Patch by me in PR#12590.


Thu, 24 Mar 2005 08:41:42 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/server/ruleset.c

	Remove the aqueduct_size value.  Implement a default maximum city size by
	adding a new effect.

	Patch by me in PR#12596.


Wed, 23 Mar 2005 14:27:10 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/Makefile.am
	   A /trunk/client/gui-win32/canvas.c
	   A /trunk/client/gui-win32/canvas.h
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/spaceshipdlg.c
	   A /trunk/client/gui-win32/sprite.c
	   A /trunk/client/gui-win32/sprite.h

	Add new files canvas.c and sprite.c for the canvas and sprite interfaces
	to the gui-win32 client.

	Patch by me in PR#12609.


Wed, 23 Mar 2005 12:27:08 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h
	   M /trunk/utility/shared.c

	Take 2: convert the thousands separator from the local to the internal
	encoding. This fixes some bugs in locales where the separator is not ASCII.

	Reported by many in PR#10265.  Fix by Mateusz Stefek and myself.


Wed, 23 Mar 2005 10:55:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	When sliding the mapview, calculate the position based on the estimated
	end time of the draw rather than the start time.

	Patch by me in PR#12583.


Wed, 23 Mar 2005 10:13:21 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   A /trunk/client/gui-gtk-2.0/canvas.c
	   A /trunk/client/gui-gtk-2.0/canvas.h
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.h
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   A /trunk/client/gui-gtk-2.0/sprite.c
	   A /trunk/client/gui-gtk-2.0/sprite.h
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Add new files canvas.c and sprite.c for the canvas and sprite interfaces
	to the gui-gtk-2.0 client.

	Patch by me in PR#12557.


Wed, 23 Mar 2005 09:56:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/Makefile.am
	   A /trunk/client/gui-stub/canvas.c
	   A /trunk/client/gui-stub/canvas.h
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-stub/mapview.c
	   A /trunk/client/gui-stub/sprite.c
	   A /trunk/client/gui-stub/sprite.h
	   M /trunk/client/include/Makefile.am
	   A /trunk/client/include/canvas_g.h
	   M /trunk/client/include/graphics_g.h
	   M /trunk/client/include/mapview_g.h
	   A /trunk/client/include/sprite_g.h
	   M /trunk/client/mapview_common.h

	Separate the canvas and sprite interfaces out from the mapview and
	graphics code.  This only changes the interface and gui-stub client.

	Patch by me in PR#12557.


Wed, 23 Mar 2005 09:49:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/control.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Move the named_sprite structure inside the tileset structure.

	Patch by me in PR#12574.


Tue, 22 Mar 2005 21:51:07 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c

	Revert PR#10265 commit.


Tue, 22 Mar 2005 21:37:05 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c

	Convert the thousands separator from the local to the internal encoding.
	This fixes some bugs in locales where the separator is not ASCII.

	Reported by many in PR#10265.  Fix by Mateusz Stefek and myself.


Tue, 22 Mar 2005 19:42:06 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	gui-win32: give up our time slice if we're idle.


Tue, 22 Mar 2005 19:37:09 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c

	gui-win32: colored mouse cursor support.

	Patch by me in PR#12524.


Tue, 22 Mar 2005 19:16:00 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: Better AlphaBlend detection, and software alpha blending support.

	Patch by me in PR#12582.


Tue, 22 Mar 2005 18:09:23 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c

	Update capstring after requirements change (PR#12154, erronously referred
	to as PR#12557).


Tue, 22 Mar 2005 18:07:45 -0800  jdorje:

	Changed paths:
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/effects.ruleset
	   M /trunk/doc/README.effects

	Add an "adjacent" range for requirements.

	Patch by me in PR#12557.


Tue, 22 Mar 2005 15:29:22 -0800  cazfi:

	Changed paths:
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/server/unittools.c

	Remove last couple of "Game:" prefixes from messages.

	Patch from #12595

	Originally requested by Sini Ruohomaa <sini.ruohomaa@iki.fi>


Tue, 22 Mar 2005 13:40:54 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/graphics.c
	   M /trunk/utility/ftwl/back_end.h
	   M /trunk/utility/ftwl/be_common_24.c

	Support the mask parameter for crop_sprite(). Required to draw the
	isometric view correctly.


Tue, 22 Mar 2005 13:26:35 -0800  rfalke:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c

	Add more clipping to line drawing. Add clipping to text drawing.


Tue, 22 Mar 2005 13:23:33 -0800  rfalke:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c

	Restore the ability to write images to file. Was broken for unknown
	reasons by a previous commit.


Tue, 22 Mar 2005 13:21:23 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/graphics.c

	Enable the isometric view for the FTWL client.


Tue, 22 Mar 2005 12:18:52 -0800  cazfi:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Remove errorlog from non-error situation.


Tue, 22 Mar 2005 12:04:42 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-ftwl/connectdlg.c
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-ftwl/pages.c
	   M /trunk/configure.ac
	   M /trunk/utility/ftwl/be_common_24.c

	List of changes:
	- re-enable ftwl in configure.ac
	- add some new functions with almost empty body
	- rename tile_list to tile_list2 since there is a new tile_list in
	  the common code
	- disable the city description functions because there are now drawn
	  in the common code
	- add new text functions for the canvas
	- optimize the blitting function. The previous version couldn't
	  really be fast.
	- add an option to measure blitting speed by cycles

	Problems:
	- city descriptions are not drawn correctly
	- the feature of city size depending city names is not supported by
	  the common code
	- graphic artifacts in the mapview (*points* to common code)

	Patch by me in PR#12591.


Mon, 21 Mar 2005 20:13:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h

	Remove the "section" field of the "item" structure.  Add a function to
	generate the section value as needed.

	Patch by me in PR#12558.


Mon, 21 Mar 2005 20:06:47 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/README.rulesets

	Add documentation of (current) restrictions on what unit flags may only
	be used with certain unit movement types.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#12565.


Mon, 21 Mar 2005 20:03:35 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c
	   M /trunk/server/savegame.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Add a "save reason" to the savegame.  This stores (mostly for debugging)
	the in-game trigger that caused the save.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#12544.


Mon, 21 Mar 2005 19:42:30 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Remove unused effects data from buildings.ruleset.

	Patch by me in PR#12586.


Mon, 21 Mar 2005 15:14:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-stub/pages.c

	Fix compilation of gui-stub.

	Patch by me in PR#12580.


Mon, 21 Mar 2005 15:01:12 -0800  cazfi:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/server/console.c
	   M /trunk/utility/log.c
	   M /trunk/utility/log.h

	 #10234: freelog() both writes to file and calls callback
	if they both are set.


Mon, 21 Mar 2005 14:43:43 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Mon, 21 Mar 2005 09:38:33 -0800  jdorje:

	Changed paths:
	   M /trunk/common/generate_packets.py

	Pass NULL as the parameter for the post-send on an empty packet.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#12566.


Mon, 21 Mar 2005 09:34:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Fix compilation when SHOW_TIME_STATS is enabled.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#12564.


Mon, 21 Mar 2005 09:30:28 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c

	Don't allow the < > characters in usernames.

	Patch by Mike Kaufman in PR#12307.


Mon, 21 Mar 2005 09:22:53 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Restructure some parts of the sniff_packets functions.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#12563 with style
	changes by me.


Mon, 21 Mar 2005 08:37:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add a tileset parameter to accessor functions in tilespec.h.

	Patch by me in PR#12553.


Mon, 21 Mar 2005 06:10:53 -0800  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c

	Improve TIMING_LOG a bit.


Mon, 21 Mar 2005 05:38:11 -0800  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/ailog.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/server/srv_main.c

	Fix two copy&paste mistakes in the movemap code. Add timing log of
	movemap.


Mon, 21 Mar 2005 05:05:21 -0800  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/unittools.c

	Moved watchtower options from server options to terrain ruleset. Removed
	the 'wtowervision' option. Set default 'wtowerevision' to 2. This
	increases the vision range of any ground unit in a fortress by 2.
	Simplified the code, and increased max 'wtowerevision' from 2 to 4. See
	PR#12490.


Mon, 21 Mar 2005 04:55:07 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/common/government.h
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/ruleset.c

	Add AI hints to governments so that AI will not have to evaluate
	Despotism when Monarchy can be used, and not evaluate Monarchy
	when Communism is available. This addresses in part PR#12315 (AI
	slowness), reported by Christian Knoke.


Mon, 21 Mar 2005 04:28:00 -0800  per:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/settlers.c

	Clean up the iteration of unit management in the AI. Basically, where we
	used to iterate over all units twice, we now do it just once.

	We no longer manage passengers in ferries. Instead, ferries hand over
	management to its chosen passenger (each ferry has a "boss" that says
	where it should go). When we arrive, the ferry manages each passenger,
	to allow them to disembark.

	We also try very hard to avoid managing a unit twice by doing it once by
	ferry/other and once by ai_manage_units(), by setting punit->ai.done
	when it has successfully been managed once.

	Parts of the AI unit defense of cities code has been cleaned up
	significantly as well.

	We now fortify our defenders, and sentry units that are not designated
	as defenders, but are in a city anyway, such as units waiting for a
	ferry. This makes it easier to debug the AI by looking at what units are
	doing. (Fortifying units in cities does nothing. They get the defense
	bonus anyway.)

	The AIUNIT_PILLAGE, AIUNIT_RUNAWAY and AIUNIT_FORTIFY roles have been
	removed, since they were not/no longer used.


Mon, 21 Mar 2005 04:21:28 -0800  per:

	Changed paths:
	   M /trunk/server/diplomats.c

	Remove duplicated diplomat message. Reported by Brendon
	<yautja@paradise.net.nz> in PR#12556.


Sun, 20 Mar 2005 04:56:20 -0800  per:

	Changed paths:
	   M /trunk/ai/aiexplorer.c

	AI should not explore with gameloss units.


Sun, 20 Mar 2005 03:26:08 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Fix bug in AI role logging: activity != role!


Sun, 20 Mar 2005 03:02:32 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h

	Add better logging of AI role changes.


Sun, 20 Mar 2005 01:08:48 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h
	   M /trunk/server/commands.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Add new AI debug command: /debug timing. This gives you a rundown of
	where the AI is spending its CPU cycles. See PR#12547.


Sat, 19 Mar 2005 20:17:54 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: fix some bugs in bitmap cache and canvas functions.

	Patch by me in PR#12525.


Sat, 19 Mar 2005 16:06:46 -0800  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Save AI unit information related to ferries and bodyguards. PR#12548.


Sat, 19 Mar 2005 15:45:34 -0800  per:

	Changed paths:
	   M /trunk/ai/aihunt.c

	AI: Do not hunt for land units in ferries with other land units.


Sat, 19 Mar 2005 15:17:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c

	Remove references to the named_sprites structure.  This allows gui-xaw to
	compile.

	Patch by me in PR#12551.


Sat, 19 Mar 2005 15:04:35 -0800  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/data/Makefile.am
	   D /trunk/data/freeciv.rc
	   D /trunk/m4/gtk-client.m4
	   D /trunk/m4/gtk.m4

	Remove all bootstrap support for the "old" GTK client.

	See PR#12132.


Sat, 19 Mar 2005 15:03:32 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/inteldlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-win32/spaceshipdlg.c

	gui-win32: Use sprite accessor functions.

	Requested by Jason.  Patch by me in PR#12520.


Sat, 19 Mar 2005 15:00:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Move the named_sprite structure, and other interface data, out of the
	interface and into tilespec.c.

	Patch by me in PR#12536.


Sat, 19 Mar 2005 14:53:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Refactor the active-unit animation so it doesn't access the named_sprites
	array.

	Patch by me in PR#12535.


Sat, 19 Mar 2005 14:41:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c

	Allow gui-xaw to compile again.

	See PR#12529.


Sat, 19 Mar 2005 13:58:18 -0800  cazfi:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/common/movement.c
	   M /trunk/common/movement.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/sanitycheck.c

	 This introduces can_unit_transport() and can_unit_type_transport() which
	hide ugliness of checking if unit(type) can transport other. Some places
	are changed to use them. All is_air_units_transport() callers are
	gone so it's removed.

	From #11338


Sat, 19 Mar 2005 07:34:18 -0800  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/server/srv_main.c

	Add AI movemap. This is a map of which units can reach a given tile
	within one or two turns. Patch by me and Benedict Adamson in PR#9610.


Sat, 19 Mar 2005 06:41:44 -0800  per:

	Changed paths:
	   M /trunk/client/text.c

	In --enable-debug=yes games, add the unit ID of the relevant unit to the
	map sidebar and the city dialog unit tooltip. This is enormously helpful
	when using the /debug server command.


Fri, 18 Mar 2005 11:20:56 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Draw the focus unit in a separate, higher drawing layer.

	Patch by me in PR#12528.


Fri, 18 Mar 2005 05:59:46 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c

	Fix the AI tax code so that it does not fluctuate between max science
	and max gold all the time. Bug reported by Mateusz. PR#12451.


Fri, 18 Mar 2005 04:46:32 -0800  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/ruleset.c

	Remove some unused AI government hints.


Fri, 18 Mar 2005 04:41:38 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c

	Remove unnecessary generic_city_refresh() from AI govt code. From
	PR#12315. This should speed up AI a bit for very large civilizations.


Fri, 18 Mar 2005 03:26:25 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/inteldlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	Cleanup of team research code. Patch by Mateusz in PR#12508.


Thu, 17 Mar 2005 16:38:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Allow the tileset to specify the Y offset of the citybar text.  Add some
	suitable defaults for the different tilesets.

	Patch by me in PR#12521.


Thu, 17 Mar 2005 16:04:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add accessor functions for the nuke explosion sprite and for the
	number of citymap overlay colors.

	Patch by me in PR#12518.


Thu, 17 Mar 2005 10:32:42 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add an accessor function for the spaceship sprites.

	Patch by me in PR#12442.


Wed, 16 Mar 2005 11:37:49 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/map.c

	Cast typed pointers to void* values when passing them to freelog (for a
	%p argument).  This is "required" by strict C99.

	Patch by me in PR#12511.


Wed, 16 Mar 2005 11:34:08 -0800  jdorje:

	Changed paths:
	   M /trunk/server/userdb/lockfile.c

	Improve the preprocessor check for file locking conditions.

	Patch by me in PR#12512.


Wed, 16 Mar 2005 11:30:39 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/Makefile.am
	   D /trunk/client/include/cityicon.ico
	   D /trunk/client/include/freeciv.ico
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/cityicon.png
	   A /trunk/data/misc/civicon.png
	   A /trunk/data/misc/icons.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Move the client window-manager icons into the tileset.

	Patch by me in PR#12513.


Tue, 15 Mar 2005 21:28:41 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/mapview.c

	Fix some runtime problems in gui-xaw: with loading of cursors and with
	drawing of text.  The cursor loading is still wrong but at least now it
	will run.

	Patch by me in PR#12523.


Tue, 15 Mar 2005 21:26:59 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Commit the remaining part of PR#12519.


Tue, 15 Mar 2005 20:40:32 -0800  jcanete:

	Changed paths:
	   M /trunk/server/sernet.c

	Add a configure check for socklen_t.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net> in PR#12519.


Tue, 15 Mar 2005 08:11:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix a bug where the turn-done button state may not be set correctly at
	the start of a new phase.

	Reported by Benoit Hudson <bh@techhouse.brown.edu> and others in PR#12377.


Tue, 15 Mar 2005 08:08:24 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Fix a bug when refreshing cities with trade routes for the first time
	when a savegame is loaded.

	Reported by "Bert Bert" <xbertje@hotmail.com> in PR#12498.


Tue, 15 Mar 2005 08:04:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add accessor functions for the unit unhappiness and upkeep overlay sprites.

	Patch by me in PR#12501.


Mon, 14 Mar 2005 20:05:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Turn off all citymap overlays at the start of a new turn.

	See PR#12379.


Mon, 14 Mar 2005 13:37:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c

	Avoid a client crash when setting timeout for the first time.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#12499.


Mon, 14 Mar 2005 13:34:27 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Use the correct type for the socket length parameter to accept.

	Patch by me in PR#12481.


Mon, 14 Mar 2005 12:26:27 -0800  cazfi:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/helpdata.c
	   M /trunk/common/Makefile.am
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/map.c
	   A /trunk/common/movement.c
	   A /trunk/common/movement.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/airgoto.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Move movetype specific functions from unit.c and unittype.c to
	new file movement.c

	Patch by me and Jason in #11336.


Sun, 13 Mar 2005 22:21:18 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Avoid a server crash when receiving an illegal diplomat packet.

	Patch by me in PR#12505.


Sun, 13 Mar 2005 21:58:18 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Don't let the client cheat when changing a unit's homecity.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#12497 with
	changes by me.


Sun, 13 Mar 2005 17:35:02 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/colors.c
	   M /trunk/client/gui-win32/colors.h
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/gui_main.h
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: implement set_city_names_font_sizes(), get_text_size(), and
	canvas_put_text().

	Patch by me in PR#12503.


Sun, 13 Mar 2005 09:59:40 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset

	Add a "leader" unit to the default and history rulesets.

	Patch by Per Inge Mathisen <per@freeciv.org> in PR#12491 (history ruleset
	changes by me).


Sun, 13 Mar 2005 09:55:15 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/utility/support.c

	Add a missing #include <strings.h>.

	Patch by me in PR#12480.


Sun, 13 Mar 2005 09:53:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c

	Move the drawing of citymap overlays from mapview_common into the tilespec
	code.

	Patch by me in PR#12489.


Sun, 13 Mar 2005 09:50:54 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/common/terrain.h

	Move the declaration of the tile_type struct into terrain.h, so that it's
	declared before it's used.

	Patch by me in PR#12482.


Sun, 13 Mar 2005 09:11:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Fix gui-xaw compile problems with the new text-drawing code.

	Patch by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#12493.


Sat, 12 Mar 2005 06:00:13 -0800  hogne:

	Changed paths:
	   M /trunk/data/trident/units.spec

	Added leader unit


Sat, 12 Mar 2005 05:41:00 -0800  hogne:

	Changed paths:
	   M /trunk/data/trident/units.png

	Added king unit made by paul


Fri, 11 Mar 2005 14:40:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Avoid a naming conflict with a global variable 'cursors' in GTK 2.6.

	Reported by Mike Jing <miky40@hotmail.com> in PR#12459.


Fri, 11 Mar 2005 09:11:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/climap.c
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/gui-ftwl/graphics.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change the tileset query functions so that they take a tileset parameter,
	rather than acting on the global tileset.

	Patch by me in PR#12471.


Thu, 10 Mar 2005 23:46:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move the show_city_desc function into mapview_common.  Two new GUI
	functions, get_text_size and canvas_put_text, are added.  Another GUI
	function prepare_show_city_descriptions is also removed.

	Patch by me in PR#12470.


Thu, 10 Mar 2005 23:36:02 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Merge conflicts in the PR#12469 and PR#12468 commits.


Thu, 10 Mar 2005 23:31:10 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c

	Draw city tile output as part of the tilespec code, rather than as a
	separate overlay.

	Patch by me in PR#12469.


Thu, 10 Mar 2005 23:21:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Remove the style field from the drawn_sprite struct, as it is unnecessary.

	Patch by me in PR#12468.


Thu, 10 Mar 2005 21:57:44 -0800  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Use mystrcasecmp instead of strcasecmp.

	Patch by me in PR#12479.


Thu, 10 Mar 2005 21:06:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/common/aicore/pf_tools.c

	Allow client-side air/helicoptor goto.

	Patch by Gregory Berkolaiko and myself in PR#4684.


Thu, 10 Mar 2005 16:30:34 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Fix a bug where air units couldn't be sentried on airbases.

	Reported by Franz Mach <franzmach@yahoo.de> in PR#12435.


Thu, 10 Mar 2005 12:39:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Fix a memory leak in the CM code.

	Reported by Per; patch by Benoit Hudson <bh@techhouse.brown.edu> in
	PR#12443.


Thu, 10 Mar 2005 12:08:24 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix two AI diplomacy bugs:
	 - Accept a ceasefire also if our alliance leader has peace with the
	victim, not just if alliance leader also has ceasefire with him.
	 - Make AI evaluate breaking of ceasefire as worse than neutral, as it
	should be.


Thu, 10 Mar 2005 12:05:23 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/server/citytools.c

	Make ai wonder city variable a city id rather than a city pointer
	(safer), as requested by Jason in PR#12434.


Thu, 10 Mar 2005 12:01:37 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Allow AIs to receive techs as gifts in tech cost style > 0.


Thu, 10 Mar 2005 11:56:45 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Ensure that the AI never sells its last cities. Patch by Mateusz in
	PR10997. Also fixes PR#12287.


Thu, 10 Mar 2005 11:46:06 -0800  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c

	Make AI leech tech from other players if it has a working Great Library
	and other players have tech it does not. Patch by Mateusz in PR#12453.


Thu, 10 Mar 2005 11:31:16 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c

	Remove timer from AI tax code. It was leaking memory, and generally
	useless. Fixes PR#12455, reported by Jason.


Wed, 09 Mar 2005 13:43:13 -0800  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix problems with observers and the calculation of minplayers/maxplayers
	during pregame.

	See PR#12017.


Wed, 09 Mar 2005 12:43:48 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Add remove button (arrow) to the worklist editor. See #12352


Wed, 09 Mar 2005 10:49:06 -0800  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/spaceship.c
	   M /trunk/common/spaceship.h

	Make some struct parameters const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#12463.


Wed, 09 Mar 2005 10:37:52 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/common/effects.c
	   M /trunk/m4/c99.m4

	Change c99 initializers to only use the recursive/nested form.  This allows
	compilation with gcc-2.95.

	Patch by me in PR#12458.


Wed, 09 Mar 2005 10:12:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/misc/colors.png
	   M /trunk/data/misc/colors.spec

	Remove the DRAWN_BG option of the drawn_sprite.  Backgrounds are now drawn
	as a sprite assembled at load-time by the tilespec code.

	Patch by me in PR#12456.


Tue, 08 Mar 2005 13:13:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.h

	Name the anonymous edge_type enumeration.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#12450.


Tue, 08 Mar 2005 10:54:45 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c

	Disable the custom thousands' separator in windows, because many windows
	systems seem to have a buggy locale.

	Reported by many in PR#10265.  Patch by Mateusz Stefek.


Tue, 08 Mar 2005 02:03:47 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: add support for tileset cursors.

	Patch by me in PR#12429.


Mon, 07 Mar 2005 21:46:44 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Move a variable declaration to the start of the block of scope.

	Patch by me in PR#12457.


Mon, 07 Mar 2005 20:54:51 -0800  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c
	   M /trunk/server/sernet.c

	Make sure the phase_timer is valid before trying to read its time.

	Patch by me in PR#12444.


Mon, 07 Mar 2005 16:43:26 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Improve the waste calculations so that waste of an output type that has
	a bonus percentage will be calculated correctly.

	Reported by Per Mathisen in PR#9963.  Patch by me.


Mon, 07 Mar 2005 15:07:22 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Make some city refresh code more modular, so it can be used outside of
	generic_city_refresh.

	Patch by Per Mathisen in PR#12437 with changes by me.


Mon, 07 Mar 2005 14:53:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Draw the goto length sprites as part of the tilespec code (rather than
	directly within mapview_common).

	Patch by me in PR#12441.


Mon, 07 Mar 2005 14:50:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add an accessor for reading indicator icon sprites.  The sprite values
	are no longer accessed directly from the named_sprites array.

	Patch by me in PR#12440.


Mon, 07 Mar 2005 14:26:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/include/helpdlg_g.h

	Fix a bug when choosing "Citizen Management" from the help menu.

	Report and patch by Matz <matzjosh-freeciv@schokokeks.org> in PR#12347.


Mon, 07 Mar 2005 05:30:17 -0800  jpel:

	Changed paths:
	   M /trunk/po/nl.po

	fix


Mon, 07 Mar 2005 04:53:18 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	partial update


Sun, 06 Mar 2005 15:57:06 -0800  jpel:

	Changed paths:
	   M /trunk/po/nl.po

	updated


Sun, 06 Mar 2005 10:37:28 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix a bug with premature abortion of goto routes.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#10719.


Sun, 06 Mar 2005 09:35:36 -0800  per:

	Changed paths:
	   M /trunk/common/game.h

	Allow timeout -1 to be set in NDEBUG mode. This was already changed in
	stdinhand.c, but not in common/game.h, which sets the max/min limits.


Sun, 06 Mar 2005 09:27:45 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/utility/distribute.c

	Fix compile warnings under 'no' debug mode: Some variables were only
	used in 'some' and 'all' debug modes.


Sun, 06 Mar 2005 09:14:41 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix two memory leaks in AI wonder code. Reported by several.


Sun, 06 Mar 2005 08:24:26 -0800  per:

	Changed paths:
	   M /trunk/server/gamehand.c
	   M /trunk/server/sernet.c

	Restore autogame functionality. Bug reported by me in PR#12439, patch by
	Jason.


Sun, 06 Mar 2005 04:10:37 -0800  matusik:

	Changed paths:
	   M /trunk/common/player.c

	Fix a bug in are_diplstates_equal where contact turns updates weren't sent to client. See #12373.


Sat, 05 Mar 2005 15:51:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Turn the tileset top-level data into a structure.  Pass this struct into
	the tilespec interface functions.

	Patch by me in PR#12425.


Sat, 05 Mar 2005 15:43:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add an accessor for the sprites.user.attention value.  Use this accessor
	instead of reading the value directly.

	Patch by me in PR#12428.


Sat, 05 Mar 2005 05:48:25 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c

	Since CM queries change city state if taxes are different, we have to
	refresh cities when we have queried them in the AI tax code.
	Otherwise the AI will look at cities with too high lux settings and
	ignore disorder. See PR#12422 for more info. Patch and original bug
	report by Jason, with some changes by me.


Sat, 05 Mar 2005 05:37:04 -0800  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/server/citytools.c

	*** empty log message ***


Fri, 04 Mar 2005 18:23:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Remove code for automated boundary drawing.  Tilesets must now include
	boundary sprites.

	Patch by me in PR#12404.


Fri, 04 Mar 2005 16:06:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c

	Fix timeout calculations so they are as accurate as the timer code allows
	(previously they were only accurate to the nearest second).

	Patch by me in PR#12418.


Fri, 04 Mar 2005 10:48:08 -0800  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamehand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/unittools.c

	Add a new server setting timeaddenemymove.  If this value is positive and
	a unit moves in sight of an enemy player, the timeout remaining in the
	phase is increased to be at least timeaddenemymove seconds.

	Patch by Thomas Strub <ue80@stud.uni-karlsruhe.de> with changes by me in
	PR#3565.


Fri, 04 Mar 2005 09:42:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move spaceship drawing functions into mapview_common.

	Patch by me in PR#12406.


Thu, 03 Mar 2005 15:11:55 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix bug where we would create a pf map from a non-existent city in the
	new wonder code. Reported by Jason in PR#12402.


Thu, 03 Mar 2005 11:59:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	When handling a combat_info packet, update the unit's veteran field based
	on the make_unit_veteran packet field, and refresh the mapview.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12081.


Thu, 03 Mar 2005 09:18:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/graphics.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Encapsulate the main_intro_filename and minimap_intro_filename inside
	tilespec.c, and use accessors to read them.

	Patch by me in PR#12401.


Wed, 02 Mar 2005 19:47:32 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/graphics.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/Makefile.am
	   D /trunk/client/include/drop_cursor.xbm
	   D /trunk/client/include/drop_cursor_mask.xbm
	   D /trunk/client/include/goto_cursor.xbm
	   D /trunk/client/include/goto_cursor_mask.xbm
	   D /trunk/client/include/nuke_cursor.xbm
	   D /trunk/client/include/nuke_cursor_mask.xbm
	   D /trunk/client/include/patrol_cursor.xbm
	   D /trunk/client/include/patrol_cursor_mask.xbm
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/cursors.png
	   A /trunk/data/misc/cursors.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Add the cursors to the tileset.  The cursor XBM files and custom loading
	code is removed.  In its place the cursors are included as sprites within
	the tileset and the GUI code assembles the cursors after the tileset is
	loaded.

	Patch by me in PR#12391.


Wed, 02 Mar 2005 11:17:51 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/server/unittools.c

	Don't have helicoptors crash on dangerous terrain.

	Reported by Andrew Archibald <andrew.archibald@sympatico.ca> in PR#12389.


Wed, 02 Mar 2005 11:02:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/plrdlg.c

	Fix miscellaneous compile problems in the GTK client.

	Patch by David Stewart <dmstewart@gmail.com> in PR#12395.


Wed, 02 Mar 2005 11:00:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Encapsulate the fogstyle value inside tilespec.c.  The one other user of
	this value is removed.

	Patch by me in PR#12392.


Wed, 02 Mar 2005 10:53:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change unit explosion graphics into a sprite_vector.  The
	num_tiles_explode_unit value is removed.  An accessor function is added to
	get the sprite vector.

	Patch by me in PR#12386.


Wed, 02 Mar 2005 10:41:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Encapsulate NORMAL_TILE_WIDTH and the related variables by making them
	static in tilespec.c and adding accessor functions.  Macro definitions
	are used to avoid renaming everywhere.

	Patch by me in PR#12385.


Wed, 02 Mar 2005 10:23:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex/terrain1.spec
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident/terrain1.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/overlays.png
	   A /trunk/data/misc/overlays.spec
	   M /trunk/data/trident/tiles.png
	   M /trunk/data/trident/tiles.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Draw the citymap overlays using tileset sprites.  These new sprites are
	added in the misc directory.  The put_city_worker function is removed.

	Patch by me in PR#12384.


Wed, 02 Mar 2005 02:45:26 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Remove some 'Game:' from the AI code (of all things).


Wed, 02 Mar 2005 02:43:57 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c

	Changes to AI wonder building (PR#12262):
	- designates one city as a 'wonder city', depending on location and
	production
	- only this city will build wonders; it will try not build much else
	- wonder city may change, but rarely
	- mostly rewrites help_wonder caravan code, now faster and leaner
	- adding modifier for losing shields; this means however that looking at
	building want for cities that are already building something will no
	longer be as easy, as you must keep this in mind
	- simplified ai_advisor_choose_building()


Wed, 02 Mar 2005 02:38:44 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Change the AI building wants a bit, so that unhappy buildings are
	emphasised more, especially with empires that have high unhappy ratings,
	and military wonders like Sun Tzu are emphasised less. See PR#12263.


Wed, 02 Mar 2005 02:35:05 -0800  per:

	Changed paths:
	   M /trunk/data/default/governments.ruleset

	Remove helptext data that is now produced by the client. Also needs to
	be done for the other rulesets.


Tue, 01 Mar 2005 14:40:28 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ1/effects.ruleset
	   M /trunk/data/civ2/effects.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/default/effects.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/data/history/effects.ruleset

	Fix the behavior of Pyramids and Granary.  The new behavior in the default
	ruleset gives Pyramids a 25% bonus but makes it cumulative with Granary.

	See PR#12148.


Tue, 01 Mar 2005 13:50:14 -0800  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix a bug where minimum surpluses are erronously dropped in
	auto_arrange_workers.

	Reported by Hogne Haskjold <haskjold@idi.ntnu.no> in PR#12301.


Tue, 01 Mar 2005 13:46:47 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c

	Fix solid_unit_background_color in isometric view.

	Reported by Matz <matzjosh-freeciv@schokokeks.org> in PR#12350.


Tue, 01 Mar 2005 12:55:02 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	All messages translated for ru.po


Tue, 01 Mar 2005 02:49:36 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/plrdlg.c

	Couple of minor fixes to get gui-win32 compiling again.


Mon, 28 Feb 2005 12:24:39 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex/Makefile.am
	   A /trunk/data/isophex/grid.png
	   A /trunk/data/isophex/grid.spec
	   M /trunk/data/isophex.tilespec

	Implement vertical/horizontal edge sprites for hexagonal tilesets.  Add
	support for vertical/horizontal grid sprites.  Add grid sprites to the
	isophex tileset.

	Patch by me in PR#12374.


Sun, 27 Feb 2005 20:16:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add four new accessors for named sprites.  Use these accessors throughout
	the code rather than accessing those named sprites directly.

	Patch by me in PR#12370.


Sun, 27 Feb 2005 20:01:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/climap.c
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Encapsulate the is_isometric, hex_width, and hex_height fields within
	tilespec.c.  These values may be queried using accessor functions in
	tilespec.h.

	Patch by me in PR#12369.


Sun, 27 Feb 2005 19:04:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h

	Fix an integer round bug that broke all non-iso tilesets that had odd
	dimension as well as iso/hex tilesets with dimensions that weren't
	multiples of four.

	Patch by me in PR#12362.


Sun, 27 Feb 2005 09:56:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Check for names sprites that are specified to be outside of the borders
	of the graphics file.  Report an error when this happens.

	Patch by me in PR#12360.


Sun, 27 Feb 2005 00:41:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/grid.png
	   M /trunk/data/isotrident/grid.spec
	   M /trunk/data/trident/grid.png
	   M /trunk/data/trident/grid.spec

	Add a sprite for the "red frame tile" used in the citydlg for unavailable
	tiles.  Draw this sprite from the tilespec code in the city dialog.

	Patch by me in PR#12354.


Sat, 26 Feb 2005 23:42:21 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Add support for hexagonal tilesets to gui_to_map_pos.

	Patch by me in PR#12356.


Sat, 26 Feb 2005 10:40:21 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Exit with an error message instead of crashing if the tx.darkness sprite
	is not present.

	Patch by me in PR#12351.


Sat, 26 Feb 2005 10:27:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/mapview_common.c
	   M /trunk/server/generator/mapgen_topology.c
	   M /trunk/utility/shared.h

	Change freeciv host names to be in their canonical form.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12341.


Fri, 25 Feb 2005 23:39:24 -0800  jdorje:

	Changed paths:
	   M /trunk/data/trident/explosions.png

	Resize explosions.png to the "correct" size of 30x150.

	See PR#12361.


Fri, 25 Feb 2005 17:05:55 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/server/settings.c

	Fix a bug where setting fulltradesize and notradesize at the same time is
	impossible.  Now the sanity checking on these values is done at run time
	rather than when they are set.

	Reported by Christian Knoke <chrisk@cknoke.de> and others in PR#10913.


Fri, 25 Feb 2005 16:54:39 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change the unit-upkeep city overlay graphics to be in an array, indexed
	by output type.

	Patch by me in PR#12330.


Fri, 25 Feb 2005 16:33:21 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix a bug where spec_sprite tags are lost when doing a save in pregame.

	Patch by me in PR#12336.


Fri, 25 Feb 2005 12:55:00 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isophex.tilespec

	Add missing sprites to the isophex tileset.

	Patch by me in PR#12355.


Fri, 25 Feb 2005 09:31:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/Makefile.am
	   A /trunk/data/isotrident/grid.png
	   A /trunk/data/isotrident/grid.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/colors.png
	   A /trunk/data/misc/colors.spec
	   M /trunk/data/trident/Makefile.am
	   A /trunk/data/trident/grid.png
	   A /trunk/data/trident/grid.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Use tileset graphics to draw the mapview grid.  The graphics are added
	in grid.png and player colors are put into colors.png.  This allows
	tilesets to change the appearance of the grid and borders.  If no grid
	sprites are present the automatic fallback is still used.

	Patch by me in PR#12140.


Fri, 25 Feb 2005 00:52:20 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix some problems with turn-done of AI players.

	Reported by Benedict Adamson <badamson@spamcop.net> in PR#12339.


Thu, 24 Feb 2005 08:25:19 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Fix e-mail adress for bug reports


Thu, 24 Feb 2005 02:17:20 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/plrdlg.c

	gui-xaw: change 'turn_done' to 'phase_done' in plrdlg.c (PR#12332)


Wed, 23 Feb 2005 17:56:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change the citydlg map area drawing to use gui_rect_iterate.  This allows
	it to work with corner and edge sprites.

	Patch by me in PR#12329.


Wed, 23 Feb 2005 11:31:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Make the "unit.loaded" sprite manditory.

	Patch by me in PR#12319.


Wed, 23 Feb 2005 11:24:53 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Make the chance of global warming dependent on map size.

	Patch by me in PR#12317.


Wed, 23 Feb 2005 11:05:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Make crosshairs into mapview decorations.  Add a new mapview layer for
	overlays and draw the crosshairs in this layer.

	Patch by me in PR#12320.


Wed, 23 Feb 2005 10:46:43 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Tue, 22 Feb 2005 19:34:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/text.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamehand.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Introduce an alternating-movement mode for freeciv.  In this mode (off by
	default for now), each player moves in sequence rather than all
	simultaneously.  Actions other than unit movement may be done during at
	any time.

	Feature request by many in PR#576.  Patch by me.  Thanks to Thomas Strub
	for advice on end-of-turn actions.  Thanks to "canophone" and "gilles" for
	playtesting.


Tue, 22 Feb 2005 10:31:31 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/italian.ruleset

	Add some new cities to the Italian ruleset.

	Patch by Davide Angelocola <riavulo@slackit.org> in PR#12314.


Mon, 21 Feb 2005 17:15:59 -0800  jcanete:

	Changed paths:
	   M /trunk/utility/netintf.c

	Fix minor bug in PR#11671 commit.


Mon, 21 Feb 2005 16:59:12 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.h

	Fix a couple references to mapview_canvas I missed in PR#12246.


Mon, 21 Feb 2005 16:53:07 -0800  jcanete:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/utility/netintf.c

	win32: Use GetTempPath() and fopen() to create a temporary file, instead of
	tmpfile().

	Reported by Paul Zastoupil as PR#11671.  Patch by me.


Mon, 21 Feb 2005 15:59:27 -0800  jcanete:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/connecthand.c

	Ensure that the default username is valid.

	Reported as PR#12065.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 21 Feb 2005 12:10:23 -0800  jdorje:

	Changed paths:
	   M /trunk/data/trident/tiles.png

	Add (back) the loaded sprite to trident.

	See PR#12304.


Mon, 21 Feb 2005 11:58:34 -0800  jdorje:

	Changed paths:
	   M /trunk/data/scenario/europe-200x100-v2.sav

	Improve the europe scenario to take advantage of Freeciv 2.0 features.

	New scenario by Mateusz Stefek in PR#12302.


Sun, 20 Feb 2005 07:39:42 -0800  kauf:

	Changed paths:
	   M /trunk/server/savegame.c

	Allow freeciv to again load scenarios and editor-generated savegames
	that do not need to be specially crafted.


Sat, 19 Feb 2005 15:26:25 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix an issue with symmetric compute_tech_sell_price() noticed by Benoit in #12243


Sat, 19 Feb 2005 15:20:07 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix a bug which makes AI alway pay for pacts. Patch by me in #12299


Sat, 19 Feb 2005 09:15:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Add two new tile update types, and extend the queued drawing system to
	use them.

	Patch by me in PR#12269.


Fri, 18 Feb 2005 15:57:57 -0800  jdorje:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he_IL.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po

	Run msgmerge on the main branch.  This allows "make dist" to run faster.


Thu, 17 Feb 2005 14:57:58 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/gui_main.c

	gui-xaw: Declare fontnames variable in gui_main.c (PR#12270). Patch by me.


Thu, 17 Feb 2005 14:53:08 -0800  evyscr:

	Changed paths:
	   M /trunk/client/climisc.c

	Fix a crash when calling client_xxx_sprite before client connects (PR#12285).
	Patch by Jason Short <jdorje@users.sourceforge.net>.


Thu, 17 Feb 2005 14:11:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change the citymode parameter of most drawing functions into a city
	pointer rather than a boolean value.

	Patch by me in PR#12265.


Thu, 17 Feb 2005 13:57:07 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Thu, 17 Feb 2005 10:19:04 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Simplify the queued update system by making the update types enumerated.
	The logic of which type to use is moved out of the queue functions into
	the refresh functions.

	Patch by me in PR#12268.


Thu, 17 Feb 2005 09:51:30 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/cma_fe.c

	gui-xaw: Fix initial_preset_list declaration (PR#12179). Patch by me.


Wed, 16 Feb 2005 19:12:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h

	Simplify the interface for set_indicator_icons and the client_xxx_sprite
	family of functions.

	Patch by me in PR#12206.


Wed, 16 Feb 2005 15:14:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h

	Fix a bug where gdk_pixbuf_new_from_sprite() doesn't do what it says it
	does.  This function is renamed and made static.  Its callers use
	sprite_get_pixbuf instead.

	Patch by me in PR#12267.


Wed, 16 Feb 2005 10:28:00 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Allow a player to unload their units from other players' ships, and to
	unload other players' units from their ships.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12231.


Wed, 16 Feb 2005 10:09:05 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident.tilespec

	Add explosion sprites to isotrident.

	Patch by me in PR#12225.


Wed, 16 Feb 2005 10:06:30 -0800  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/player.h
	   M /trunk/server/citytools.h
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c

	Improvements to global warming/nuclear winter calculations:
	- Some calculations (not all) are made proportional to map size.
	- Autosettlers know to fix fallout when nuclear winter approaches.
	- Better autosettler calculation of cleanup benefits.

	Patch by me in PR#12260.


Wed, 16 Feb 2005 09:42:36 -0800  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Add gold surplus and turn number to the panel text.

	Patch by me in PR#12259.


Tue, 15 Feb 2005 20:46:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Use queued drawing for toggling 't' behavior and for some goto line
	drawing.

	Patch by me in PR#12248.


Tue, 15 Feb 2005 19:46:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add some auto-generated helptexts for government types.

	Patch by Per Mathisen in PR#12264 with changes by me.


Tue, 15 Feb 2005 19:38:15 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	ru.po updated (HEAD)


Tue, 15 Feb 2005 09:41:40 -0800  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/unittools.c

	Fix a problem where subs will not be hidden when an adjacent unit is
	removed.

	Patch by me in PR#12256.


Tue, 15 Feb 2005 08:43:23 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/plrdlg.c

	Also in client subdirs were some overlooked Game: messages.


Tue, 15 Feb 2005 08:40:40 -0800  per:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c

	Remove some Game: that I missed in the previous commit.


Tue, 15 Feb 2005 06:36:12 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Combine aifill messages. Now on aifill it says: "Willem has been added as
	easy level AI-controlled player" instead of writing three separate messages.
	From PR#12099.


Tue, 15 Feb 2005 06:25:36 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Do not send a message for each aifill AI player saying what difficulty level
	it was automatically set to. From PR#12099.


Tue, 15 Feb 2005 06:18:24 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Combine 'cannot attack NN' messages, and shorten them by one line. From
	PR#12099.


Tue, 15 Feb 2005 06:11:50 -0800  per:

	Changed paths:
	   M /trunk/server/cityhand.c

	Add message if we failed to buy production, remove it if we succeeded.
	Remove spurious AI comment. From PR#12099.


Tue, 15 Feb 2005 04:11:57 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Get rid of Gra:  prefixes


Tue, 15 Feb 2005 03:09:09 -0800  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	The CM will now force order in AI cities again. See PR#12258.


Tue, 15 Feb 2005 03:07:58 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	The buildings evaluation code is one of the most CPU intensive in
	Freeciv. Yet we call it twice for all AIs, when we don't need to,
	because of human advisors. Fixed. See PR#12257.


Mon, 14 Feb 2005 21:37:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/savegame.c

	Improve handling of global warming/cooling:
	- The heating/cooling values are saved in the savegame.
	- The level is sent to the client.
	- More/better information is shown in the panel tooltip.

	Patch by me in PR#12206.


Mon, 14 Feb 2005 14:52:42 -0800  per:

	Changed paths:
	   M /trunk/po/ca.po
	   M /trunk/po/cs.po
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/he_IL.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po
	   M /trunk/po/uk.po
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/handchat.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove the useless 'Game:' prefix from in-game server messages to save
	valuable screen real estate. See PR#12101 for more info. The translated
	versions have not been changed, except for the Norwegian one.


Mon, 14 Feb 2005 13:47:35 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix bug that made AI never contemplate the want of many effects. Patch
	by Jason in PR#12226 with added comments and logging by me.


Mon, 14 Feb 2005 10:09:33 -0800  jdorje:

	Changed paths:
	   M /trunk/server/report.c

	Add the year onto server-generated reports.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#12228.


Mon, 14 Feb 2005 09:52:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Rename the mapview_canvas variable as just mapview.

	Patch by James Canete in PR#12246 with changes by me.


Mon, 14 Feb 2005 09:24:02 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Change mapview drawing to be queued.  The refresh_xxx_mapcanvas functions
	now queue the drawing, as does update_map_canvas_visible and
	update_city_descriptions.

	Patch by me in PR#12191.


Sun, 13 Feb 2005 18:47:42 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	gui-win32: Fix real_callback_timer() timing.

	Patch by me in PR#12244.


Sun, 13 Feb 2005 18:39:49 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h

	gui-win32: Add alpha blending support.

	Patch by me in PR#12173.


Sun, 13 Feb 2005 11:17:25 -0800  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Don't have autosettlers operation on dangerous tiles (glacier).

	Reported by qwm <qwmqwm@gmail.com> in PR#12157.


Sun, 13 Feb 2005 11:09:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/Makefile.am
	   A /trunk/data/isotrident/select.png
	   A /trunk/data/isotrident/select.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident/Makefile.am
	   A /trunk/data/trident/select.png
	   A /trunk/data/trident/select.spec
	   M /trunk/data/trident_shields.tilespec

	Use an animated selection circle/rectangle to highlight the unit in focus,
	rather than blinking it.

	Patch by me in PR#12215.


Sun, 13 Feb 2005 07:25:11 -0800  matusik:

	Changed paths:
	   M /trunk/server/unittools.c

	Stop irrigating when somebody mined last irigated adjacent tile. Reported by Steffen Jobbagy-Felsö in #11497


Sat, 12 Feb 2005 19:01:50 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/server/srv_main.c

	Move ai_data_phase_done inside ai_do_last_activities.

	Patch by me in PR#8840.


Sat, 12 Feb 2005 10:47:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c

	Improve real_timer_callback greatly.  It now uses internal timers to track
	everything important and returns the amount of time until it should be
	called again.

	Patch by me in PR#12219.


Sat, 12 Feb 2005 09:51:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Add a toggle for drawing city outlines to the menu.

	See PR#12212.


Sat, 12 Feb 2005 09:41:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c

	Don't slide the mapview when going to the next city or when centering in
	the find dialog.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12190.


Sat, 12 Feb 2005 01:54:02 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Increase love penalty for units in AI's territory if you are at war with it or when you are allied with it's enemy. Patch by me in #12218


Fri, 11 Feb 2005 21:02:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a write_to_screen parameter for the unqueue_mapview_updates function.
	Only if this parameter is given does the drawing get flushed to the
	screen.  This is used in several places to improve animation.

	Patch by me in PR#12211.


Fri, 11 Feb 2005 08:58:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/gui_main_g.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Let the tileset specify the font size (in points) of the city name and
	production texts.  This replaces the obsolete XAW-centric method of
	specifying the font by name.  The tileset code passes the font sizes to
	the GUI when loading the tileset.  Currently only the gtk2 client has an
	implementation that actually sets the font size.

	Patch by me in PR#12197.


Fri, 11 Feb 2005 01:36:24 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	You don't have to ask AI for alliance and shared vision in two separate treaties. Patch by me in #12192


Thu, 10 Feb 2005 23:59:35 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	gui-win32: support for idle time callbacks.

	Patch by me in PR#12213.


Thu, 10 Feb 2005 19:59:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/gui_main_g.h
	   M /trunk/client/mapview_common.c

	Unqueue mapview updates via an idle-time callback.  When an updated is
	enqueued a callback is registered.  The GUI code then calls this function
	sometime later to do all the updates at once.

	Patch by me in PR#12187.


Thu, 10 Feb 2005 19:17:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Don't draw city outlines into enemy borders.

	Requested by Mateusz Stefek in PR#12158.


Thu, 10 Feb 2005 10:39:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/cma_fe.c

	Fix a compilation problem in gui-xaw.

	Patch by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#12179.


Thu, 10 Feb 2005 10:35:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-sdl/wldlg.c

	Update the SDL client, a little bit.

	See PR#9081.


Thu, 10 Feb 2005 10:10:45 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug where unqueue_mapview_updates will do a full mapview update when
	it should do nothing.

	Patch by me in PR#12196.


Thu, 10 Feb 2005 09:59:45 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	At the boundaries of the map draw unreal tiles as fogged.

	Patch by me in PR#12186.


Thu, 10 Feb 2005 09:55:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	Change the behavior of the 't' command.  The color is now chosen
	automatically and each press toggles the overlay on or off.

	Patch by me in PR#12160.


Thu, 10 Feb 2005 09:14:07 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	spelling fixes and updates


Thu, 10 Feb 2005 02:05:03 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Fix a bug in #12195 where the client didn't compile if debug was disabled


Thu, 10 Feb 2005 01:39:55 -0800  matusik:

	Changed paths:
	   M /trunk/client/options.c

	Turn on by default ai manual turn done. #12181


Wed, 09 Feb 2005 17:20:28 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/unitextras.png

	Make unitextras.png a valid PNG file.


Wed, 09 Feb 2005 15:17:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/tilespec.c

	Add a menu item to reload the current tileset.  It's only present if the
	game was compiled with DEBUG.

	See PR#12195.


Wed, 09 Feb 2005 11:45:44 -0800  matusik:

	Changed paths:
	   M /trunk/client/clinet.c

	Improve message displayed when the metaserver cannot be found. Patch by me in PR#12167.


Wed, 09 Feb 2005 09:15:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Add a new function refresh_city_mapcanvas.  This is called when part or
	all of a city area needs to be redrawn on the mapview.

	Patch by me in PR#12175.


Wed, 09 Feb 2005 08:58:56 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c

	Fix artifacts from PR#12158 that show up in non-iso-view.

	Reported by Paul Zastoupil; see PR#12185.


Wed, 09 Feb 2005 08:23:12 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Add a new client option for drawing city outlines (enabled by default).
	When set, the outlines of the city radiuses of cities and settler units
	are drawn on the mapview (even if the map grid is not being drawn).

	Patch by me in PR#12158.


Wed, 09 Feb 2005 07:45:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c

	Add a translation prefix to the "Governor" field header in the city report.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#12182.


Wed, 09 Feb 2005 04:21:59 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	updates, fixes, improvements


Wed, 09 Feb 2005 01:35:18 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix mistake in 12129


Wed, 09 Feb 2005 01:15:01 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	Don't show dead players in diplomacy intelligence report. Requested by Christian Knoke in PR#12078


Wed, 09 Feb 2005 01:10:55 -0800  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Translate some strings in stdinhand.c. Reported by Christian Knoke in PR#12083


Wed, 09 Feb 2005 01:05:11 -0800  matusik:

	Changed paths:
	   M /trunk/data/nation/silesian.ruleset

	Add a city to the silesian.ruleset - civ.org.pl


Wed, 09 Feb 2005 00:59:57 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Introduce new tech exchange code. Patch by me in PR#12129. Suggestions by Benoit and Jason


Wed, 09 Feb 2005 00:45:42 -0800  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h

	Reduce acceptable reputation limit in cease-fire negotiations. Also make ai gang up on spaceship builder. Old spacerace behaviour was totaly braindead. Patch by me in PR#12126


Tue, 08 Feb 2005 20:01:40 -0800  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Merge all code that looks for a new build target into one function.  Also
	change capitalization so that it looks for a new build target every turn
	(this allows capitalization to work as a worklist entry).

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#12073 with changes by
	me.


Tue, 08 Feb 2005 14:14:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/attribute.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cma_fe.c
	   M /trunk/client/options.c
	   M /trunk/data/Freeciv.in
	   M /trunk/data/helpdata.txt
	   M /trunk/doc/README.cma

	Rename "CMA" as "Citizen Governor".

	Requested by Craig Jennings <craig@readingboy.com> in PR#11293.


Tue, 08 Feb 2005 14:11:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Change the default messages shown in the chat and message windows.

	Patch by me, inspired by Per Mathisen in RP#12117.


Tue, 08 Feb 2005 13:46:41 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po (head)


Tue, 08 Feb 2005 13:36:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Improve spacing in some mapview messages.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#12145.


Tue, 08 Feb 2005 13:32:57 -0800  jdorje:

	Changed paths:
	   M /trunk/po/Makefile.in.in

	Move the nb.po target down below the 'all' target.

	Reported by Mateusz Stefek in PR#12174.


Tue, 08 Feb 2005 10:43:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Add a new function refresh_unit_mapcanvas.  Use this function when a unit's
	tile needs to be refreshed.

	Patch by me in PR#12163.


Tue, 08 Feb 2005 10:16:53 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/trident_shields.tilespec

	Fix the isophex and trident_shields tilesets.

	Patch by me in PR#12156.


Tue, 08 Feb 2005 10:14:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/pages.c

	Fix compile errors in gui-xaw.

	Patch by me in PR#12133.


Tue, 08 Feb 2005 10:12:11 -0800  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add new nations to POTFILES.in.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12169.


Tue, 08 Feb 2005 10:09:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Add a ?qualifier to the "Name" entry for buildings in the economy dialog.

	Patch by Mateusz Stefek in PR#12168.


Tue, 08 Feb 2005 10:02:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Fix a memory leak in crop_sprite.  This also fixes a bug where crop_sprite
	wouldn't work on sprites with no mask.

	Patch by me in PR#12166.


Tue, 08 Feb 2005 02:01:08 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c

	Translate local option dialog's tab names


Tue, 08 Feb 2005 01:14:10 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	update


Mon, 07 Feb 2005 18:29:23 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#12161: Assert failure on units report.

	Reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Mon, 07 Feb 2005 15:14:23 -0800  vasc:

	Changed paths:
	   M /trunk/common/effects.c

	PR#10477: problems with changing rulesets.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>. Patch by me.


Mon, 07 Feb 2005 15:12:42 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	3773 translated messages.


Mon, 07 Feb 2005 14:52:40 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#12152: Government menu update cleanup.

	Patch by me.


Mon, 07 Feb 2005 14:26:21 -0800  vasc:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c
	   M /trunk/common/map.h

	PR#12149: drawing is really slow.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 07 Feb 2005 06:58:07 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c

	translate tooltips in options dialog


Mon, 07 Feb 2005 03:41:01 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Partial update


Mon, 07 Feb 2005 02:31:35 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	Oops, managed to get the wrong file


Mon, 07 Feb 2005 02:17:20 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	change to UTF-8, Forward to changes to HEAD, 3740 translated messages, 23 fuzzy translations, 10 untranslated messages.


Mon, 07 Feb 2005 00:19:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	When a unit changes, refresh the city it is occupying.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12080.


Mon, 07 Feb 2005 00:14:48 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_fec.c

	Make the default CMA settings useful.

	Patch by me in PR#12120.


Mon, 07 Feb 2005 00:09:10 -0800  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Change the default mapview sliding time to 200 ms.

	Patch by me in PR#12122.


Sun, 06 Feb 2005 15:36:20 -0800  vasc:

	Changed paths:
	   M /trunk/client/mapview_common.c

	PR#12147: bug with refreshing of corner sprites.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 06 Feb 2005 14:11:11 -0800  vasc:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/Makefile.am
	   A /trunk/data/isotrident/fog.png
	   A /trunk/data/isotrident/fog.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident/Makefile.am
	   A /trunk/data/trident/fog.png
	   A /trunk/data/trident/fog.spec
	   M /trunk/data/trident.tilespec

	PR#12109: corner fog graphics.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 06 Feb 2005 13:40:58 -0800  vasc:

	Changed paths:
	   M /trunk/client/tilespec.c

	PR#12144: switching tilesets crashes freeciv.

	Missing initialization of nation flag sprites.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 06 Feb 2005 13:39:09 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	PR#12144: switching tilesets crashes freeciv.

	Fixes a crash due to premature local options window destruction.

	Patch by me.


Sat, 05 Feb 2005 20:16:14 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/pages.c

	Fix compilation of gui-win32 client.  Broken in PR#7344 and PR#11816.


Sat, 05 Feb 2005 19:30:53 -0800  vasc:

	Changed paths:
	   M /trunk/data/misc/buildings.png

	PR#12057: Some new wonder graphics.

	By Paul Zastoupil <paul@zastoupil.org>.


Sat, 05 Feb 2005 14:29:07 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/terrain1.png
	   M /trunk/data/isotrident/terrain2.png

	Fix the mask used by the "flat" tile sprites in isotrident.  The files are
	also changed to RGBA.

	Changes by me in PR#12107.


Sat, 05 Feb 2005 11:46:32 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	PR#12131: Move save options on exit and full screen mode to menus.

	Patch by me.


Sat, 05 Feb 2005 11:26:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Implement a new version of gui_rect_iterate.  The new macro iterates over
	corners and edges as well as tiles.

	Patch by me in PR#12085.


Sat, 05 Feb 2005 11:12:53 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	When considering if shared vision is safe, don't worry about dead players.

	Patch by Mateusz Stefek in PR#12125.


Sat, 05 Feb 2005 11:05:08 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	When the AI honors its alliance make it tell who the target of the alliance
	is.

	Patch by Mateusz Stefek in PR#12124.


Sat, 05 Feb 2005 09:56:36 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/data/freeciv.rc-2.0

	PR#12130: Make lists use a smaller font.

	Patch by me.


Fri, 04 Feb 2005 23:50:57 -0800  jdorje:

	Changed paths:
	   M /trunk/autogen.sh

	Require automake >= 1.6.

	See PR#9551.


Fri, 04 Feb 2005 23:41:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/unit.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	- Add a new order "build city".
	- Add client support for having a post-goto order.
	- In the gtk2 client, add a menu entry for goto + build city.

	Patch by Arnstein Lindgard <a-l@c2i.net> and myself in PR#7344.


Fri, 04 Feb 2005 23:15:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-ftwl/pages.c
	   M /trunk/client/gui-gtk/pages.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-mui/connectdlg.c
	   M /trunk/client/gui-stub/pages.c
	   M /trunk/client/include/connectdlg_g.h
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/capstr.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/Makefile.am
	   A /trunk/data/default.serv
	   M /trunk/data/history.serv
	   M /trunk/server/gamehand.c
	   M /trunk/server/stdinhand.c

	- Make /read look in the datadirs for the file to be read.
	- Send a list of available rulesets (.serv files) to the client after
	  hack access is granted.
	- Make this list of rulesets available to the GUI in the start dialog.
	- In the gtk2 client, let the user choose which ruleset they want to play
	  with.

	Patch by Daniel L Speyer <dspeyer@wam.umd.edu> and myself in PR#11816.


Fri, 04 Feb 2005 22:52:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Don't unreference a pixbuf until after we copy it.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#12112.


Fri, 04 Feb 2005 22:08:38 -0800  jdorje:

	Changed paths:
	   M /trunk/data/misc/buildings.png

	Revert to RGBA version of buildings.png (revision 1.2).


Fri, 04 Feb 2005 21:49:06 -0800  jdorje:

	Changed paths:
	   A /trunk/data/graphics
	   A /trunk/data/graphics/adamsmith.png
	   A /trunk/data/graphics/bach.jpg
	   A /trunk/data/graphics/cancer.svg
	   A /trunk/data/graphics/hoover.svg
	   A /trunk/data/graphics/newton.jpg
	   A /trunk/data/graphics/oracle.svg
	   A /trunk/data/graphics/suntzu.png

	Import new building graphics.

	Graphics by Paulz Zastoupil and from the public domain in PR#12057.


Fri, 04 Feb 2005 21:36:00 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Call city_support only on a full city refresh.

	Patch by me in PR#12089.


Fri, 04 Feb 2005 21:34:50 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isophex/darkness.spec
	   M /trunk/data/isophex/rivers.spec
	   M /trunk/data/isophex/terrain1.spec
	   M /trunk/data/isophex/terrain2.spec
	   M /trunk/data/isotrident/nuke.spec
	   M /trunk/data/isotrident/terrain1.spec
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/data/misc/buildings.spec

	Rename is_pixel_border as pixel_border in the tilesets.

	Patch by me in pR#12093.


Fri, 04 Feb 2005 18:39:31 -0800  vasc:

	Changed paths:
	   M /trunk/client/options.c

	Revert concise city production option default setting to FALSE.


Fri, 04 Feb 2005 17:32:10 -0800  vasc:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/options.c

	PR#12114: Reorganize and trim client options.

	This patch:

	* Makes concise city production the default.
	* Removes the solid unit icon background option.
	* Moves the disable worklist task icons option to the graphics tab.

	Patch by me.


Fri, 04 Feb 2005 15:00:02 -0800  vasc:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c

	PR#12114: Reorganize and trim client options.

	This patch:
	* Removes "Use Alt/Meta for accelerators" from GTK+ 2.x, since it isn't used.
	* Removes "Popup dialogs in AI Mode".

	Adds help tooltips for the local options.

	Patch by me.


Fri, 04 Feb 2005 13:46:57 -0800  vasc:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	PR#12114: Reorganize and trim client options.

	Based on suggestions from Hogne Haskjold. Patch by me.


Fri, 04 Feb 2005 12:56:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	PR#12113: Add local option categories to GTK+ 2.x client.

	Patch by me.


Fri, 04 Feb 2005 11:29:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Make the parameters of fill_sprite_array (and, therefore, some other
	functions) const.

	Patch by me in PR#12086.


Fri, 04 Feb 2005 10:49:39 -0800  jdorje:

	Changed paths:
	   D /trunk/data/graphics

	Remove data/graphics/.


Fri, 04 Feb 2005 00:59:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Rewrite fogstyle to be an enumerated value.  Add a new value FOG_NONE that
	disables fog-of-war drawing.

	Patch by me in PR#12069.


Thu, 03 Feb 2005 19:48:48 -0800  vasc:

	Changed paths:
	   M /trunk/client/options.c

	PR#12106: Disable map scrollbars by default.

	Requested by James Canete, patch by me.


Thu, 03 Feb 2005 18:12:32 -0800  vasc:

	Changed paths:
	   M /trunk/client/citydlg_common.c

	PR#12105: safer trade-routes in citydlg_common.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 03 Feb 2005 18:07:06 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-stub/graphics.c

	PR#12091: bug in crop_sprite.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 03 Feb 2005 17:33:27 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#12104: Remove redundant trade routes tab from city dialog.

	Patch by me.


Thu, 03 Feb 2005 17:15:09 -0800  vasc:

	Changed paths:
	   M /trunk/client/citydlg_common.c

	PR#12100: show trade routes better.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 03 Feb 2005 15:56:43 -0800  per:

	Changed paths:
	   M /trunk/client/audio_sdl.c

	Call Mix_HaltMusic() before shutting down and freeing music. This
	apparently fixes a freeze on MacOSX. Original report and bugfix by Ruben
	Zilibowitz <rzilibow@bigpond.net.au>.


Thu, 03 Feb 2005 15:46:09 -0800  per:

	Changed paths:
	   M /trunk/po/Makefile.in.in

	Fix building from a builddir, broken by nb.po. Fix by Jason in PR#12094.


Thu, 03 Feb 2005 13:10:42 -0800  vasc:

	Changed paths:
	   M /trunk/data/civ1/Makefile.am
	   M /trunk/data/civ2/Makefile.am
	   M /trunk/data/default/Makefile.am
	   M /trunk/data/history/Makefile.am

	PR#12019: Install effects.ruleset files.

	Bug reported by Mattias Johansson <matte@ludd.ltu.se> and Brett Albertson.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 03 Feb 2005 13:02:26 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/text.c

	PR#12090: citydlg too wide.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Thu, 03 Feb 2005 12:26:37 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#12037: Progress bar merged with combo box - faster production change.

	Patch by Mateusz Stefek <mstefek@poczta.fm>.


Thu, 03 Feb 2005 12:16:26 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c

	PR#12041: CMA / preset tab.

	Move help button to the right section, insensitize the results when CMA
	is inactive and solve issue with insuficient space allocation of some sliders.

	Bug reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Thu, 03 Feb 2005 11:28:41 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident/Makefile.am
	   A /trunk/data/isotrident/unitextras.png
	   A /trunk/data/isotrident/unitextras.spec
	   D /trunk/data/isotrident/units.png
	   D /trunk/data/isotrident/units.spec
	   M /trunk/data/isotrident.tilespec

	- Add a unit_offset_x/unit_offset_y values to the tilespec file.
	- Remove isotrident units.  Instead isotrident links to trident units.
	- Move "extra" graphics in isotrident/units into the unitextras file.

	See PR#12072.


Thu, 03 Feb 2005 09:38:47 -0800  vasc:

	Changed paths:
	   M /trunk/m4/gtk2-client.m4

	PR#12087: Bump up requirements to GTK+ 2.4.0.

	Patch by me.


Thu, 03 Feb 2005 05:21:55 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#12088: Add building icons to economy report.

	Patch by me.


Thu, 03 Feb 2005 01:51:51 -0800  per:

	Changed paths:
	   M /trunk/server/score.c

	Observers should not get score for A_NONE. A bit of code cleanup in
	score.c. See PR#12014.


Thu, 03 Feb 2005 01:48:53 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advdomestic.h
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitech.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Remaining parts of PR#11777 by me and Greg:
	 - remove some dead function definitions
	 - process_defender_want: only consider real defenders, use
	   can_eventually_build_unit() instead of poorly duplicating this code
	 - ai_wants_role_unit: moved to aitech.c, now will work with building
	   requirements, will increase tech want only for next role unit in line,
	   half as much tech want if we can build a role unit already
	 - ai_choose_role_unit: moved to aitools.c


Thu, 03 Feb 2005 00:38:55 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Revert PR#9963.


Thu, 03 Feb 2005 00:09:18 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Fix some problems with the calculation of waste, bonuses, and taxes.

	Reported by Per Inge Mathisen in PR#9963.  Patch by me.


Thu, 03 Feb 2005 00:04:55 -0800  jdorje:

	Changed paths:
	   M /trunk/server/civserver.c

	Remove help for the nonexistant --info option.

	Reported by Ben Bettin <bwbettin@gmail.com> in PR#12001.


Wed, 02 Feb 2005 23:58:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't crash if a nation's flag isn't present.

	Patch by me in PR#12070.


Wed, 02 Feb 2005 11:06:33 -0800  hogne:

	Changed paths:
	   M /trunk/data/misc/small.png

	Tweaked citizens.


Tue, 01 Feb 2005 23:14:12 -0800  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Don't destroy the global observer player when its controller detaches
	during pregame if there are other users observing it.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu> in PR#12049, updated
	by me.


Tue, 01 Feb 2005 22:55:06 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/server/civserver.c

	Preliminary handling of SIGINT signal: don't exit unless it's received
	twice consecutively.

	Patch by <dl@ibwag.com> and myself in PR#11887.


Tue, 01 Feb 2005 19:04:33 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/sdl-client.m4

	Remove auto-detection of the SDL client.

	Patch by me in PR#12061.


Tue, 01 Feb 2005 18:46:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Don't try to apply an invalid CMA result.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#12046.  Patch by me.


Tue, 01 Feb 2005 18:44:32 -0800  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/text.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   A /trunk/data/civ1/effects.ruleset
	   A /trunk/data/civ2/effects.ruleset
	   A /trunk/data/default/effects.ruleset
	   A /trunk/data/history/effects.ruleset
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	PR#12019: Effects TNG.

	New generation effects code. Allows tech, government, terrain, special and
	other effects, other than buildings. All ruleset definable.

	Patch by me and Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 01 Feb 2005 18:43:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Check tile_get_known instead of ptile->known.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu> in PR#12054.


Tue, 01 Feb 2005 18:40:16 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/data/scenario
	   M /trunk/data/scenario/.cvsignore
	   M /trunk/data/scenario/Makefile.am

	Compress scenarios at compile time.  Install only the compressed scenarios.

	Patch by me in PR#12048.


Tue, 01 Feb 2005 18:18:09 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#11987: two start dialog aifill problem.

	Bug reported by Benoit Hudson <bh@techhouse.brown.edu>, patch by me.


Tue, 01 Feb 2005 18:15:35 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.h

	PR#12041: CMA / preset tab issues.

	Bug reported by Kenn Munro <kenn@cyberbeach.net> and
	Christian Knoke <chrisk@cknoke.de>.

	Thanks are also in order to Jason Dorje Short <jdorje@users.sourceforge.net>,
	for help with usability design and testing. Patch by me.


Tue, 01 Feb 2005 17:26:50 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	PR#12062: help for palace doesn't work.

	Bug reported by Kenn Munro <kenn@cyberbeach.net>, patch by me.


Tue, 01 Feb 2005 11:27:46 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/man/civclient.6
	   M /trunk/doc/man/civserver.6

	More improvements to the manpages: document environment variables, and
	some minor fixes.

	Patch by Ben Bettin <bwbettin@gmail.com> in PR#11996 with changes by me.


Tue, 01 Feb 2005 09:56:24 -0800  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates


Mon, 31 Jan 2005 17:08:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c

	PR#11507: Enable alpha-blending in the GTK+-2.2 client using GdkPixbufs.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 31 Jan 2005 10:21:26 -0800  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	27 untranslated


Sun, 30 Jan 2005 17:39:55 -0800  hogne:

	Changed paths:
	   M /trunk/data/isophex.tilespec

	Reverting.


Sun, 30 Jan 2005 17:39:40 -0800  hogne:

	Changed paths:
	   M /trunk/data/isophex.tilespec

	Testing.


Sun, 30 Jan 2005 17:34:04 -0800  hogne:

	Changed paths:
	   M /trunk/COPYING
	   M /trunk/data/isotrident.tilespec

	Reverting.


Sun, 30 Jan 2005 17:33:16 -0800  hogne:

	Changed paths:
	   M /trunk/data/isotrident.tilespec

	Test.


Sun, 30 Jan 2005 17:24:14 -0800  hogne:

	Changed paths:
	   M /trunk/COPYING

	Test.


Sun, 30 Jan 2005 12:05:02 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po (HEAD)


Sun, 30 Jan 2005 05:54:27 -0800  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	sychro with S2_0


Sat, 29 Jan 2005 13:06:23 -0800  jdorje:

	Changed paths:
	   M /trunk/data/Freeciv.in

	Fix a typo in a comment.

	Patch by Christian Knoke <chrisk@cknoke.de> as an addendum to PR#11405.


Sat, 29 Jan 2005 11:01:32 -0800  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h

	Fix a bug where transferring city info through shared vision would
	copy the playermap city by pointer rather than by data.

	Reported by many in PR#12022.


Sat, 29 Jan 2005 10:18:04 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	When unit drawing is turned off in the view menu, this shouldn't prevent
	drawing of solitary units.

	Reported by <dssr@gmx.net> in PR#11980.  Patch by me.


Sat, 29 Jan 2005 10:07:50 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiexplorer.c

	Avoid a recursive loop when autoexploring.

	Originally reported by Marko Lindqvist.  Patch by James Canete and
	Gregory Berkolaiko in PR#11824.


Sat, 29 Jan 2005 09:58:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/unittools.c

	Add a value to the ruleset controlling the number of veteran levels lost
	when a unit is auto-upgraded.

	Reported by Christian Knoke <ChrisK@enter.de> in PR#9430.  Patch by me.


Sat, 29 Jan 2005 00:51:18 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/savegame.c

	Change the boolean parameter to generic_city_refresh.  If it is set to
	FALSE, only a partial refresh is done.  The partial refresh is much faster,
	and does not recalculate the bonus[] array values or the city tile output
	values (which are now cached).

	See PR#11828.


Sat, 29 Jan 2005 00:23:50 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	When creating a city, refresh it before arranging the workers.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#11942 with added
	comments by me.


Fri, 28 Jan 2005 11:57:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/packhand.c
	   M /trunk/common/dataio.c
	   M /trunk/common/packets.c
	   M /trunk/server/score.c
	   M /trunk/server/sernet.c
	   M /trunk/server/unittools.c

	Avoid compiler warnings in gcc 4.

	Patch by Brett Albertson <brett.albertson@stratech.com> in PR#12020.


Fri, 28 Jan 2005 06:44:16 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 27 Jan 2005 22:11:39 -0800  jdorje:

	Changed paths:
	   M /trunk/autogen.sh
	   M /trunk/po/Makefile.in.in

	Change nb.po so that it is kept updated by make, not by autogen.sh.

	Patch by me in PR#11984.


Thu, 27 Jan 2005 17:07:52 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/gtk-client.m4

	Disable autodetection of the gtk+-1.2 client.  You must now call
	"--enable-client=gtk1.2" explicity to choose it.

	Patch by Vasco in PR#12013.


Thu, 27 Jan 2005 11:48:29 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Wed, 26 Jan 2005 19:10:35 -0800  jdorje:

	Changed paths:
	   M /trunk/data/misc/small.png

	Convert PNG to indexed.


Wed, 26 Jan 2005 19:08:03 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isophex/darkness.png
	   M /trunk/data/isophex/rivers.png
	   M /trunk/data/isophex/terrain1.png
	   M /trunk/data/isophex/terrain2.png
	   M /trunk/data/isophex/tiles.png

	Change PNGs to indexed, and run pngcrush on them.


Wed, 26 Jan 2005 18:14:40 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/m4/c99.m4

	Improvements to c99.m4:
	  - Rename macros to be more C99-informative and less freeciv-specific.
	  - Add a macro to check for C99 initializers.

	Patch by me in PR#12007.


Wed, 26 Jan 2005 09:50:52 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/common/diptreaty.c

	Fix crash in advdiplomacy.c when we receive an invalid clause type. See
	PR#12016. Reported by pubserver.


Mon, 24 Jan 2005 23:45:13 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/man/civclient.6
	   M /trunk/doc/man/civserver.6

	Update and improve the manual pages.

	Patch by Ben Bettin <bwbettin@gmail.com> in PR#11996.


Sun, 23 Jan 2005 15:11:31 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/gui_stuff.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/spaceshipdlg.c

	Update gui-win32 to be compatible with the new genlist code.

	Patch by me in PR#11997.


Sun, 23 Jan 2005 14:32:19 -0800  glip:

	Changed paths:
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h

	Add comments to enum tech_state and remove the wrapper around
	get_next_tech_rec since the wrapper just duplicated checks made in
	get_next_tech_rec.

	Issued as 11877.


Sun, 23 Jan 2005 12:43:16 -0800  glip:

	Changed paths:
	   M /trunk/ai/aihand.c

	Add a comment to Per's recent commit of cleaning government tech handling.


Sun, 23 Jan 2005 02:48:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c

	Add requirements for specialists.

	Patch by me in PR#11561.


Sat, 22 Jan 2005 18:11:09 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/venezuela-shield.png
	   A /trunk/data/flags/venezuela.png
	   A /trunk/data/flags/venezuela.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/venezuelan.ruleset

	Add a Venezuelan nation.

	Ruleset by Jesus Palencia <sinfallas@gmail.com> and others in PR#11974.
	Flag taken from the public domain.


Sat, 22 Jan 2005 17:58:07 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/man/civclient.6
	   M /trunk/doc/man/civserver.6

	Use dashes in the manual pages.

	Patch by Sam Morris <sam@robots.org.uk> in PR#11977.


Sat, 22 Jan 2005 16:30:35 -0800  jdorje:

	Changed paths:
	   M /trunk/data/flags/canada-shield.png
	   M /trunk/data/flags/canada.png
	   M /trunk/data/flags/canada.svg

	Change the colors on the Canadian flag to RED.

	SVG graphics by Michael Mielke <michael@mielke.cc> in PR#11909.


Sat, 22 Jan 2005 13:12:10 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitech.c
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/nation.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Remove a bit of deadweight AI code and AI hints. See PR#11777. The AI now
	uses a different and more flexible approach to figuring out its first
	government goal for research, so expect (and report) irregularities in
	this department.


Sat, 22 Jan 2005 12:31:11 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/common/diptreaty.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c

	Remove the option of breaking out from a team research collective. That
	also means that we no longer need the code to be able to rejoin one,
	probably fixing a lot of bugs in the process. This latter code was only
	present in the gtk clients anyway.

	Lots of lines of code removed, one changed. See PR#11875.


Sat, 22 Jan 2005 12:22:23 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	PR#11842 - Do not allow observers to start new votes.


Sat, 22 Jan 2005 12:21:20 -0800  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/plrhand.c

	Send pplayer->is_observer info to clients. See PR#11876.


Sat, 22 Jan 2005 12:13:34 -0800  per:

	Changed paths:
	   M /trunk/server/report.c

	Remove observer player from the historian report. See PR#11841.


Sat, 22 Jan 2005 11:45:45 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/agents/sha.c
	   M /trunk/client/agents/sha.h
	   M /trunk/client/chatline_common.c
	   M /trunk/client/chatline_common.h
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/clinet.c
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-ftwl/messagewin.c
	   M /trunk/client/gui-ftwl/plrdlg.c
	   M /trunk/client/gui-gtk/chatline.c
	   M /trunk/client/gui-gtk/chatline.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/finddlg.c
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk/gotodlg.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/inteldlg.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-gtk-2.0/chatline.c
	   M /trunk/client/gui-gtk-2.0/chatline.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.h
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/happiness.h
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.h
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.h
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/spaceshipdlg.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/gui_stuff.c
	   M /trunk/client/gui-win32/spaceshipdlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/finddlg.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/combat.c
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/effects.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/generate_packets.py
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets_gen.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/data/misc/small.png
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/handchat.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/sernet.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/utility/ftwl/common_types.c
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/widget.c
	   M /trunk/utility/ftwl/widget_core.c
	   M /trunk/utility/ftwl/widget_p.h
	   M /trunk/utility/ftwl/widget_timeout.c
	   M /trunk/utility/ftwl/widget_window.c
	   M /trunk/utility/genlist.c
	   M /trunk/utility/genlist.h
	   M /trunk/utility/registry.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h
	   M /trunk/utility/speclist.h

	Change the genlist and speclist API. *list_init(list) is now
	list = *list_new(), and there is also a matching *list_free()
	method. *list_insert() and *list_insert_back() have been renamed
	to *list_prepend() and *list_append(). For more info, see PR#11779.


Sat, 22 Jan 2005 02:58:54 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/Makefile.am

	Make sure the Byzantine nation is installed.


Fri, 21 Jan 2005 12:25:44 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c

	Use a better method of transferring city specialist data to the client.

	Patch by Gregory Berkolaiko as an addendum to PR#11771.


Thu, 20 Jan 2005 23:03:46 -0800  jdorje:

	Changed paths:
	   M /trunk/po
	   M /trunk/po/.cvsignore

	Add nb.po to .cvsignore.


Thu, 20 Jan 2005 19:36:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Rewrite the fogged-sprite generation code.  The new code uses pixbufs
	instead of GdkImages, making it more portable.  This specifically prevents
	a crash on Windows.

	Patch by Andreas Rosdal <andrearo@stud.ntnu.no> and myself in PR#11979.


Thu, 20 Jan 2005 19:06:18 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c

	gui-win32: Brighten fog to 65%, to match gtk2 client.

	Patch by me in PR#11983.


Thu, 20 Jan 2005 18:14:08 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	gui-win32: Fix obvious quit bug.


Thu, 20 Jan 2005 17:51:43 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/gui_main.h
	   M /trunk/client/gui-win32/gui_stuff.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: Improve feedback when mouse mode changes.

	Reported by Jason as PR#11743.  Patch by me.


Thu, 20 Jan 2005 17:00:44 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	gui-win32: fix multiple connect dialogs on server failure.

	Reported by Per as PR#10403.  Patch by me.


Thu, 20 Jan 2005 16:53:23 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	gui-win32: fix quitting bug in commit of PR#11768.


Thu, 20 Jan 2005 16:40:42 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	gui-win32: Change the main loop to clear the win32 message queue before
	dealing with network messages.

	Reported as PR#11768.  Patch by me.


Thu, 20 Jan 2005 16:09:53 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	gui-win32: Add file type filters to save/load dialog.

	Reported by Jason as PR#11746.  Patch by me.


Thu, 20 Jan 2005 16:00:45 -0800  jcanete:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/server/civserver.c

	Fix bad error message when exchndl.dll cannot be loaded.

	Reported by Jason as PR#11937.  Patch by me.


Wed, 19 Jan 2005 16:00:12 -0800  per:

	Changed paths:
	   M /trunk/autogen.sh
	   M /trunk/configure.ac

	Forward port PR#11510


Tue, 18 Jan 2005 21:40:03 -0800  jdorje:

	Changed paths:
	   M /trunk/server/commands.c

	Remove incorrect translation of the "serverid" setting.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11970.


Tue, 18 Jan 2005 20:33:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Remove some users of is_isometric.

	Patch by me in PR#11815.


Tue, 18 Jan 2005 10:27:54 -0800  jdorje:

	Changed paths:
	   M /trunk/common/tech.c

	Fix a crash when researching future technologies.

	Reported by Paul Zastoupil <paul@zastoupil.org> in PR#11923.


Mon, 17 Jan 2005 15:15:52 -0800  per:

	Changed paths:
	   M /trunk/client/helpdata.c

	Fix possible crash in helptext_tech(), patch by Genevieve
	Gracian <ggracian@free.fr>.


Mon, 17 Jan 2005 10:20:19 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/czech.ruleset

	Add localized city names for czech.ruleset.

	Patch by "Edheldil" <pvt.benkovsk@nextra.cz> in PR#11939.


Mon, 17 Jan 2005 10:03:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_fec.c

	Change a struct initializer to be C99.

	Reported by Joerg Behrens <behrens@takenet.de> in PR#11794.


Sun, 16 Jan 2005 03:23:47 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Check for libiconv before libintl, since it is a prerequisite.

	Patch by me in PR#11932.


Sun, 16 Jan 2005 03:11:02 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c

	Add tooltips to the city dialog to show the sources and sinks of each type
	of output, plus pollution.

	Patch by myself and Vasco Alexandre da Silva Costa in PR#10575.


Sat, 15 Jan 2005 18:36:27 -0800  kauf:

	Changed paths:
	   M /trunk/server/gamelog.c
	   M /trunk/server/srv_main.c

	Fix discrepancy in GAMELOG_STATUS and GAMELOG_INFO. Also fix sorting
	problem in GAMELOG_STATUS.

	See PR#11837. Reported by Paulz. Patch by me.


Wed, 12 Jan 2005 10:43:16 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Make city_map_iterate a wrapper for city_map_iterate_outwards.  This makes
	it much faster.

	Patch by me in PR#11886.


Wed, 12 Jan 2005 10:38:03 -0800  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Remove duplication in AI and non-AI handling in auto_arrange_workers.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#11890 with changes
	by me.


Wed, 12 Jan 2005 10:26:55 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c

	Avoid calling auto_arrange_workers recursively when changing more than
	one city tile at a time.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> as part of PR#11562.


Mon, 10 Jan 2005 20:51:36 -0800  kauf:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix a crash where the server attempts to send info to connections
	not attached to players.

	See PR#11852. Patch by Per.


Sun, 09 Jan 2005 19:42:58 -0800  jdorje:

	Changed paths:
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h

	Make some struct parameters for functions const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11723 with style
	changes by me.


Sun, 09 Jan 2005 19:34:53 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	Make some struct parameters for functions const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11724.


Sun, 09 Jan 2005 19:24:16 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	Make some struct parameters to functions const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11730 with style and
	comment changes by me.


Sun, 09 Jan 2005 10:42:18 -0800  glip:

	Changed paths:
	   M /trunk/common/map.h

	Add a comment to the city filed in struct tile.  If it confuses anyone it
	should be commented.

	Closes 11846.


Sun, 09 Jan 2005 02:19:53 -0800  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c

	Send updated player info before unit_goes_out_of_sight packets, which are generated in remove_allied_visibility(). See #11819


Sat, 08 Jan 2005 09:09:20 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	PR#11796: Add remaining city production info to help build wonder.

	Patch by Filip Van Raemdonck, from Debian.


Sat, 08 Jan 2005 01:44:39 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Allow specialists to produce any type of output.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#11142.


Fri, 07 Jan 2005 21:33:28 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Change the gtk2 client's fog of war to 65% brightness.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11792.


Fri, 07 Jan 2005 21:14:17 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Make some parameters to city functions const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11725 with style
	and comment changes by me.


Fri, 07 Jan 2005 20:12:12 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Use HAPPY_COST instead of 2 in citizen_luxury_happy.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#11838.


Fri, 07 Jan 2005 11:28:39 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Update vote comment in code.


Fri, 07 Jan 2005 06:28:38 -0800  matusik:

	Changed paths:
	   M /trunk/server/citytools.c

	Resolve unit stacks after transfering cities beetwen allies. This avoids some bugs with transporters. The old code did it only for non allied players. See #11818


Thu, 06 Jan 2005 18:59:39 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Use output_type_iterate when computing effect bonuses in estimate_fitness.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#11827.


Thu, 06 Jan 2005 18:56:28 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/settlers.c

	Add a new function is_free_worked_tile.  Use this in some places instead of
	is_free_city_center.

	Patch by me in PR#11763.


Thu, 06 Jan 2005 07:44:30 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aitech.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	 - Improves logging of AI tech want. Renamed PLAYER_LOG to DIPLO_LOG for
	consistency. New /debug command "/debug tech". Renamed "/debug player"
	to "/debug diplomacy".
	 - Fixes diplomacy buglet that would use negative tech want to calculate
	want for tech in exchanges (if present).
	 - Fixes possible crash in aisettler.c if ruleset has no ferries and in
	aidiplomat.c if ruleset has no diplomats.

	These fixes were part of PR#11777.


Thu, 06 Jan 2005 07:25:08 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Divide tech want used in AI diplomacy exchange calculations by game
	turn, as tech want is a value that is continually accumulated, and in
	late games you might see the AI exchanging nearly all its cities for a
	few techs. Fix is part of PR#11777.


Wed, 05 Jan 2005 18:24:42 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c

	gui-win32: fix old stippled fog with non-iso tilesets.

	Patch by me in PR#11813.


Wed, 05 Jan 2005 16:35:51 -0800  jdorje:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c
	   M /trunk/server/ruleset.c

	Avoid sending unitialized specialist data over the network.

	Patch by Gregory Berkolaiko in PR#11771 with added comments by me.


Wed, 05 Jan 2005 15:24:24 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Improve the error handling when there's a goto patch with a length too
	large to display.

	Patch by me as part of PR#11759.


Wed, 05 Jan 2005 15:12:25 -0800  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix a bug when parsing "/explain all".

	Reported by Philip Patterson <booktinker@gmail.com> in PR#11718.


Wed, 05 Jan 2005 15:07:40 -0800  jdorje:

	Changed paths:
	   M /trunk/common/tech.c

	Fix a bug where get_tech_name returns a single static buffer, meaning it
	can't be used more than once at a time.

	See PR#11665.


Wed, 05 Jan 2005 14:37:58 -0800  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h

	Fix a bug where autosettlers will go out of their way to starve out cities
	as they get larger.

	Patch by me in PR#10036.


Wed, 05 Jan 2005 06:01:43 -0800  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk/diplodlg.c

	Add Give embassy button to the gtk2 client


Wed, 05 Jan 2005 05:48:51 -0800  matusik:

	Changed paths:
	   M /trunk/diff_ignore

	Add freeciv.spec to diff_ignore


Tue, 04 Jan 2005 00:36:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/settlers.c

	Merge city_get_food_tile, city_get_shields_tile, and city_get_trade_tile
	into a single function city_get_output_tile.

	Patch by me in PR#11761.


Mon, 03 Jan 2005 09:48:23 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix crash that happens when an explorer dies in a hut under some
	circumstances. See PR#10389.


Sun, 02 Jan 2005 19:31:44 -0800  jdorje:

	Changed paths:
	   M /trunk/manual/civmanual.c

	Add translations for the civmanual.

	Patch by Christian Knoke <chrisk@cknoke.de> and myself in PR#11758.


Sat, 01 Jan 2005 17:36:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix the bug-reporting email address.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11759.


Sat, 01 Jan 2005 15:58:24 -0800  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Don't count votes from players who have left the game.  Also put the
	vote values into an enumeration.

	Reported by Michael Mielke <michael@mielke.cc> in PR#11733.  Patch by
	Per Mathisen with changes by me.


Sat, 01 Jan 2005 14:47:14 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Merge base_city_get_food_tile, base_city_get_shields_tile, and
	base_city_get_trade_tile into a single function base_city_get_output_tile.

	Patch by me in PR#11737.


Sat, 01 Jan 2005 14:01:57 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix a bug where illegial alliances would be resolved before the game
	was completely loaded, leading to a crash.

	Reported by Vickram Ghumman <vickramghumman@yahoo.com> in PR#11682.  Patch
	by Per Mathisen with added comment by me.


Sat, 01 Jan 2005 13:48:10 -0800  per:

	Changed paths:
	   M /trunk/common/player.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/stdinhand.c

	Makes novice, easy and /away AI go through revolution just like normal
	players. This closes a cheating loophole that players can use, settings
	themselves to /away once they get Republic, to avoid a period of
	anarchy. See PR#11667.


Sat, 01 Jan 2005 12:54:23 -0800  per:

	Changed paths:
	   M /trunk/po/no.po

	Fix a bug in .no translation


Sat, 01 Jan 2005 08:39:23 -0800  vasc:

	Changed paths:
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/shared.c

	PR#11748: Fix assert failure when typing badly formed commands, e.g.
	"/'observer'" in the inputline.

	Patch by me.


Thu, 30 Dec 2004 14:11:17 -0800  vasc:

	Changed paths:
	   M /trunk/client/citydlg_common.c

	PR#11722: Fix client crash in the city report change menu.

	Reported by Benedict Adamson <badamson@spamcop.net>, patch by me.


Thu, 30 Dec 2004 13:56:35 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Calculate effect types associated with output types via a separate function
	call and a switch statement, rather than just putting them in an array.
	This encapsulates this ugliness and makes it less bugprone.

	Patch by me in PR#11710.


Thu, 30 Dec 2004 13:45:26 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/map.c
	   M /trunk/server/generator/startpos.c

	Merge get_food_tile, get_shields_tile, and get_trade_tile into a single
	function get_output_tile.

	Patch by me in PR#11717.


Thu, 30 Dec 2004 09:42:58 -0800  vasc:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Add missing newlines, so gettext doesn't choke on it.

	Patch by Geneviève Gracian.


Wed, 29 Dec 2004 09:34:19 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Use a monospaced font for tooltips (fixes PR#11331).

	Bug reported by Benoit Hudson <bh@techhouse.brown.edu>, fix suggested by
	Jason, patch by me.


Wed, 29 Dec 2004 09:25:43 -0800  vasc:

	Changed paths:
	   M /trunk/client/text.c

	Remove redundant veteran-level text from unit info (fixes PR#11207).

	Patch by Christian Knoke <chrisk@cknoke.de>.


Tue, 28 Dec 2004 20:56:16 -0800  glip:

	Changed paths:
	   M /trunk/manual/civmanual.c

	Add a missing include.  Caused by a fix for 11630.


Tue, 28 Dec 2004 15:05:09 -0800  jdorje:

	Changed paths:
	   M /trunk/manual/civmanual.c

	Fix translation and character set problems for the civmanual output.  The
	output is now translated and in UTF-8.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11630.


Tue, 28 Dec 2004 15:01:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Backport: fix the calculation of blended fog to work on non-32-bit
	displays.

	Reported by Robert Smith <r_q_smith@yahoo.com> in PR#11692.


Tue, 28 Dec 2004 11:09:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Merge base_get_food_tile, base_get_shields_tile, and base_get_trade_tile
	into a single function base_get_output_tile.

	Patch by me in PR#11706.


Tue, 28 Dec 2004 02:51:01 -0800  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add files with translatable strings to POTFILES.in.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11537 with changes by me.


Tue, 28 Dec 2004 02:43:37 -0800  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Improve helpdata for languages and controls.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11578.


Sun, 26 Dec 2004 13:29:46 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/inteldlg.h

	gui-xaw: fix multiple intelligence dialog. Patch by me in PR#11694


Sun, 26 Dec 2004 12:25:17 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/gui_main.h
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: Clean up sprite functions, replace the sprite cache with a general
	hbitmap cache, and implement better fog.

	Patch by me in PR#11260.


Sat, 25 Dec 2004 12:38:14 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Make some struct pointer function parameters const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11604.


Sat, 25 Dec 2004 12:13:05 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Change the city_support function so it only calculates support/usage
	amounts for the city.  The data calculated here is used later in the
	calculation of happiness and surpluses.

	Patch by me in PR#11674.


Sat, 25 Dec 2004 11:50:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Use a better-quality drawing system for fog of war.  For each sprite that
	is drawn fogged, a separate fogged pixmap is created using alpha-blending
	to achieve good quality fog.

	Patch by Andreas Røsdal <andrearo@stud.ntnu.no> and myself in PR#11433.


Fri, 24 Dec 2004 15:36:33 -0800  vasc:

	Changed paths:
	   M /trunk/client/plrdlg_common.c

	PR#11569: Fix plrdlg default sort column.

	Reported by Jason Dorje Short.


Fri, 24 Dec 2004 15:30:34 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#11681: Remove load_intro_gfx from gui-gtk-2.0.

	Patch by me.


Fri, 24 Dec 2004 08:56:36 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Clear up ambiguity in vote message. Noted by Paul Zastoupil.


Fri, 24 Dec 2004 08:20:22 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Do not recalculate settler want for cities each turn. This speeds
	up end turns. Patch by Knut Omang <komang@broadpark.no> in PR#10985.


Fri, 24 Dec 2004 08:11:54 -0800  per:

	Changed paths:
	   M /trunk/server/settings.c

	Improve "/help diplomacy" text. See PR#11658.


Fri, 24 Dec 2004 08:03:19 -0800  per:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/server/ruleset.c

	Remove game.rtech.nav, as it is unused. Patch by Jason in PR#11670.


Thu, 23 Dec 2004 21:59:14 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/ratesdlg.c

	gui-win32: Fix negative tax rates in tax popup.

	Reported as PR#10794.  Patch by me.


Thu, 23 Dec 2004 20:01:48 -0800  kauf:

	Changed paths:
	   M /trunk/server/civserver.c
	   M /trunk/server/commands.c
	   M /trunk/server/commands.h
	   M /trunk/server/meta.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Add a serverid command and commandline parameter to the server. Also send
	it to the metaserver.

	See PR#11620. Patch by Paulz.


Thu, 23 Dec 2004 18:11:41 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Replace hard-coded handling of food, shield, and gold upkeep for units
	with a loop over all output types.

	Patch by me in PR#11639.


Thu, 23 Dec 2004 17:52:44 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	Change a number of functions to have const struct values for their
	parameters.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11602 with added
	comments by me.


Thu, 23 Dec 2004 08:44:17 -0800  per:

	Changed paths:
	   M /trunk/server/settings.c

	Add additional information to 'techlevel' server option. Patch by
	Genevieve Gracian.


Thu, 23 Dec 2004 04:58:26 -0800  per:

	Changed paths:
	   M /trunk/data/default/governments.ruleset

	Make use of the empire_size_inc parameter in default ruleset, using
	a milder set of values than those used in the Civ2 ruleset. Once you are
	past the (initial cityfactor - empire_size_mod), each empire_size_inc
	cities, you get one less content citizen in your cities. This means
	angry citizens can eventually make an appearance. The values are:

	empire_size_inc = 6 for anarchy
	empire_size_inc = 10 for despotism
	empire_size_inc = 12 for monarchy
	empire_size_inc = 0 (disabled) for communism
	empire_size_inc = 14 for republic
	empire_size_inc = 16 for democracy

	See PR#9590 for the full discussion.


Wed, 22 Dec 2004 12:47:20 -0800  per:

	Changed paths:
	   M /trunk/po/no.po

	Improve Norwegian translation.


Wed, 22 Dec 2004 09:19:36 -0800  per:

	Changed paths:
	   M /trunk/po/no.po

	Sync Norwegian translation in cvs head with the one in S2_0. I have
	added instructions in the Wiki on how to do this automatically.


Wed, 22 Dec 2004 08:29:36 -0800  per:

	Changed paths:
	   M /trunk/po/it.po

	New Italian translation from Davide Pagnin.


Tue, 21 Dec 2004 14:57:36 -0800  kauf:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c

	fix the unitloss famine text message and change 'steals' -> 'steal'

	See PR#11642. Reported by Paulz. Patch by me.


Tue, 21 Dec 2004 12:06:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Rewrite calculation of production in generic_city_refresh.

	See PR#11606.


Mon, 20 Dec 2004 20:18:54 -0800  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c

	PR#11477: Rename can_sell_improvement and can_sell_building to
	can_sell_building, and can_city_sell_building.

	Suggested by Jason, patch by me.


Mon, 20 Dec 2004 19:37:38 -0800  vasc:

	Changed paths:
	   M /trunk/common/capstr.c

	Bump up protocol version.


Mon, 20 Dec 2004 19:36:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/ruleset.c

	PR#11477: Remove unused equiv_* values.

	Patch by me.


Mon, 20 Dec 2004 18:13:58 -0800  vasc:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	PR#11559: Remove rtech declarations from buildings.ruleset.

	Patch by me.


Mon, 20 Dec 2004 15:50:58 -0800  kauf:

	Changed paths:
	   M /trunk/ai/aiunit.c

	A unit X intends to attack unit Y. When the unit gets adjacent, Y
	autoattacks and dies. If X has move points left, it can
	move straight on to the tile where Y was. After that ai_unit_attack() is
	called leading to an assert since ai_unit_attack() expects adjacency.
	Add extra check to prevent this.

	See PR#11583. Patch by me.


Sun, 19 Dec 2004 11:45:56 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/ailog.h

	Add printf attributes to AI log functions.

	Patch by Marko Lindqvist in PR#11591.


Sun, 19 Dec 2004 11:44:40 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c

	Fix the parameters of AI log calls.

	Patch by Benedict Adamson and Marko Lindqvist in PR#11589.


Sun, 19 Dec 2004 11:40:44 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Calculate the city bonus[] values at the start of generic_city_refresh.

	Patch by me in PR#11547.


Sun, 19 Dec 2004 11:38:08 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c

	Put pollution and fallout tile penalty percentages into an array,
	indexed by output type.

	Patch by me in PR#11554.


Sun, 19 Dec 2004 11:22:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change to a layered drawing system.  When drawing the mapview or cityview,
	all sprites on one layer are drawn before moving on to the next layer.

	Patch by me in PR#8931.


Sun, 19 Dec 2004 11:18:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c

	Remove a reference to the undefined SP_TAXMAN.

	Reported by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#11565.


Sun, 19 Dec 2004 10:53:15 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/wldlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/wldlg.c

	PR#11477: Update gui-gtk, gui-win32, gui-xaw clients to support gen imprs.

	Patch by me.


Sun, 19 Dec 2004 09:46:52 -0800  vasc:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	PR#11477: Change rulesets to use generic improvements.

	Patch by me.


Sun, 19 Dec 2004 08:48:33 -0800  vasc:

	Changed paths:
	   M /trunk/common/capstr.c

	Bump up capstr.


Sun, 19 Dec 2004 08:47:10 -0800  vasc:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitools.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/requirements.c
	   M /trunk/common/tech.c
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/manual/civmanual.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/srv_main.c

	PR#11477: Generic improvement patch.

	Makes Wonders have two kinds; Small Wonders (player unique) and
	Great Wonders (world unique). Also does several cleanups, removing special
	casing for Palace at several places.

	Rule changes: Palaces are now a Small Wonder which can be rushed with
	Caravans; it is possible to build redundant improvements (e.g. it is
	possible for players with a Great Wall to build City Walls).

	Patch by me, with review, comment and cleanup by Jason, Marko and Per.


Fri, 17 Dec 2004 11:03:51 -0800  cazfi:

	Changed paths:
	   M /trunk/server/cityturn.c

	Change city emergency management messages from LOG_ERROR
	to LOG_DEBUG.

	See #11514


Fri, 17 Dec 2004 10:55:08 -0800  cazfi:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix debug compilations.

	See #11579


Fri, 17 Dec 2004 08:25:18 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	PR#11577: add player border icons.

	Patch by me.


Fri, 17 Dec 2004 01:13:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h
	   M /trunk/client/text.c
	   M /trunk/client/text.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change a number of functions to accept const player struct parameters.  The
	player dialog columns array is changed so its function callbacks take
	const parameters.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11489 with added
	comments by me.


Fri, 17 Dec 2004 00:48:55 -0800  jdorje:

	Changed paths:
	   M /trunk/common/requirements.c
	   M /trunk/server/ruleset.c

	Avoid reporting a spurious error message when loading an effect that
	doesn't have a requirement.

	See PR#11556.


Fri, 17 Dec 2004 00:44:12 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Limit the size of the specialists array in the ruleset packet.  This fixes
	a problem where garbage strings were sent in the unused specialist fields.

	See PR#11558.


Fri, 17 Dec 2004 00:21:20 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.h
	   M /trunk/client/packhand.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.h
	   M /trunk/common/requirements.c
	   M /trunk/common/requirements.h
	   M /trunk/po/POTFILES.in
	   M /trunk/server/ruleset.c

	Add range and survives fields to the requirement structure.  Make effect
	source buildings into requirements.

	Patch by me in PR#11539.


Thu, 16 Dec 2004 16:31:57 -0800  vasc:

	Changed paths:
	   M /trunk/common/capstr.c

	Bump up protocol version.


Thu, 16 Dec 2004 16:14:16 -0800  vasc:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/techs.ruleset
	   M /trunk/data/civ2/techs.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/history/techs.ruleset
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	PR#11559: remove rtech values entirely.

	Patch by Jason Dorje Short.


Thu, 16 Dec 2004 15:27:08 -0800  kauf:

	Changed paths:
	   M /trunk/common/connection.h
	   M /trunk/server/sernet.c

	Add a server.ipaddr field to the connection struct which
	holds the dot.quad address of the connection.

	See PR#11541. Requested by Paulz. Patch by me.


Thu, 16 Dec 2004 15:21:10 -0800  kauf:

	Changed paths:
	   M /trunk/server/gamelog.c

	Remove spurious ')' from unitl gamelog message.

	Reported by Paulz.


Thu, 16 Dec 2004 15:18:48 -0800  cazfi:

	Changed paths:
	   M /trunk/server/unittools.c

	Make sure that no tile gets temporarily fogged when fortress
	is finished.

	See PR#11373.


Thu, 16 Dec 2004 15:00:12 -0800  cazfi:

	Changed paths:
	   M /trunk/common/city.c

	Correct outdated comment.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>

	See #11389


Thu, 16 Dec 2004 13:25:41 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c

	PR#11555: Change gui-gtk keyboard shortcuts to match helpdata.txt.

	Patch by me.


Thu, 16 Dec 2004 12:37:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c

	Remove the specialist enumeration.  Specialist types are now controlled
	completely by the rulesets.

	Patch by me in PR#8877.


Thu, 16 Dec 2004 12:04:58 -0800  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Update the helpdata.  It conforms to the gtk2 client but is now inaccurate
	for other clients.

	Patch by Vasco in PR#10932.


Thu, 16 Dec 2004 11:58:34 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/x.252

	Don't AC_TRY_RUN when cross-compiling.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11214.


Thu, 16 Dec 2004 11:52:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Add a tooltip to the turn-done button that clarifies the shift+enter
	shortcut.

	Patch by Christian Knoke <chrisk@cknoke.de> and Vasco in PR#11332.


Thu, 16 Dec 2004 11:45:18 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Remove a call to die() in the sanity check code.  Instead just call
	SANITY_CHECK.  Also added is some fallback code to correct the situation
	when a city is invalid (assuming the sanity doesn't abort).

	Patch by me in PR#11376.


Thu, 16 Dec 2004 11:43:46 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c

	Use is_city_center in resolve_city_emergency.

	Patch by me in PR#11414.


Thu, 16 Dec 2004 10:59:28 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Merge put_one_tile_iso into put_one_tile.  Drop put_tile and put_tile_iso
	completely.

	Patch by me in PR#11525.


Thu, 16 Dec 2004 09:51:48 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	complete


Thu, 16 Dec 2004 02:25:42 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c

	Create a new array pcity->usage[] that holds the support/upkeep values for
	the city.  This array is initialized in city_support() inside
	generic_city_refresh() and is used to calculate surpluses.

	Patch by me in PR#11519.


Wed, 15 Dec 2004 16:37:41 -0800  kauf:

	Changed paths:
	   M /trunk/server/plrhand.c

	Remove redundant gamelog call.

	See PR#11535. Patch by Jason.


Wed, 15 Dec 2004 16:32:21 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#10688: Fix canvas_put_sprite failure with pixbufs and a negative canvas
	position.

	Patch by Jason Dorje Short.


Wed, 15 Dec 2004 16:26:13 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#11445: Fix Gdk-CRITICAL in canvas_fill_sprite_area.

	Reported by Jason Dorje Short, patch by me.


Wed, 15 Dec 2004 16:00:28 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	PR#11516: Fix bug in gdk_pixbuf_new_from_sprite.

	Patch by Jason Dorje Short.


Wed, 15 Dec 2004 15:18:18 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.h

	GObjectify GtkPixcomm.


Wed, 15 Dec 2004 11:28:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/Makefile.am
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.h
	   A /trunk/common/requirements.c
	   A /trunk/common/requirements.h
	   M /trunk/server/ruleset.c

	Add a new set of files requirements.[ch].  Move effect requirements code
	into these files, along with some new reqs helper functions.

	Patch by me in PR#11506.


Wed, 15 Dec 2004 05:09:54 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/menu.c

	Xaw: Fix shortkeys for load/unload orders. Patch by Christian Knoke
	<chrisk@cknoke.de> in PR#11526


Wed, 15 Dec 2004 01:06:59 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Avoid using PATH_MAX, since it may not be defined.

	Patch by Gael Le Mignot <kilobug@freesurf.fr> and myself in PR#10744.


Tue, 14 Dec 2004 23:58:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex.tilespec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec
	   M /trunk/doc/README.graphics

	Add a new fogstyle setting controlling how fog of war is done.  A value
	of 0 means the old iso-view style while a value of 1 means the old
	non-iso-view style.

	Patch by me in PR#11464.


Tue, 14 Dec 2004 23:18:03 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/hobbits.ruleset

	Remove a single-quote from a comment because it confuses gettext.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11405.


Tue, 14 Dec 2004 20:30:52 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c

	Put rail_food_bonus, rail_shield_bonus, and rail_trade_bonus into an array
	rail_tile_bonus indexed by output type.

	Patch by me in PR#11503.


Tue, 14 Dec 2004 20:24:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common
	   M /trunk/common/.cvsignore

	Add packets_generate (a temporary file used during compilation) to
	.cvsignore.


Tue, 14 Dec 2004 19:59:21 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdiplomacy.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	Avoid doing AI diplomacy updates when a saved game is loaded or a new
	continent is discovered.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10211 with
	name changes by me.


Tue, 14 Dec 2004 19:31:58 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	PR#11496: Popping up multiple intel dialogs is broken.

	Reported by Jason Dorje Short, patch by me.


Tue, 14 Dec 2004 18:02:51 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/byzantium-shield.png
	   A /trunk/data/flags/byzantium.png
	   A /trunk/data/flags/byzantium.svg
	   A /trunk/data/flags/constantine-shield.png
	   A /trunk/data/flags/constantine.png
	   A /trunk/data/flags/constantine.svg
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   A /trunk/data/nation/byzantium.ruleset

	Add a Byzantine nation.

	Nation by Nikos Mavrogiannopoulos <n.mavrogiannopoulos@student.tue.nl> in
	PR#11382.


Tue, 14 Dec 2004 16:56:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	Use a best-time algorithm for finding goto routes.

	See PR#9406.


Tue, 14 Dec 2004 16:49:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Use create_city_virtual to make new cities.

	Patch by Benedict Adamson <badamson@spamcop.net> in PR#11350.


Tue, 14 Dec 2004 16:41:42 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiexplorer.c

	Improve the handling of exponential math in the AI explorer code.  This
	fixes some problems where long-distance exploration could fail because of
	an underflow.

	Reported by <ph.bayon@netcourrier.com> in PR#11354.  Patch by Mike Kaufman
	and myself.


Tue, 14 Dec 2004 16:20:53 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/readline.m4

	Add a check for the tinfo library.

	See PR#11443.


Tue, 14 Dec 2004 16:15:12 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/server/savegame.c

	Fix some city refreshing problems.

	See PR#11415.


Tue, 14 Dec 2004 16:12:36 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/inteldlg.h
	   M /trunk/data/Freeciv.in

	Add intelligence diplomacy report in xaw client. Patch by me in PR#5479


Tue, 14 Dec 2004 15:45:15 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/resources.c
	   M /trunk/data/Freeciv.in

	Fix xaw3d client problem with "*international" attribute (PR#11468).
	Patch by me with Vasco help.


Mon, 13 Dec 2004 08:23:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/player.c

	Change callers of city_gold_surplus() to just check pcity->surplus[O_GOLD].
	The city_gold_surplus function is removed and replaced with two new
	functions city_unit_upkeep and city_building_upkeep.

	Patch by me in PR#11483.


Mon, 13 Dec 2004 08:20:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c
	   M /trunk/server/savegame.c

	Put a city's base output from citizens into an array, indexed by output
	type.

	Patch by me in PR#11485.


Sun, 12 Dec 2004 17:49:08 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Use the HAPPY_COST constant when calculating citizen happiness.

	Patch by me in PR#11462.


Sun, 12 Dec 2004 17:46:07 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Free the CM state when we're done with it.

	Patch by me in PR#11465.


Sun, 12 Dec 2004 17:44:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Fix the capstring by removing some erronous capabilities and checks.

	Patch by me in PR#11469.


Sat, 11 Dec 2004 19:44:47 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h
	   M /trunk/client/text.h
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h

	Change some function player parameters to const.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11478 with changes by
	me.


Sat, 11 Dec 2004 15:10:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c

	Fix shortcuts for menu commands.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11431.


Sat, 11 Dec 2004 15:07:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't draw terrain backgrounds when there's no tile.

	Patch by me in PR#11446.


Sat, 11 Dec 2004 02:41:26 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Correctly set surplus[O_GOLD] when a city is in disorder.

	Patch by me in PR#11440.


Sat, 11 Dec 2004 02:34:48 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/text.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/score.c

	Put city production values into an array.

	Patch by me in PR#11439.


Fri, 10 Dec 2004 15:17:07 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Fix EFT_FOOD_INC_TILE and EFT_TRADE_INC_TILE.

	Patch by me in PR#11300.


Fri, 10 Dec 2004 14:08:00 -0800  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Provide better fallback CM settings when auto_arrange_workers can't meet
	minimal surpluses in food and shields.

	See PR#11379.


Fri, 10 Dec 2004 13:19:20 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.h

	Change AI code  so it doesn't use specific references to specialist types.
	Add a new constant HAPPY_COST.

	Patch by Per Mathisen and myself in PR#11399.


Thu, 09 Dec 2004 19:53:45 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Merge citygov_free_shield, citygov_free_food, and citygov_free_gold into
	a single function citygov_free_upkeep.

	Patch by me in PR#11404.


Thu, 09 Dec 2004 19:42:26 -0800  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Clear the ai unit role for settlers trying to build cities under a human
	player.

	See PR#11358.


Thu, 09 Dec 2004 17:27:36 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/menu.c

	gui-win32: fix shortcut keys that use multiple modifier keys.

	Reported as part of PR#11398.  Patch by me.


Thu, 09 Dec 2004 17:18:38 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	Forward port: gui-win32: improve the city info in the city dialog to show
	more information.

	Patch by me in PR#9137.


Thu, 09 Dec 2004 16:41:37 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/dialogs.h
	   M /trunk/client/gui-win32/menu.c

	gui-win32: Add confirmation to choices in revolution menu.

	Reported as Jason as PR#10888.  Patch by me.


Thu, 09 Dec 2004 16:23:56 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/diplodlg.c

	gui-win32: fix second player's gold prompt in diplomacy dialog.

	Reported as part of PR#11284.  Patch by me.


Thu, 09 Dec 2004 16:18:16 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c

	gui-win32: fix combo box scroll bars.

	Reported as PR#11365.  Patch by me.


Thu, 09 Dec 2004 16:07:42 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/repodlgs.c

	gui-win32: implement Game Options dialog.

	Reported as PR#11157.  Patch by me.


Thu, 09 Dec 2004 15:41:56 -0800  cazfi:

	Changed paths:
	   M /trunk/data/helpdata.txt
	   M /trunk/doc/BUGS
	   M /trunk/doc/CodingStyle
	   M /trunk/doc/HACKING
	   M /trunk/doc/README
	   M /trunk/doc/README.AI

	Updated URLs in documentation.

	Requested by Christian Knoke <chrisk@cknoke.de> in #11060.


Thu, 09 Dec 2004 13:28:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Avoid completely failing when the mapview becomes larger than the map.

	See PR#8998.


Thu, 09 Dec 2004 13:27:48 -0800  per:

	Changed paths:
	   M /trunk/ai/aisettler.c

	Make AI not settle inside other players' borders when they are in peace
	or alliance with them. See PR#10087. As requested by ... lots.


Thu, 09 Dec 2004 12:17:46 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h

	- Rename get_food_trade_shields as get_worked_tile_output.
	- Rename get_tax_income as add_tax_income, and change its prototype.  The
	  function now adds on the tax income to the existing values rather than
	  resetting them.
	- Add a new function get_citizen_output.  This gets the output of both
	  workers and specialists.
	- Change some aicity code to use get_citizen_output.  It now takes
	  specialist output into account.

	Patch by Per Mathisen and myself in PR#11271.


Thu, 09 Dec 2004 10:59:56 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aitech.c

	Don't consider researching nonexistent techs.

	See PR#11418.


Thu, 09 Dec 2004 10:30:00 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c
	   M /trunk/server/report.c

	Put city waste values into an array, indexed by output type.

	Patch by me in PR#11403.


Thu, 09 Dec 2004 08:46:39 -0800  kauf:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Add additional helptext for the chatline.

	See PR#11339. Patch by Jason and me.


Thu, 09 Dec 2004 08:38:35 -0800  kauf:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/gamelog.h
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h
	   M /trunk/server/unittools.c

	Make the gamelog XML. The intent here is to modify the gamelog
	so that usernames are associated with players and that the gamelog
	is easier to parse. Also different win scenarios (allied win, team win)
	are handled properly.

	See PR#9321. Patch by me.


Wed, 08 Dec 2004 19:31:11 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Add a better error message if iconv can't be found.

	See PR#11363.


Wed, 08 Dec 2004 18:21:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't load sprites for nonexistent techs.

	See PR#11418.


Wed, 08 Dec 2004 12:48:33 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/tech.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c

	Use get_tech_name() instead of advances[tech].name in many places.  This
	prevents a potential crash when the names of A_FUTURE or A_UNSET are
	looked up.

	See PR#11317.


Wed, 08 Dec 2004 09:36:09 -0800  per:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/report.c

	This patch removes two specific references to specific specialist types
	in the server.
	- In the endgame report, don't show types of individual specialists.
	Just show the number of total specialists.
	- When shrinking a city we look first to remove specialists from it
	(ideally this should be done via a CM call - cm_remove_one). Currently
	this looks at each specialist in turn by name, but it's just as easy to
	do it without naming the specialists.

	Patch by Jason in PR#11400.


Wed, 08 Dec 2004 08:53:53 -0800  per:

	Changed paths:
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/settings.c

	Move angry citizen option from server to rulesets. Part of PR#9590.
	(Value was already added for civ1 ruleset, but never read.)


Wed, 08 Dec 2004 08:47:53 -0800  per:

	Changed paths:
	   M /trunk/common/aicore/aisupport.c

	Fix crash which occurs if AI evaluates the sale price of a city that has
	units in it that do _not_ obsolete. See PR#11410.


Wed, 08 Dec 2004 08:07:55 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Add some more logging to city and tech gold worth, to help debug
	problems in this area.


Wed, 08 Dec 2004 06:36:22 -0800  per:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/ruleset.c

	Add option for modpacks to make units require a specific government
	before they can be built. See PR#10630.


Tue, 07 Dec 2004 23:48:24 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aisettler.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/cityturn.c

	Merge city_corruption and city_waste into a single function.

	Patch by me in PR#11375.


Tue, 07 Dec 2004 20:28:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c

	Remove some scattered references to specific specialist types.  Instead
	the "generalized" specialist interface is used.

	Patch by me in PR#11377.


Tue, 07 Dec 2004 20:18:09 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/city.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/settlers.c

	Merge utype_food_cost, utype_shield_cost, and utype_gold_cost into a
	single function utype_upkeep_cost.

	Patch by me in PR#11374.


Tue, 07 Dec 2004 14:38:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Add helptext strings for the client options.

	Patch by me in PR#11197.


Tue, 07 Dec 2004 10:39:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1.serv
	   M /trunk/data/civ2.serv
	   M /trunk/server/gamehand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c

	Remove the civstyle server options and all traces of it.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#11367 with
	changed capability by me.


Tue, 07 Dec 2004 10:37:35 -0800  cazfi:

	Changed paths:
	   M /trunk/ai/aiferry.c

	Removed obsoleted FIXME comments. See #11337.


Tue, 07 Dec 2004 10:24:23 -0800  cazfi:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Removed unused is_sea_usable()

	Requested by Jason in #7545.


Tue, 07 Dec 2004 10:01:12 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h

	Make some player parameters const.

	Patch by me in PR#11353.


Tue, 07 Dec 2004 09:27:23 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Avoid a crash with AI players in is_allowed_city_name.

	See PR#11372.


Tue, 07 Dec 2004 02:26:06 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/diplodlg.c

	Win32: Fix diplomacy dialog when there are more than 100 techs.

	Reported as PR#6842.  Patch by me.


Mon, 06 Dec 2004 13:41:49 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Mon, 06 Dec 2004 12:42:25 -0800  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix the message when a city needs a sewer system (being built) to grow
	any further.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10923 with
	changes by me.


Mon, 06 Dec 2004 10:01:15 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unittools.c

	Put unit upkeep amounts into an array, indexed by output type.

	Patch by me in PR#11347.


Mon, 06 Dec 2004 09:54:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.c
	   M /trunk/server/ruleset.c

	Put government upkeep parameters into a pair of arrays, indexed by output
	type.

	Patch by me in PR#11346.


Sun, 05 Dec 2004 16:47:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Translate the string "Other".

	Patch by me in PR#11334.


Sun, 05 Dec 2004 14:03:00 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/cityrep.c

	Win32: add support for dynamic city report fields.

	Patch by me in PR#11356.


Sun, 05 Dec 2004 10:02:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c

	PR#11188: Misc kwin issues with several popup dialogs.

	Reported by Michael Mielke <michael@mielke.cc> and Mike Jing, patch by me.


Sun, 05 Dec 2004 05:04:48 -0800  cazfi:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Added Marko Lindqvist to maintainers, updated email for old contributions.


Sun, 05 Dec 2004 05:00:16 -0800  cazfi:

	Changed paths:
	   M /trunk/server/citytools.c

	Don't try to update nonexistant_dumb city.

	Patch by me in PR#11065.


Sun, 05 Dec 2004 04:32:49 -0800  tsdgeos:

	Changed paths:
	   M /trunk/po/ca.po

	make update-po


Sun, 05 Dec 2004 02:07:32 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/specvec.h

	Make handling of int and size_t values more clear.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11323.


Sun, 05 Dec 2004 01:21:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c
	   M /trunk/server/ruleset.c

	Simplify many network packets, by putting output-style fields into array
	form.

	Patch by me in PR#11325.


Sun, 05 Dec 2004 01:08:19 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c

	Put the food_cost, shield_cost, and gold_cost fields of the unit_type
	structure into an array upkeep[].

	Patch by me in PR#11328.


Sun, 05 Dec 2004 01:01:00 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Merge get_city_shield_bonus, get_city_science_bonus,
	get_city_luxury_bonus, and get_city_gold_bonus into a single function
	get_city_output_bonus.

	Patch by me in PR#11324.


Sun, 05 Dec 2004 00:50:46 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/srv_main.c

	Allow HACK connections to use non-ascii player names.

	Patch by me in PR#11289.


Sat, 04 Dec 2004 20:23:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/gui_main.c

	#include "civclient.h" from gui-stub/gui_main.c.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11316 with changes by
	me.


Sat, 04 Dec 2004 20:20:11 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/cityturn.c

	Add a new function best_specialist that returns the best specialist type
	for a particular output type that a city can use.  Use this function when
	placing new citizens for cities with the CITYO_EINSTEIN or CITYO_TAXMAN
	options set.

	Patch by me in PR#11318.


Sat, 04 Dec 2004 13:00:24 -0800  kauf:

	Changed paths:
	   M /trunk/server/srv_main.c

	We don't want to treat the observer as a normal
	player _unless_ aifill maxes out the regular players.

	See PR#11111. Reported by Peter Panov <agent010P@comcast.net>. Patch by me.


Sat, 04 Dec 2004 02:42:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Rename the "class" field of the nation struct as "category".

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11278.


Sat, 04 Dec 2004 02:21:30 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/utility/fcintl.h

	Check for the libintl.h header at compile time.  Include this header even
	if NLS isn't in use, but if NLS is disabled then undefine the translation
	functions before defining them to be empty.  This fixes a potential problem
	where if libintl.h was included anyway it would cause a conflict with the
	empty definitions.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11313.


Sat, 04 Dec 2004 02:09:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/ruleset.c

	Put government corruption and waste parameters into an array, indexed by
	output type.

	Patch by me in PR#11305.


Sat, 04 Dec 2004 01:27:00 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	Fix the effect and helptext for Oracle.

	Reported by Eddie Anderson <saywhat@softhome.net> in PR#10858.


Fri, 03 Dec 2004 20:44:08 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Avoid a crash when a goto is initiated for a unit with orders.

	Patch by me in PR#11327.


Fri, 03 Dec 2004 16:29:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sernet.c
	   M /trunk/server/unittools.c

	Add a manditory capability.  ALl old optional capabilities are removed.

	See PR#11299.


Fri, 03 Dec 2004 15:30:28 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/government.h
	   M /trunk/server/ruleset.c

	Change the government bonus values into a pair of arrays, and rename them
	to match the effects they provide.

	Patch by me in PR#11301.


Fri, 03 Dec 2004 15:00:02 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/settlers.c

	Remove city_xxx_bonus().  The callers now just access pcity->bonus[]
	instead.

	Patch by me in PR#11302.


Fri, 03 Dec 2004 11:01:10 -0800  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Use get_tech_name instead of advances[].name to get the name of a tech
	goal in choose_tech_goal.

	Reported by Jan Tobias Muehlberg <muehlber@fh-brandenburg.de> in PR#11317.


Fri, 03 Dec 2004 10:53:16 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#11195: Make buy production popup non-modal.

	Bug reported by Ryan Thiessen <ryan@ryanthiessen.com>, patch by me.


Fri, 03 Dec 2004 01:53:35 -0800  jdorje:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	Add a debugging function to print out the terrain percentages in a
	newly-generated map.

	Patch by me in PR#10722.


Fri, 03 Dec 2004 01:39:41 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/cm.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Change SP_COUNT into a variable.  Use SP_MAX in places where a
	compile-time constant is needed.

	Patch by me in PR#11287.


Fri, 03 Dec 2004 01:26:23 -0800  jdorje:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	Lower the amount of forest and swamp (creating more grassland and plains).

	Reported by Mike Jing <miky40@hotmail.com> in PR#10722.  Patch  by
	Marcelo Burda <mburda@ulb.ac.be>.


Thu, 02 Dec 2004 02:20:30 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c

	Change the pcity->xxx_bonus fields into a single array, indexed by output
	type.

	Patch by me in PR#11272.


Thu, 02 Dec 2004 02:14:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/government.h
	   M /trunk/server/ruleset.c

	Change the gov->[food|trade|shields]_before_penalty and
	gov->celeb_[food|trade|shields]_before_penalty fields into a pair of
	arrays indexed by output type.

	Patch by me in PR#11270.


Thu, 02 Dec 2004 02:10:05 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h

	Move the output_type and specialist_type enums into fc_types.h.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11281 with added
	comment by me.


Thu, 02 Dec 2004 02:06:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.h

	Give a name to the anonymous citizen enumeration.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11276 with changes
	by me.


Thu, 02 Dec 2004 01:51:22 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Use AC_HEADER_STDBOOL to check for stdbool, instead of a generic header
	check.

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11298.


Wed, 01 Dec 2004 17:04:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/options.h

	Rename the "class" field of the client_option struct as "category".

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11279.


Wed, 01 Dec 2004 16:35:27 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/hobbits.ruleset

	Remove Frodo as a leader of the hobbit nation (since he wasn't).


Wed, 01 Dec 2004 15:43:03 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	If an activity is given for a unit with orders, free the orders.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11152.


Wed, 01 Dec 2004 14:15:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/server/srv_main.c
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h

	Use transliteration in string character set conversion in the GTK1.2, XAW,
	and Win32 clients.

	Patch by me in PR#10971.


Wed, 01 Dec 2004 11:21:17 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/small.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/doc/README.graphics

	- Update README.graphics.
	- Remove/comment out deprecated/unused elements in tilesets.

	Patch by me in PR#11253.


Wed, 01 Dec 2004 11:01:38 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/taiwanese.ruleset

	Add more cities to the Taiwanese ruleset.

	Patch by Fang-Pin Chang <fchang@forked.net> in PR#11274.


Wed, 01 Dec 2004 10:56:53 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/chatline.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/data/Freeciv.in

	Xaw: Add multibyte charset support for xaw client. Patch by Vasco in PR#11163


Tue, 30 Nov 2004 22:58:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/attribute.c

	When there is an attribute error (like those commonly caused by the CMA),
	instead of aborting or continuing unimpeded, we instead print an error
	message, delete all attribute data, and continue.

	See PR#11237.


Tue, 30 Nov 2004 22:46:31 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Change the event for city conquest to E_UNIT_WIN_ATT.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11252.


Tue, 30 Nov 2004 00:37:03 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/player.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/srv_main.c

	Replace the city output surplus fields with an array.

	Patch by me in PR#11228.


Mon, 29 Nov 2004 22:54:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/options.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/ruleset.c

	Change the city report field data:
	- The number of city report fields is dynamic.
	- Fields for types of specialist are added on when the rulesets are read.
	- Option values for shown fields are read only after rulesets are received.

	Patch by me in PR#11091.


Mon, 29 Nov 2004 22:14:42 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiferry.c

	Make sure a boat selects itself a boss from units owned by the same player.

	Reported by Caz, patch by myself in PR#10437.


Mon, 29 Nov 2004 21:46:34 -0800  glip:

	Changed paths:
	   M /trunk/data/default/terrain.ruleset

	List some missing terrain flags in the comments preambule.

	Reported by Marko Lindqvist, patch by Jason.  PR#11219


Mon, 29 Nov 2004 21:39:12 -0800  glip:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Merges get_tile_food_base, get_tile_shield_base, and get_tile_trade_base
	into a single function get_tile_output_base.

	13 insertions(+), 39 deletions(-)

	Patch by Jason in 11254.


Mon, 29 Nov 2004 18:08:22 -0800  jdorje:

	Changed paths:
	   M /trunk/server/report.c

	Fix a bug in PR#11212.

	Patch by Vasco; see PR#11212.


Mon, 29 Nov 2004 17:49:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Call map_canvas_resized in init_mapcanvas_and_overview().

	Patch by Frederic Briere <fbriere@fbriere.net> in PR#11174 with changes by
	me.


Mon, 29 Nov 2004 16:36:10 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.h
	   M /trunk/common/player.h
	   M /trunk/server/score.c

	Replace the hard-codes specialist data in the score code with an array.

	Patch by me in PR#11212.


Mon, 29 Nov 2004 14:22:26 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ1/techs.ruleset
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/techs.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/techs.ruleset
	   M /trunk/data/history/units.ruleset

	Update/improve documentation in rulesets.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#11218.


Mon, 29 Nov 2004 13:13:20 -0800  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Fix a bug in PR#11224.


Mon, 29 Nov 2004 12:56:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/manual/civmanual.c
	   M /trunk/server/ruleset.c

	Replace tile type food/shields/trade fields with an output[] array indexed
	by output type.

	Patch by me in PR#11224.


Mon, 29 Nov 2004 12:52:42 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Mon, 29 Nov 2004 12:21:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/server/ruleset.c

	Replace min_city_center_[food|shield|trade] with an array indexed by
	output type.

	Patch by me in PR#11231.


Mon, 29 Nov 2004 12:13:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.c

	Fix a compilation problem in gui-gtk.

	Reported by David Stewart <dmstewart@gmail.com>.


Mon, 29 Nov 2004 12:03:38 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Recalculate scores when loading a saved game.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11205.


Mon, 29 Nov 2004 08:19:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Make sure cities are refreshed before making a CM query on them.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11192.


Mon, 29 Nov 2004 08:05:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c

	Output an error message when a bad parameter is given for the --port or
	--debug command-line options.

	Patch by me in PR#11167.


Sun, 28 Nov 2004 07:51:38 -0800  vasc:

	Changed paths:
	   M /trunk/client/text.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/server/plrhand.c

	PR#11138: Great Library discoveries claim 'acquired by a building'.

	Reported by Craig Jennings <craig@readingboy.com>.


Sat, 27 Nov 2004 21:39:24 -0800  glip:

	Changed paths:
	   M /trunk/ai/aihunt.c

	The ai_hunter_manage function tries launching missiles at its target
	and it also tries directly attacking the target.  However the code didn't
	check if the missile was successful, which make a pointer obsolete
	and can cause a crash.

	Bug discovered and fixed by Benedict Adamson in 11227.


Sat, 27 Nov 2004 20:37:09 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/cma_fe.c

	Win32: Fix compilation in cma_fe.c.

	Patch by me in PR#11233.


Sat, 27 Nov 2004 14:11:09 -0800  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Comment an earlier fix for a leak in create_danger_segment, put an error
	message and move things around a bit.

	Closes 10613.  Original bug reported and fixed by Jason.


Sat, 27 Nov 2004 12:42:00 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Have base_get_xxx_tile call get_tile_xxx_base instead of doing its own
	calculations.

	Patch by me in PR#11208.


Sat, 27 Nov 2004 10:48:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Fix the helptext for oceanic terrains.

	Requested by Christian Knoke <chrisk@cknoke.de> in PR#11206.


Fri, 26 Nov 2004 14:42:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/ruleset.c

	Allow specialists to provide any or all of science, gold, and luxury.

	Patch by me in PR#11142.


Fri, 26 Nov 2004 14:28:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/server/civserver.c
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Convert command-line parameters from the local to the internal encoding
	when reading them.

	Patch by me in PR#11168 with additional style fixes.


Fri, 26 Nov 2004 14:15:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/cma_fe.c

	Fix the XAW client.

	Reported by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#11203.


Fri, 26 Nov 2004 01:49:12 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-xaw/cma_fe.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	- Rename cm_stat_get_name as get_output_name.
	- Add a new function get_output_identifier.
	- Both functions go into city.[ch].

	Patch by me in PR#11186.


Thu, 25 Nov 2004 15:38:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add better terrain helptext.

	Patch by me in PR#8904.


Thu, 25 Nov 2004 15:26:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-xaw/cma_fe.c

	Remove some unnecessary calls to cm_query_result.  cm_copy_result_from_city
	is used instead.

	Patch by me in PR#11083.


Thu, 25 Nov 2004 14:28:12 -0800  jpel:

	Changed paths:
	   M /trunk/po/nl.po

	keeping nl.po up to date


Wed, 24 Nov 2004 23:20:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-xaw/cma_fe.c
	   M /trunk/client/options.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.h

	Add a new iterator output_type_iterate.  Use it in many places.

	Patch by me in PR#11172.


Wed, 24 Nov 2004 22:57:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/messagewin.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.h
	   M /trunk/client/gui-stub/cityrep.c
	   M /trunk/client/gui-stub/messagewin.c
	   M /trunk/client/gui-stub/plrdlg.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/messagewin.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/messagewin.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/include/cityrep_g.h
	   M /trunk/client/include/messagewin_g.h
	   M /trunk/client/include/plrdlg_g.h
	   M /trunk/client/include/repodlgs_g.h
	   M /trunk/client/messagewin_common.c

	Merge the raise_*_dialog with popup_*_dialog functions.  The new function
	is just called popup_*_dialog and has a boolean parameter telling whether
	the dialog should be raised.

	Patch by James Canete in PR#10879.  XAW client parts by Egor Vyscrebentsov.


Wed, 24 Nov 2004 22:37:30 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Don't let units sentry on tiles where they cannot survive (like air units
	in flight).

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#9552.


Wed, 24 Nov 2004 22:29:49 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/gamelog.c
	   M /trunk/server/report.c
	   M /trunk/server/score.c
	   M /trunk/server/score.h
	   M /trunk/server/srv_main.c

	Restructure the score code:

	- total_player_citizens() is moved into score.c.
	- civ_score is split into get_civ_score and calc_civ_score.  The former
	  does not change the score structure but only queries it.  The latter
	  calculates scores from scratch and is now called twice per civ per
	  turn.

	This should fix some bugs where the act of saving the game could itself
	change the game state.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10359.
	Patch by me.


Wed, 24 Nov 2004 21:46:48 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	When a caravan is disbanded in a city building a wonder, treat it the same
	as if it is helping to build the wonder.

	Reported by Christian Knoke <chrisk@enter.de> in PR#3989.  Patch by me.


Wed, 24 Nov 2004 21:39:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/connection.c
	   M /trunk/server/sernet.c
	   M /trunk/utility/support.c

	Fix some bugs where select ruturning an EINTR error was not handled
	correctly (in most cases we just reenter the select call).

	Patch by me in PR#9032.


Wed, 24 Nov 2004 21:34:35 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/common/city.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityturn.c

	Change some instances of -1 to U_NOT_OBSOLETED.

	Patch by me in PR#9916.


Wed, 24 Nov 2004 21:31:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/messagewin_common.c
	   M /trunk/common/map.c
	   M /trunk/common/tech.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/mapgen_topology.c
	   M /trunk/server/generator/mapgen_topology.h

	Optimize a few calls to MAX().

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10180, with
	style changes by me.


Wed, 24 Nov 2004 17:05:24 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	PR#11180: Fix bugs in gtkliststore handling.

	Patch by me.


Wed, 24 Nov 2004 11:14:12 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.h

	Remove the prototype for the nonexistant function ai_evaluate_government.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#11184.


Wed, 24 Nov 2004 10:48:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/connection.h
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets.c
	   M /trunk/common/packets_gen.c
	   M /trunk/server/sernet.c

	Replaces users of is_server in the packet code.  Instead each connection
	tracks an is_server value.

	Patch by me in PR#11122.


Wed, 24 Nov 2004 01:59:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.h
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-xaw/cma_fe.c

	Fix some compilation problems in the GUI clients.

	See PR#11173.


Tue, 23 Nov 2004 23:31:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Add categories for client options.

	Patch by me in PR#8501.


Tue, 23 Nov 2004 22:31:25 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Call generic_city_refresh any time information is received about one of
	our cities.

	Patch by me in PR#11154.


Tue, 23 Nov 2004 20:37:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Draw the transported_by graphic underneath most other unit graphics.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11129.


Tue, 23 Nov 2004 19:41:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't draw extra graphics for black (unknown/unreal) tiles.

	Patch by me in PR#11143.


Tue, 23 Nov 2004 19:34:57 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/cma_fe.h
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.h
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-xaw/cma_fe.c
	   M /trunk/client/options.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h
	   M /trunk/server/cityturn.c

	Move the cm_stat enumeration into the common code and rename it to be
	non-CM-specific.

	Patch by me in PR#11146.


Tue, 23 Nov 2004 16:23:10 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Change the size of several buffers to depend on global constants.

	Patch by me in PR#11078.


Tue, 23 Nov 2004 16:16:14 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/ioz.c

	Increase the size of the buffer in fz_fprintf.

	Patch by me in PR#11079.


Tue, 23 Nov 2004 14:01:00 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	PR#11067: Revamp player report update code.

	Patch by me.


Tue, 23 Nov 2004 13:19:34 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	PR#10967: Add an horizontal scrollbar to the help dialog text view.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Tue, 23 Nov 2004 11:48:23 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/taiwanese.ruleset

	Fix misspellings in names of Taiwanese cities.

	Patch by Wen-Hung Fang <wenhungf@yahoo.co.jp> in PR#11145.


Tue, 23 Nov 2004 10:10:21 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/belgian.ruleset

	Improve the Belgian nation ruleset.

	Patch by Filip Van Raemdonck <mechanix@debian.org> in PR#11098.


Tue, 23 Nov 2004 09:58:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c

	Fix a typo bug.

	Patch by David Stewart <dmstewart@gmail.com> in PR#11155.


Tue, 23 Nov 2004 09:44:25 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Change an E_NOEVENT message to E_UNIT_WIN_ATT.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11130.


Tue, 23 Nov 2004 09:36:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	Revert a bug in the turn-done unit command.

	See PR#11134.


Tue, 23 Nov 2004 09:23:40 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	PR#11105: gtk2-client revolution bug.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 23 Nov 2004 07:44:10 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h

	PR#11114: Units should have transparent backgrounds.

	Reported by Mike Kaufman <kaufman@orion.physics.wisc.edu>, patch by me.


Tue, 23 Nov 2004 07:39:01 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#11115: Fix NULL pointer chasing bug in update_server_list.

	Reported by Benedict Adamson <badamson@spamcop.net>, patch by me.


Mon, 22 Nov 2004 11:38:39 -0800  jdorje:

	Changed paths:
	   M /trunk/data/trident/tiles.png

	Make fog in the trident tileset darker.

	See PR#11090.


Mon, 22 Nov 2004 11:31:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Make a client-side map structure holding decorations for each tile.  Move
	the ptile->client.hilite field into this structure.

	Patch by me in PR#11124.


Mon, 22 Nov 2004 11:24:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/srv_main.c

	Don't link to the server function dealloc_id.  Instead allow the server
	to specify a callback function that the common code will call for unit
	deallocation.

	Patch by me in PR#11116.


Mon, 22 Nov 2004 11:14:42 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/client/agents/sha.c
	   M /trunk/client/goto.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/citymap.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/mapgen_topology.h
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/temperature_map.c
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/score.c
	   M /trunk/server/settlers.c

	- Rename MAX_MAP_INDEX as MAP_INDEX_SIZE.
	- Change some more code to use MAP_INDEX_SIZE or map_num_tiles().

	Patch by me in PR#11119.


Mon, 22 Nov 2004 07:04:36 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	We might die while doing goto in bodyguard function, and proceed to try
	rampaging while dead, with predictable results. This fixes the problem.
	See PR#10980.


Mon, 22 Nov 2004 07:02:04 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Add some asserts. From patch in PR#11009 by Benedict Adamson.


Sun, 21 Nov 2004 23:54:47 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/menu.c

	Don't activate the unload-transporter menu item for empty transporters.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#10999.


Sun, 21 Nov 2004 23:12:39 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Make sanity checks non-fatal unless DEBUG is defined.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#11102 with
	changes by me.


Sun, 21 Nov 2004 20:33:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	Mark some extra strings for translation.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#11134.


Sun, 21 Nov 2004 20:02:07 -0800  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add a missing file to POTFILES.in.

	Patch by Christian Knoke <chrisk@cknoke.de> as part of PR#11134.


Sun, 21 Nov 2004 20:00:20 -0800  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Add helptext for unload-transporter unit.

	Patch by Christian Knoke <chrisk@cknoke.de> as part of PR#11134.


Sun, 21 Nov 2004 18:16:11 -0800  jdorje:

	Changed paths:
	   M /trunk/utility/mem.c

	Remove the limitation on the size of a single malloc, since the size of
	a malloc for a hashtable for loading a very large savegame is hard to
	determine.

	See PR#11028.


Sun, 21 Nov 2004 16:51:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/common/game.h

	Remove references to specific specialist types from the core CMA code.

	Patch by me in PR#11092.


Sun, 21 Nov 2004 16:27:35 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Clear orders when a server-side client goto is started.

	See PR#11140.


Sun, 21 Nov 2004 08:49:22 -0800  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/menu.c

	Add confirmation dialog for targeted revolutions (PR#10889)


Sat, 20 Nov 2004 13:27:19 -0800  jdorje:

	Changed paths:
	   M /trunk/amiga/ReadMe
	   M /trunk/amiga/ReadMe.2Amigas
	   M /trunk/amiga/gettext.c
	   M /trunk/amiga/vsnprintf.c
	   M /trunk/client/gui-mui/gui_main.h
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/chatline.h
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/connectdlg.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_dither.h
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_mem.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/gui_zoom.c
	   M /trunk/client/gui-sdl/gui_zoom.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/menu.h
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/optiondlg.h
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/unistring.c
	   M /trunk/client/gui-sdl/unistring.h
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-sdl/wldlg.h
	   M /trunk/data/isophex/darkness.spec
	   M /trunk/data/isophex/rivers.spec
	   M /trunk/data/isophex/terrain1.spec
	   M /trunk/data/isophex/terrain2.spec
	   M /trunk/doc/de/BUGS.de
	   M /trunk/doc/de/HOWTOPLAY.de
	   M /trunk/doc/de/INHALT
	   M /trunk/doc/de/INSTALL.de
	   M /trunk/doc/de/INSTALL.debian.de
	   M /trunk/doc/de/NEWS.de
	   M /trunk/doc/de/README.cma.de
	   M /trunk/doc/de/README.de
	   M /trunk/doc/de/README.rulesets.de
	   M /trunk/doc/de/README.sound.de
	   M /trunk/doc/fr/BUGS.fr
	   M /trunk/doc/fr/HOWTOPLAY.fr
	   M /trunk/doc/fr/INSTALL.fr
	   M /trunk/doc/fr/README.cma.fr
	   M /trunk/doc/fr/README.fr
	   M /trunk/doc/it/README.cma.it
	   M /trunk/doc/ja/BUGS.ja
	   M /trunk/doc/ja/HOWTOPLAY.ja
	   M /trunk/doc/ja/NEWS.ja
	   M /trunk/doc/ja/README.cma.ja
	   M /trunk/doc/ja/README.ja
	   M /trunk/doc/ja/README_Japanese.ja
	   M /trunk/doc/nl/BUGS.nl
	   M /trunk/doc/nl/HOWTOPLAY.nl
	   M /trunk/doc/nl/NEWS.nl
	   M /trunk/doc/nl/README.nl
	   M /trunk/doc/nl/README.rulesets.nl
	   M /trunk/doc/sv/BUGS.sv
	   M /trunk/doc/sv/CodingStyle.sv
	   M /trunk/doc/sv/HOWTOPLAY.sv
	   M /trunk/doc/sv/README.agents.sv
	   M /trunk/doc/sv/README.attributes.sv
	   M /trunk/doc/sv/README.cma.sv
	   M /trunk/doc/sv/README.graphics.sv
	   M /trunk/doc/sv/README.sound.sv
	   M /trunk/doc/sv/README.sv
	   M /trunk/intl/locale.alias

	Convert files from ISO-8859-1, ISO-8859-2, or EUC-JP into UTF-8.

	See PR#11108.


Sat, 20 Nov 2004 12:30:21 -0800  vasc:

	Changed paths:
	   M /trunk/doc/PEOPLE

	PR#11107: Convert PEOPLE file to UTF-8.


Sat, 20 Nov 2004 11:35:14 -0800  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix some server-side revolution bugs.

	Patch by me in PR#11106.


Sat, 20 Nov 2004 10:08:42 -0800  jdorje:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/server/savegame.c

	Increase the maximum number of startunits, and avoid a potential buffer
	overflow if the number of startunits in the savegame is too large.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9310.


Sat, 20 Nov 2004 09:48:24 -0800  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix a bug with great library research and freecost.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#10965.


Sat, 20 Nov 2004 09:45:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isophex/tiles.png
	   M /trunk/data/isophex/tiles.spec
	   M /trunk/data/isotrident/tiles.png
	   M /trunk/data/isotrident/tiles.spec
	   M /trunk/data/trident/tiles.png
	   M /trunk/data/trident/tiles.spec

	Add a new graphic to show units that are loaded.

	See PR#10714.


Sat, 20 Nov 2004 09:27:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update the units report when city production is changed.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#11076.


Sat, 20 Nov 2004 00:25:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Don't crash if the helptext functions are given bad input.

	Patach by me in PR#10967.


Sat, 20 Nov 2004 00:17:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c

	Remove the has_mask field of the sprite structure.

	Patch by me in PR#11059.


Fri, 19 Nov 2004 00:51:54 -0800  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	fix


Fri, 19 Nov 2004 00:16:56 -0800  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates


Thu, 18 Nov 2004 19:07:31 -0800  glip:

	Changed paths:
	   M /trunk/ai/aitools.c

	Fix the style and add the comment to a recent fix of is_player_dangerous.
	The comment explains why the problem was happening.  Quoting Benedict
	Adamson: "if the AI is a scum bag, he thinks he is a danger to himself."

	Part of 11009, comment researched by Benedict Adamson (bad style was also
	his work).


Thu, 18 Nov 2004 18:34:50 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Fix Isaac Newton's College to do what the helptext says it does.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#11018.


Thu, 18 Nov 2004 18:31:35 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Rewrite the CM code.  Instead of a dynamic programming algorithm, a
	branch-and-bound approach is used.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#10203 with style and
	comment changes by me.


Thu, 18 Nov 2004 18:30:42 -0800  glip:

	Changed paths:
	   M /trunk/server/diplomats.c

	Prevent a crash caused by using a possibly invalid "improvement" variable
	in place of the valid "target" variable in diplomat_sabotage.  Also fix
	the logic: the comment says that the targeted sabotage is twice as hard
	(the probability is divided by 2).  In fact the probability (which is less
	than one by definition) was squared instead.

	Issued as 11058.


Thu, 18 Nov 2004 17:57:36 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Due to a stricter control of the valid unit types, we should check if unit
	can be obsoleted at all before asking whether the obsoleting unit can be
	built.

	Reported in 11066 and in 11069 by Ed Earl Ross.


Thu, 18 Nov 2004 17:31:48 -0800  jcanete:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/server/civserver.c

	win32: Start an exception handler dll at the start of civclient and civserver
	main(), to aid in debugging.

	Patch by me in PR#10849.


Thu, 18 Nov 2004 17:13:01 -0800  jcanete:

	Changed paths:
	   M /trunk/utility/support.c

	Ensure that ctype functions receive a non-negative value.  This fixes a crash
	on win32.

	Reported by several people as PR#10935.  Patch by me.


Thu, 18 Nov 2004 01:56:35 -0800  matusik:

	Changed paths:
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset

	Increase incite_cost.unit_factor. See PR#11014


Wed, 17 Nov 2004 23:44:29 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aitools.c

	Players are not dangerous to themselves.  This fixes one or more bugs
	where a player's own units were considered dangerous.

	Patch by Benedict Adamson <badamson@nildram.co.uk> in PR#11009.


Wed, 17 Nov 2004 23:41:02 -0800  jdorje:

	Changed paths:
	   M /trunk/diff_ignore

	Add .svn files to diff_ignore.

	Patch by Benedict Adamson <badamson@nildram.co.uk> as part of PR#11009.


Wed, 17 Nov 2004 20:17:58 -0800  glip:

	Changed paths:
	   M /trunk/server/unithand.c

	When an AI unit is given orders (by a human, presumably), clear the AI role
	because:
	* the goto dest has probably changed and a role assumes a goto dest with
	certain properties
	* the AI unit needs to notify it's partners (bodyguards, ferries) about the
	change in plans

	Reported, researched and fixed by Jason, PR#10567.


Wed, 17 Nov 2004 11:31:14 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.h
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c

	Update gui-xaw for changes in the common code.

	Reported by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#11036.  Patch by
	me.


Wed, 17 Nov 2004 11:26:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Fix a bug when drawing sprites with no mask.

	Reported by Vijay Kiran Kamuju <infyquest@gmail.com> in PR#11054.


Wed, 17 Nov 2004 11:21:14 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/options.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Remove nonexistant units.  The unit_type_exists() function no longer
	needs to be checked.  All units in the ruleset must "exist".

	Patch by me in PR#9800.


Wed, 17 Nov 2004 10:04:41 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Add an option to save options when exiting the game.  Change the exit
	routines so they all use ui_quit which now checks for this option.

	Patch by me in PR#7255.


Wed, 17 Nov 2004 08:59:07 -0800  jdorje:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h

	Make some parameters for tech functions const.

	Patch by me in PR#9399.


Wed, 17 Nov 2004 08:26:48 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/server/unithand.c

	- In handle_unit_load, look at non-owned units to find the transporter too.
	- Don't try to load a unit onto a ferry if !can_unit_load.  Previously only
	  a positional check was done.  This should fix some of the transported_by
	  AI assertions.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> and others in
	PR#10437.  Patch by me.


Tue, 16 Nov 2004 21:00:05 -0800  jdorje:

	Changed paths:
	   M /trunk/INSTALL

	Make better organization of the INSTALL file.

	Patch by Ed Earl Ross <edearl@satx.rr.com> in PR#11046.


Tue, 16 Nov 2004 13:25:41 -0800  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Avoid a potential crash in the citymap code.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#11022.


Tue, 16 Nov 2004 10:09:47 -0800  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamehand.h
	   M /trunk/server/srv_main.c

	PR#10727: Fix hack challenge protocol issues.

	Patch by me, with help from James Canete, Jason Dorje Short and
	Paul Zastoupil.


Tue, 16 Nov 2004 10:03:02 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#10871: Units report "find nearest" doesn't work for fortified units.

	Reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Tue, 16 Nov 2004 09:56:54 -0800  vasc:

	Changed paths:
	   M /trunk/server/sernet.c

	PR#10994: Auth fail and disconnect causes a segfault.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Tue, 16 Nov 2004 09:23:03 -0800  vasc:

	Changed paths:
	   M /trunk/po/nl.po

	Corrected syntax errors, so the tree compiles again.


Tue, 16 Nov 2004 08:34:26 -0800  jpel:

	Changed paths:
	   M /trunk/po/nl.po

	updated dutch translation, will do some fuzzies later


Mon, 15 Nov 2004 20:08:30 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	PR#10782: Help window shouldn't have an input cursor.

	Reported by Christian Knoke <chrisk@cknoke.de>, with help from
	Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 15 Nov 2004 20:05:52 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/repodlgs.c

	gui-win32: Add "None" to science dialog.

	Patch by me in PR#9595.


Mon, 15 Nov 2004 17:46:49 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	gui-win32: set connect_dlg handle to NULL when window is closed, and make
	handle_game_load() deal with save games loaded from server.

	Reported as PR#10947.  Patch by me.


Mon, 15 Nov 2004 11:03:54 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/dialogs.h

	Add missing prototype, remove cruft.


Mon, 15 Nov 2004 10:56:36 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.h

	Add missing prototype.


Mon, 15 Nov 2004 10:45:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.h
	   M /trunk/client/gui-gtk/helpdlg.c

	PR#11019: Compiling fails in helpdlg.c.

	Reported by Martin Schröder <martin@oneiros.de>, patch by me.


Mon, 15 Nov 2004 10:16:14 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update menus when we receive a new tech.

	Patch by me in PR#7222.


Mon, 15 Nov 2004 09:20:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Limit the overview to (approximately) 120 pixels high.  Otherwise the
	window can become too large in uranus topologies.

	See PR#10591.


Sun, 14 Nov 2004 15:49:17 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/data/freeciv.rc-2.0

	PR#11021: Change text styles.

	Patch by me.


Sun, 14 Nov 2004 15:21:39 -0800  vasc:

	Changed paths:
	   M /trunk/common/connection.c

	Fix connection_common_close to be more verbose and less randomly suicidal
	on erroneous orders.

	Patch by me, in PR#10994.


Sun, 14 Nov 2004 15:09:59 -0800  vasc:

	Changed paths:
	   M /trunk/client/clinet.c

	PR#10974: No feedback when civserver goes away.

	Reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Sun, 14 Nov 2004 14:49:39 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	PR#10996: Segmentation fault on browse file selector.

	Reported by Markus Laire <bugreports.malaire@neverbox.com>, patch by me.


Sun, 14 Nov 2004 14:08:23 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c

	Make CMA preset select require a double-click to activate. Fixes PR#9667.

	Reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Sun, 14 Nov 2004 11:38:56 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	Keep selection on list refresh in the connection page.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net> (PR#7060),
	Christian Knoke <chrisk@cknoke.de> (PR#10917).


Sun, 14 Nov 2004 09:17:00 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	PR#10877: Activate all does not work.

	Reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Sun, 14 Nov 2004 08:47:30 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	PR#10767: Keyboard shortcuts stop working.

	Reported by Mateusz Stefek <mstefek@poczta.fm>, patch by me.


Sun, 14 Nov 2004 05:02:06 -0800  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	updates


Sat, 13 Nov 2004 20:58:26 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/helpdlg.c

	Fix gui-win32 helpdlg, broken in PR#10970.

	Patch by me in PR#11010.


Sat, 13 Nov 2004 20:44:33 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Fix an obvious crash when reading console input when
	SOCKET_ZERO_ISNT_STDIN.

	Reported by James Canete in PR#11011.


Sat, 13 Nov 2004 19:39:09 -0800  vasc:

	Changed paths:
	   M /trunk/client/text.c

	PR#10807: Display diplomatic state for units in the map tile popup.

	Requested by Christian Knoke <chrisk@cknoke.de>, patch by me.


Sat, 13 Nov 2004 18:02:22 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	PR#10861: Use colors instead of styles for player dialog diplomatic state.

	Reported by Robert Smith <r_q_smith@yahoo.com>, patch by me.


Sat, 13 Nov 2004 16:57:40 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	Update number of players without requiring a Return key press.

	Reported by M. R. Johnston <bagpipe@gmail.com> (PR#10937) and
	Mateusz Stefek <mstefek@poczta.fm> (PR#10677), patch by me.


Sat, 13 Nov 2004 16:35:06 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c

	PR10932: Add tooltip to tab close buttons, allow tab scrolling.

	Patch by me.


Sat, 13 Nov 2004 16:01:28 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	PR#10927: Kludge around diplomacy dialog spinbutton bug when player gold is 0.

	Reported by Geert Nijpels <nijpels@euronet.nl>, patch by me.


Sat, 13 Nov 2004 15:35:49 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/include/dialogs_g.h

	PR#10887: gtk2: no confirmation dialog for targeted revolutions.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Sat, 13 Nov 2004 15:22:43 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#9666: gtk2 client dialogs pop under.

	Reported by David Nielsen <dnielsen@breakmygentoo.net>, patch by me.


Sat, 13 Nov 2004 01:26:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/server/civserver.c
	   M /trunk/utility/shared.c

	Use fc_fprintf to do character set conversion of strings
	printed on the command line, especially the "--help" output.

	Patch by me as part of PR#10982.


Sat, 13 Nov 2004 01:16:59 -0800  jdorje:

	Changed paths:
	   M /trunk/server/console.c
	   M /trunk/server/sernet.c
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h

	Fix problems with character encoding conversion on the server console.

	Patch by me as part of PR#10982.


Sat, 13 Nov 2004 01:11:21 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Make the iconv library manditory.

	See PR#10979.


Sat, 13 Nov 2004 00:34:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/manual/civmanual.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/ruleset.c

	Put all data fields for the terrain-specific specials into an array.

	Patch by me in PR#10970.


Sat, 13 Nov 2004 00:27:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Fix a bug preventing the unload-all command from activating
	transported units when they were outside of a city.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#10968.


Sat, 13 Nov 2004 00:25:06 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c
	   M /trunk/utility/registry.c

	- Fix the saving of orders to always save all fields; otherwise the
	  registry isn't able to use a tabular format.
	- Improve the registry's logging when it is forced out of a tabular
	  format.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#7265.


Fri, 12 Nov 2004 19:43:09 -0800  kauf:

	Changed paths:
	   M /trunk/server/userdb/user_db.c

	Fix a gaff in the default registry-based auth database.

	Patch by me.


Fri, 12 Nov 2004 17:42:40 -0800  vasc:

	Changed paths:
	   M /trunk/client/control.c

	PR#10859: Update unit icon in left panel.

	Reported by Christian Knoke <chrisk@cknoke.de>.
	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 12 Nov 2004 16:29:16 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/inputdlg.c

	gui-win32: Focus on the edit box of an input dialog when it is created.

	Reported as PR#10868.  Patch by me.


Fri, 12 Nov 2004 11:46:31 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#10962: Add scrollbars to science report tech list so it doesn't use as
	much space.

	Reported by ktocomp <ktocomp@gala.net>, patch by me.


Thu, 11 Nov 2004 18:54:29 -0800  kauf:

	Changed paths:
	   M /trunk/server/meta.c

	attempt to make servers close their sockets when connected to the metaserver.

	Reported by Paulz. Patch by vasc.


Thu, 11 Nov 2004 13:41:33 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Brought ru.po up to date


Thu, 11 Nov 2004 08:56:39 -0800  matusik:

	Changed paths:
	   M /trunk/server/srv_main.c

	revert wrong commit


Thu, 11 Nov 2004 08:50:54 -0800  matusik:

	Changed paths:
	   M /trunk/server/maphand.h
	   M /trunk/server/srv_main.c

	Increase MAP_NCONT constant. Overflow reported by Erthel in PR#10978


Thu, 11 Nov 2004 08:33:14 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update the units report when a unit is lost.

	Reported by Stepan Roh <stepan@srnet.cz> in PR#10929.


Thu, 11 Nov 2004 06:44:20 -0800  matusik:

	Changed paths:
	   M /trunk/client/helpdata.c

	Increase the name[] buffer size in helpdata so it doesn't crash with too long translated names. Patch by Jason in PR#10967


Wed, 10 Nov 2004 09:02:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/improvement.h
	   M /trunk/common/map.h
	   M /trunk/common/nation.h
	   M /trunk/common/tech.h
	   M /trunk/common/unittype.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/unithand.c

	Don't fit translated names into fixed-sized buffers.  Instead store the
	untranslated names in a fixed-sized buffer (as before) and make the
	translated name into a simple pointer to a string.  This fixes some
	repetitive bugs where having a too-long translation would give truncated,
	sometimes undisplayable strings.

	Reported by ktocomp <ktocomp@gala.net> and many others in PR#10930.  Patch
	by me.


Tue, 09 Nov 2004 22:21:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c

	Close dialogs and exit goto mode when the game ends

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10176.
	Patch by Vasco.


Tue, 09 Nov 2004 22:09:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/server/plrhand.c

	Improve the messages received by the player when a revolution ends.

	See PR#10685.


Tue, 09 Nov 2004 21:22:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Avoid a crash in the help dialog when changing tilesets.

	See PR#10950.


Tue, 09 Nov 2004 18:10:36 -0800  kauf:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/packhand.c

	fix some client problems when observing:

	o don't popup the new city name dialog.
	o don't send city opts packets to the server.
	o don't try to remove unit orders (so goto and patrol icons stay)
	o don't set unit activity to IDLE (so sentry and fortify etc icons stay)

	See PR#10695. Reported by Marek Baczyski. Patch by me.


Tue, 09 Nov 2004 11:41:08 -0800  vasc:

	Changed paths:
	   M /trunk/doc/README.rulesets

	PR#8680: Update README.rulesets.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi>.
	Patch by Per Inge Mathisen <per@freeciv.org>.


Tue, 09 Nov 2004 11:32:38 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	PR#10786: Player dialog allows AI level control.

	From a request by Christian Knoke <chrisk@cknoke.de>.


Tue, 09 Nov 2004 10:25:30 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inputdlg.c

	PR#10757: new preset dialog opens below city window.

	Reported by Christian Knoke <chrisk@cknoke.de>.


Tue, 09 Nov 2004 10:00:31 -0800  vasc:

	Changed paths:
	   M /trunk/server/stdinhand.c

	PR#10882: fix bug in send_load_game_info.

	Bug reported by Christian Knoke <chrisk@cknoke.de>.


Mon, 08 Nov 2004 08:25:25 -0800  matusik:

	Changed paths:
	   M /trunk/data/nation/silesian.ruleset

	Add few cities and one leader to the silesian nation. Suggestions by Metal76 http://forums.civ.org.pl/viewtopic.php?TopicID=2883


Mon, 08 Nov 2004 07:15:54 -0800  matusik:

	Changed paths:
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/server/generator/startpos.c

	Correct terrain settings in civ1/civ2 ruleset and improve starting position algorithm. Patch by Marcelo in PR#10759


Mon, 08 Nov 2004 07:08:20 -0800  per:

	Changed paths:
	   M /trunk/po/no.po

	Update Norwegian translation, by Knut Omang <komang@broadpark.no>.


Mon, 08 Nov 2004 07:06:43 -0800  matusik:

	Changed paths:
	   M /trunk/server/srv_main.c

	The server didn't properly check the nation chosen by a client. Patch by me in PR#10895


Mon, 08 Nov 2004 07:01:18 -0800  per:

	Changed paths:
	   M /trunk/po/it.po

	Update Italian translation, by Davide Pagnin.


Mon, 08 Nov 2004 06:55:43 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	AI should not think it unsafe to share vision with team mates. Bug
	reported by Karl-Ingo Friese <kif@gdv.uni-hannover.de> in PR#10886.


Mon, 08 Nov 2004 06:46:14 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix vote message when trying to vote on an already concluded vote. Bug
	reported by Jason in PR#10915.


Mon, 08 Nov 2004 06:14:30 -0800  per:

	Changed paths:
	   M /trunk/ai/aiferry.c

	Improve ferry logging. Patch by Benedict Adamson <badamson@spamcop.net>
	in PR#10916.


Mon, 08 Nov 2004 06:04:45 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	When checking whether we should conclude a vote as failure, round the
	number of "no" votes up, not down. This ensures that eg a third and last
	player gets to cast his vote before the vote is concluded if the first
	player votes for and the second against.  For more info, see PR#10914.
	Bug reported by Jason.


Sun, 07 Nov 2004 17:25:03 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#10730: Change keyboard shortcuts: "l" and "u" load and unload.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 07 Nov 2004 16:14:29 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#10899: Make the quit confirmation dialog show up under all close events.

	Bug reported by Christian Knoke <chrisk@cknoke.de>.


Sun, 07 Nov 2004 14:36:17 -0800  evyscr:

	Changed paths:
	   M /trunk/data/Freeciv.in

	gui-xaw: switch 'l' - 'L' and 'u' - 'U' bindings, make some sorting


Sun, 07 Nov 2004 06:17:31 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h

	PR#10860: Fix core dumps on game exit/leave.

	Reported by Christian Knoke <chrisk@cknoke.de>.


Sun, 07 Nov 2004 01:52:05 -0800  jdorje:

	Changed paths:
	   M /trunk/data/misc/buildings.png

	Change buildings.png to an indexed PNG.

	See PR#10905.


Sat, 06 Nov 2004 22:30:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Make the GTK2 client fullscreen by default.

	See PR#10519.


Sat, 06 Nov 2004 22:16:43 -0800  jdorje:

	Changed paths:
	   M /trunk/data/flags/credits
	   M /trunk/data/flags/dunedain-shield.png
	   M /trunk/data/flags/dunedain.png
	   M /trunk/data/flags/dunedain.svg

	Make a new Dunedain flag similar to the original flag.

	Flag by Paul Zastoupil.


Fri, 05 Nov 2004 09:44:34 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Thu, 04 Nov 2004 13:07:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix a buglet where transporters in the citydlg would not have
	their graphics redrawn when units were loaded or unloaded from them.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#10805.


Thu, 04 Nov 2004 09:39:13 -0800  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Don't start a second revolution if a player tries to revolt twice.

	Reported by Ed Earl Ross <edearl@satx.rr.com> in PR#10847.


Wed, 03 Nov 2004 22:20:54 -0800  kauf:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/server/settings.c
	   M /trunk/server/stdinhand.c

	Add the ability to allow or restrict global observers using allowtake.
	Add 'o' and 'O' to the allowtake string.
	Additionally, add a check in observe_command() to do init_tech() if
	the game is not a new game and we're in pregame.

	See PR#10862 and PR#10715. Patch by me.


Wed, 03 Nov 2004 22:09:39 -0800  kauf:

	Changed paths:
	   M /trunk/server/savegame.c

	save player->is_observer in the savegame.

	See PR#10716. Patch by me.


Wed, 03 Nov 2004 19:02:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/plrhand.c

	Add a username column to the player dialog.

	Patch by Vasco Alexandre da Silva Costa and Mike Kaufman in PR#10657.


Tue, 02 Nov 2004 23:06:18 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/menu.c

	gui-win32: Enable some options in the orders menu, shuffled around shortcut
	keys, merged functionality of unload and unload transporter commands, and
	improved translations of orders menu.

	Reported as PR#10755.  Patch by me.


Tue, 02 Nov 2004 19:34:55 -0800  jdorje:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/afghanistan-shield.png
	   A /trunk/data/flags/arab-shield.png
	   A /trunk/data/flags/argentina-shield.png
	   A /trunk/data/flags/armenia-shield.png
	   A /trunk/data/flags/assyria-shield.png
	   A /trunk/data/flags/australia-shield.png
	   A /trunk/data/flags/austria-shield.png
	   A /trunk/data/flags/azerbaijan-shield.png
	   A /trunk/data/flags/barbarian-shield.png
	   A /trunk/data/flags/bavarian-shield.png
	   A /trunk/data/flags/belgium-shield.png
	   A /trunk/data/flags/boer-shield.png
	   A /trunk/data/flags/bosnia-shield.png
	   A /trunk/data/flags/brasil-shield.png
	   A /trunk/data/flags/bulgaria-shield.png
	   A /trunk/data/flags/canada-shield.png
	   A /trunk/data/flags/catalan-shield.png
	   A /trunk/data/flags/cheyenne-shield.png
	   A /trunk/data/flags/chile-shield.png
	   A /trunk/data/flags/china-shield.png
	   A /trunk/data/flags/columbia-shield.png
	   M /trunk/data/flags/convert_png
	   A /trunk/data/flags/cornwall-shield.png
	   A /trunk/data/flags/croatia-shield.png
	   A /trunk/data/flags/cuba-shield.png
	   A /trunk/data/flags/czech-shield.png
	   A /trunk/data/flags/denmark-shield.png
	   A /trunk/data/flags/dunedain-shield.png
	   A /trunk/data/flags/egypt-shield.png
	   A /trunk/data/flags/elves-shield.png
	   A /trunk/data/flags/england-shield.png
	   A /trunk/data/flags/estonia-shield.png
	   A /trunk/data/flags/ethiopia-shield.png
	   A /trunk/data/flags/europe-shield.png
	   A /trunk/data/flags/finland-shield.png
	   A /trunk/data/flags/france-shield.png
	   A /trunk/data/flags/galicia-shield.png
	   A /trunk/data/flags/germany-shield.png
	   A /trunk/data/flags/greece-shield.png
	   A /trunk/data/flags/greenland-shield.png
	   A /trunk/data/flags/hobbits-shield.png
	   A /trunk/data/flags/hungary-shield.png
	   A /trunk/data/flags/iceland-shield.png
	   A /trunk/data/flags/india-shield.png
	   A /trunk/data/flags/indonesia-shield.png
	   A /trunk/data/flags/iran-shield.png
	   A /trunk/data/flags/iraq_old-shield.png
	   A /trunk/data/flags/ireland-shield.png
	   A /trunk/data/flags/israel-shield.png
	   A /trunk/data/flags/italy-shield.png
	   A /trunk/data/flags/japan-shield.png
	   A /trunk/data/flags/kampuchea-shield.png
	   A /trunk/data/flags/kenya-shield.png
	   A /trunk/data/flags/korea-shield.png
	   A /trunk/data/flags/krev-shield.png
	   A /trunk/data/flags/latvia-shield.png
	   A /trunk/data/flags/lithuania-shield.png
	   A /trunk/data/flags/macedonia-shield.png
	   A /trunk/data/flags/malaysia-shield.png
	   A /trunk/data/flags/mars-shield.png
	   A /trunk/data/flags/mask.png
	   A /trunk/data/flags/mexico-shield.png
	   A /trunk/data/flags/mongolia-shield.png
	   A /trunk/data/flags/mordor-shield.png
	   A /trunk/data/flags/nato-shield.png
	   A /trunk/data/flags/netherlands-shield.png
	   A /trunk/data/flags/nigeria-shield.png
	   A /trunk/data/flags/norway-shield.png
	   A /trunk/data/flags/observer-shield.png
	   A /trunk/data/flags/pakistan-shield.png
	   A /trunk/data/flags/peru-shield.png
	   A /trunk/data/flags/philippines-shield.png
	   A /trunk/data/flags/phoenicia-shield.png
	   A /trunk/data/flags/poland-shield.png
	   A /trunk/data/flags/portugal-shield.png
	   A /trunk/data/flags/quebec-shield.png
	   A /trunk/data/flags/rome-shield.png
	   A /trunk/data/flags/russia-shield.png
	   A /trunk/data/flags/rwanda-shield.png
	   A /trunk/data/flags/scotland-shield.png
	   A /trunk/data/flags/serbia-shield.png
	   A /trunk/data/flags/silesia-shield.png
	   A /trunk/data/flags/singapore-shield.png
	   A /trunk/data/flags/slovenia-shield.png
	   A /trunk/data/flags/south_africa-shield.png
	   A /trunk/data/flags/soviet-shield.png
	   A /trunk/data/flags/spain-shield.png
	   A /trunk/data/flags/stpatrick-shield.png
	   A /trunk/data/flags/sumeria-shield.png
	   A /trunk/data/flags/sweden-shield.png
	   A /trunk/data/flags/swiss-shield.png
	   A /trunk/data/flags/syria-shield.png
	   A /trunk/data/flags/taiwan-shield.png
	   A /trunk/data/flags/thailand-shield.png
	   A /trunk/data/flags/tunisia-shield.png
	   A /trunk/data/flags/turkey-shield.png
	   A /trunk/data/flags/ukraine-shield.png
	   A /trunk/data/flags/united_kingdom-shield.png
	   A /trunk/data/flags/united_nations-shield.png
	   A /trunk/data/flags/unknown-shield.png
	   A /trunk/data/flags/usa-shield.png
	   A /trunk/data/flags/vietnam-shield.png
	   A /trunk/data/flags/wales-shield.png
	   M /trunk/data/misc/Makefile.am
	   D /trunk/data/misc/shields.png
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/trident_shields.tilespec

	Render shield flag graphics automatically from the SVG flags:
	  - Change the conversion script to generate them.
	  - Add a shield mask.
	  - Split shield graphics up into individual files.
	  - Remove the old shields.png.

	Patch by me in PR#10779.


Tue, 02 Nov 2004 10:04:00 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#10845: Ensure science report option menu tech name is left aligned.


Mon, 01 Nov 2004 14:02:22 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#10813: Markup string for translation.

	Patch by Dmitriy Genzel <dg@cs.brown.edu>.


Mon, 01 Nov 2004 13:58:48 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#10832: Make economy and units report lists only as large as strictly
	necessary.


Mon, 01 Nov 2004 11:34:36 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#10819: Help dialog opened on switch to science tab without user request.

	Reported by Christian Knoke <chrisk@cknoke.de>.


Mon, 01 Nov 2004 11:05:38 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	PR#10821: Don't popup the meeting dialog when using tabs.

	Reported by Mateusz Stefek <mstefek@poczta.fm>.


Mon, 01 Nov 2004 03:47:33 -0800  matusik:

	Changed paths:
	   M /trunk/utility/mem.c

	Increase malloc's memory size limit to 30MB - Some savefiles need this to be loaded. Reported by Libor Zurek in PR#10798


Sun, 31 Oct 2004 19:39:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#10815: Draw selection rectangle using faster gdk_draw_lines function.

	Patch by me.


Sun, 31 Oct 2004 17:36:06 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#10810: Fix missing list focus on load, scenario and nation pages on
	page reentry.

	Reported by Christian Knoke <chrisk@cknoke.de>, patch by me.


Sun, 31 Oct 2004 17:20:33 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapctrl.c

	PR#10811: Fix tile info popup positioning bug.

	Based on a patch by Christian Knoke <chrisk@cknoke.de>.


Sun, 31 Oct 2004 15:05:10 -0800  per:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Remove autoattack.c from POTFILES.in.


Sun, 31 Oct 2004 14:32:33 -0800  per:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/Makefile.am
	   D /trunk/server/autoattack.c
	   D /trunk/server/autoattack.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	New server-side autoattack code. Default is off. Use /set autoattack 1
	to turn it on. You can also set it on for the AI only by setting the AI
	to 'experimental' difficulty (for testing). For more information, see
	PR#2415.

	The old autoattack code has been removed from the server.


Sun, 31 Oct 2004 14:14:46 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Stop AI from concluding treaties when in /away mode. Patch by Mateusz in
	PR#10654.


Sun, 31 Oct 2004 14:00:44 -0800  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Make sure you don't take control of an empty city that you nuke.
	Bug reported by Genevieve Gracian in PR#10726.


Sun, 31 Oct 2004 13:52:20 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Make AI not count barbarians for Great Library. Reported by Mateusz in
	PR#10801.


Sun, 31 Oct 2004 13:45:11 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/server/cityturn.c

	Fix serious bug in fallback building advisor code that would choose
	*all* possible productions one after another (missing return). Add
	restriction to AI advisor code so that it never suggests building a
	wonder or a palace. See PR#10561 for details.


Sun, 31 Oct 2004 13:24:24 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Brought ru.po up to date


Sun, 31 Oct 2004 12:45:55 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/messagewin.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.h
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/plrdlg_common.c

	PR#10435: Repodlg tabs for GTK+2 client.

	Based on a patch by Gregor Richards <akaquinn@hotmail.com>, heavily modified
	by me.


Sat, 30 Oct 2004 12:45:01 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Close all meeting after aitoggling a player into human mode. Patch by me in PR#10789


Sat, 30 Oct 2004 09:13:01 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Make AI advisor (used when production finished for both human and AI)
	use the proper function that is used by the AI to change productions.
	This limits the number of wonders built at the same time to one, as
	before. See PR#10561. Problems reported by several.


Sat, 30 Oct 2004 08:57:43 -0700  per:

	Changed paths:
	   M /trunk/ai/aisettler.c

	Remove too strict asserts in settler evaluation code. See PR#10795.


Sat, 30 Oct 2004 07:04:54 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Fix bug that kept AI from building Barracks and Port. See PR#10793.


Sat, 30 Oct 2004 05:50:34 -0700  per:

	Changed paths:
	   M /trunk/po/it.po

	Update of Italian translation by Pagnin Davide <pagnin@sssup.it>.


Sat, 30 Oct 2004 04:50:36 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.h

	Pointer checks need to be explicit on some platforms. Problem pointed
	out by Jason in PR#9870.


Sat, 30 Oct 2004 04:46:11 -0700  per:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Do not sanitycheck alliances with dead players.


Fri, 29 Oct 2004 05:37:58 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Don't allow away AI level to cheat. Patch by me in PR#10766


Fri, 29 Oct 2004 05:26:26 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	Alway save and load size and topology. Reported by Marc RUHLMANN in PR#10770, patch by me


Thu, 28 Oct 2004 18:53:47 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   M /trunk/data/flags/afghanistan.png
	   A /trunk/data/flags/afghanistan.svg
	   M /trunk/data/flags/arab.png
	   A /trunk/data/flags/arab.svg
	   M /trunk/data/flags/argentina.png
	   A /trunk/data/flags/argentina.svg
	   M /trunk/data/flags/armenia.png
	   A /trunk/data/flags/armenia.svg
	   M /trunk/data/flags/assyria.png
	   A /trunk/data/flags/assyria.svg
	   M /trunk/data/flags/australia.png
	   A /trunk/data/flags/australia.svg
	   M /trunk/data/flags/austria.png
	   A /trunk/data/flags/austria.svg
	   M /trunk/data/flags/azerbaijan.png
	   A /trunk/data/flags/azerbaijan.svg
	   M /trunk/data/flags/barbarian.png
	   A /trunk/data/flags/barbarian.svg
	   M /trunk/data/flags/bavarian.png
	   A /trunk/data/flags/bavarian.svg
	   M /trunk/data/flags/belgium.png
	   A /trunk/data/flags/belgium.svg
	   M /trunk/data/flags/boer.png
	   A /trunk/data/flags/boer.svg
	   M /trunk/data/flags/bosnia.png
	   A /trunk/data/flags/bosnia.svg
	   M /trunk/data/flags/brasil.png
	   A /trunk/data/flags/brasil.svg
	   M /trunk/data/flags/bulgaria.png
	   A /trunk/data/flags/bulgaria.svg
	   M /trunk/data/flags/canada.png
	   A /trunk/data/flags/canada.svg
	   M /trunk/data/flags/catalan.png
	   A /trunk/data/flags/catalan.svg
	   M /trunk/data/flags/cheyenne.png
	   A /trunk/data/flags/cheyenne.svg
	   M /trunk/data/flags/chile.png
	   A /trunk/data/flags/chile.svg
	   M /trunk/data/flags/china.png
	   A /trunk/data/flags/china.svg
	   M /trunk/data/flags/columbia.png
	   A /trunk/data/flags/columbia.svg
	   A /trunk/data/flags/convert_png
	   M /trunk/data/flags/cornwall.png
	   A /trunk/data/flags/cornwall.svg
	   A /trunk/data/flags/credits
	   M /trunk/data/flags/croatia.png
	   A /trunk/data/flags/croatia.svg
	   M /trunk/data/flags/cuba.png
	   A /trunk/data/flags/cuba.svg
	   M /trunk/data/flags/czech.png
	   A /trunk/data/flags/czech.svg
	   M /trunk/data/flags/denmark.png
	   A /trunk/data/flags/denmark.svg
	   M /trunk/data/flags/dunedain.png
	   A /trunk/data/flags/dunedain.svg
	   M /trunk/data/flags/egypt.png
	   A /trunk/data/flags/egypt.svg
	   M /trunk/data/flags/elves.png
	   A /trunk/data/flags/elves.svg
	   M /trunk/data/flags/england.png
	   A /trunk/data/flags/england.svg
	   M /trunk/data/flags/estonia.png
	   A /trunk/data/flags/estonia.svg
	   M /trunk/data/flags/ethiopia.png
	   A /trunk/data/flags/ethiopia.svg
	   M /trunk/data/flags/europe.png
	   A /trunk/data/flags/europe.svg
	   M /trunk/data/flags/finland.png
	   A /trunk/data/flags/finland.svg
	   M /trunk/data/flags/france.png
	   A /trunk/data/flags/france.svg
	   M /trunk/data/flags/galicia.png
	   A /trunk/data/flags/galicia.svg
	   M /trunk/data/flags/germany.png
	   A /trunk/data/flags/germany.svg
	   M /trunk/data/flags/greece.png
	   A /trunk/data/flags/greece.svg
	   M /trunk/data/flags/greenland.png
	   A /trunk/data/flags/greenland.svg
	   M /trunk/data/flags/hobbits.png
	   A /trunk/data/flags/hobbits.svg
	   M /trunk/data/flags/hungary.png
	   A /trunk/data/flags/hungary.svg
	   M /trunk/data/flags/iceland.png
	   A /trunk/data/flags/iceland.svg
	   M /trunk/data/flags/india.png
	   A /trunk/data/flags/india.svg
	   M /trunk/data/flags/indonesia.png
	   A /trunk/data/flags/indonesia.svg
	   M /trunk/data/flags/iran.png
	   A /trunk/data/flags/iran.svg
	   M /trunk/data/flags/iraq_old.png
	   A /trunk/data/flags/iraq_old.svg
	   M /trunk/data/flags/ireland.png
	   A /trunk/data/flags/ireland.svg
	   M /trunk/data/flags/israel.png
	   A /trunk/data/flags/israel.svg
	   M /trunk/data/flags/italy.png
	   A /trunk/data/flags/italy.svg
	   M /trunk/data/flags/japan.png
	   A /trunk/data/flags/japan.svg
	   M /trunk/data/flags/kampuchea.png
	   A /trunk/data/flags/kampuchea.svg
	   M /trunk/data/flags/kenya.png
	   A /trunk/data/flags/kenya.svg
	   M /trunk/data/flags/korea.png
	   A /trunk/data/flags/korea.svg
	   M /trunk/data/flags/krev.png
	   A /trunk/data/flags/krev.svg
	   M /trunk/data/flags/latvia.png
	   A /trunk/data/flags/latvia.svg
	   M /trunk/data/flags/lithuania.png
	   A /trunk/data/flags/lithuania.svg
	   M /trunk/data/flags/macedonia.png
	   A /trunk/data/flags/macedonia.svg
	   M /trunk/data/flags/malaysia.png
	   A /trunk/data/flags/malaysia.svg
	   M /trunk/data/flags/mars.png
	   A /trunk/data/flags/mars.svg
	   M /trunk/data/flags/mexico.png
	   A /trunk/data/flags/mexico.svg
	   M /trunk/data/flags/mongolia.png
	   A /trunk/data/flags/mongolia.svg
	   M /trunk/data/flags/mordor.png
	   A /trunk/data/flags/mordor.svg
	   M /trunk/data/flags/nato.png
	   A /trunk/data/flags/nato.svg
	   M /trunk/data/flags/netherlands.png
	   A /trunk/data/flags/netherlands.svg
	   M /trunk/data/flags/nigeria.png
	   A /trunk/data/flags/nigeria.svg
	   M /trunk/data/flags/norway.png
	   A /trunk/data/flags/norway.svg
	   M /trunk/data/flags/observer.png
	   A /trunk/data/flags/observer.svg
	   M /trunk/data/flags/pakistan.png
	   A /trunk/data/flags/pakistan.svg
	   M /trunk/data/flags/peru.png
	   A /trunk/data/flags/peru.svg
	   M /trunk/data/flags/philippines.png
	   A /trunk/data/flags/philippines.svg
	   M /trunk/data/flags/phoenicia.png
	   A /trunk/data/flags/phoenicia.svg
	   M /trunk/data/flags/poland.png
	   A /trunk/data/flags/poland.svg
	   M /trunk/data/flags/portugal.png
	   A /trunk/data/flags/portugal.svg
	   M /trunk/data/flags/quebec.png
	   A /trunk/data/flags/quebec.svg
	   M /trunk/data/flags/rome.png
	   A /trunk/data/flags/rome.svg
	   M /trunk/data/flags/russia.png
	   A /trunk/data/flags/russia.svg
	   M /trunk/data/flags/rwanda.png
	   A /trunk/data/flags/rwanda.svg
	   M /trunk/data/flags/scotland.png
	   A /trunk/data/flags/scotland.svg
	   M /trunk/data/flags/serbia.png
	   A /trunk/data/flags/serbia.svg
	   M /trunk/data/flags/silesia.png
	   A /trunk/data/flags/silesia.svg
	   M /trunk/data/flags/singapore.png
	   A /trunk/data/flags/singapore.svg
	   M /trunk/data/flags/slovenia.png
	   A /trunk/data/flags/slovenia.svg
	   M /trunk/data/flags/south_africa.png
	   A /trunk/data/flags/south_africa.svg
	   M /trunk/data/flags/soviet.png
	   A /trunk/data/flags/soviet.svg
	   M /trunk/data/flags/spain.png
	   A /trunk/data/flags/spain.svg
	   M /trunk/data/flags/stpatrick.png
	   A /trunk/data/flags/stpatrick.svg
	   M /trunk/data/flags/sumeria.png
	   A /trunk/data/flags/sumeria.svg
	   M /trunk/data/flags/sweden.png
	   A /trunk/data/flags/sweden.svg
	   M /trunk/data/flags/swiss.png
	   A /trunk/data/flags/swiss.svg
	   M /trunk/data/flags/syria.png
	   A /trunk/data/flags/syria.svg
	   M /trunk/data/flags/taiwan.png
	   A /trunk/data/flags/taiwan.svg
	   M /trunk/data/flags/thailand.png
	   A /trunk/data/flags/thailand.svg
	   M /trunk/data/flags/tunisia.png
	   A /trunk/data/flags/tunisia.svg
	   M /trunk/data/flags/turkey.png
	   A /trunk/data/flags/turkey.svg
	   M /trunk/data/flags/ukraine.png
	   A /trunk/data/flags/ukraine.svg
	   M /trunk/data/flags/united_kingdom.png
	   A /trunk/data/flags/united_kingdom.svg
	   M /trunk/data/flags/united_nations.png
	   A /trunk/data/flags/united_nations.svg
	   M /trunk/data/flags/unknown.png
	   A /trunk/data/flags/unknown.svg
	   M /trunk/data/flags/usa.png
	   A /trunk/data/flags/usa.svg
	   M /trunk/data/flags/vietnam.png
	   A /trunk/data/flags/vietnam.svg
	   M /trunk/data/flags/wales.png
	   A /trunk/data/flags/wales.svg

	Convert flags to SVG form.  The SVG files are rendered into PNG images at
	pre-compile time using a provided script, so no changes to the code are
	needed.  The SVG files may also be rendered into different resolutions for
	other purposes.

	See PR#10734.  Flag credits are in data/flags/credists.


Thu, 28 Oct 2004 17:22:44 -0700  jdorje:

	Changed paths:
	   M /trunk/data/misc/buildings.png
	   M /trunk/data/misc/buildings.spec

	Add new graphics for wonders.

	Graphics by Frederic Rodrigo <f.rodrigo@tuxfamily.org> and Dusan Hukuv
	<dusan@mirc.cz>.


Thu, 28 Oct 2004 01:02:11 -0700  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c

	Call remove_allied_visibility also before resolve_unit_stacks. It will fix an "Assertion unit_list_size(&ptile->units) == 0" bug. The cause of the bug was a teleportation of units in resolve_unit_stacks. Patch by me in PR#10652


Thu, 28 Oct 2004 00:56:13 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	After comming back from away mode cancel all meetings. The dialogs were 'hidden' in AI mode'. See #10720


Wed, 27 Oct 2004 19:56:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Unsentry units when they are unloaded by the client.

	Patch by me in PR#10729.


Wed, 27 Oct 2004 14:08:22 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/bosnia.ruleset

	Add an alternate flag tag for Bosnia.

	Patch by me as part of PR#10760.


Wed, 27 Oct 2004 14:05:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	Translate two forgotten strings.

	Patch by Dmitriy Genzel <dg@cs.brown.edu> in PR#10762.


Wed, 27 Oct 2004 12:51:46 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Wed, 27 Oct 2004 11:32:16 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	CVS HEAD of ru.po now up to date


Wed, 27 Oct 2004 11:28:11 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   D /trunk/data/flags/olympic.png
	   M /trunk/data/misc/flags.spec

	Remove the olympic flag.

	See PR#10734.


Tue, 26 Oct 2004 11:03:04 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#10672: Add confirmation request when quitting a game.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 26 Oct 2004 11:00:21 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#10648: Don't show aifill and aiskill settings for networked games.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 26 Oct 2004 10:34:26 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	PR#10010: Add worklist edit item to citydlg "add global worklist" menu.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 26 Oct 2004 07:58:57 -0700  matusik:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/bosnia.png
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/bosnia.ruleset
	   M /trunk/po/POTFILES.in

	Add Bosnia & Harzegovina nation. Data by <berberdo@studi.informatik.uni-stuttgart.de>. Update by me. See PR#7417


Mon, 25 Oct 2004 14:05:23 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#10714: Add load and unload commands to present units in the city dialog.

	Reported by Brett Albertson <balbertson@nc.rr.com>.


Mon, 25 Oct 2004 00:32:17 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Add H_RATES handicap to the away AI level. Patch by me in PR10654


Sun, 24 Oct 2004 21:16:01 -0700  kauf:

	Changed paths:
	   M /trunk/server/meta.c

	make sure the correct number of players are shown to be available on the
	metaserver.

	Patch by me.


Sun, 24 Oct 2004 19:03:46 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Improve the AI checks that look to see if we need to build a transport
	before building a military unit.

	Patch by Benedict Adamson <badamson@spamcop.net> and Gregory Berkolaiko
	in PR#10216.


Sun, 24 Oct 2004 16:48:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Recenter the overview when changing the size of the mapview.

	Patch by me in PR#10668.


Sun, 24 Oct 2004 16:44:22 -0700  jdorje:

	Changed paths:
	   M /trunk/data/isophex.tilespec

	Add building graphics to the isophex ruleset.

	Reported by Gustav Van Der Merwe <gvdmer@gmail.com> in PR#10698.


Sun, 24 Oct 2004 16:18:07 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/gui-gtk-2.0/chatline.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/pages.c
	   M /trunk/client/gui-gtk-2.0/pages.h

	PR#10624: GTK2 startscreen doesn't tell you why you can't connect.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Sun, 24 Oct 2004 13:11:15 -0700  kauf:

	Changed paths:
	   M /trunk/server/handchat.c

	allow non-attached connections to receive global chat messages.

	See PR#10679. Reported by Mateusz Stefek.


Sun, 24 Oct 2004 12:22:41 -0700  kauf:

	Changed paths:
	   M /trunk/server/handchat.c

	Don't allow a connection to crash the server by sending a chat message.

	Patch by me.


Sun, 24 Oct 2004 03:50:53 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	fix


Sun, 24 Oct 2004 03:29:31 -0700  hunterz:

	Changed paths:
	   M /trunk/po/cs.po

	950 to go


Sun, 24 Oct 2004 03:28:08 -0700  hunterz:

	Changed paths:
	   M /trunk/po/POTFILES.in

	missing files in gtk2 client


Sat, 23 Oct 2004 21:47:32 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Sat, 23 Oct 2004 21:23:44 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#10700: Client crashes in the "Connect to network game" dialog if you click refresh two or more times fast.

	Reported by Gustav Van Der Merwe <gvdmer@gmail.com>, patch by me.


Sat, 23 Oct 2004 18:20:23 -0700  vasc:

	Changed paths:
	   M /trunk/client/civclient.c

	If we are still connected, don't go back to the main page, but to the start
	page instead.

	Reported by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sat, 23 Oct 2004 16:12:22 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	Do not send a turn-blocking message on connect unless the game is running.

	See PR#10635 Reported by Jason.


Sat, 23 Oct 2004 14:02:36 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#10629: Move city description from window title to inside the dialog.

	Requested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sat, 23 Oct 2004 13:41:00 -0700  vasc:

	Changed paths:
	   M /trunk/client/text.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h

	#10675: get_city_bonus_sources should return the effect value.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 23 Oct 2004 13:21:01 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#10248: Use CTRL+W as the worklist dialog accelerator.

	Patch by Marek "Baczek" Baczynski <imbaczek@gmail.com>


Sat, 23 Oct 2004 13:15:19 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#10330: gui-gtk-2 needn't include goto.h.

	Patch by Benoit Hudson <bh@techhouse.brown.edu>.


Sat, 23 Oct 2004 13:02:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	Fixes to connection code:

	- Send connection info more often (whenever anything changes).
	- Correctly handle connections owned by players we don't know about yet.
	- When the client's connection changes status, rebuild connection lists
	  for all players.
	- Fix player_addr_hack so it will never return an observer's host, only
	  the controller's.  Also move it into playerdlg_common.

	Patch by Mike Kaufman in PR#10518.


Sat, 23 Oct 2004 12:32:29 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#10647: GTK2 startscreen titles for network tabs aren't helpful.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 23 Oct 2004 12:18:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Change the behavior of loading/unloading: sentrying no longer
	auto-loads and activating a unit no longer auto-unloads.

	See PR#10521.


Sat, 23 Oct 2004 12:15:19 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Avoid a memory leak when create_danger_segment is called more than once
	on a node.  This does not fix the underlying bug, however.

	See PR#10613.


Sat, 23 Oct 2004 12:10:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Re-setup the specialist graphics when changing tilesets - otherwise the
	sprites get freed but the new values aren't loaded.

	Patch by me in PR#10671.


Sat, 23 Oct 2004 12:06:31 -0700  jdorje:

	Changed paths:
	   M /trunk/common/effects.c

	Free the effect struct pointers when the ruleset effects cache
	is freed.

	Patch by me in PR#10667.


Sat, 23 Oct 2004 12:03:09 -0700  jdorje:

	Changed paths:
	   M /trunk/common/nation.c

	When a nation is freed, free the parent nation array.

	Patch by me in PR#10666.


Sat, 23 Oct 2004 12:01:01 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/server/plrhand.c

	Instead of allocating and freeing the AI government want data, just
	realloc it when needed.  This fixes a memory leak.

	Patch by me in PR#10664.


Sat, 23 Oct 2004 11:54:40 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Free the specialists string array when we're done with it.

	Patch by me in PR#10665.


Fri, 22 Oct 2004 09:57:34 -0700  jdorje:

	Changed paths:
	   M /trunk/bootstrap/freeciv.spec.in

	Add isophex to the RPM specfile.

	Patch by Mateusz Stefek in PR#10678.


Fri, 22 Oct 2004 08:45:42 -0700  hunterz:

	Changed paths:
	   M /trunk/configure.ac

	added Czech language to LINGUAS string


Fri, 22 Oct 2004 03:47:09 -0700  matusik:

	Changed paths:
	   M /trunk/autogen.sh
	   A /trunk/data/nation/Makefile.am
	   M /trunk/data/nation/Makefile.am.sh

	Do not generate data/nation/Makefile.am automatically. See PR#8887


Thu, 21 Oct 2004 23:10:05 -0700  hunterz:

	Changed paths:
	   A /trunk/po/cs.po

	First upload


Thu, 21 Oct 2004 21:08:28 -0700  jdorje:

	Changed paths:
	   M /trunk/server/commands.c

	Fix a misspelling and add clarification to the helptext for /vote.

	Patch by me in PR#10523.


Thu, 21 Oct 2004 13:49:00 -0700  keld:

	Changed paths:
	   M /trunk/po/da.po

	updates
	freeciv/po/da.po


Thu, 21 Oct 2004 13:27:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/sernet.c
	   M /trunk/server/sernet.h
	   M /trunk/utility/shared.h

	Rewrite the conn_ping_info packet so that it can support up to
	MAX_NUM_CONNECTIONS without failure.

	Patch by me in PR#10628.


Thu, 21 Oct 2004 13:06:15 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/utilities.c

	Don't use HUGE_VAL with integers, since this can cause integer overruns on
	some systems.

	Reported by James Canete in PR#10641.


Thu, 21 Oct 2004 10:57:08 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c

	Fix a major memory leak in AI ferry calculations.

	Patch by me in PR#10636.


Thu, 21 Oct 2004 08:55:45 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiferry.c

	Don't let the AI take over ferries that it shouldn't be controlling
	(including those with orders).

	Patch by me in PR#10557.


Thu, 21 Oct 2004 08:39:37 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settings.c

	Fix two typos in server setting help texts.

	Patch by David Stewart <dmstewart@gmail.com> in PR#10661.


Thu, 21 Oct 2004 08:21:45 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Send the replies from a /vote command as C_COMMENT rather than C_OK.  This
	means they will only be sent to the voter, not to everybody.

	Patch by me in PR#10559.


Wed, 20 Oct 2004 12:55:55 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/server/unittools.c

	Remove the (unused) connecting field of the unit_info packet.

	See PR#10596.


Wed, 20 Oct 2004 12:42:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Fix a bug whereby the focus unit would always be drawn when there was a
	tile update, even if the current blink state would have the focus unit
	not drawn.

	Patch by me in PR#10632.


Wed, 20 Oct 2004 12:34:00 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Translate data/Freeciv.in, not data/Freeciv.

	Patch by me in PR#10633.


Wed, 20 Oct 2004 11:20:53 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aisettler.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.h
	   M /trunk/common/unit.h
	   M /trunk/server/settlers.c

	Add more comments and assertions to the ferry code.

	Patch by Benedict Adamson <badamson@spamcop.net> in PR#10216, with changes
	by me.


Wed, 20 Oct 2004 10:58:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/mapview.c

	Allow gui-stub to compile again.

	See PR#10470.


Wed, 20 Oct 2004 10:38:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/Makefile.am
	   A /trunk/client/gui-ftwl/pages.c
	   A /trunk/client/gui-ftwl/pages.h
	   M /trunk/client/gui-gtk/Makefile.am
	   A /trunk/client/gui-gtk/pages.c
	   A /trunk/client/gui-gtk/pages.h
	   M /trunk/client/gui-sdl/Makefile.am
	   A /trunk/client/gui-sdl/pages.c
	   A /trunk/client/gui-sdl/pages.h
	   M /trunk/client/gui-stub/Makefile.am
	   A /trunk/client/gui-stub/pages.c
	   A /trunk/client/gui-stub/pages.h
	   M /trunk/client/gui-win32/Makefile.am
	   A /trunk/client/gui-win32/pages.c
	   A /trunk/client/gui-win32/pages.h
	   M /trunk/client/gui-xaw/Makefile.am
	   A /trunk/client/gui-xaw/pages.c
	   A /trunk/client/gui-xaw/pages.h

	Allow all clients to compile again.

	See PR#10638.


Wed, 20 Oct 2004 08:36:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Change a variable to static to avoid an obvious failed assertion.

	Reported by Jonni Gani <jgani@fansbola.com> in PR#10642.  Patch by James
	Canete.


Tue, 19 Oct 2004 22:12:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Draw the city's occupied sprite in front of the city sprite, rather than
	behind it.

	Patch by me in PR#10515.


Tue, 19 Oct 2004 21:41:33 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidata.c

	Fix a memory leak in AI data.

	Patch by me in PR#10612, with additional style changes.


Tue, 19 Oct 2004 21:34:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/mapview_common.c

	Fix a bug where the mapview would slide when loading a game.  Also add
	an assertion to catch similar errors.

	Patch by me in PR#10607.


Tue, 19 Oct 2004 21:22:09 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/shared.h

	Add a missing #include.

	Patch by James Canete in PR#10610.


Tue, 19 Oct 2004 21:20:02 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/startpos.c

	Fix an invalid memory read in is_valid_start_pos.

	Patch by me in PR#10611.


Tue, 19 Oct 2004 20:45:20 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/data/Makefile.am
	   A /trunk/data/isophex
	   A /trunk/data/isophex/.cvsignore
	   A /trunk/data/isophex/Makefile.am
	   A /trunk/data/isophex/darkness.png
	   A /trunk/data/isophex/darkness.spec
	   A /trunk/data/isophex/gold.spec
	   A /trunk/data/isophex/rivers.png
	   A /trunk/data/isophex/rivers.spec
	   A /trunk/data/isophex/terrain1.png
	   A /trunk/data/isophex/terrain1.spec
	   A /trunk/data/isophex/terrain2.png
	   A /trunk/data/isophex/terrain2.spec
	   A /trunk/data/isophex/tiles.png
	   A /trunk/data/isophex/tiles.spec
	   A /trunk/data/isophex.tilespec

	Add the isophex tileset to the distribution.

	See PR#10578.


Tue, 19 Oct 2004 19:01:02 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am

	Remove some nonexistant files from EXTRA_DIST.

	Reported by Mateusz Stefek in PR#10615.


Tue, 19 Oct 2004 15:58:33 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	Fix bug in /take when using names with spaces.


Tue, 19 Oct 2004 14:17:34 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#10549: Don't use GDK for mapview dirty/flush operations in gui-gtk-2.0.

	Patch by ason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 19 Oct 2004 14:08:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Add LOG_DEBUG logging of frames per second when sliding the mapview.

	Patch by me in PR#10550.


Tue, 19 Oct 2004 11:29:44 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/pages.c

	PR#10625: Make the password labels insensitive.


Tue, 19 Oct 2004 11:13:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	When changing tilesets make sure the mapview is fully redrawn.

	Reported by David Stewart <dmstewart@gmail.com> in PR#10590.  Patch by me.


Tue, 19 Oct 2004 11:11:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Expand the area of updating of a city map on the mapview.  This allows
	the grid to be updated even if the gridlines don't actually fall within
	the area of the citymap.

	Patch by me in PR#10525.


Tue, 19 Oct 2004 11:04:55 -0700  jdorje:

	Changed paths:
	   M /trunk/data/trident_shields.tilespec

	Add a missing capability to trident_shields.

	Reported by Karl-Ingo Friese <kif@gdv.uni-hannover.de> in PR#10592.


Tue, 19 Oct 2004 10:07:12 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	PR#10616: Fix chatline conflict with the menu accelerators.

	Bug reported by Mateusz Stefek <mstefek@poczta.fm>.


Tue, 19 Oct 2004 09:35:33 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#10614: Remove C99 initializers.

	Patch by Alexander Sayenko <sayenko@cc.jyu.fi>.


Tue, 19 Oct 2004 02:21:13 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/polish.ruleset

	Fix spelling in polish ruleset


Mon, 18 Oct 2004 23:46:57 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c

	Add new functions freeze_workers and thaw_workers.  These are
	used inside transfer_city to prevent auto_arrange_workers from being called
	when the city is not in a sane state.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10317.
	Patch by me.


Mon, 18 Oct 2004 23:29:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c

	- Make sure all menu entry strings include the accelerator underscore.
	  Otherwise it's possible that they are translated differently, which
	  breaks things.
	- Change the accelerator for the Government menu to be 'e' instead of 'g'.
	  'g' is already used by the _Game menu.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#10546.


Mon, 18 Oct 2004 17:06:40 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	PR#10599: Place the cursor at the end during inputline history traversing.

	Requested by Per.


Mon, 18 Oct 2004 16:52:54 -0700  vasc:

	Changed paths:
	   A /trunk/client/gui-gtk-2.0/pages.c
	   A /trunk/client/gui-gtk-2.0/pages.h
	   A /trunk/client/include/pages_g.h

	Forgot to 'cvs add' these files in my previous commit.


Mon, 18 Oct 2004 16:49:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/clinet.c
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   M /trunk/client/gui-gtk-2.0/chatline.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/include/Makefile.am
	   M /trunk/client/packhand.c
	   M /trunk/data/freeciv.rc-2.0
	   M /trunk/server/civserver.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	PR#10471: Remove connection dialog.

	Kudos to Jason, Mike and Per for suggestions and bug reports.


Mon, 18 Oct 2004 16:28:12 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Change an assertion into a normal check-and-return, and add better logging
	of targeted diplomats.

	Patch by Per Mathisen as part of PR#10567.


Mon, 18 Oct 2004 15:40:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/text.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unittools.c

	Clean up and fix a number of bugs in activity rate calculations.

	See PR#10368.  Patch by me.


Mon, 18 Oct 2004 15:05:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Fix a bug where transforming swamp/river would show up as ocean/river.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#10571.


Mon, 18 Oct 2004 14:48:51 -0700  keld:

	Changed paths:
	   M /trunk/po/da.po

	this time not .bz2 ...
	freeciv/po/da.po


Mon, 18 Oct 2004 13:42:53 -0700  keld:

	Changed paths:
	   M /trunk/po/da.po

	Updates from Ole Laursen
	freeciv/po/da.po


Mon, 18 Oct 2004 12:04:18 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Further  updates for ru.po


Mon, 18 Oct 2004 10:21:57 -0700  per:

	Changed paths:
	   M /trunk/diff_ignore

	Add civmanual to diff_ignore. As requested by Vasco.


Mon, 18 Oct 2004 10:18:58 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	A few building requirements changes:
	* Cathedral requires Temple
	* Research Lab requires University
	* Space XXXX requires Factory
	See PR#10364.


Mon, 18 Oct 2004 09:38:28 -0700  per:

	Changed paths:
	   M /trunk/data/nation/chinese.ruleset

	Update to Chinese ruleset by Mike Jing <miky40@hotmail.com>.


Mon, 18 Oct 2004 09:04:25 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix a fatal bug with instantaneous research and teams.

	Reported by Sam Morris <sam@robots.org.uk> in PR#10554.  Patch by me.


Sun, 17 Oct 2004 23:52:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c

	Add brackets to a server_list_iterate.

	Patch by Alexander Sayenko <sayenko@cc.jyu.fi> in PR#10587.


Sun, 17 Oct 2004 08:47:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c

	Disable mapview sliding when scrolling, when centering on a unit at the
	start of the game, and when changing tilesets.

	Patch by me in PR#10548.


Sat, 16 Oct 2004 17:46:44 -0700  kauf:

	Changed paths:
	   M /trunk/client/climisc.c

	always center on _something_

	See PR#10569 Patch by Jason.


Sat, 16 Oct 2004 15:29:13 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/utilities.c

	Fix several rare bugs in map generation.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#10527.


Sat, 16 Oct 2004 15:26:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Fix a bug in the gui-gtk-2.0 city report's "add last" feature.

	Reported by Benoit Hudson <bh@techhouse.brown.edu> in PR#10533.  Patch by
	me.


Fri, 15 Oct 2004 21:18:30 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Fri, 15 Oct 2004 17:09:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Translate some strings.

	Patch by Dmitriy Genzel <dg@cs.brown.edu> in PR#10532.


Fri, 15 Oct 2004 17:00:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c

	Fix a bug causing the wrong unit/building to be inserted when "add next"
	was used from the city report.

	Reported by Benoit Hudson <bh@techhouse.brown.edu> in PR#10533.


Fri, 15 Oct 2004 15:46:31 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/utility/fciconv.c

	Add an AM_LIBCHARSET call to configure.ac.  Previously libcharset was
	never checked for.

	Patch by me in PR#10535.


Fri, 15 Oct 2004 14:45:17 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/temperature_map.c

	With an all-temperate map, don't force parts of it to be arctic.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#10545.


Fri, 15 Oct 2004 14:34:24 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Readd a missing assign_continent_numbers call when loading savegames.

	Reported by Per Inge Mathisen in PR#10541.  Patch by Marcelo Burda.


Fri, 15 Oct 2004 13:23:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	Fix a bug where connect-road, on a tile where we can't build road but
	road is already built, would fail.

	Reported by myself and Benoit Hudson in PR#10531.  Patch by me.


Fri, 15 Oct 2004 06:25:21 -0700  per:

	Changed paths:
	   M /trunk/autogen.sh

	Fix problem with old Bourne shells. Reported by Brett Albertson
	<brett.albertson@stratech.com> in PR#10540.


Fri, 15 Oct 2004 05:05:56 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/widget_p.h

	FTWL: Fix error in header, odsa -> osda.


Fri, 15 Oct 2004 02:42:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/common/city.c

	Add some documentation on how caravans create trade routes.

	Requested by Rik van Riel <riel@surriel.com> in PR#10504.  Patch by Mike
	Kaufman and myself.


Fri, 15 Oct 2004 02:39:06 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/height_map.h
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/startpos.h
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/generator/utilities.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c

	Add a new server setting, "startpos", controlling the algorithm used to
	generate islands and place starting positions on islands.  Generators
	2, 3, and 4 are merged into a single generator setting.  The old
	generators 1 and 5 may now be used with different startpos settings.
	Default behavior is not substantially changed.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#10308, with changes by me.


Thu, 14 Oct 2004 16:15:28 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Thu, 14 Oct 2004 14:01:05 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/unit.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Improve behavior of client-side goto with "random" moves.
	1.  The wait-until-next-turn order is changed until a wait-unitil-we-have-
	    full-MP order.  This means there may not be any waiting at all.
	2.  If a move order fails at random, it will be tried again the next
	    turn.

	Reported by Mateusz Stefek in PR#10276.  Patch by me.


Thu, 14 Oct 2004 11:31:48 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Thu, 14 Oct 2004 10:44:17 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	Frontport: fix a problem where the temperature map was never freed.

	Reported by Benedict Adamson <badamson@spamcop.net> in PR#10502.  Patch
	by Marcelo Burda.


Wed, 13 Oct 2004 21:25:05 -0700  jcanete:

	Changed paths:
	   M /trunk/configure.ac

	If compiling with mingw, set LOCALEDIR manually.  This makes windows
	executables look for i18n files in the install directory, instead of in an
	absolute directory set at configure time.

	Patch by me under PR#10478.


Wed, 13 Oct 2004 20:00:11 -0700  kauf:

	Changed paths:
	   M /trunk/server/handchat.c

	Don't talk as the _player_ when observing. Use the username instead.

	See PR#10514 Patch by Per.


Wed, 13 Oct 2004 11:29:41 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Wed, 13 Oct 2004 11:18:46 -0700  per:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add austrian nation to POTFILES. Patch by Dmitriy Genzel
	<dg@cs.brown.edu> in PR#10498.


Wed, 13 Oct 2004 11:15:21 -0700  per:

	Changed paths:
	   M /trunk/client/text.c

	Part of a tooltip was not being i18n'alized. Patch by Dmitriy Genzel
	<dg@cs.brown.edu> in PR#10510.


Wed, 13 Oct 2004 08:47:43 -0700  per:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/data/civ1.serv
	   M /trunk/data/civ2.serv
	   M /trunk/data/default/buildings.ruleset

	Port forward the science buildings patch applied recently to S2_0.
	PR#10091.


Tue, 12 Oct 2004 12:40:19 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	All messages translated!!


Tue, 12 Oct 2004 10:03:18 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Minor fixes to ru.po


Tue, 12 Oct 2004 09:42:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Fix a bug that prevented a worker unit from running a connect activity if
	the activity had already been completed on the current tile.

	Patch by me in PR#10439.


Tue, 12 Oct 2004 09:35:26 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Reenable research for future technologies. Note that the tech dialog
	does not popup when you have researched a new future tech. I am not sure
	if this is correct or not. See PR#10042 for more info. Reported by
	Jason.


Tue, 12 Oct 2004 08:49:59 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Mon, 11 Oct 2004 23:18:40 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Show specials in the menu texts for changing terrain (via irrigation,
	mining, or transformation).

	Patch by me in PR#10293.


Mon, 11 Oct 2004 13:18:28 -0700  per:

	Changed paths:
	   M /trunk/autogen.sh

	Fix previous commit so that it actually works (needs to export the env).


Mon, 11 Oct 2004 13:02:46 -0700  per:

	Changed paths:
	   M /trunk/autogen.sh

	Add automake kludge for Gentoo. See PR#10486 for details. Patch by
	Stefan Schweizer <sschweizer@gmail.com>.


Mon, 11 Oct 2004 11:09:57 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	More russian translations.


Mon, 11 Oct 2004 09:37:08 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/savegame.c

	Avoid using enumeration values from the code directly in the savegames for
	orders lists.

	Patch by me in PR#9821.


Sun, 10 Oct 2004 20:07:27 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/netintf.c

	Add a missing include (that caused a compile warning on Mac OS X).

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#10398.


Sun, 10 Oct 2004 18:57:52 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix a bug whereby the meaning of the "aqueductloss" server setting was
	being reversed.

	Reported by Genevieve Gracian <ggracian@free.fr> in PR#10451. Patch by me.


Sun, 10 Oct 2004 18:52:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/mapview.c

	Fix some bugs in the drawing of stippled graphics - the stipple
	origin was not being correctly set.

	Patch by me in PR#10476.


Sun, 10 Oct 2004 18:42:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/diplomats.c

	Diplomats always die when doing a mission.

	Patch by Per Mathisen in PR#10481 with style changes by me.


Sun, 10 Oct 2004 18:35:59 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/README

	Update doc/README.

	Patch by Per Mathisen in PR#10482, with changes by me.


Sun, 10 Oct 2004 18:24:17 -0700  jdorje:

	Changed paths:
	   D /trunk/acconfig.old
	   M /trunk/autogen.sh
	   D /trunk/configure.in

	Remove support for old (pre-2.52) versions of autoconf, along with most
	of the custom duplicated autoconf code.

	Patch by Per Mathisen in PR#10484.


Sun, 10 Oct 2004 15:35:59 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	More translation.


Sun, 10 Oct 2004 14:14:11 -0700  vasc:

	Changed paths:
	   M /trunk/common/effects.c

	Fix typo.

	Bug reported by Genevieve Gracian.


Sun, 10 Oct 2004 13:02:02 -0700  kauf:

	Changed paths:
	   M /trunk/server/gamehand.c
	   M /trunk/server/settings.c

	Don't allow ferry units as start units.

	See PR#9324. Patch by Marko Lindqvist.


Sun, 10 Oct 2004 04:37:43 -0700  evyscr:

	Changed paths:
	   M /trunk/client/gui-xaw/messagewin.c

	Make Xaw client to update message window correctly. Patch by me in PR#10280


Sun, 10 Oct 2004 04:09:34 -0700  per:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/data/Freeciv.in

	Make Xaw client show veteran info correctly. Patch by evyscr in
	PR#10278.


Sat, 09 Oct 2004 14:44:21 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Global observers are not allowed to vote. Fixes PR#10472. Reported by
	Mike.


Sat, 09 Oct 2004 14:42:57 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Don't allow /create to create players with reserved names.

	See PR#10483. Reported by Per. Patch by me.


Sat, 09 Oct 2004 12:35:49 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Further updated ru.po.


Sat, 09 Oct 2004 11:08:54 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Fix the behavior of ./configure --datadir=$dir.

	Patch by James Canete and myself in PR#10421.


Sat, 09 Oct 2004 09:48:27 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c

	Add some documentation and cosmetic fixes.


Sat, 09 Oct 2004 09:16:35 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/data/themes/morgan/640x480/mapview.prop

	Move information on where to put the detailed information you get from
	clicking on tiles, cities and units into the mapview.prop theme file.


Sat, 09 Oct 2004 09:00:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Implement a sliding mapview.  It is off by default.

	Patch by Arnstein Lindgard and myself in PR#8210.


Sat, 09 Oct 2004 08:45:40 -0700  per:

	Changed paths:
	   D /trunk/data/themes/morgan/640x480/palette.prop

	Now actually remove palette.prop, since it is no longer in use.


Sat, 09 Oct 2004 08:32:02 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/data/themes/morgan/640x480/mapview.prop
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/theme_engine.h

	Remove 'colormodel' theme information (not used, mistakenly added by me
	long before it has any practical use). Add new theme function
	'te_read_point', which reads a ct_point from a theme file. Make
	position ofoverview (minimap) changable from theme files.


Sat, 09 Oct 2004 08:09:28 -0700  jdorje:

	Changed paths:
	   M /trunk/common/version.h
	   M /trunk/version.in

	Bump the version to 2.0.99.


Sat, 09 Oct 2004 07:34:03 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/widget.c
	   M /trunk/utility/ftwl/widget_window.c

	Fix timer warning added by last commit, and obnoxious debug message.


Sat, 09 Oct 2004 06:15:57 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/utility/ftwl/widget.c
	   M /trunk/utility/ftwl/widget_window.c

	Cosmetic/debug message changes.


Sat, 09 Oct 2004 04:59:38 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/chat.c
	   M /trunk/client/gui-ftwl/chatline.c
	   M /trunk/client/gui-ftwl/gui_main.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/data/themes/morgan/640x480/chatline.prop
	   M /trunk/data/themes/morgan/640x480/mapview.prop
	   M /trunk/data/themes/morgan/640x480/mapview.screen
	   M /trunk/data/themes/morgan/640x480/oog.prop
	   M /trunk/utility/ftwl/back_end.h
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/be_common_24.h
	   M /trunk/utility/ftwl/be_common_24_sprite.c
	   M /trunk/utility/ftwl/be_sdl.c
	   M /trunk/utility/ftwl/common_types.h
	   M /trunk/utility/ftwl/text_renderer.c
	   M /trunk/utility/ftwl/text_renderer.h
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/widget.c
	   M /trunk/utility/ftwl/widget.h
	   M /trunk/utility/ftwl/widget_button.c
	   M /trunk/utility/ftwl/widget_edit.c
	   M /trunk/utility/ftwl/widget_label.c
	   M /trunk/utility/ftwl/widget_list.c
	   M /trunk/utility/ftwl/widget_slider.c
	   M /trunk/utility/ftwl/widget_window.c

	Make ftwl use a 32bpp internal image format instead of its previous
	24bpp + 3bpp transparency format. This simplifies the internal code
	somewhat, and allows easier use of hardware acceleration. Theme colour
	format allows both 24bpp and 32bpp. Backend API is simpler now. SDL
	backend has been significantly simplified and cleaned up, but it is
	still slow. Fixed "-- --help" option. Added some more documentation. Two
	news bugs: Tooltips don't disappear when they should; do not know why.
	General tooltip (from population and nation labels) won't appear;
	this is because in widget code, we check if a surface is transparent, and
	ignore it for events if it is - this seems like a very strange design,
	which I think must be rethought. More info see PR#9518.


Fri, 08 Oct 2004 19:10:19 -0700  jdorje:

	Changed paths:
	   M /trunk/server/commands.c

	Fix helptext for the /observe command.

	Patch by Mike Kaufman in PR#10445.


Fri, 08 Oct 2004 18:09:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug in the drawing of orders routes by the client.

	Patch by me in PR#10475.


Fri, 08 Oct 2004 16:23:08 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po, as of CVS version oct-7-04


Fri, 08 Oct 2004 09:30:13 -0700  jdorje:

	Changed paths:
	   M /trunk/manual/civmanual.c
	   M /trunk/po/POTFILES.in
	   M /trunk/server/Makefile.am
	   M /trunk/server/settings.c
	   M /trunk/server/settings.h
	   M /trunk/server/stdinhand.c
	   D /trunk/server/stdinhand_info.h

	Remove the stdinhand_info file.  Its elements are moved into
	settings.c and stdinhand.c.

	Patch by me in PR#10453.


Fri, 08 Oct 2004 09:07:40 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settings.c

	Improve the server setting helptext.

	Patch by me in PR#10461.


Thu, 07 Oct 2004 22:11:51 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/player.c

	Fix player_get_expected_income; previously it was very buggy.

	Patch by me in PR#10008.


Thu, 07 Oct 2004 22:01:53 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/srv_main.c

	Log the seed values when they are generated.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10325.


Thu, 07 Oct 2004 14:06:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/dialogs.c

	Fix compilation of gui-stub.

	Patch by me in PR#10470.


Thu, 07 Oct 2004 12:15:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/generator/mapgen_topology.c
	   M /trunk/server/generator/utilities.c

	Fix a number of bugs in non-isometric, hexagonal maps.

	Patch by me in PR#10424.


Thu, 07 Oct 2004 11:04:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c

	Remove two unused variables.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#10432.


Thu, 07 Oct 2004 09:39:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/server/meta.c

	Use casts to avoid a warning in a printf-style function.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#10452.


Thu, 07 Oct 2004 09:31:50 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/be_sdl.c

	Fix some mistakes in the sdl backend for ftwl.


Thu, 07 Oct 2004 08:24:45 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/be_common_24.h
	   M /trunk/utility/ftwl/be_common_24_sprite.c
	   M /trunk/utility/ftwl/be_x11_ximage.c

	Add some comments, remove some dead code. See PR#10466.


Thu, 07 Oct 2004 07:41:05 -0700  per:

	Changed paths:
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h

	Make convert_string() non-static and announce it in header file. From
	patch by Jason in PR#10064.


Thu, 07 Oct 2004 07:39:01 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/common_types.c
	   M /trunk/utility/ftwl/widget_core.c

	Remove some obnoxious asserts.


Thu, 07 Oct 2004 07:31:15 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/widget_timeout.c

	Ensure that usec gets a signed value in timer code. Patch by Sebastian
	Bauer in PR#10374.


Thu, 07 Oct 2004 05:49:21 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Add Vasco and James to the list of present maintainers in doc/PEOPLE.


Thu, 07 Oct 2004 05:45:32 -0700  per:

	Changed paths:
	   M /trunk/data/default/terrain.ruleset

	Whale is now a 2/1/2 special, instead of a 2/2/3 special, for game
	balance reasons. See discussion in PR#10361 for details.


Wed, 06 Oct 2004 20:55:34 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	add do_update=TRUE in 2 places in set_command

	See PR#10446. Reported by me. Fix by Per. Patch by Jason.


Wed, 06 Oct 2004 20:23:25 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	fix crash bug caused by attempting to allocate a private map before
	the game begins.

	See PR#10460


Wed, 06 Oct 2004 12:20:18 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated po


Wed, 06 Oct 2004 10:32:14 -0700  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c

	Avoid a possible segfault in the creation of barbarians.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> as part of
	PR#10415.  Patch by me.


Wed, 06 Oct 2004 07:41:53 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	More translations.


Tue, 05 Oct 2004 06:49:23 -0700  vasc:

	Changed paths:
	   M /trunk/utility/netintf.c

	Missed some dead code in my latest patch (PR#2757).


Tue, 05 Oct 2004 06:44:55 -0700  vasc:

	Changed paths:
	   M /trunk/utility/netintf.c

	Remove dead code from my_url_encode (PR#2757).


Tue, 05 Oct 2004 06:33:03 -0700  vasc:

	Changed paths:
	   M /trunk/client/clinet.c

	Make the metaserver results list be presented as it was received at the client,
	instead of reversing it (PR#2757).


Mon, 04 Oct 2004 15:24:50 -0700  vasc:

	Changed paths:
	   M /trunk/server/meta.c

	Change the way available players are calculated in the metaserver (PR#2757).

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Mon, 04 Oct 2004 12:42:15 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	More translation for ru.po.


Mon, 04 Oct 2004 12:39:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident/cities.spec
	   M /trunk/data/isotrident/morecities.spec
	   M /trunk/data/isotrident/nuke.spec
	   M /trunk/data/isotrident/terrain1.spec
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/data/isotrident/tiles.spec
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/buildings.spec
	   M /trunk/data/misc/chiefs.spec
	   M /trunk/data/misc/flags.spec
	   M /trunk/data/misc/shields.spec
	   M /trunk/data/misc/small.spec
	   M /trunk/data/misc/space.spec
	   M /trunk/data/misc/treaty.spec
	   M /trunk/data/trident/auto_ll.spec
	   M /trunk/data/trident/cities.spec
	   M /trunk/data/trident/explosions.spec
	   M /trunk/data/trident/roads.spec
	   M /trunk/data/trident/tiles.spec
	   M /trunk/data/trident/units.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Bump the tileset and specfile capstrings in preparation for the next
	release.

	See PR#10331.


Mon, 04 Oct 2004 12:35:14 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c

	Bump the network capstring in preparation for the next release.

	See PR#10332.


Mon, 04 Oct 2004 10:33:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/data
	   M /trunk/data/.cvsignore
	   D /trunk/data/Freeciv
	   A /trunk/data/Freeciv.in
	   M /trunk/version.in

	Allow autoconf to build data/Freeciv using the version string it already
	knows about.  This means the version string need be updated in one fewer
	place.  data/Freeciv is moved to data/Freeciv.in.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10409.


Sun, 03 Oct 2004 22:26:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapctrl.c

	Reorder variable declarations to allow the XAW client to compile.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#10412.


Sun, 03 Oct 2004 22:08:22 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Add sanity checking for sea units on land, and other "bad" situations.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9309 with
	changes by me.


Sun, 03 Oct 2004 22:04:05 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	Update gui-win32 to work with the new metaserver code.

	Patch by me.


Sun, 03 Oct 2004 21:37:34 -0700  kauf:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/server/civserver.c
	   M /trunk/server/commands.c
	   M /trunk/server/commands.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/meta.c
	   M /trunk/server/meta.h
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/netintf.h

	New metaserver implementation. We now use http instead of udp.
	The default metaserver is now at http://meta.freeciv.org/metaserver.phtml

	See PR#2757. Patch by Vasco and myself.


Fri, 01 Oct 2004 15:36:06 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapctrl.c

	Fix a few typos in gui-win32/mapctrl.c introduced by PR#10385.

	Patch by me.


Fri, 01 Oct 2004 10:53:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/generator/utilities.h
	   M /trunk/server/settlers.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c

	Change map_pos_to_tile and native_pos_to_tile to do wrapping. index_to_tile
	returns NULL for invalid indices.  Users are changed so that separate calls
	to normalize_map_pos and map_pos_to_tile are not needed.  Users of
	native_pos_to_tile become much simpler because there was previously no
	way to wrap in native positions.

	Patch by me in PR#10393.


Fri, 01 Oct 2004 10:40:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	- Rename map_to_canvas_pos as tile_to_canvas_pos.
	- Replace canvas_to_map_pos with two functions canvas_pos_to_tile and
	  canvas_pos_to_nearest_tile.
	- Change all users to use the new forms.

	Patch by me in PR#10385.


Fri, 01 Oct 2004 10:37:22 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	More translations for ru.po


Fri, 01 Oct 2004 01:07:26 -0700  jdorje:

	Changed paths:
	   M /trunk/acconfig.old
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Add the CFLAGS and CPPFLAGS into definitions in config.h.  This "forces"
	recompilation if the flags are changed.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10188.


Fri, 01 Oct 2004 01:04:10 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	For players with access level hack, don't cut them because of a bad ping
	timeout.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#9524.


Thu, 30 Sep 2004 15:16:41 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/cityrep.c

	Remove a reference to the nonexistant REPORT_CITYNAME_ABBREV value.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#10397, with changes by
	me.


Thu, 30 Sep 2004 13:53:17 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_main.c

	Make gui-ftwl use ISO-8859-1 for now. This avoids crashes when using
	gui-ftwl with other locales than English.


Thu, 30 Sep 2004 10:14:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h

	Don't truncate city name strings in the city report.

	Patch by me in PR#10149.


Thu, 30 Sep 2004 09:05:48 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/astring.c

	Avoid a potential compiler warning from passing a size_t value to a
	printf-style function.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#10337.


Thu, 30 Sep 2004 08:13:58 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Don't try to step in the direction referenced by an unitialized variable.
	Instead we initialize the direction to -1, and don't do any step from the
	source tile of a constructed patch.

	Patch by me in PR#10392.


Thu, 30 Sep 2004 08:09:17 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Avoid a crash in consider_settler_action when a log call accessed a tile
	pointer that was unitialized.  The fix is to initialize it to NULL so that
	the logging happens properly.

	Reported by Egor Vyscrebentsov <evyscr@murom.net> in PR#10386.


Thu, 30 Sep 2004 05:31:26 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/srv_main.c

	Readd AI advisor for human players. See PR#10084.


Thu, 30 Sep 2004 05:22:11 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix a few minor issues with city_range_iterate() macro. Patch by Marko
	Lindqvist in PR#10375.


Thu, 30 Sep 2004 05:17:16 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/citymap.c
	   M /trunk/common/aicore/citymap.h
	   M /trunk/server/settlers.c

	Ensure that citymap_init_turn() is called in all difficulty levels. Move
	inline functions back into citymap.c. Dynamically allocate the citymap.
	Smaller fixes. Patch by Jason in PR#10336.


Thu, 30 Sep 2004 05:12:52 -0700  per:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/server/settlers.c

	Make settler cachemap dynamically allocated and make sure
	auto_settlers_player() is only called once each turn for each player.
	Patch by Jason in PR#10301.


Thu, 30 Sep 2004 05:06:12 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Fix crash caused by accessing a pointer in a freelog call that was set
	in the line below the freelog. Only appeared in debug mode.


Thu, 30 Sep 2004 00:07:03 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aisettler.c

	Fix a bug in city_desirability() which would cause it to try to add
	settlers into cities that would put them over their maximum population,
	when pop_cost was greater than 1.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10346, with
	style and comment changes by me.


Wed, 29 Sep 2004 14:29:16 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	More translations.


Wed, 29 Sep 2004 13:06:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapctrl.c

	Fix a NULL-pointer bug in the drawing of crosshead lists in gui-xaw.

	Reported by Egor Vyscrebentsov <evyscr@murom.net> in PR#10387.


Tue, 28 Sep 2004 23:36:03 -0700  jcanete:

	Changed paths:
	   M /trunk/server/userdb/lockfile.c

	Have create_lock() return true if file locks are not available.  This makes
	userdb work on win32.

	Patch by Mike Kaufman under PR#10136.


Tue, 28 Sep 2004 23:26:11 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/finddlg.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/menu.c

	Fix compilation of gui-win32, broken in PR#10047.

	Patch by me under PR#10380.


Tue, 28 Sep 2004 19:24:24 -0700  kauf:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aiair.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aiferry.h
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aisettler.c
	   M /trunk/ai/aisettler.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/agents.h
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/sha.c
	   M /trunk/client/agents/sha.h
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/climap.c
	   M /trunk/client/climap.h
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-ftwl/citydlg.c
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-ftwl/gui_text.c
	   M /trunk/client/gui-ftwl/gui_text.h
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-ftwl/mapview.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/finddlg.c
	   M /trunk/client/gui-gtk/gotodlg.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/finddlg.c
	   M /trunk/client/gui-mui/gotodlg.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/finddlg.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/messagewin_common.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/aicore/citymap.c
	   M /trunk/common/aicore/citymap.h
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/common/effects.c
	   M /trunk/common/game.c
	   M /trunk/common/improvement.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/airgoto.c
	   M /trunk/server/airgoto.h
	   M /trunk/server/autoattack.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/barbarian.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/diplomats.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/height_map.h
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/mapgen_topology.c
	   M /trunk/server/generator/mapgen_topology.h
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/temperature_map.c
	   M /trunk/server/generator/temperature_map.h
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/generator/utilities.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unithand.h
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Code outside of the map tracks tiles instead of coordinates. Thus
	whole_map_iterate, map_get_terrain, etc. operate on tiles. Unit and
	city structures hold tile values rather than (x,y) pairs.

	See PR#10047. Patch by Jason Short


Tue, 28 Sep 2004 14:54:05 -0700  jpel:

	Changed paths:
	   M /trunk/po/nl.po

	update dutch translation


Mon, 27 Sep 2004 21:57:18 -0700  kauf:

	Changed paths:
	   M /trunk/client/tilespec.c

	change two instances of ptile->known to tile_get_known()

	See PR#10369. Spotted by Jason


Mon, 27 Sep 2004 20:41:01 -0700  kauf:

	Changed paths:
	   M /trunk/server/generator/utilities.c

	move assert in smooth_int_map() after variable declarations.


Mon, 27 Sep 2004 14:58:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add info the the building helptext that shows the requirements (techs and
	buildings) and allowances (buildings and units).

	Patch by me in PR#10153.


Mon, 27 Sep 2004 13:10:34 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Avoid using quotes in AC_CONFIG_AUX_DIR since it will confuse old
	automakes.

	Reported by Mateusz Stefek and Genevieve Gracian in PR#10233.  Patch by
	Marko Lindqvist <marko.lindqvist@pp5.inet.fi> with added comment by me.


Mon, 27 Sep 2004 13:05:15 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Fixes & more translations.


Mon, 27 Sep 2004 07:19:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/helpdlg.c

	Remove "variant" users from gui-xaw.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#10356.


Mon, 27 Sep 2004 05:20:38 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Mon, 27 Sep 2004 02:33:11 -0700  matusik:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add phoenician.ruleset in POTFILES.in


Mon, 27 Sep 2004 00:55:06 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	With this patch "disconnect" menu item is renamed "Leave" and a user is
	warned about leaving a local game. (This means killing the server)
	Patch by me in PR#10329


Sun, 26 Sep 2004 03:26:47 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/menu.c

	Win32: Remove "End Game" from the game menu, fix compilation broken by the
	removal of disconnected_from_local_server(), and correct the activation of
	some items in the orders menu.

	Patch by me under PR#10341.


Sat, 25 Sep 2004 16:15:43 -0700  vasc:

	Changed paths:
	   M /trunk/client/packhand.c

	Missed one use of 'variant' in the previous patch, this removes it.

	Reported by Jason Dorje Short <jdorje@users.sf.net>.


Sat, 25 Sep 2004 15:18:42 -0700  vasc:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/ruleset.c

	PR#10328: Remove useless 'variant' field.

	Patch by me.


Sat, 25 Sep 2004 13:31:47 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c

	Initialize the get_costs PF parameter to avoid an immediate segfault when
	using PF.

	Patch by me in PR#10333.


Sat, 25 Sep 2004 12:03:09 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/fciconv.c

	Avoid several problems with charset conversions with Solaris iconv.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#10027.
	Patch by me.


Sat, 25 Sep 2004 11:58:07 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Don't have a civil war if there are no more playable nations.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10218.
	Patch by me.


Sat, 25 Sep 2004 11:49:37 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/specvec.h

	Make some parameters to specvec functions const.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#10294.


Sat, 25 Sep 2004 10:40:51 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove server-side connect.  In its place client-side goto is used with
	orders.  Building of road, rail, and irrigation is supported.

	Patch by Gregory Berkolaiko and myself in PR#7282.


Sat, 25 Sep 2004 10:21:50 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Close only used connection in previous commit


Sat, 25 Sep 2004 09:24:43 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Always quit connection on Prev button. Patch by me in PR#10326


Sat, 25 Sep 2004 04:48:22 -0700  matusik:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Add assertion to track love-love-hate triangles. Patch by Marko Lindqvist in PR#10319


Sat, 25 Sep 2004 00:09:13 -0700  matusik:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def

	Change the type of packet_diplomat_action.value to SINT16. Patch by me in PR#10300


Fri, 24 Sep 2004 18:27:19 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	update ja.po


Fri, 24 Sep 2004 15:31:07 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/widget.c

	Ensure that we do not leave dangling globals when freeing widgets in
	ftwl. Patch and bug report by Marek "Baczek" <imbaczek@gmail.com> in
	PR#10303 with small changes by me.


Fri, 24 Sep 2004 14:37:51 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix evaluation of defence buildings. Thanks to Mateusz for input.


Fri, 24 Sep 2004 13:33:34 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Make AI handle notradesize server option better. Patch by Mateusz in
	PR#9063.


Fri, 24 Sep 2004 13:27:52 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/widget_button.c
	   M /trunk/utility/ftwl/widget_edit.c
	   M /trunk/utility/ftwl/widget_label.c

	Fix ftwl warnings. Patch by Marko Lindqvist in PR#10304.


Fri, 24 Sep 2004 13:18:39 -0700  matusik:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	- We assume that we are connected to the internal server if it runs.
	- "End Game" menu item is removed. (It wasn't really ending a game but
	killing the internal server)
	- "Disconnect" menu item kills internal server

	Many bug are fixed.
	Patch by me in PR#10283


Fri, 24 Sep 2004 12:45:43 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/elvish.ruleset

	Avoid gettext warnings in elvish ruleset


Fri, 24 Sep 2004 12:32:02 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po partial update


Fri, 24 Sep 2004 11:57:19 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	PR#10192: Pass keypresses in detachable panes back to the toplevel window,
	so you can move units, etc.

	Bug reported by Mateusz Stefek <matusik_s@o2.pl>, patch by me.


Fri, 24 Sep 2004 09:49:47 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#10212: don't create more than one server options dialog.

	Bug reported by Marek "Baczek" Baczynski <imbaczek@poczta.onet.pl>, patch
	by me.


Fri, 24 Sep 2004 09:24:59 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	PR#10037: Fix selection loss on update bug.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>, patch by me.


Fri, 24 Sep 2004 08:48:26 -0700  matusik:

	Changed paths:
	   M /trunk/Makefile.am

	Distribute freeciv.desktop.in


Fri, 24 Sep 2004 08:33:31 -0700  matusik:

	Changed paths:
	   A /trunk/bootstrap/freeciv.desktop.in
	   M /trunk/bootstrap/freeciv.spec.in
	   M /trunk/client
	   M /trunk/client/.cvsignore
	   M /trunk/client/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Add gnome menu item.
	The .desktop file is installed in prefix/share/applications iff client
	is enabled.
	Patch by me in PR#9977
	freeciv.desktop by Jérôme Warnier


Fri, 24 Sep 2004 06:51:02 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Use the GTK+ 2.2 gtk_tree_selection_count_selected_rows function instead of
	rolling our own.


Thu, 23 Sep 2004 13:48:08 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/common/tech.c

	Fix get_tech_name() to not crash on A_UNSET, and add two callers. Patch
	by Jason in PR#9779.


Thu, 23 Sep 2004 13:25:11 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am

	Add some bootstrap files to EXTRA_DIST to make sure they are distributed.

	Reported by Oursinou Desman <desman@nours.org> in PR#10226.  Patch by
	Mateusz Stefek with changes by me.


Thu, 23 Sep 2004 13:13:28 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Remove overzealous assert. This should fix "#9780: server crash from
	unset tech".


Thu, 23 Sep 2004 13:03:21 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c

	Fix bug which caused the colors in the client to get all mixed up.


Thu, 23 Sep 2004 12:56:22 -0700  per:

	Changed paths:
	   M /trunk/data/themes/morgan/640x480/chatline.prop
	   M /trunk/data/themes/morgan/640x480/connect.screen
	   M /trunk/data/themes/morgan/640x480/mapview.prop
	   M /trunk/data/themes/morgan/640x480/mapview.screen
	   M /trunk/data/themes/morgan/640x480/oog.prop

	Change "data/fonts/*" to "fonts/*", to make access to fonts work after
	'make install'. Reported by Marko Lindqvist in PR#10243.


Thu, 23 Sep 2004 12:50:46 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Make one run only to set comparison values for city worth (thanks
	to jason for pointing out the obvious). Faster upkeep calculation.
	Fix major bug with wonder evaluation. Readd corruption and waste
	estimation that mysteriously disappeared from the code at one point.
	See PR#10217.


Thu, 23 Sep 2004 12:46:56 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Make pollution reduction effect of Hydro, Nuclear and Hoover buildings
	dependent on Factory and Mfg Plant. See PR#10126.


Thu, 23 Sep 2004 12:43:55 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Gen eff AI: Don't use recalc delay on human players.


Thu, 23 Sep 2004 11:17:23 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/plrdlg.c

	Fix a bug that caused buttons in the XAW player dialog to always be
	deactivated.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#9872.


Thu, 23 Sep 2004 10:20:35 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h

	- Introduce production leader concept.
	- Only the most powerful AI player will start building Apollo now.
	- If someone has already started building a spaceship we should also start building it.
	See PR#10241 and PR#10239
	Patches by me


Thu, 23 Sep 2004 09:14:48 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	Put only safe values into old style player%d field. This mean that 1.14.x will not read correctly nation, but at least it wont crush


Wed, 22 Sep 2004 23:40:22 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/include/dialogs_g.h

	Remove the government dialog and the popup_government_dialog() function,
	since it is no longer used.

	Patch by me in PR#9841.


Wed, 22 Sep 2004 23:36:09 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c

	Remove player-tile updates from send_tile_info_always().  Instead the
	caller must call update_player_tile_knowledge() separately if the info
	needs to be updated.  This helps fix a bug where the playermap would not be
	correctly updated for AI players.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10190, with
	comment changes by me.


Wed, 22 Sep 2004 17:37:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Add a new function city_queue_insert() to insert a production item into
	a city's production queue.  Use this function in the gtk2 city report to
	fix problems when an unbuildable item was added into the queue.

	Patch by me in PR#10026.


Wed, 22 Sep 2004 10:00:44 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aicity.c

	Reduce ai evaluation of costal defence. This was surely a bug.
	Patch by me in PR#10232


Wed, 22 Sep 2004 09:13:53 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/canadian.ruleset

	Reorder the Canadian cities so that all provincial capitals are given
	prominent spots.

	Patch by "Gilles J. Seguin" <segg@infonet.ca> in PR#9425.


Wed, 22 Sep 2004 08:42:28 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h

	Remove the EFT_NO_UPKEEP effect, since it is unused and redundant with
	EFT_UPKEEP_FREE.

	Patch by me in PR#10214.


Wed, 22 Sep 2004 01:45:04 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/repodlgs.c

	Fix a couple compiler warnings in gui-win32.

	Patch by Jason in PR#10137.


Wed, 22 Sep 2004 01:38:48 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/connectdlg.h
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/menu.c

	Remove the server control buttons from gui-win32, and update the menus to
	compensate.  Also cleans up menu.c for readability and adds a few missing
	options.

	Patch by me under PR#10227.


Wed, 22 Sep 2004 00:30:59 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	Save and load AI diplomacy target
	Patch by me in PR#10249


Wed, 22 Sep 2004 00:17:57 -0700  matusik:

	Changed paths:
	   M /trunk/server/unittools.c

	Don't resend all ex-allied city in remove_allied_visibility(), send only those known and seen.
	Reported by Marek Baczek Baczyński in PR#10236; patch by me


Tue, 21 Sep 2004 19:30:32 -0700  jdorje:

	Changed paths:
	   M /trunk/m4/esd.m4
	   M /trunk/m4/freetype2.m4
	   M /trunk/m4/glib-2.0.m4
	   M /trunk/m4/glib-gettext.m4
	   M /trunk/m4/glib.m4
	   M /trunk/m4/gtk-2.0.m4
	   M /trunk/m4/gtk.m4
	   M /trunk/m4/imlib.m4
	   M /trunk/m4/sdl.m4

	Add quoting of AC_DEFUN calls to avoid an automake warning.

	Patch by "Gilles J. Seguin" <segg@infonet.ca> in PR#10157 with changes by
	me.


Tue, 21 Sep 2004 19:00:58 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix a bug in the message when upgrading building production.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#10194.
	Patch by me.


Tue, 21 Sep 2004 15:20:32 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/height_map.h
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/generator/utilities.h

	Move some common code out of generator1 and generator5.
	Patch by Marcelo Burda in PR#10124


Tue, 21 Sep 2004 15:10:21 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Add server settings values for some settings needed by old servers.

	Patch by Mateusz Stefek in PR#10244.


Tue, 21 Sep 2004 15:05:55 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/assyria.png
	   M /trunk/data/flags/columbia.png
	   M /trunk/data/flags/cuba.png
	   M /trunk/data/flags/elves.png
	   M /trunk/data/flags/galicia.png
	   M /trunk/data/flags/hobbits.png
	   M /trunk/data/flags/indonesia.png
	   M /trunk/data/flags/kampuchea.png
	   M /trunk/data/flags/malaysia.png
	   M /trunk/data/flags/mars.png
	   M /trunk/data/flags/nigeria.png
	   M /trunk/data/flags/quebec.png
	   M /trunk/data/flags/sumeria.png
	   M /trunk/data/flags/taiwan.png

	Change flags into paletted PNGs.  This is needed for the XAW client.

	Reported by Egor Vyscrebentsov <evyscr@murom.net> in PR#10240.  Fixed by
	the GIMP.


Tue, 21 Sep 2004 11:50:48 -0700  matusik:

	Changed paths:
	   M /trunk/doc/CodingStyle

	+- Place operators at the beginning of a line, not at the end.  It should be
	+    if ((a
	+         && b)
	+        || c) {
	+  instead of
	+    if ((a &&
	+         b) ||
	+        c) {
	+
	Reported by me. Patch by Jason in PR#10238


Tue, 21 Sep 2004 11:35:23 -0700  matusik:

	Changed paths:
	   M /trunk/server/savegame.c

	If player's government is anarchy and old style revolution = 0 change set new style revolution to game.turn + 1.
	This avoids segfault.
	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10181
	Patch by me


Tue, 21 Sep 2004 08:49:31 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Add some randomness into ceasefire breakup code.
	Now the other player has some more time to sign ceasefire with rest of the alliance.
	Patch by me in PR#10078


Tue, 21 Sep 2004 01:34:19 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/temperature_map.c
	   M /trunk/server/generator/utilities.c

	Fix some style problems in mapgen code


Mon, 20 Sep 2004 23:18:51 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/doc/README.effects

	Change the Pollu_Prod_Pct and Pollu_Pop_Pct from divisor values into
	percentage values.

	See PR#10125.


Mon, 20 Sep 2004 22:51:12 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aicity.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/srv_main.c

	Add the Eiffel Tower to the ruleset, along with two new effects:
	Gain_AI_Love boosts the love of AI players for the owner each turn, while
	Regen_Reputation boosts the owner's reputation each turn.

	Patch by Per Mathisen in PR#10109, changed by Mateusz Stefek, and with doc
	updates by me.


Mon, 20 Sep 2004 22:00:54 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c

	During a revolution, store the target government at the server.  The client
	sends the target to the server and the server changes to it automatically
	when the revolution ends.

	Patch by me in PR#10151.


Mon, 20 Sep 2004 18:08:46 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Fix a bug where gui-gtk-2.0's canvas_put_sprite would not correctly handle
	the offset parameters.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#10193.


Mon, 20 Sep 2004 18:03:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/repodlgs.c

	Allow the XAW client to handle A_UNSET in the science dialog.

	Patch by Egor Vyscrebentsov <evyscr@murom.net> in PR#9779.


Mon, 20 Sep 2004 17:58:58 -0700  jdorje:

	Changed paths:
	   M /trunk
	   M /trunk/.cvsignore
	   M /trunk/Makefile.am
	   A /trunk/bootstrap
	   A /trunk/bootstrap/.cvsignore
	   A /trunk/bootstrap/civ.in
	   A /trunk/bootstrap/config.guess
	   A /trunk/bootstrap/config.sub
	   A /trunk/bootstrap/freeciv.spec.in
	   A /trunk/bootstrap/install-sh
	   A /trunk/bootstrap/missing
	   A /trunk/bootstrap/mkinstalldirs
	   A /trunk/bootstrap/ser.in
	   A /trunk/bootstrap/undep.sh.in
	   D /trunk/civ.in
	   D /trunk/config.guess
	   D /trunk/config.sub
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   D /trunk/freeciv.spec.in
	   D /trunk/install-sh
	   D /trunk/missing
	   D /trunk/mkinstalldirs
	   D /trunk/ser.in
	   D /trunk/undep.sh.in

	Create a new directory bootstrap/.  Move a number of bootstrap-related
	files into it.


Mon, 20 Sep 2004 17:34:18 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c
	   M /trunk/server/generator/mapgen.c

	Fix several compiler warnings.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10189 with
	changes by me.


Mon, 20 Sep 2004 16:09:47 -0700  jdorje:

	Changed paths:
	   M /trunk
	   M /trunk/.cvsignore

	Add freeciv.spec to .cvsignore.


Mon, 20 Sep 2004 15:06:52 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	Add new AI handicap: H_DIPLOMACY
	Maps from novice players are very cheap now.
	Novice players are much more peaceful toward human players.
	Patch by me
	See PR#10146


Mon, 20 Sep 2004 15:01:00 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/plrhand.c

	Fix bug where you wouldn't get contact with nation created from civil
	war. Also improve split_player(). Remove redundant calls to
	ai_data_init(). Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi>.
	Bug reported by Christian Knoke <chrisk@cknoke.de>. PR#8838.


Mon, 20 Sep 2004 14:51:13 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/connectdlg.c

	Comment out some connection dialog related code that causes asserts.


Mon, 20 Sep 2004 13:05:50 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c

	Add EFT_NO_UPKEEP to list of effects calculated exactly in aicity.c. It
	was missing here but assumed in aicity.


Mon, 20 Sep 2004 09:42:31 -0700  matusik:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/temperature_map.h
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c

	Remove rivers, grass, forests, swamps and deserts options and replace it with more general "wetness" and "steepness" options.
	Patch by Marcelo Burda with changes by me.
	PR#9894


Mon, 20 Sep 2004 09:27:12 -0700  per:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Adds put_city() and put_terrain() functions to mapview_common. These are
	needed by gui-ftwl. Patch by Jason based on patch by Raimar. See
	PR#10168.


Mon, 20 Sep 2004 09:25:21 -0700  per:

	Changed paths:
	   A /trunk/data/themes/morgan/640x480/chatline.prop
	   A /trunk/data/themes/morgan/640x480/connect-button.png
	   A /trunk/data/themes/morgan/640x480/connect.screen
	   A /trunk/data/themes/morgan/640x480/mapview-background.png
	   A /trunk/data/themes/morgan/640x480/mapview.prop
	   A /trunk/data/themes/morgan/640x480/mapview.screen
	   A /trunk/data/themes/morgan/640x480/oog.prop
	   A /trunk/data/themes/morgan/640x480/palette.prop
	   A /trunk/data/themes/morgan/640x480/scrollbar_horiz_bottom.png
	   A /trunk/data/themes/morgan/640x480/scrollbar_horiz_repeat.png
	   A /trunk/data/themes/morgan/640x480/scrollbar_horiz_top.png
	   A /trunk/data/themes/morgan/640x480/scrollbar_vertic_bottom.png
	   A /trunk/data/themes/morgan/640x480/scrollbar_vertic_center.png
	   A /trunk/data/themes/morgan/640x480/scrollbar_vertic_repeat.png
	   A /trunk/data/themes/morgan/640x480/scrollbar_vertic_top.png

	Add final files necessary for compiling gui-ftwl. Theme graphics by
	Morgan Jones, buttons by same as in previous commit and/or Raimar. Theme
	descriptions by Raimar.


Mon, 20 Sep 2004 09:17:32 -0700  per:

	Changed paths:
	   A /trunk/data/themes/common/button_scroll_down.png
	   A /trunk/data/themes/common/button_scroll_left.png
	   A /trunk/data/themes/common/button_scroll_right.png
	   A /trunk/data/themes/common/button_scroll_up.png
	   A /trunk/data/themes/common/general_button_buy.png
	   A /trunk/data/themes/common/general_button_find_city.png
	   A /trunk/data/themes/common/general_button_prod.png
	   A /trunk/data/themes/common/order_button_add_to_city.png
	   A /trunk/data/themes/common/order_button_airlift.png
	   A /trunk/data/themes/common/order_button_auto_attack.png
	   A /trunk/data/themes/common/order_button_auto_connect.png
	   A /trunk/data/themes/common/order_button_auto_explorer.png
	   A /trunk/data/themes/common/order_button_auto_settler.png
	   A /trunk/data/themes/common/order_button_build_airbase.png
	   A /trunk/data/themes/common/order_button_build_city.png
	   A /trunk/data/themes/common/order_button_build_fortress.png
	   A /trunk/data/themes/common/order_button_build_mining.png
	   A /trunk/data/themes/common/order_button_build_railroad.png
	   A /trunk/data/themes/common/order_button_build_road.png
	   A /trunk/data/themes/common/order_button_disband.png
	   A /trunk/data/themes/common/order_button_done.png
	   A /trunk/data/themes/common/order_button_fortify.png
	   A /trunk/data/themes/common/order_button_goto.png
	   A /trunk/data/themes/common/order_button_goto_city.png
	   A /trunk/data/themes/common/order_button_home.png
	   A /trunk/data/themes/common/order_button_irrigation.png
	   A /trunk/data/themes/common/order_button_patrol.png
	   A /trunk/data/themes/common/order_button_pillage.png
	   A /trunk/data/themes/common/order_button_return.png
	   A /trunk/data/themes/common/order_button_sentry.png
	   A /trunk/data/themes/common/order_button_transform.png
	   A /trunk/data/themes/common/order_button_unload.png
	   A /trunk/data/themes/common/order_button_wait.png

	Add minimum number of graphics needed to compile gui-ftwl. These files
	created by Michael Speck (LGeneral project), Rafal Bursig, Adam
	Szwajnoch and Jukka Liukkonen.


Mon, 20 Sep 2004 08:47:59 -0700  matusik:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/phoenicia.png
	   M /trunk/data/misc/flags.spec
	   A /trunk/data/nation/phoenician.ruleset

	Add Phoenician nation by Daniel Herding <DHerding@gmx.de>
	See PR#3637


Mon, 20 Sep 2004 08:28:37 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/theme_engine.c

	Change path data/themes/default to data/themes/common


Mon, 20 Sep 2004 06:27:08 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Improve aicity.c even more: Do not compile statistics on number of
	cities on our continent, since we already have this information in
	aidata. This is from PR#10145. Also, check if palace variable is null
	before using it (we may not have a palace).


Mon, 20 Sep 2004 06:22:28 -0700  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Save aidata in tabular format. Patch by Mike in PR#8750.


Mon, 20 Sep 2004 06:19:58 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Some more improvements for aicity.c, from Mateusz in PR#10110, with
	changes by me.


Mon, 20 Sep 2004 06:04:08 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	A few improvements to aicity.c:
	- city_range_iterate iterator, which I think can be useful several places
	- move some duplicated code into new function city_want()
	- use the two above to make base_want() prettier and more bug-resistant
	- improve logging a little bit
	- kludgefix EFT_PROD_TO_GOLD want (badly)
	- add evaluation of EFT_INCITE_DIST_PCT and EFT_MAKE_CONTENT_MIL_PER
	- add ceiling on evaluation of EFT_AIRLIFT + comment on its brokeness
	- improve EFT_GROWTH_FOOD slightly (does not include PR#10110)

	See PR#10128.


Sat, 18 Sep 2004 19:13:58 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Add setup_dialog init to one more dialog.


Sat, 18 Sep 2004 18:00:54 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Fix LAN refresh Gtk-CRITICAL bugs, minor cleanups (PR#10182).


Sat, 18 Sep 2004 17:22:11 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Fix (PR#8820): Detachable panels go behind the main window.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.
	Patch by Andreas Rosdal <andrearo@stud.ntnu.no>,


Sat, 18 Sep 2004 17:00:45 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Focus the close button in the city dialog by default (PR#6367).


Sat, 18 Sep 2004 16:26:33 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Remove refresh button from the cities and units reports. Fixes PR#5801.

	Issue reported by Egor Vyscrebentsov <evyscr@murom.net>.


Sat, 18 Sep 2004 16:19:09 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Remove assert from last commit here. Turns out trident uses offset_x/y...


Sat, 18 Sep 2004 16:09:05 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#10172: Fix flag drawing bug at the unit popup dialog.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 18 Sep 2004 15:02:46 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c

	PR#9719: Fix drawing bug in supported units at the city dialog.

	Bug reported by Christian Knoke <chrisk@cknoke.de>.


Sat, 18 Sep 2004 14:12:06 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	Implement update_intel_dialog (PR#9417).

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 18 Sep 2004 11:29:24 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	In single-player mode if you attempted to load a game and it fails (you try
	and load a non-savegame), then you could still click on the storesaved list
	despite it being blank. It would start a game with no players and cause
	trouble.

	See PR#9857. Patch by Vasco.


Sat, 18 Sep 2004 10:47:28 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	Added atexit handler to kill the spawned server at client exit.


Sat, 18 Sep 2004 10:29:01 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Fix segmentation fault if Quit was selected from the Game menu just after
	starting civclient.


Sat, 18 Sep 2004 10:24:20 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/messagewin.h

	Move messages to the toplevel window (PR#10169).

	Changed text updates of toplevel frames to hack around GTK+'s silly notion
	of creating and destroying widgets just for changing some text string.


Sat, 18 Sep 2004 09:24:31 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	update ja.po


Sat, 18 Sep 2004 01:56:00 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aidata.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h

	Add a new constant MAX_AI_LOVE. Replace all constants inside ai code by proper formulas.
	Patch by me in PR#10170


Fri, 17 Sep 2004 22:43:14 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/server/settlers.c

	10061: Make ferry-finding functions in aiferry.c check that the ferry has
	the required capacity.

	Reported and reproduced by Jordi Negrevernis i Font, Marko Lindqvist and
	Jason Short.


Fri, 17 Sep 2004 15:18:11 -0700  matusik:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a bug in 10163. Reported by me, patch by Jason Short in PR#10171


Fri, 17 Sep 2004 13:45:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Merge fill_tile_sprite_array and fill_unit_sprite_array.  The caller now
	passes the exact items to be drawn.

	Patch by me in PR#10136.


Fri, 17 Sep 2004 13:19:11 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Fix a bug with lan server values being freed twice.

	Patch by me in PR#10155.


Fri, 17 Sep 2004 12:04:21 -0700  matusik:

	Changed paths:
	   M /trunk/server/connecthand.c

	Revert latest reverse in 9913. Consulted with Mike Kaufman


Fri, 17 Sep 2004 10:41:21 -0700  matusik:

	Changed paths:
	   M /trunk/server/connecthand.c

	revert latest 9913 commit


Fri, 17 Sep 2004 10:05:21 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Fix a typo bug in CHECK_NATIVE_POS.


Fri, 17 Sep 2004 09:32:36 -0700  matusik:

	Changed paths:
	   M /trunk/server/connecthand.c

	Fix some bugs in the code which rejects connections. Patch by me in PR#9913


Fri, 17 Sep 2004 09:28:11 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Add a new debugging macro CHECK_NATIVE_POS.  Call it in
	native_pos_to_index.

	Patch by me in PR#10107.


Fri, 17 Sep 2004 09:26:21 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/fciconv.c

	If fc_fprintf is called before charsets are initialized, simply don't use
	iconv (the previous behavior was to exit the program).

	Patch by me in PR#10120.


Fri, 17 Sep 2004 09:07:48 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c

	Pressing the escape key closes all GtkDialogs (i.e. the report windows, etc).


Fri, 17 Sep 2004 02:33:52 -0700  matusik:

	Changed paths:
	   M /trunk/data/flags/Makefile.am

	Install hobbits flag


Fri, 17 Sep 2004 02:17:08 -0700  matusik:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	After forking, we try to connect to the server for 50sec. After that
	time we assume that the server is dead or hangs.
	But we can easily check if the child exited or returned from the last
	execv().
	This patch implements it.
	See PR#10150


Fri, 17 Sep 2004 02:14:01 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/mapgen_topology.c
	   M /trunk/server/generator/startpos.c
	   M /trunk/server/generator/utilities.c

	- #include "config.h"
	+ #include <config.h>
	Reported by Jason


Fri, 17 Sep 2004 01:35:14 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/data/nation/kampuchean.ruleset
	   M /trunk/server/diplhand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	players_ON_same_team(). Also remove wrong newline in kampuchean ruleset


Fri, 17 Sep 2004 01:00:57 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/galician.ruleset
	   M /trunk/po/POTFILES.in

	Add new nations into POTFILES. Remove non ASCII characters from translatable string in galician.ruleset


Thu, 16 Sep 2004 23:35:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	- Add a DRAWN_BG option to the drawn_sprite struct.  Use this in place
	  of the bg parameters passed to fill_xxx_sprite_array.
	- Add all necessary data to the DRAWN_GRID drawn_sprite option.
	- Merge all sprite-drawing functions into one function: put_drawn_sprites.

	Patch by me in PR#10135.


Thu, 16 Sep 2004 23:20:37 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/diplodlg.c

	Add embassy exchange and clause removal buttons to gui-win32's diplomacy
	dialog.

	Reported as PR#6726.  Patch by me.


Thu, 16 Sep 2004 23:06:09 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	Complete removal of LAN tab in gui-win32 connect dialog.  The previous
	commit did not remove it completely.


Thu, 16 Sep 2004 23:01:37 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/austrian.ruleset
	   M /trunk/data/nation/belgian.ruleset

	Add classes to the Austrian and Belgian nations.

	See PR#3589.


Thu, 16 Sep 2004 22:59:13 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/belgian.ruleset

	Add a legend for the Belgian ruleset.

	Text by Nicolas Evrard <nicoe@altern.org> in PR#3680.


Thu, 16 Sep 2004 22:56:16 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/gui_main.h

	Rewrite gui-win32's connection dialog.  It now has auth support and an
	integrated interface with no popups besides the file requester.

	Patch by me under PR#10093.


Thu, 16 Sep 2004 22:32:41 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/assyria.png
	   A /trunk/data/flags/columbia.png
	   A /trunk/data/flags/cuba.png
	   A /trunk/data/flags/elves.png
	   A /trunk/data/flags/galicia.png
	   A /trunk/data/flags/hobbits.png
	   A /trunk/data/flags/indonesia.png
	   A /trunk/data/flags/kampuchea.png
	   A /trunk/data/flags/malaysia.png
	   A /trunk/data/flags/mars.png
	   A /trunk/data/flags/nigeria.png
	   A /trunk/data/flags/quebec.png
	   A /trunk/data/flags/sumeria.png
	   A /trunk/data/flags/taiwan.png
	   M /trunk/data/misc/flags.spec
	   A /trunk/data/nation/assyrian.ruleset
	   A /trunk/data/nation/austrian.ruleset
	   A /trunk/data/nation/belgian.ruleset
	   A /trunk/data/nation/columbian.ruleset
	   A /trunk/data/nation/elvish.ruleset
	   A /trunk/data/nation/galician.ruleset
	   A /trunk/data/nation/hobbits.ruleset
	   A /trunk/data/nation/indonesian.ruleset
	   A /trunk/data/nation/kampuchean.ruleset
	   A /trunk/data/nation/malaysian.ruleset
	   A /trunk/data/nation/martian.ruleset
	   A /trunk/data/nation/mexican.ruleset
	   A /trunk/data/nation/nigerian.ruleset
	   A /trunk/data/nation/quebecois.ruleset
	   A /trunk/data/nation/sumerian.ruleset
	   A /trunk/data/nation/taiwanese.ruleset

	* Add some nations, with their flags:
	    Assyrian, Columbian, Elvish, Galician, Hobbits, Indonesian, Kampuchean,
	    Malaysian, Martian, Nigerian, Quebecois, Sumerian, Taiwanese.
	* Add some nations, using existing flags: Austrian, Belgian, Mexican.
	* Add a flag for Cuba, although it has no nation ruleset.

	Most nations came from anonymous sources, and were edited by Raimar Falke
	and myself.  See PR#3589.


Thu, 16 Sep 2004 20:37:10 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Server notifies the user of the status of the player /taken, both control
	and living or dead.

	See PR#4314. Requested by Chris Knoke. Patch by me.


Thu, 16 Sep 2004 20:26:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/stpatrick.png
	   M /trunk/data/misc/flags.spec

	Add a secondary irish nation flag.

	Flag by Alan Horkan <horkana@maths.tcd.ie> in PR#3599.


Thu, 16 Sep 2004 17:54:07 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	In the default ruleset, building power plants requires presence of a
	factory.

	Patch by Per Mathisen in PR#10126.


Thu, 16 Sep 2004 17:35:16 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/fciconv.c

	Use ICONV_CONST to cast a parameter to be the type iconv expects.

	Patch by me in PR#10139.


Thu, 16 Sep 2004 14:43:26 -0700  matusik:

	Changed paths:
	   M /trunk/freeciv.spec.in

	Move postinstall scripts after %find_lang


Thu, 16 Sep 2004 12:27:53 -0700  matusik:

	Changed paths:
	   M /trunk/freeciv.spec.in

	Correct the summary of client-xaw. Reported by Gregory in PR#9982


Thu, 16 Sep 2004 11:52:58 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	Revert erroneous commit. Maybe this time it will work


Thu, 16 Sep 2004 11:43:12 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/mapgen.c

	Revert erroneous commit


Thu, 16 Sep 2004 11:31:32 -0700  matusik:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/freeciv.spec.in
	   M /trunk/server/generator/mapgen.c

	Add official freeciv.spec file (RPM configuration file)
	Freeciv is divided into following packages:
	- freeciv-common (*.gmo files)
	- freeciv-server (server, rulesets, scenarios, civserver man, *serv)
	- freeciv-client (tilesets, helpdata, civclient man)
	- freeciv-client-gtk2 (freeciv.rc-2.0, civclient-gtk2)
	- freeciv-client-gtk (freeciv.rc, civclient-gtk)
	- freeciv-client-xaw (Freeciv, civclient-xaw)
	Binary civclient is installed as an alternative.
	freeciv-client requires freeciv-client-gui, which is provided by all of freeciv-client-*.
	freeciv-client requires freeciv-server
	Patch by me in PR#9982 with lot of help from Egor Vyscrebentso.
	The .spec file is based on the ALT Linux's one.


Thu, 16 Sep 2004 08:58:40 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-xaw/wldlg.c

	Make Xaw client compile again. Patch by Egor Vyscrebentsov in PR#9982


Thu, 16 Sep 2004 02:53:11 -0700  matusik:

	Changed paths:
	   M /trunk/po/POTFILES.in
	   M /trunk/server/generator/Makefile.am
	   M /trunk/server/generator/height_map.c
	   M /trunk/server/generator/mapgen.c
	   M /trunk/server/generator/mapgen.h
	   M /trunk/server/generator/mapgen_topology.c
	   M /trunk/server/generator/mapgen_topology.h
	   A /trunk/server/generator/startpos.c
	   A /trunk/server/generator/startpos.h
	   M /trunk/server/generator/utilities.c
	   M /trunk/server/srv_main.c

	Move the starting positions generation code into it's own file: startpos.c
	Patch by me in PR#10108


Thu, 16 Sep 2004 02:27:02 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	fix helpdata in pl.po


Thu, 16 Sep 2004 02:19:06 -0700  matusik:

	Changed paths:
	   M /trunk/client/helpdata.c

	Fix a bug in helpdata genlist. Ppatch by Jason in PR#10114


Thu, 16 Sep 2004 01:53:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-ftwl/mapview.h

	Add focus tile code to gui-ftwl.

	Original code by Raimar Falke; see PR#10117.


Thu, 16 Sep 2004 01:45:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/repodlgs_common.c

	Don't let a player try to disband an undisbandable unit type through
	the economy dialog.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9630.


Thu, 16 Sep 2004 01:21:41 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c

	Check to make sure an auth file exists before trying to read it; otherwise
	a spurious error message is generated.

	Patch by Mike Kaufman in PR#10111.


Thu, 16 Sep 2004 00:55:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/terrain1.spec

	Allow multiple sprites to be used for one base terrain.  If multiple
	sprites are specified (by <terrain>1, <terrain>2 tags in the tileset) then
	a different sprite is chosen pseudo-randomly for each tile.

	Patch by me in PR#9988.


Thu, 16 Sep 2004 00:48:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h

	Change the "return-to-nearest-city" operation to "return-and-recover".

	Original idea by Arnstein Lindgard.  Latest patch by me in PR#9823.


Wed, 15 Sep 2004 21:38:25 -0700  glip:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/map.c
	   M /trunk/doc/HACKING
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c
	   M /trunk/server/srv_main.c

	9941: Change random seed names.  Now "mapseed" server var corresponds to
	map.seed (used for map generation) and "gameseed" corresponds to game.seed.

	Patch by Jason with doc/ changes by me.


Wed, 15 Sep 2004 20:20:13 -0700  jdorje:

	Changed paths:
	   M /trunk/common/dataio.c
	   M /trunk/common/packets.c

	Avoid some mismatches of paramters to printf-style functions.

	Patches by Benoit Hudson <bh@techhouse.brown.edu> in PR#10138.


Wed, 15 Sep 2004 17:12:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Avoid a segfault when loading a file that doesn't have a slash (/) in its
	name.  Note there may still be problems on systems that don't use / as a
	separator.

	Reported by James Canete in PR#10095.  Patch by me.


Wed, 15 Sep 2004 12:49:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/mapview.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Merge put_unit() and put_unit_full().  The new function is called put_unit
	and has the same parameters as the old put_unit_full.

	Patch by me in PR#10119.


Wed, 15 Sep 2004 04:37:40 -0700  matusik:

	Changed paths:
	   M /trunk/server/settlers.c

	Quick fix division by zero in latest patch by Per


Wed, 15 Sep 2004 03:00:23 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c

	More aggressively massage worker want when we have a large number
	cities on a continent, and increase worker want logging.


Wed, 15 Sep 2004 02:54:01 -0700  per:

	Changed paths:
	   M /trunk/common/city.c

	Effects patch erronously removed the bldg_req check from city.c. Readd
	it. Patch by Jason in PR#10006.


Wed, 15 Sep 2004 02:42:58 -0700  matusik:

	Changed paths:
	   M /trunk/server/plrhand.c

	Remove the possibility of alliance break inside team. Patch by me in PR#10123


Wed, 15 Sep 2004 02:31:56 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	Change the name of pplayers_in_the_same_team to players_in_same_team(). Suggested by Per


Wed, 15 Sep 2004 02:23:27 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Reset recalc counter for city production when using /debug city
	command, so that we can see the AI's calculations next turn.


Wed, 15 Sep 2004 01:58:33 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	Add a new function pplayers_in_the_same_team and use it in several places.
	Patch by me in PR#10121


Tue, 14 Sep 2004 21:48:27 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	On reject_new_connection, the server needs to actually close the connection
	so that the client knows the connection's been closed.

	See PR#9913. Patch by me.


Tue, 14 Sep 2004 19:29:29 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	fix thinko, add my prefix to strcasecmp


Tue, 14 Sep 2004 19:05:53 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	Count usernames with different cases as the same user.

	See PR#10114. Patch by me.


Tue, 14 Sep 2004 18:28:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/Makefile.am
	   M /trunk/client/gui-ftwl/gui_text.c

	Allow gui_text.c to compile.  See PR#9479.


Tue, 14 Sep 2004 16:31:26 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	remove restrictions on all and none as usernames. See PR#10112


Tue, 14 Sep 2004 16:28:45 -0700  kauf:

	Changed paths:
	   M /trunk/utility/genlist.c

	fix a crash where we reference a null pointer in genlist_unlink

	See PR#10113 patch by Jason. change by me.


Tue, 14 Sep 2004 15:35:24 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/Makefile.am
	   A /trunk/client/gui-ftwl/gui_text.c
	   A /trunk/client/gui-ftwl/gui_text.h
	   M /trunk/client/gui-ftwl/mapview.c

	Add some additional text functions for gui-ftwl.

	Original code by Raimar Falke.  Patch by Per Mathisen in PR#9479 with
	changes by me.


Tue, 14 Sep 2004 14:20:54 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Remove cascading declarations of war.  Now love-hate-neutral triangles are
	allowed, although love-love-hate is still impossible.

	Patch by Per Mathisen in PR#10086.


Tue, 14 Sep 2004 14:10:44 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/genlist.c
	   M /trunk/utility/genlist.h
	   M /trunk/utility/speclist.h

	Several improvements to genlist/speclist:
	- Make some functions take const parameters.
	- Remove the "null_link" element; just use NULL instead.
	- Don't use a static array; used a variable-sized stack array instead.
	- Remove pointer casts for void variables.
	- Use sizeof(variable) not sizeof(type); it's shorter and safer.

	Patch by me in PR#10077.


Tue, 14 Sep 2004 12:26:23 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/server/stdinhand.c

	Don't manipulate with extra_help before sending it. Do it on the client side. This allows to translate it correctly.
	Patch by Jason and me.
	See PR#10099


Tue, 14 Sep 2004 12:06:02 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix a mistake in PR#10083


Tue, 14 Sep 2004 10:39:32 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Use PL_() to generate the string when Darwin's Voyage is completed.  Also
	fix a comma splice.

	Patch by Mateusz Stefek in PR#10101 with grammar changes by me.


Tue, 14 Sep 2004 10:03:46 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add missing newlines to some help strings in helptext_unit.

	Patch by Mateusz Stefek in PR#10100 with style changes by me.


Tue, 14 Sep 2004 10:02:07 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po fixes


Tue, 14 Sep 2004 05:07:30 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Tue, 14 Sep 2004 02:12:21 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aidata.c

	I forgot to commit aidata.c.


Tue, 14 Sep 2004 02:09:22 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/common/player.c

	Change the range of AI love to [-1000..1000]
	Intended behaviour is unchanged, but rounding errors are fixed.
	Also use unix newline convention in aidata.c
	Patch by me in PR#10083


Tue, 14 Sep 2004 01:23:00 -0700  matusik:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/generator/Makefile.am
	   A /trunk/server/generator/height_map.c
	   A /trunk/server/generator/height_map.h
	   M /trunk/server/generator/mapgen.c
	   A /trunk/server/generator/mapgen_topology.c
	   A /trunk/server/generator/mapgen_topology.h
	   A /trunk/server/generator/temperature_map.c
	   A /trunk/server/generator/temperature_map.h
	   A /trunk/server/generator/utilities.c
	   A /trunk/server/generator/utilities.h
	   M /trunk/server/savegame.c
	   M /trunk/server/settings.c

	Add temperature server option and split mapgen code into several files.
	Patch by Marcelo with changes by Jason and me.
	See PR#9876.


Tue, 14 Sep 2004 01:09:53 -0700  matusik:

	Changed paths:
	   M /trunk/client/climisc.c

	Add more info into players report, when there is no contact (in terms of contact_turns) between players.
	Patch by me in PR#10079


Mon, 13 Sep 2004 20:48:01 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Don't reset max_players when loading a game (it's only reset on game
	start).

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#10051.
	Patch by Brett Albertson <brett.albertson@stratech.com> with added comment
	by me.


Mon, 13 Sep 2004 20:29:22 -0700  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unittools.c

	Restructure the way tile information is sent to clients.  Previously we
	would call send_tile_info(), send out packets to everyone, update the
	playermap for connections that it sends to.  Now we call
	update_tile_knowledge() and have this function first update the playermap,
	then send a packet to players for whom the tile knowledge has changed.
	This fixes a bug where the playermap would never be updated for AI players.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9864, with
	style and comment changes by me.


Mon, 13 Sep 2004 17:20:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Add some log calls in apply_result.

	Patch by me in PR#9926.


Mon, 13 Sep 2004 17:01:35 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/po/POTFILES.in

	Fix POTFILES.in by updating it for the mapgen.c change.  Also fix some
	warnings in the terrain.ruleset files.

	Patch by me in PR#10029.


Mon, 13 Sep 2004 16:13:11 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug where "tall" graphics may be cut off when scrolling the mapview.

	Patch by me in PR#10035.


Mon, 13 Sep 2004 16:06:15 -0700  per:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add helptext support for a number of missing unit flags, and generally
	improve the unit helptext code. This is used in the client and in the
	manual generator. Patch by Jason. Reported by Marko Lindqvist
	<marko.lindqvist@pp5.inet.fi>.


Mon, 13 Sep 2004 15:19:42 -0700  per:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add a little more safety to helptext_unit():
	-  if (utype->helptext[0] != '\0') {
	+  if (utype->helptext && utype->helptext[0] != '\0') {


Mon, 13 Sep 2004 11:14:19 -0700  per:

	Changed paths:
	   M /trunk/common/effects.c

	Silence spurious warning.


Mon, 13 Sep 2004 09:43:06 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Change the encoding of ja.po to UTF-8 from EUC-JP.


Mon, 13 Sep 2004 08:54:54 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advdomestic.h
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/text.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/combat.c
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/government.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets.h
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/doc/README.effects
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/score.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Add effects for buildings, allowing a lot of flexibility for the
	rulesets.  Remove the buildings enumeration, meaning the ordering of
	buildings in the ruleset is no longer critical.  All rulesets and the
	documentation are updated to match the changes.

	Original patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>, rewritten by
	Mike Kaufman, rewritten by Vasco Alexandre Da Silva Costa with some help
	by Per Mathisen and myself.  See PR#2521.


Mon, 13 Sep 2004 07:26:25 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Mon, 13 Sep 2004 02:37:58 -0700  matusik:

	Changed paths:
	   M /trunk/utility/shared.h

	Add INITIALIZE_ARRAY macro by Marcelo Burda


Mon, 13 Sep 2004 01:39:21 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Set default aifill in gtk2 connection dialog to 5.

	Patch by Jason in PR#9979


Mon, 13 Sep 2004 00:19:29 -0700  matusik:

	Changed paths:
	   M /trunk/client/helpdata.c

	The unittype help gives lots of info, but nothing on pop_cost.  This
	patch adds it.  Are there any other properties that are forgotten?

	Patch by Jason in PR#9794


Mon, 13 Sep 2004 00:00:53 -0700  matusik:

	Changed paths:
	   M /trunk/data/Makefile.am

	Install only necessary files from data/ directory.
	Patch by me in PR#10067


Sun, 12 Sep 2004 15:12:56 -0700  jdorje:

	Changed paths:
	   M /trunk/server/generator
	   A /trunk/server/generator/.cvsignore

	Add .cvsignore for new directory.


Sun, 12 Sep 2004 14:49:48 -0700  matusik:

	Changed paths:
	   M /trunk/server/generator/Makefile.am

	- -I$(top_srcdir)/intl
	+ -I$(top_builddir)/intl


Sun, 12 Sep 2004 14:44:11 -0700  matusik:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/common/capstr.c
	   M /trunk/common/connection.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/userdb/user_db.c
	   M /trunk/server/userdb/user_db.h

	Each auth library should provide new function int userdb_check_passwd()
	It's needed because the database might (will) encrypt passwords and the
	server won't know about it. The one issue here is that the (possibly
	encrypted) password is stored in pconn->server.password which currently has
	a length of MAX_LEN_NAME (32 bytes) This is pretty small. For MD5, the
	digest is 32 bytes which is ok, but SHA1 is 40 bytes, bad. The array is
	increased to 512 bytes.

	Patch by Mike Kaufman in PR#10074


Sun, 12 Sep 2004 14:19:37 -0700  matusik:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/manual/Makefile.am
	   M /trunk/server/Makefile.am
	   A /trunk/server/generator
	   A /trunk/server/generator/Makefile.am
	   A /trunk/server/generator/mapgen.c
	   A /trunk/server/generator/mapgen.h
	   D /trunk/server/mapgen.c
	   D /trunk/server/mapgen.h

	Create separate directory for map generator code.
	This is the first step of mapgen cleanup.
	Files server/mapgen.[ch] have been moved to server/generator/mapgen.[ch]
	See PR#10068


Sun, 12 Sep 2004 11:24:09 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/silesian.ruleset

	Use non-ascii characters to get a more accurate transcription of Icelandic,
	Polish, and Silesian names.

	Patches by Mateusz Stefek in PR#10016.


Sun, 12 Sep 2004 11:09:18 -0700  jdorje:

	Changed paths:
	   M /trunk/civ.in
	   M /trunk/ser.in

	Fix civ and ser scripts to avoid doing a changedir since that means saved
	files go to the wrong dir.  Instead we set FREECIV_PATH directly.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9852.


Sun, 12 Sep 2004 04:06:17 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Use handle_unit_move_request() instead of handle_unit_move_request() for
	AI moves. This ensures that diplomats can move through allied cities.
	See PR#9885.


Sun, 12 Sep 2004 03:58:17 -0700  per:

	Changed paths:
	   A /trunk/data/themes
	   A /trunk/data/themes/.cvsignore
	   A /trunk/data/themes/common
	   A /trunk/data/themes/common/.cvsignore
	   A /trunk/data/themes/morgan
	   A /trunk/data/themes/morgan/.cvsignore
	   A /trunk/data/themes/morgan/640x480
	   A /trunk/data/themes/morgan/640x480/.cvsignore

	Add .cvsignore files for new dirs.


Sun, 12 Sep 2004 03:46:35 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/connectdlg.c
	   M /trunk/client/gui-ftwl/gui_main.c

	Update gui-ftwl to cvs. Fixes PR#10063.


Sat, 11 Sep 2004 20:03:13 -0700  kauf:

	Changed paths:
	   M /trunk/common/map.c

	have everybody initialize ptile->client.hilite

	patch by me.


Sat, 11 Sep 2004 18:35:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/ruleset.c

	Change the land channel requirement and the ocean reclaim requirement to
	be a percentage.  This allows them to work both with rectangular and
	hexagonal tiles.

	Patch by me in PR#9999.


Sat, 11 Sep 2004 18:31:48 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/fciconv.c

	Allow Freeciv to compile if libiconv is not present.

	Reported by James Canete in PR#10002.  Patch by me with added comments.


Sat, 11 Sep 2004 12:24:40 -0700  matusik:

	Changed paths:
	   M /trunk/server/handchat.c

	Allow non-ASCII chat messages.
	Patch by me in PR#10014


Fri, 10 Sep 2004 20:09:46 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Fri, 10 Sep 2004 14:51:47 -0700  per:

	Changed paths:
	   M /trunk/server/srv_main.c
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h

	Rename DEFAULT_DATA_ENCODING to FC_DEFAULT_DATA_ENCODING. For some
	rather unclear reason this fixes a problem with server not getting
	UTF-8 as its charset. Patch by Jason. See PR#10032.


Fri, 10 Sep 2004 14:20:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-ftwl/dialogs.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	- Rename is_sane_name as is_ascii_name.
	- Move the is_ascii_name check into is_allowed_player_name and
	  is_allowed_city_name.  This means that the server will not suggest a
	  name that cannot be used.
	- Allow a name taken from the ruleset to be used, even if is_ascii_name
	  won't pass it.

	See PR#9995.


Fri, 10 Sep 2004 10:33:04 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Fri, 10 Sep 2004 08:51:11 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Thu, 09 Sep 2004 14:32:20 -0700  jdorje:

	Changed paths:
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/mapgen.c

	Extend the count_xxx_near_tile functions to optionally return a
	percentage value rather than the number of tiles.  In most cases the
	percentage is more useful because the number of tiles may vary between
	rectangular and hexagonal topologies.

	Patch by me in PR#9921.


Thu, 09 Sep 2004 14:25:47 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset

	Remove the veteran_system.max_veteran_levels from the ruleset, since it is
	unused.

	Reported by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9849.


Thu, 09 Sep 2004 14:22:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	When loading a game from the conndlg, try to detect if it's a scenario and
	act accordingly.

	Patch by Mike Kaufman in PR#8745, with changes by me.


Thu, 09 Sep 2004 12:15:32 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	Change the encoding of pl.po to UTF-8 and use U00E5 in Harald Blåtland


Thu, 09 Sep 2004 11:46:29 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Make the mapgen code less dependent on terrain types and more clean.
	This is done by adding temperature and wetness concepts and generalized terrain placement algorithm.
	Generators 1 and 5 produce more "natural" maps now.
	Patch by Marcelo Burda in PR#9627.


Thu, 09 Sep 2004 11:07:28 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/shared.c

	Change is_iso_latin1() to is_ascii().  Now only ascii characters are
	allowed as names.  is_sane_name is rewritten to use the new function.

	Patch by me in PR#9639.


Thu, 09 Sep 2004 11:01:42 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/utility/fciconv.h

	Change the Freeciv data encoding to UTF-8.  All ruleset files must now be
	in UTF-8.

	See PR#9976.


Thu, 09 Sep 2004 10:23:41 -0700  jdorje:

	Changed paths:
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/packets.c

	Use specvec to make a byte_vector to hold the network code's compression
	queue.  This makes for simpler code and will quite a bit more efficient on
	systems that use a naive realloc implementation.

	Patch by me in PR#9947.


Thu, 09 Sep 2004 10:11:24 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/fciconv.h

	Add a missing #include <stdio.h>.

	Reported by James Canete in PR#9981.


Wed, 08 Sep 2004 02:01:07 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Fix a bug in mapgen, whereby placed map was not destroyed. Patch by Marcelo in PR@9980


Tue, 07 Sep 2004 19:38:14 -0700  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Remove T_UNUSED, which was erronously included in the terrain enumeration.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#9978.


Tue, 07 Sep 2004 16:37:41 -0700  jdorje:

	Changed paths:
	   M /trunk/m4/auth.m4

	Don't use AC_HELP_STRING since it's not supported in autoconf 2.13.

	Patch by James Canete in PR#9943.


Tue, 07 Sep 2004 16:28:47 -0700  jdorje:

	Changed paths:
	   M /trunk/common/fc_types.h
	   M /trunk/common/terrain.h
	   M /trunk/server/mapgen.c

	Move the terrain enumeration values out of headers and into mapgen.c.
	These values are deprecated and no new code should use them.

	Patch by me in PR#9962.


Tue, 07 Sep 2004 16:12:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Avoid freeing strings twice when the metaserver information is refreshed
	in the conndlg.

	Reported by Marcelo Burda <mburda@ulb.ac.be> in PR#9975.


Tue, 07 Sep 2004 07:51:42 -0700  matusik:

	Changed paths:
	   M /trunk/manual/Makefile.am

	remove manual.h from Makefile.am. See PR#9973


Tue, 07 Sep 2004 01:04:16 -0700  matusik:

	Changed paths:
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/registry.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Interpret tilde sign followed by slash ("~/") at the begin of file path as home directory.
	Patch by me in PR#7326.


Mon, 06 Sep 2004 14:52:30 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Generalize rand_map_pos_temperature(). New function rand_map_pos_characteristics takes temperature, wetness and height.
	Patch by Marcelo Burda in PR#9956.


Mon, 06 Sep 2004 10:24:19 -0700  jdorje:

	Changed paths:
	   D /trunk/common/fciconv.c
	   D /trunk/common/fciconv.h

	Remove two files that have never been used.  See PR#1824.


Mon, 06 Sep 2004 10:13:07 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/server/srv_main.c
	   M /trunk/utility/Makefile.am
	   M /trunk/utility/fciconv.c
	   M /trunk/utility/fciconv.h
	   M /trunk/utility/log.c

	Convert charsets as they are transferred between client and server. See
	PR#1824 for the very long story. Patch by Jason.


Mon, 06 Sep 2004 09:58:39 -0700  kauf:

	Changed paths:
	   M /trunk/server/mapgen.c
	   M /trunk/server/mapgen.h
	   M /trunk/server/srv_main.c

	add an autosize parameter to map_fractal_generate() This allows
	external control of the map sizes.

	See PR#9871. Patch by Jason


Mon, 06 Sep 2004 09:09:40 -0700  per:

	Changed paths:
	   M /trunk/client/audio.c

	Make SDL the default audio output plugin. See PR#9940.


Mon, 06 Sep 2004 08:55:20 -0700  jdorje:

	Changed paths:
	   M /trunk/common/dataio.c

	Check to see if we're past the end of a buffer _before_ reading data at
	that location.

	Patch by me in PR#9948.


Mon, 06 Sep 2004 08:53:21 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c

	In reject_new_connection, make sure all fields of the packet are filled
	out - otherwise the packet-sending code will have undefined results.

	Patch by me in PR#9949.


Mon, 06 Sep 2004 08:50:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Avoid a warning when compiling without readline.

	Patch by me in PR#9951.


Mon, 06 Sep 2004 08:32:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Treat the "US-ASCII" charset like latin1.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#9955.


Mon, 06 Sep 2004 08:26:08 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	If we don't find the gethostbyname, connect, or bind functions look in
	libnsl, libsocket, and libbind for them and link to those if found.  This
	is needed for compilation on Solaris and other platforms.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#9807.


Mon, 06 Sep 2004 02:00:32 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Let AI players agree on ceasefire between themselves.
	Patch by me in PR#9917


Mon, 06 Sep 2004 01:11:11 -0700  matusik:

	Changed paths:
	   M /trunk/manual/Makefile.am

	use unix-style newline in Makefile.am. PR#9964


Sun, 05 Sep 2004 19:58:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/common/nation.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/terrain.h
	   M /trunk/server/ruleset.c

	Add a new variable game.terrain_count which gives the number of terrains.
	This number of terrains is therefore not a fixed value; it is possible to
	add new terrains.  However mapgen still uses the old enum and will no
	support most changes in the terrain ruleset.

	Patch by me in PR#9934.


Sun, 05 Sep 2004 19:50:50 -0700  jdorje:

	Changed paths:
	   M /trunk
	   M /trunk/.cvsignore
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/manual
	   A /trunk/manual/.cvsignore
	   A /trunk/manual/Makefile.am
	   A /trunk/manual/civmanual.c

	Create a manual generator.  When run with "civmanual" it will create
	manual pages for many elements of the ruleset.

	Code by Per Mathisen in PR#9685 with changes by me.


Sun, 05 Sep 2004 19:13:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Add a new function specialists_string.  This returns a simple string
	giving the number of each type of specialist in the specialists' array.

	Patch by me in PR#9929.


Sun, 05 Sep 2004 19:05:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/hand_gen.h

	Add a new typedef "enum specialist_type_id" as Specialist_type_id.  Use
	this typedef everywhere in place of the old enum.

	Patch by me in PR#9928.


Sun, 05 Sep 2004 13:02:17 -0700  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am

	Use an intermediate target for creating the generated files, so that
	the generator is not run multiple times simultaneously when doing a
	parallel build (make -j2).

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#9944.


Sun, 05 Sep 2004 11:36:21 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sat, 04 Sep 2004 22:10:50 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets.c

	Fix a memory leak when receiving compressed packets.

	Patch by me in PR#9612.


Sat, 04 Sep 2004 14:25:58 -0700  per:

	Changed paths:
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h

	Ensure that we always correctly initialize the game's random seed before
	we try to use myrand. This fixes crashes when trying to load old civworld
	created savegames. Patch by Jason. Bug report by me. PR#9684.


Sat, 04 Sep 2004 14:11:47 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h

	This patch:
	1.  Merges helptext_improvement and helptext_wonder into
	helptext_building.
	2.  Adds a bufsz parameter to avoid buffer overflows.
	3.  Changes the callers appropriately.
	4.  Also changes the callers to not use long_buffer (some kind of change
	was needed here, and I think it's best in the long run to cut out
	long_buffer).
	5.  Has the functions return the buffer (though nobody uses it yet, it
	could save a line here and there). Patch by Jason in PR#9936 with a fix
	by me.


Sat, 04 Sep 2004 13:36:10 -0700  per:

	Changed paths:
	   M /trunk/server/report.c
	   M /trunk/server/settings.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand_info.h

	Move the settings callbacks (originally static in stdinhand.c, then made
	semi-public in stdinhand_info.h) into settings.c and makes them static
	again. Patch by Jason in PR#9937.


Sat, 04 Sep 2004 13:19:51 -0700  glip:

	Changed paths:
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/game.c
	   M /trunk/common/improvement.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/cityturn.c

	(PR#9892) Space_Part effect is replaced with SS_Component, SS_Structural,
	and SS_Module effects.  Part of gen-eff patch.

	Patch by Vasc and Jason.


Sat, 04 Sep 2004 12:28:19 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Rename wonder_replacement() as building_replaced(). Patch by Jason in
	PR#9897.


Sat, 04 Sep 2004 11:39:38 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/agents/cma_fec.h
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h

	Make a bunch of functions in client/ use const. Patch by Jason in
	PR#9930.


Sat, 04 Sep 2004 11:29:00 -0700  per:

	Changed paths:
	   M /trunk/po/POTFILES.in
	   M /trunk/server/Makefile.am
	   A /trunk/server/settings.c
	   A /trunk/server/settings.h
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand_info.h

	PR#9914: move server settings into settings file. Patch by Jason.


Sat, 04 Sep 2004 11:10:17 -0700  per:

	Changed paths:
	   M /trunk/po/POTFILES.in
	   M /trunk/server/Makefile.am
	   A /trunk/server/commands.c
	   A /trunk/server/commands.h
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand_info.h

	PR#9915: move server commands into commands file. Patch by Jason.


Sat, 04 Sep 2004 09:53:39 -0700  jdorje:

	Changed paths:
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset

	Remove the T_UNUSED terrain type.

	Patch by me in PR#9909.


Sat, 04 Sep 2004 04:47:56 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Itroduce so called placed_map in mapgen.c
	It is basically just a boolean map.
	Patch by Marcelo in PR#9918


Sat, 04 Sep 2004 00:46:03 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Currently it's (almost)impossible to agree on cease fire with AI player,
	even if you aren't his war target. This is really wrong.
	This patch changes the behavior of AI love, so that it gravitates
	towards -28, not -100 when you are at war, but aren't his target.

	Now you can have cease-fire with computer for 3 cities and 3 advances :)


Sat, 04 Sep 2004 00:41:40 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Allow AI to break 3-man pact.
	It should be considered as bug in PR#9884.
	Patch by me.


Fri, 03 Sep 2004 17:52:59 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.in

	Fix the use of m4_include for old versions of autoconf.

	Patch by James Canete in PR#9891.


Fri, 03 Sep 2004 11:43:17 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	Don't show a player in it's own intelligence report.
	Reported by Christian Knoke in PR#9552. Patch by me.


Fri, 03 Sep 2004 11:29:39 -0700  jdorje:

	Changed paths:
	   M /trunk/client/chatline_common.c

	Make sure messages saved during a message freeze have the correct order
	preserved.

	Patch by Mateusz Stefek in PR#9923.


Fri, 03 Sep 2004 08:55:48 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Use !pplayers_at_war() instead of pplayers_non_attack() in ai_diplomacy_calculate()
	Patch by me in PR#9920


Fri, 03 Sep 2004 08:12:26 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/mapgen.c

	Move is_special_near_tile and count_special_near_tile into terrain.[ch].
	Change count_special_near_tile so it works for cardinal or all directions.
	Replace adjacent_river_tiles4 in mapgen with a call to
	count_special_near_tile.

	Patch by me in PR#9905.


Thu, 02 Sep 2004 21:22:37 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdiplomacy.h
	   M /trunk/ai/advdomestic.h
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/advspace.h
	   M /trunk/ai/aiair.h
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aidiplomat.h
	   M /trunk/ai/aiexplorer.h
	   M /trunk/ai/aiferry.h
	   M /trunk/ai/aihand.h
	   M /trunk/ai/aihunt.h
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aitech.h
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.h
	   M /trunk/client/agents/agents.h
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/climisc.h
	   M /trunk/client/include/citydlg_g.h
	   M /trunk/client/include/cityrep_g.h
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/include/gui_main_g.h
	   M /trunk/client/include/inteldlg_g.h
	   M /trunk/client/include/mapctrl_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/include/spaceshipdlg_g.h
	   M /trunk/client/mapview_common.h
	   M /trunk/client/plrdlg_common.h
	   M /trunk/client/text.h
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/aisupport.h
	   M /trunk/common/city.h
	   M /trunk/common/combat.h
	   M /trunk/common/connection.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/game.h
	   M /trunk/common/generate_packets.py
	   M /trunk/common/government.h
	   M /trunk/common/idex.h
	   M /trunk/common/improvement.h
	   M /trunk/common/nation.h
	   M /trunk/common/player.h
	   M /trunk/common/tech.h
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.h
	   M /trunk/server/airgoto.h
	   M /trunk/server/barbarian.h
	   M /trunk/server/cityhand.h
	   M /trunk/server/cityturn.h
	   M /trunk/server/connecthand.h
	   M /trunk/server/diplhand.h
	   M /trunk/server/diplomats.h
	   M /trunk/server/hand_gen.h
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.h
	   M /trunk/server/sanitycheck.h
	   M /trunk/server/score.h
	   M /trunk/server/settlers.h
	   M /trunk/server/spacerace.h
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.h
	   M /trunk/server/unittools.h

	Move some stub declarations of struct into fc_types.h
	Despite the number of files touched, overall we get shorter code.

	Patch by Jason in 9881.


Thu, 02 Sep 2004 20:56:59 -0700  glip:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/unittools.c

	Cut capstring to just the date.  Since the last capability (and many
	before that) is mandatory, it doesn't have any sense to maintain them.

	Patch by Jason in 9839.


Thu, 02 Sep 2004 19:48:34 -0700  kauf:

	Changed paths:
	   M /trunk/m4/auth.m4
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c

	Remove configure-time option to enable authentication. Instead
	add --with-auth=lib to specify an external library to handle
	the user database.

	See PR#8570. Patch by Jason and Mateusz.


Thu, 02 Sep 2004 18:21:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/gamelog.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c

	Capitalize the macros NATIVE_TO_MAP_POS, MAP_TO_NATIVE_POS,
	NATURAL_TO_MAP_POS, and MAP_TO_NATURAL_POS because they may have unexpected
	side effects since they evaluate their arguments more than once.

	Patch by me in PR#9879.


Thu, 02 Sep 2004 15:01:51 -0700  matusik:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/dataio.c

	"dio_get_effect and dio_put_effect break with negative terrain numbers.
	Mateusz reports that if you compiled with DEBUG this will always cause
	an immediate client segfault. No doubt without DEBUG it will cause a
	segfault at some later point.

	I again point out that these specialty dataio functions are a scourge.

	jason"

	Patch by Jason in PR#9910


Thu, 02 Sep 2004 14:58:38 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Don't init hmap with slightly higher values in the middle of the map in gen1.
	Additionally, somo style fixes.
	Patch by Marcelo Burda in PR#9895


Thu, 02 Sep 2004 13:51:48 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aidata.c

	-    ai->diplomacy.player_intel[i].spam = i; /* pseudorandom */
	+    ai->diplomacy.player_intel[i].spam = i % 5; /* pseudorandom */

	Players with higher id didn't talk to human players during the first 20-30 turns.


Thu, 02 Sep 2004 13:41:39 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Improve height map code in map generator. Now it's much more elegant and accurate.
	It's ... 12th version of Marcelo's patch in PR#9799
	Comments and fixes by Jason and me.


Thu, 02 Sep 2004 13:10:06 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Breaking alliance by AI is no longer considered an error. Stop writing out a warning message


Thu, 02 Sep 2004 12:05:15 -0700  matusik:

	Changed paths:
	   M /trunk/common/map.h

	- #define MAP_MAX_INDEX map.xsize * map.ysize
	+ #define MAP_MAX_INDEX (map.xsize * map.ysize)


Thu, 02 Sep 2004 11:36:14 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/terrain.h

	Move the specialty terrain values to the beginning of the terrain
	enumeration, and give them negative values.

	Patch by me in PR#9890.


Thu, 02 Sep 2004 07:58:23 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aitools.c

	Move the header reference to ai_choose_defender_versus() to the right
	file.


Thu, 02 Sep 2004 07:53:08 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c

	Move ai_choose_defender_versus() from aicity.c to advmilitary.c as
	requested in a TODO comment in the function's header. A few stylistic
	improvements, otherwise no changes.


Wed, 01 Sep 2004 22:28:55 -0700  jdorje:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c

	Avoid casting a sint16* as an int*.  Instead pass a real int* and then
	do the assignment directly.  This fixes problems with sending continent
	numbers over the network on big-endian machines.

	Reported by Brett Albertson <brett.albertson@stratech.com> and Benoit
	Hudson <bh@techhouse.brown.edu> in PR#9899.  Patch by Benoit and myself.


Wed, 01 Sep 2004 21:32:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c

	Fix a typo in a gtk-client menu.

	Reported by <martin@oneiros.de> in PR#9855.


Wed, 01 Sep 2004 15:41:39 -0700  jdorje:

	Changed paths:
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/mapgen.c

	Make the count_xxx_near_tile functions in terrain.c take a cardinal_only
	parameter.  This allows them to work easily for both cardinal and all
	directions.

	Patch by me in PR#9832.


Wed, 01 Sep 2004 12:54:18 -0700  matusik:

	Changed paths:
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h

	Reallocate warmap data if the size of the map changes.
	Patch by Jason in PR#9898


Wed, 01 Sep 2004 12:45:19 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Remove the could_build_improvement helper function.

	Patch by me in PR#9549.


Wed, 01 Sep 2004 12:24:36 -0700  matusik:

	Changed paths:
	   M /trunk/server/gotohand.c

	Don't use static pointer and dynamically located array in find_the_shortest_path().
	Use VLA instead. The table wasn't properly reallocated when the game restarted.
	Patch by Jason in PR#9898


Wed, 01 Sep 2004 04:47:25 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Forgot LOG_NORMAL -> LOG_DEBUG in rampage.


Wed, 01 Sep 2004 04:24:51 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Rewrite the algorithm for AI rampage. Now use real win chance. Patch by
	Greg in PR#9887.


Wed, 01 Sep 2004 01:05:31 -0700  matusik:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Make AI more nasty to its allies. See PR#9884.


Tue, 31 Aug 2004 20:16:47 -0700  glip:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/climisc.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/server/diplomats.c

	Add a new function building_has_effect.  This function takes
	a building type and an effect type and returns a boolean indicating
	whether the building provides the effect.  Unlike other functions which
	return the value of the effect, this one just returns a boolean.
	Finding the value of the effect requires more work (in theory) and also
	means knowing the range.  This function therefore will probably only
	ever work for some effects.

	It is taken from the effects patch.

	To begin with only EFT_PROD_TO_GOLD (provided by B_CAPITAL) is supported.

	Had to move the improvement_type enumeration into fc_types.h to prevent
	a circular dependency between improvement.h and effects.h.  In the process
	of moving enum name was removed (having it around might tempt people to
	_use_ it).

	Patch by Jason in 9878.


Tue, 31 Aug 2004 12:25:20 -0700  per:

	Changed paths:
	   A /trunk/data/fonts
	   A /trunk/data/fonts/Vera.ttf
	   A /trunk/data/fonts/VeraBd.ttf

	Add fonts needed to compile gui-ftwl.


Tue, 31 Aug 2004 12:18:36 -0700  per:

	Changed paths:
	   M /trunk/ai/aiair.c

	Use handle_unit_activity_request() instead of set_unit_activity().


Tue, 31 Aug 2004 11:21:09 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Add some extra logging to AI unit defense and add ceiling for
	stay_and_defend() function to help prevent AI from going into panic
	mode. See PR#9887 for more info.


Tue, 31 Aug 2004 10:01:14 -0700  matusik:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/nation/danish.ruleset
	   A /trunk/data/nation/icelandic.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/po/POTFILES.in

	Add Icelandic nation. Requested on the forum by Joune. PR#9656


Tue, 31 Aug 2004 09:47:10 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Allow AIs to break alliances when it suits them. Patch by Mateusz in
	PR#9884.


Tue, 31 Aug 2004 08:52:46 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Fix bug in ocean danger code. Patch is a subset of Mateusz' PR#9882.


Tue, 31 Aug 2004 08:35:31 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c

	Fix stay_and_defend() function in AI. Changes
	  - Fix bug that checked our defense rating for checking whether another
	unit could defend a city sufficiently so that we could go away.
	  - Instead compare its defense rating with ours.
	  - Fix missing check that we don't attempt to make an allied city our
	homecity for our units.
	  - Add code to check for grave danger in the city, and if this exceeds
	a threshold dependent on the number of units in the city, stay even if
	unit has a defender.

	Also add assert in ai_unit_make_homecity() to detect attempts to make an
	allied city our homecity.


Tue, 31 Aug 2004 01:17:51 -0700  matusik:

	Changed paths:
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h

	Ocean tile can be claimed iff one of the following conditions stands:
	a) it is an inland lake not larger than MAXIMUM_OCEAN_SIZE
	b) it is adjacent to only one continent and not more than two ocean tiles
	c) It is one tile away from a city
	The city, which claims the ocean has to be placed on the correct continent.
	in case a) The continent which surrounds the inland lake
	in case b) The only continent which is adjacent to the tile

	Also add two new functions:
	int get_ocean_size(Continent_id)
	int get_continent_size(Continent_id)

	Patch by me in #9818
	Suggestions by Marcelo, Jason and Gregory


Mon, 30 Aug 2004 22:43:51 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Fix a major bug where an expression was passed to index_to_map_pos that
	evaluated differently on each evalutation.  Since that macro evaluates its
	arguments more than once, bizareness resulted.

	Reported and fixed by Gregory Berkolaiko in PR#9869.


Mon, 30 Aug 2004 21:40:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/settlers.c

	Rename T_LAST as T_NONE.

	Patch by me in PR#9826, with huge style fixes.


Mon, 30 Aug 2004 19:16:50 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Simplify the handle_ruleset_terrain_control function so that it does just a
	single assignment.

	Patch by me in PR#9831.


Mon, 30 Aug 2004 14:20:33 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aidata.c

	Save some ticks in PR#9877
	Suggested by Gregory Berkolaiko


Mon, 30 Aug 2004 13:51:41 -0700  matusik:

	Changed paths:
	   M /trunk/ai/aidata.c

	Don't assume that a sailing unit is on ocean. Probably fixes 9877.


Mon, 30 Aug 2004 01:17:02 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/danish.ruleset

	Change the spelling of "Århus" and "Ålborg" to "Aarhus" and "Aalborg".
	These forms are also correct and don't cause charsets problems.
	See PR#9838


Sun, 29 Aug 2004 13:14:41 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c

	Bad use of bitshift operator makes AI choose nonsensical targets for
	defense and send defensive units running around in circles. See PR#9862.


Sun, 29 Aug 2004 12:59:56 -0700  per:

	Changed paths:
	   M /trunk/ai/aihunt.c

	Correct checks in aihunt.c where we ensure that our hunter unit can
	follow the target in its native element (ground/water).


Sun, 29 Aug 2004 12:48:54 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Do not attack in rampage code if we have less than 5% chance of success.
	This is a sanity kludge only. A more comprehensive fix is desired later.


Sun, 29 Aug 2004 12:43:37 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h

	Checks for dangers in correct oceans. No longer considers empty cities
	"explore-worthy". New aidata variable keeps track of which oceans are
	still not fully explored (not currently used) similar to the land-based
	variable that does the same for land (also unused). Stop worrying twice
	whether we can build anti-unit-buildings; it hardly saves any CPU
	cycles, and might just spend more doing those checks. Also should play
	nicer with general effects.


Sun, 29 Aug 2004 12:38:07 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/sanitycheck.c

	Fix assert that happens whenever a barbarian is created and turn ends,
	as it does not have valid revolution info. See PR#9863.


Sun, 29 Aug 2004 12:08:59 -0700  per:

	Changed paths:
	   M /trunk/server/Makefile.am
	   M /trunk/server/stdinhand.c
	   A /trunk/server/stdinhand_info.h

	Move consts out from stdinhand.c into stdinhand_info.h. This is
	necessary to implement a manual generator that can use this data.


Sun, 29 Aug 2004 12:03:32 -0700  per:

	Changed paths:
	   M /trunk/common/nation.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/data/civ1/nations.ruleset
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/observer.png
	   M /trunk/data/misc/flags.spec
	   A /trunk/data/nation/observer.ruleset
	   M /trunk/po/POTFILES.in
	   M /trunk/server/gamehand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Implement a global observer mode. Use /observe from client or /observer
	<connection> to make global observers. Patch by Mike in PR#7241. Based
	loosely on an idea by Thomas Strub.


Sun, 29 Aug 2004 10:54:13 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aidiplomat.c

	Remove unnused includes.


Sun, 29 Aug 2004 10:52:56 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c

	Remove unneeded include.

	  -#include "rand.h"


Sun, 29 Aug 2004 10:42:21 -0700  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Remove duplicate call to ai_data_init(). Reported by Mike in PR#6898.


Sun, 29 Aug 2004 05:36:12 -0700  per:

	Changed paths:
	   M /trunk/client/repodlgs_common.c

	File missed in a previous commit.


Sun, 29 Aug 2004 03:06:06 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Make AI remove shared vision when sharing vision is no longer
	considered safe. Patch by Mateusz with changes by me. See PR#9808.


Sun, 29 Aug 2004 03:01:15 -0700  per:

	Changed paths:
	   M /trunk/ai/aihunt.c

	Ensure that we do not try to unload a not loaded missile from an AI
	hunter. Reported by Jordi Negrevernis i Font.


Sun, 29 Aug 2004 02:59:17 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aidata.c
	   M /trunk/common/player.c

	Make AI love range -96 to 96 from -76 to 76 previously, and enforce a
	limitation of -100 to 100 every turn. Patch by Mateusz in PR#9812.


Sun, 29 Aug 2004 02:55:49 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Make AI take into account the number of units another player has in our
	territory when calculating love and hate. Patch by Mateusz in PR#9846.


Sat, 28 Aug 2004 12:15:39 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/fc_types.h
	   M /trunk/common/player.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/cityturn.c

	This patch adds a new function get_current_construction_bonus.

	The function does the same thing it does in the effects patch: it takes
	a city and an effect, and returns the effect bonus (aka "power")
	provided by the current production.

	It doesn't access the effect arrays (which are incomplete). Instead
	it's just a wrapper for checking the improvement enum for the current
	production. Also it's only used in a few simple places that previously
	checked B_CAPITAL - only EFT_PROD_TO_GOLD is supported.

	Patch by Jason in PR#9815.


Sat, 28 Aug 2004 09:50:49 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c

	Mapgen inits all tiles to T_GRASSLAND, then overwrites them with other
	terrains. T_GRASSLAND is thus just a flag meaning
	"terrain-not-placed-here". This should be T_UNKNOWN instead.

	See also PR#9627. That patch has a

	#define T_NOT_PLACED T_UNKNOWN

	and

	#define not_placed(x, y) (map_get_terrain(x, y) == T_NOT_PLACED)

	Patch by Jason in PR#9797 with correction from Marcelo


Sat, 28 Aug 2004 04:46:47 -0700  matusik:

	Changed paths:
	   M /trunk/data/nation/kenyan.ruleset

	Remove remaining ai advisors from kenyan.ruleset Reported and patched by Marko Linqvist in PR#9850


Sat, 28 Aug 2004 00:21:02 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	In the Start New Game dialog, I think it would be better to change the "Number of players" text to "Number of players (including AI)". New users might think it means number of human players and leave it at one.

	Also, the Properties button should be called "Options" or "Game Options". If you press the button the next dialog is titled "Server Options". It might be better to change that to "Game Options" too. New users might be confused about the server thing.

	Proposed on the forum by Kenn, patch by me in PR#9834


Fri, 27 Aug 2004 17:54:05 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/repodlgs.c

	Win32: Fix actions associated with "Sell Obsolete" and "Sell all" in client.

	Reported as PR#9702.  Patch by me.


Fri, 27 Aug 2004 17:43:25 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/menu.c

	Win32: Rename "Kingdom" menu to "Government", and allow government
	selection through this menu.  Also combined the various "Connect" options
	in the "Orders" menu into one submenu.

	Patch by me in PR#9782.


Fri, 27 Aug 2004 10:36:54 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	Allow players to change governments repeatedly in the turn when a
	revolution finishes.

	Patch by me in PR#2327; this solves a problem reported by Christian Knoke.
	This also fixes PR#9789.


Fri, 27 Aug 2004 10:14:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	Rewrite helptext_improvement to remove references to specific buildings.

	Patch by me in PR#9814.


Fri, 27 Aug 2004 01:18:38 -0700  matusik:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/common/city.c
	   M /trunk/utility/Makefile.am
	   A /trunk/utility/distribute.c
	   A /trunk/utility/distribute.h

	This patch provides a function distribute() in the utility code:

	void distribute(int number, int groups, int *ratios, int *result);

	This will distribute "number" elements into "groups" groups with ratios
	given by the elements in "ratios". The resulting division is put into
	the "result" array.

	The only user (so far) is the trade disribution code. In this case
	"number" is the amount of trade, "groups" is 3, and ratios[3] =
	{sci_rate, tax_rate, lux_rate}. At the end result[] holds the amount of
	sci/tax/luxury.

	The algorithm used to determine the distribution is Hamilton's Method.

	Patch by Jason in PR#9755


Fri, 27 Aug 2004 00:36:31 -0700  matusik:

	Changed paths:
	   M /trunk/data/history/game.ruleset

	Set tech_cost_double_year to 0 in history ruleset. Lack of explicitly listed tech_cost_double_year reported by Marko Lindqvist in PR#9762


Thu, 26 Aug 2004 15:47:41 -0700  glip:

	Changed paths:
	   M /trunk/server/settlers.c

	Replace direct reference to T_MOUNTAIN by a qualitative description
	(road takes more than 5 turns to build) in AI settlers road building code.

	Patch by Jason (who warns me once again to avoid using terrain types
	directly) in 9827.


Thu, 26 Aug 2004 15:22:03 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiexplorer.c

	Remove a continent check which was left from pre-PF explorer code and was
	causing bugs.

	Closes 9768.


Thu, 26 Aug 2004 15:08:42 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aisettler.c

	Removes two T_OCEAN references in the ai/ code.

	Note to developers: please don't add any new terrain references into the
	code outside of mapgen.c.  Instead your checks should be done on terrain
	flags, move cost, or whatever specific property it is you're interested in.

	Patch and above stern warning by Jason in 9825


Thu, 26 Aug 2004 11:37:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Allow activities to be used as orders.  If an activity is included in
	the list it is run until completion (until the unit returns to idle).

	Patch by me in PR#9662.


Thu, 26 Aug 2004 00:59:01 -0700  matusik:

	Changed paths:
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/agents/cma_fec.h
	   M /trunk/client/options.c

	We need some default cma presets available in the client. They will
	help new users understand CMA.

	With this patch "Max Food", "Max Gold", "Max Prod", "Max Science" and
	"Very happy" presets are created if there's no configuration file (or
	when it is too old)

	You have to remove "[cma]" section from your ~/.civclientrc to test it.
	Patch by me in PR#9718


Thu, 26 Aug 2004 00:41:08 -0700  matusik:

	Changed paths:
	   M /trunk/common/player.c

	Improve graduation of adjectives, which describe players attitude. Patch by Ciaran Mac Lochlainn in PR#9597


Wed, 25 Aug 2004 23:26:09 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c

	Don't allow NoBuild units as future build targets.

	Reported by Genevieve Gracian <ggracian@free.fr> in PR#9766.  Patch by me.


Wed, 25 Aug 2004 11:57:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c

	Clean up the usage of "special" terrain values.

	Patch by me in PR#9785.


Wed, 25 Aug 2004 11:24:21 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/fc_types.h
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/citytools.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Replace "enum tile_terrain_type" with Terrain_type_id.  This new typedef
	is declared in fc_types.h.

	Patch by me in PR#9761.


Wed, 25 Aug 2004 11:12:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h

	Add a government-change menu to gui-xaw.

	Patch by me in PR#9783.


Wed, 25 Aug 2004 11:09:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	Fix a bad assertion.

	Patch by me in PR#9801.


Tue, 24 Aug 2004 16:17:28 -0700  jdorje:

	Changed paths:
	   M /trunk/tests/Makefile.am

	Replace the dist_noinst_SCRIPTS automake variable with EXTRA_DIST.  The
	former isn't supported under old versions of automake.

	Reported by Genevieve Gracian <ggracian@free.fr> in PR#9765.  Patch by
	Marko Lindqvist <marko.lindqvist@pp5.inet.fi>.


Tue, 24 Aug 2004 16:13:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	Reset client_has_hack to FALSE when the client disconnects.

	Patch by me in PR#9738.


Tue, 24 Aug 2004 14:23:12 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Add readline autocompletion for the server option levels as the first
	parameter of /show.

	Patch by Gregory Richards <akaquinn@hotmail.com> in PR#9710 with changes
	by me.


Tue, 24 Aug 2004 13:27:11 -0700  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c
	   M /trunk/server/mapgen.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/utility/shared.h

	Move assign_continent_numbers into maphand.c.

	Patch by Marcelo Burda in PR#9796 with style and comment changes by me.


Tue, 24 Aug 2004 10:48:13 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/mapgen.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/shared.h

	Reverse an erronous commit.

	See PR#9790 and PR#9627.


Tue, 24 Aug 2004 10:02:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/mapgen.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/shared.h

	Include the windows.h header in connectdlg_common.c.

	Patch by James Canete in PR#9790.


Mon, 23 Aug 2004 23:51:43 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/ftwl/Makefile.am

	If ftwl isn't being compiled, don't build libftwl.a.  This avoids a
	problem on some compilers where it's not possible to build an empty
	library.

	Reported by Benoit Hudson <bh@techhouse.brown.edu> in PR#9494.  Patch by
	Marko Lindqvist <marko.lindqvist@pp5.inet.fi>.


Mon, 23 Aug 2004 23:33:31 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityhand.c

	Fix a buglet where a change in the worklist would cause a spurious
	"production changed" message to be sent to the client.

	Reported by Ciaran Mac Lochlainn <ciaran17@eircom.net> in PR#9584.


Mon, 23 Aug 2004 23:29:50 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Save (and load) the map generator options alltemperate, tinyisles, and
	separatepoles.

	Patch by Mateusz Stefek in PR#9776, with style changes by me.


Mon, 23 Aug 2004 18:59:43 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/maphand.c
	   M /trunk/server/ruleset.c

	Move the global warming/nuclear winter operation results into the ruleset.

	Patch by me in PR#9747, with added comments.


Mon, 23 Aug 2004 18:37:18 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Put terrain identifiers, used to identify terrain types in savegames, into
	the ruleset.

	Patch by me in PR#9759, with added comments and an assertion.


Mon, 23 Aug 2004 16:24:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/data/Freeciv

	Fix the keyboard shortcuts for the load, unload, unload-all, and worklist
	editor menu choices.

	Patch by me in PR#9781 with added style/comment fixes.


Mon, 23 Aug 2004 13:59:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h
	   M /trunk/data/Freeciv

	Rename the "Kingdom" menu as "Government".

	Patch by me in PR#9778, with added style/comment fixes.


Mon, 23 Aug 2004 12:49:57 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c

	Fix typo in PR#8537. Reported by G. Gracian in PR#9767


Sun, 22 Aug 2004 23:57:18 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/agents.c

	Avoid a compiler warning when compiling with NDEBUG.

	Patch by me in PR#8841, with added style and comment fixes.


Sun, 22 Aug 2004 23:08:32 -0700  jdorje:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h

	Add a new function player_in_territory which returns the number of enemy
	units that a player can see inside their territory.

	Patch by James Canete in PR#9006 with style and comment changes by me.


Sat, 21 Aug 2004 18:43:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a major mapview scrolling bug.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#9658.  Patch by me.


Sat, 21 Aug 2004 16:14:43 -0700  jdorje:

	Changed paths:
	   M /trunk/common/terrain.h

	Change some references to T_OCEAN to look at the TER_OCEANIC flag instead.

	Patch by Marcelo Burda <mburda@ulb.ac.be> as part of PR#6007, with
	style changes by me.


Sat, 21 Aug 2004 11:32:37 -0700  kauf:

	Changed paths:
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h

	Remove the capability requirement for authentication.
	Add three commandline options for the server:
	  -a  --auth            Enable server authentication.
	  -G  --Guests          Allow guests to login if auth is enabled.
	  -N  --Newusers        Allow new users to login if auth is enabled.

	This allows single player mode to work correctly when authentication
	is enabled. See PR#8570.


Sat, 21 Aug 2004 09:34:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-win32/connectdlg.c

	Make the client_has_hack variable static inside connectdlg_common, and
	provide an accessor function so the GUIs can query this value.

	Patch by me as part of PR#9738.


Sat, 21 Aug 2004 09:20:26 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/version.m4
	   A /trunk/version.in

	Add a new file version.in that defines the Freeciv version.  This works
	with autoconf in conjunction with some changes in configure.ac and a new
	macro file version.m4.  This means the version should now be defined in
	only one place.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#4712.


Sat, 21 Aug 2004 09:07:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/connectdlg.h
	   M /trunk/client/gui-win32/gui_main.c

	Change connectdlg_common to work on win32.  Change gui-win32 to use
	connectdlg_common for launching the server.

	Patch by James Canete in PR#9739 with style changes by me.


Fri, 20 Aug 2004 13:13:18 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/ruleset.c

	Remove the corruption_modifier and waste_modifier variables in
	governments.ruleset, instead make corruption_level and waste_level a
	100th percentage. This breaks all older rulesets. See PR#9704.


Fri, 20 Aug 2004 12:26:01 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Allow nuclear missiles to attack empty cities. Reported in PR#9734 by
	Thorild Selen <thorild@Update.UU.SE>.


Fri, 20 Aug 2004 03:14:28 -0700  matusik:

	Changed paths:
	   M /trunk/server/maphand.c

	When a tile is revealed send tile info packet before city info packet. This fixes PR#9716


Thu, 19 Aug 2004 17:15:36 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Make the CITY_PRODUCTION_CHANGED event default to showing only on the
	game output line, not the messages dialog.

	Patch by Mateusz Stefek in PR#9736.


Thu, 19 Aug 2004 17:03:35 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Avoid a server crash if the tech goal is unset after team research is
	completed.

	Reported by Mattias Linde <c02lek@cs.umu.se> in PR#9737.  Patch by Per.


Thu, 19 Aug 2004 01:27:39 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_stuff.c

	Win32: Prevent nations (any any other) dialog from expanding too far
	to the right when moved.

	Patch by me as PR#8560.


Thu, 19 Aug 2004 01:21:24 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapctrl.c

	Enable support for custom mouse cursors for the win32 client.

	Patch by me as PR#9089.


Thu, 19 Aug 2004 00:34:26 -0700  matusik:

	Changed paths:
	   M /trunk/server/mapgen.c
	   M /trunk/server/srv_main.c

	Fix a bug whereby in generators 2-4 players didn't get correct islands.
	The cause was that continent numbers were reassigned to early (generators 2-4 use their own continent numbering).
	Also don't save a game when a generator fails, but die() silently. Some data may be uninitialized in this case and the savegame code probably crashes.
	Reported by many people. Patch by Marcelo Burda. See PR#9695 and PR#9715.


Wed, 18 Aug 2004 12:43:33 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/data/Makefile.am
	   M /trunk/doc/Makefile.am
	   M /trunk/doc/fr/Makefile.am
	   M /trunk/tests/Makefile.am
	   M /trunk/utility/ftwl/Makefile.am

	Add some missing files into the distribution, change the check scripts to
	run as "make src-check" not "make check", and make a few miscellaneous
	cleanups to the Makefile.am files.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9703.


Wed, 18 Aug 2004 12:37:26 -0700  jdorje:

	Changed paths:
	   A /trunk/doc/README.scorelog
	   D /trunk/doc/scorelog-v2
	   M /trunk/server/report.c

	Rename doc/scorelog-v2 as doc/README.scorelog.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9703.


Wed, 18 Aug 2004 11:11:05 -0700  jdorje:

	Changed paths:
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/server/savegame.c

	Save governments in the savegame by name rather than by ID.  This avoids
	creating savegame incompatibility when the order of governments is changed
	in the ruleset.  Backwards-compatibility is handled by a fixed array of the
	ordering of the old government names in the various rulesets;
	forward-compatibility is provided (assuming the ruleset is unchanged) by
	including the old-style government ID in the savegame.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9712 with style and
	comment changes by me.


Tue, 17 Aug 2004 22:24:46 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/client/Makefile.am
	   M /trunk/client/agents/Makefile.am
	   M /trunk/client/gui-ftwl/Makefile.am
	   M /trunk/client/gui-gtk/Makefile.am
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-stub/Makefile.am
	   M /trunk/client/gui-win32/Makefile.am
	   M /trunk/client/gui-xaw/Makefile.am
	   M /trunk/common/Makefile.am
	   M /trunk/common/aicore/Makefile.am
	   M /trunk/server/Makefile.am
	   M /trunk/server/userdb/Makefile.am
	   M /trunk/utility/Makefile.am
	   M /trunk/utility/ftwl/Makefile.am

	Replace INCLUDES in the Makefile with AM_CPPFLAGS.  According to the
	automake manual "<INCLUDES> is deprecated; we suggest using AM_CPPFLAGS
	instead".

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#9698 with
	style and comment changes by me.


Tue, 17 Aug 2004 21:23:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h

	Remove the 64k global buffer "long_buffer".  It is replaced by local
	buffers with the same name and size.

	Patch by me in PR#9644.


Tue, 17 Aug 2004 11:45:50 -0700  berthe:

	Changed paths:
	   D /trunk/doc/fr/BUGS

	*** empty log message ***


Tue, 17 Aug 2004 00:25:27 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	Change the name of "Kingdom" menu to "Government", also submenu called "Government" is renamed "Change Government". Win32 still needs a patch. #PR8537


Mon, 16 Aug 2004 22:13:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/server/settlers.c

	Fix a minor memory bug where a wrong value was accessed to write debug
	output about a settler's activity.  Also an assertion is added into
	get_activity_text to catch future errors of this type.

	See PR#9694.


Mon, 16 Aug 2004 08:42:59 -0700  per:

	Changed paths:
	   M /trunk/common/game.h

	Reduce maximum revolen to 10 (was 50). Requested by Chris K in PR#9711.


Sun, 15 Aug 2004 02:47:04 -0700  matusik:

	Changed paths:
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h
	   M /trunk/client/text.h

	Move declaration of get_ping_time_text from plrdlg_common.h into text.h (PR#9701)


Sat, 14 Aug 2004 15:40:17 -0700  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	File missed in last commit.


Sat, 14 Aug 2004 14:46:28 -0700  per:

	Changed paths:
	   M /trunk/ai/advspace.c
	   M /trunk/client/packhand.c
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset

	Remove some dead and/or useless code from governments which try give
	"hints" to the AI. subgoals are not used at all, nor is the
	"favours_growth" hint, and the "is_nice" hint is totally braindead and
	should never have been sent to the client. PR#9683.


Sat, 14 Aug 2004 14:29:43 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aitools.c
	   M /trunk/common/city.h

	Raise the bar for AI danger overflows by turning some signed ints into
	unsigned ints. Closes (PR#9664).


Sat, 14 Aug 2004 12:41:24 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/plrhand.c

	Fixes crash when building Darwin's Voyage wonder. Reported by 'Fer' in
	the forum.


Sat, 14 Aug 2004 09:42:47 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Fri, 13 Aug 2004 12:38:20 -0700  matusik:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-gtk-2.0/menu.c

	distinguish between port used by local server and the port we were last connected with. Reported by Christian Knoke <chrisk@cknoke.de> patch by me in PR#9657. Also move some message from gui-gtk2 into client common code


Fri, 13 Aug 2004 08:59:13 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aiexplorer.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/packhand.c
	   M /trunk/common/Makefile.am
	   M /trunk/common/capstr.c
	   A /trunk/common/fc_types.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	* Introduce the special type Continent_id which is defined as signed short
	* Change all (hopefully) occurences of continent numbers to this type
	* Add special file common/fc_types.h where common types can be defined to
	  reduce cross-referencing of header files
	* Assign continent numbers to oceans as well as to land.  Ocean numbers are
	  negative.
	* When having ocean changed to land or vice versa, renumber continents.
	  This results in sending all tiles info to clients, but if nothing changed
	  during renumbering delta should figure it out.

	Patch by me, with lots of help from Jason and Marcelo Burda.  Closing
	9637 for now.


Fri, 13 Aug 2004 08:26:50 -0700  glip:

	Changed paths:
	   M /trunk/client/text.c

	Fix warinings in compilation of client/text.c

	Patch by Jason, closing 9689.


Fri, 13 Aug 2004 01:22:59 -0700  matusik:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Remove unnecesary and confusing extra row from unit report dialog. Requested by Christian Knoke <chrisk@cknoke.de> patch by me in PR#9649


Thu, 12 Aug 2004 17:51:17 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Use %lu instead of %d with printing of size_t values.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#9689.


Thu, 12 Aug 2004 13:59:00 -0700  per:

	Changed paths:
	   M /trunk/common/tech.h
	   M /trunk/data/civ1/techs.ruleset
	   M /trunk/data/civ2/techs.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/history/techs.ruleset
	   M /trunk/server/ruleset.c

	Make server enforce the real limit on the number of techs (196) and
	announce this in the rulesets. Patch by Marko Lindqvist in PR#9686.


Wed, 11 Aug 2004 13:57:19 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix some errors in the AI code that occurs if you have homeless units.
	Just adds a few if (pcity ...) checks.


Wed, 11 Aug 2004 11:49:29 -0700  per:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Fix packet that defined AI love too small. Patch by Jason in PR#9670.


Wed, 11 Aug 2004 11:25:38 -0700  glip:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a memory leak in tilespec code.

	Reported and patched by Jason in 9672.


Tue, 10 Aug 2004 21:33:07 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	When a new city is founded by the AI autosettlers, make sure we rebuild
	the autosettler cache so the new city's cache is built.

	See PR#9614.


Mon, 09 Aug 2004 18:40:32 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-xaw/chatline.c

	fix a parameter shadowing to allow the xaw client to compile again.


Mon, 09 Aug 2004 08:45:49 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix the /show command so that it will ignore levels if a particular
	server option is set.

	Reported by me in PR#9635.  Patch by Gregory Richards
	<akaquinn@hotmail.com> in PR#9635 with added comments by me.


Sun, 08 Aug 2004 22:24:35 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h

	Move is_coast_seen into gotohand.c and stop it from cheating.

	Patch by me in PR#9510.


Sun, 08 Aug 2004 09:44:20 -0700  glip:

	Changed paths:
	   M /trunk/server/settlers.c

	Change a forgotten LOG_NORMAL message to LOG_DEBUG, remove redundant code
	from contemplate_terrain_improvements and add some comments and a log
	message to the function.

	A part of 9623.


Sun, 08 Aug 2004 08:09:12 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Load the startunits server option when loading a savegame.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9632.


Sun, 08 Aug 2004 07:39:23 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Fix a bug whereby terrain was inadvertently changed when calculating the
	benefit of doing irrigation.  Add an assertion to catch any future bugs of
	this type.

	Reported by Brett Albertson <brett.albertson@stratech.com> and  Genevieve
	Gracian <ggracian@free.fr> in PR#9611.  Patch by me.


Sun, 08 Aug 2004 07:15:14 -0700  glip:

	Changed paths:
	   M /trunk/server/unithand.c

	Allow caravans establish trade routes with non-allied cities.  Give more
	info to the player when the operation fails.

	Bug discovered and fixed by James Christensen.


Sat, 07 Aug 2004 10:58:56 -0700  glip:

	Changed paths:
	   M /trunk/ai/aisettler.c

	In new AI settler code, function cityresult_fill, give some value to
	result->corruption when fulltradesize is not 1.

	Bug reported by Genevieve Gracian in #9631,
	I did the detective work, Per dictated the fix over IRC.


Sat, 07 Aug 2004 10:53:50 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Stop rampaging units from thinking the reinforcements are coming.
	Especially they do not take into account what these reinforcements cost.

	This should close #1340.  Original report by Raahul Kumar.


Fri, 06 Aug 2004 09:46:24 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h

	- Remove the unused function is_worked_here.
	- Move worst_worker_tile_value and settler_eats into advdomestic.c.
	- Move food_weighting, city_tile_value, and best_worker_tile_value into
	  settlers.c.
	- Fix a major bug in best_worker_tile_value.

	Patch by Gregory Berkolaiko in PR#9615 with style and comment changes by
	me.


Fri, 06 Aug 2004 09:14:17 -0700  glip:

	Changed paths:
	   A /trunk/ai/aiexplorer.c
	   A /trunk/ai/aiexplorer.h

	Committing the files omitted in the previous commit.


Fri, 06 Aug 2004 07:46:28 -0700  glip:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/aiferry.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Separate autoexplorer code into a separate file, ai/aiexplorer.c

	Ticket number 9609.


Fri, 06 Aug 2004 06:43:12 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c

	Add the possibility of Extra Cost callback depending on both the source and
	the destination tile to the Path Finding.  Before the EC callbacks could
	only depend on the target time.

	Part of 7282.


Fri, 06 Aug 2004 03:35:49 -0700  per:

	Changed paths:
	   M /trunk/ai/aisettler.c
	   M /trunk/server/settlers.c

	Fix brown paper bag bug introduced by yours truly. Trying to set off
	autosettlers as a human player would trigger an assert, and might send
	them off making cities. Patch graciously donated by Jason in PR#9613.


Thu, 05 Aug 2004 19:13:35 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aitools.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h

	Move built_elsewhere and is_building_other_wonder into the AI code and
	make them static.

	Patch by Gregory Berkolaiko in PR#9615 with style and comment changes by
	me.


Thu, 05 Aug 2004 04:42:09 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Fix debug log messages.


Thu, 05 Aug 2004 04:34:18 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   A /trunk/ai/aisettler.c
	   A /trunk/ai/aisettler.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/common/aicore/citymap.c
	   M /trunk/common/aicore/citymap.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h
	   M /trunk/server/srv_main.c

	Add new settler code, remove old. Patch by myself, with much help and
	ferry additions by Greg.


Thu, 05 Aug 2004 03:41:34 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Change the name of the function is_at_coast to is_cardinally_adj_to_ocean
	to better reflect the purpose of the function and prevent incorrect use.

	Fix one last instance of such worng use.

	Closes 6947.


Wed, 04 Aug 2004 22:12:05 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Rename variables, add comments, and fix style in some autosettler code.

	Patch by me in PR#9605.


Wed, 04 Aug 2004 20:52:43 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Improve ai_calc_irrigate, ai_calc_mine, and ai_calc_transform to calculate
	results more accurately to what will happen if those actions are actually
	carried out.  Also, many variables are renamed and comments added.

	Patch by me in PR#9593.


Wed, 04 Aug 2004 10:11:32 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags/afghanistan.png
	   M /trunk/data/flags/ethiopia.png

	Put a border around the Afghanistan and Ethiopia flags.

	Fix by Mateusz Stefek <mstefek@poczta.fm> in PR#9600.


Tue, 03 Aug 2004 17:13:55 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/server/mapgen.c

	Move set_ratio into mapgen.c, rename it, and clean it up a bit.  Also
	change the default ratio for Earthlike maps from 8:5 to 3:2.

	Patch by Marcelo Burda <mburda@ulb.ac.be> and myself in PR#9496.


Mon, 02 Aug 2004 20:08:54 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Allow auto-settlers to consider building mining or irrigation even if
	this means replacing existing infrastructure.

	Patch by me in PR#7250, with extensive style fixes and added comments.


Mon, 02 Aug 2004 17:09:44 -0700  jdorje:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c

	Remove the draw_diagonal_roads client option, which is of little use and
	adds extra clutter.

	See PR#9529.


Mon, 02 Aug 2004 17:05:35 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix a bug whereby an unseen "hidden" unit on an unfogged tile would not be
	marked as unseen in the client.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9540 with added comments
	by me.


Mon, 02 Aug 2004 16:44:57 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c

	Update gtk1 client re previous commit.


Mon, 02 Aug 2004 16:19:36 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/common/tech.c
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	Change calculation of research cost. tech_cost_style 1 is changed from
	(researchcost*number of parents) to
	MAX((1+parents) * (researchcost/2) * sqrt(1+parents), researchcost), and
	is set as default.

	Note: This exposes two unrelated problems. The first is a sometimes bug
	that makes gtk2 science dialog bar fail to update. The second is that it
	is now even more plain how ridiculously powerful Republic is (although
	Republic has not changed as such).

	Only gtk2 client updated in this commit.


Mon, 02 Aug 2004 09:59:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	Let the citymap overlay be drawn for settlers as well as for cities.

	Patch by me in PR#8944.


Mon, 02 Aug 2004 09:23:18 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/trident/tiles.spec

	Use tileset directions when loading and drawing darkness.  This makes hex
	tilesets work better and is more consistent with how other sprites are
	named.

	Patch by me in PR#9546.


Mon, 02 Aug 2004 01:13:28 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sun, 01 Aug 2004 13:06:25 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#9336: Markup some strings for translation.

	Patch by Albert Astals Cid <tsdgeos@yahoo.es>.


Sun, 01 Aug 2004 13:00:33 -0700  vasc:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/improvement.c
	   M /trunk/common/unittype.c

	PR#9381: Fix bug of special case in city_buy_cost.

	Patch by Jason Dorje Short <jdorje@freeciv.org>.


Sun, 01 Aug 2004 06:36:52 -0700  per:

	Changed paths:
	   M /trunk/data/nation/irish.ruleset

	Update of irish nation. Patch by Ciaran Mac Lochlainn
	<ciaran17@eircom.net> in PR#9522.


Sun, 01 Aug 2004 06:33:26 -0700  per:

	Changed paths:
	   M /trunk/common/player.c

	Make player attitude strings translatable and fix bug. Patch by Mateusz
	Stefek in PR#9565.


Sun, 01 Aug 2004 05:00:49 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/widget_timeout.c

	Win32 compile fix for gettimeofday. Patch by James in PR#9538.


Sun, 01 Aug 2004 04:58:43 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/chat.c
	   M /trunk/client/gui-ftwl/connectdlg.c

	Win32 build fixes for win32. Patch by James Canete in PR#9577.


Fri, 30 Jul 2004 20:57:26 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	a client (with hack) need not specify a connection when using the 'take' command.


Fri, 30 Jul 2004 13:40:49 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/ailog.c
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c

	Show the AI's attitude towards you in the player dialog in the client.
	This should be considered a work in progress, as it would no doubt need
	some adjustments for players to find the attitudes plausible.

	See PR#9530.


Fri, 30 Jul 2004 13:11:13 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix bug in kill_desire function, where "AI love" made the AI more
	aggressive against you, not less. Reported by Mateusz Stefek
	<mstefek@poczta.fm>.


Fri, 30 Jul 2004 12:02:56 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/gui_main.h

	Add function prototypes for void popup_mapcanvas(void) and void
	popdown_mapcanvas(void) here instead of in client common include, since
	only gui-ftwl uses these functions.


Fri, 30 Jul 2004 11:35:03 -0700  per:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	This patch fixes 3 bugs in settler activities.

	1. The biggest bug is that activity times are multiplied by 10. But
	settlers.c doesn't know about this. Thus the calculated times to do any
	activity are 10x too high (on top of the move time, which is correct).
	No doubt this has something to do with the reported problems with
	autosettlers.

	2. A second bug is in the considering of making a road plus a rail in
	settlers.c. There is a can_rr variable that is used to see if the
	settler can make a railroad. But it's not used to see if the settler
	can make a road plus a railroad. The fix is easy.

	3. The third bug is that in unittools.c when adding on to the
	activity_count there is a special case for when the unit has nove move
	points left. This is a bug because the amount added on has nothing to do
	with the MP. So an engineer with 1/3 MP left gets the same amount of
	work done as if it had 2 MP, but with 0 MP left it only gets half this
	amount.

	Added a new function get_turns_for_activity (equivalent to the function
	needed by gui-ftwl). Moved get_settler_speed into unit.c and changed it
	to do all the work of calculating the speed (instead of just half of the
	work).

	Patch by Jason in PR#9561.


Thu, 29 Jul 2004 07:22:45 -0700  per:

	Changed paths:
	   M /trunk/client/gui-ftwl/Makefile.am

	Rename oog -> chat.


Thu, 29 Jul 2004 07:10:14 -0700  per:

	Changed paths:
	   A /trunk/client/gui-ftwl/chat.c
	   A /trunk/client/gui-ftwl/chat.h
	   A /trunk/client/gui-ftwl/chatline.c
	   A /trunk/client/gui-ftwl/chatline.h
	   A /trunk/client/gui-ftwl/citydlg.c
	   A /trunk/client/gui-ftwl/citydlg.h
	   A /trunk/client/gui-ftwl/cityrep.c
	   A /trunk/client/gui-ftwl/cityrep.h
	   A /trunk/client/gui-ftwl/colors.c
	   A /trunk/client/gui-ftwl/colors.h
	   A /trunk/client/gui-ftwl/connectdlg.c
	   A /trunk/client/gui-ftwl/connectdlg.h
	   A /trunk/client/gui-ftwl/dialogs.c
	   A /trunk/client/gui-ftwl/dialogs.h
	   A /trunk/client/gui-ftwl/diplodlg.c
	   A /trunk/client/gui-ftwl/diplodlg.h
	   A /trunk/client/gui-ftwl/finddlg.c
	   A /trunk/client/gui-ftwl/finddlg.h
	   A /trunk/client/gui-ftwl/gotodlg.c
	   A /trunk/client/gui-ftwl/gotodlg.h
	   A /trunk/client/gui-ftwl/graphics.c
	   A /trunk/client/gui-ftwl/graphics.h
	   A /trunk/client/gui-ftwl/gui_main.c
	   A /trunk/client/gui-ftwl/gui_main.h
	   A /trunk/client/gui-ftwl/helpdlg.c
	   A /trunk/client/gui-ftwl/helpdlg.h
	   A /trunk/client/gui-ftwl/inteldlg.c
	   A /trunk/client/gui-ftwl/inteldlg.h
	   A /trunk/client/gui-ftwl/mapctrl.c
	   A /trunk/client/gui-ftwl/mapctrl.h
	   A /trunk/client/gui-ftwl/mapview.c
	   A /trunk/client/gui-ftwl/mapview.h
	   A /trunk/client/gui-ftwl/menu.c
	   A /trunk/client/gui-ftwl/menu.h
	   A /trunk/client/gui-ftwl/messagedlg.c
	   A /trunk/client/gui-ftwl/messagedlg.h
	   A /trunk/client/gui-ftwl/messagewin.c
	   A /trunk/client/gui-ftwl/messagewin.h
	   A /trunk/client/gui-ftwl/plrdlg.c
	   A /trunk/client/gui-ftwl/plrdlg.h
	   A /trunk/client/gui-ftwl/ratesdlg.c
	   A /trunk/client/gui-ftwl/ratesdlg.h
	   A /trunk/client/gui-ftwl/repodlgs.c
	   A /trunk/client/gui-ftwl/repodlgs.h
	   A /trunk/client/gui-ftwl/spaceshipdlg.c
	   A /trunk/client/gui-ftwl/spaceshipdlg.h
	   A /trunk/client/gui-ftwl/wldlg.c
	   A /trunk/client/gui-ftwl/wldlg.h

	Add gui-ftwl to cvs. It will not yet compile without some client-common
	changes that are not yet in cvs.


Thu, 29 Jul 2004 07:07:43 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/theme_engine.c

	Add better error detection and fix bug in te_init_colormodel().


Thu, 29 Jul 2004 06:52:56 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/theme_engine.h

	Pass te_init_colormodel() a filename instead of section file. Make
	it easier for clients.


Thu, 29 Jul 2004 06:07:31 -0700  per:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Add compile target for gui-ftwl. Note that you must explicitly ask for
	_both_ gui-ftwl as client and to build ftwl itself when running
	configure to use it.


Thu, 29 Jul 2004 06:05:22 -0700  per:

	Changed paths:
	   A /trunk/client/gui-ftwl/Makefile.am

	Add Makefile.am for gui-ftwl


Thu, 29 Jul 2004 06:04:46 -0700  per:

	Changed paths:
	   A /trunk/client/gui-ftwl
	   A /trunk/client/gui-ftwl/.cvsignore

	Add .cvsignore for gui-ftwl


Thu, 29 Jul 2004 03:44:29 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/theme_engine.c
	   M /trunk/utility/ftwl/theme_engine.h

	te_init() takes a filename as new parameter, which is the file it checks
	for to see if the theme is there (checking for a hardcoded filename is
	not good)

	new function te_init_colormodel() which for now just reads the bpp from
	a theme file and uses this internally to figure out what kind of colour
	strings we will get reading from theme files; eventually we will want to
	enable this to read a full palette from this file


Thu, 29 Jul 2004 03:10:30 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/be_common_24.c

	Remove obscure P() macro and some style fixes. From 32bpp patch.


Thu, 29 Jul 2004 03:09:49 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/theme_engine.c

	Improve error-finding. From 32bpp patch.


Wed, 28 Jul 2004 17:09:27 -0700  per:

	Changed paths:
	   M /trunk/client/chatline_common.c
	   M /trunk/client/chatline_common.h
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/chatline.c
	   M /trunk/client/gui-gtk-2.0/chatline.c
	   M /trunk/client/gui-mui/chatline.c
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-stub/chatline.c
	   M /trunk/client/gui-win32/chatline.c
	   M /trunk/client/gui-xaw/chatline.c
	   M /trunk/client/include/chatline_g.h
	   M /trunk/client/include/diplodlg_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/capstr.c
	   M /trunk/common/connection.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/handchat.c
	   M /trunk/server/plrhand.c

	Give the client info on which connection it is that writes a piece of
	chat message. Original patch by Raimar in gui-fs, improved by me and
	Jason in PR#9513.


Wed, 28 Jul 2004 16:24:56 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/back_end.h

	Add header for struct timeval, needed for mingw compilation.


Wed, 28 Jul 2004 14:56:11 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Improve some short descriptions of server options. Patch by Jason
	in PR#9454.


Wed, 28 Jul 2004 14:49:55 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Update packets_gen.


Wed, 28 Jul 2004 14:48:11 -0700  per:

	Changed paths:
	   M /trunk/common/packets.def

	Improve documentation of d/lsend features.


Wed, 28 Jul 2004 14:43:11 -0700  per:

	Changed paths:
	   M /trunk/server/handchat.c

	Use dsend for packet_chat_msg. This makes the code simpler and
	cleaner. Patch by Jason in PR#9531.


Wed, 28 Jul 2004 13:30:12 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Add levels for the server options, to cut down on the number of choices
	presented to users.  Options are either vital, situational, or rare.

	Patch by Gregory Richards <akaquinn@hotmail.com> in PR#9434 with style
	changes by me.


Wed, 28 Jul 2004 09:45:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Use an iteration over tileset directions to load and draw corner sprites,
	rather than hard-coding each direction.  This works better for hex
	tilesets and has less duplicated logic.

	Patch by me in PR#9504.


Wed, 28 Jul 2004 08:24:43 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c

	- Make DIR_IS_CARDINAL a normal (not inline) function.
	- Rename it as is_cardinal_dir.
	- Fix a bug in is_cardinal_dir for hex topologies.

	Patch by me in PR#9511.


Tue, 27 Jul 2004 10:53:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/mapview.c

	Add support for iso-view to the XAW client.

	Patch by me in PR#9503.


Tue, 27 Jul 2004 10:32:07 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/server/savegame.c

	Save technologies in the savegame by name, not id.  An array holding the
	bitvector ordering is also saved.  The result is that this part of the
	savegame isn't dependent on the technology ordering in the ruleset.  It
	is forward- and backward-compatable with old (1.14) servers and savegames.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9493 with comment and
	style changes by me.


Tue, 27 Jul 2004 09:43:48 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/stdinhand.c

	Sanity-check the server when loading a savegame.  Don't sanity-check
	the map if the map doesn't exist (this avoids problems when loading
	scenarios).

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9499 with added comments
	by me.


Mon, 26 Jul 2004 12:52:02 -0700  per:

	Changed paths:
	   M /trunk/server/diplomats.c

	Remove space in message. Patch by Erik Sigra <sigra@home.se> in PR#9497.


Mon, 26 Jul 2004 01:11:56 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Make canvas_put_sprite_fogged() in gui-win32/mapview.c accept canvases
	with bitmaps.

	Patch by me in PR#9506.


Mon, 26 Jul 2004 00:45:41 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Fix a bug in dir_is_cardinal that caused all directions to show up as
	cardinal, with dire results.

	See PR#9505.


Sun, 25 Jul 2004 21:05:59 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move put_one_tile_iso into mapview_common.  All iso logic in this
	function is now contained within the common code.

	Patch by me in PR#3572.


Sun, 25 Jul 2004 20:50:59 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Save arbitrary values for game.settlers and game.explorers in savegames.
	This is needed for forward-compatability with earlier versions of Freeciv.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9486 with style and
	comment changes by me.


Sun, 25 Jul 2004 20:38:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/stdinhand.c

	Add support for hexagonal-tiled topologies.

	Patch by me in PR#9482.


Sun, 25 Jul 2004 20:07:39 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Use tileset direction lists with roadstyle 2.  This works better with
	hexagonal tilesets.

	Patch by me in PR#9489.


Sat, 24 Jul 2004 22:06:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Remove an assertion in get_grid_color that would trigger when a "bad"
	tileset was used on a hex map.

	Patch by me in PR#9488.


Sat, 24 Jul 2004 11:03:43 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Rewrite is_move_cardinal to use DIR_IS_CARDINAL.  This makes it work for
	hex tiles.

	Patch by me in PR#9483.


Sat, 24 Jul 2004 05:42:33 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c

	PR#9467: Remove B_GRANARY from gui-xaw.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 24 Jul 2004 05:26:07 -0700  vasc:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/common/nation.h
	   M /trunk/common/player.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/swiss.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/ruleset.c
	   M /trunk/utility/shared.h

	PR#9469: Add init_buildings to the ruleset.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 23 Jul 2004 23:21:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/trident/tiles.spec
	   M /trunk/data/trident.tilespec

	- Remove the coast_cape sprite tags; now matching cell sprites are used
	  instead.
	- Fix some related bugs where matching sprites on a layer will match all
	  terrains that don't have that layer.

	Patch by me in PR#9477.


Fri, 23 Jul 2004 21:02:36 -0700  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Fix several bugs (new and old) in the creation of rivers.

	Reported by Martin Schroder <martin@oneiros.de> and A. Gorshenev
	<nikodimka@yahoo.com> in PR#9439.  Patch by Frank Richter <resqu@gmx.ch>
	and myself.


Fri, 23 Jul 2004 20:43:35 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Allocate the CM's "combinations" on the heap.  This removes the hard limit
	on the number of combinations while saving a huge amount of memory in
	most cases.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#7342 with style
	changes by me.


Fri, 23 Jul 2004 20:23:59 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/mem.c

	Don't allow anyone to allocate more than 20Mb in a single alloc.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> as part of PR#7342 with
	changes by me.


Fri, 23 Jul 2004 18:31:26 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Save the order of the city improvement bitvector in the savegame.  This
	means this part of the savegame doesn't depend on the ordering of
	improvements in the ruleset.  It is backwards- and forwards-compatable
	with old (1.14) savegames.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9456 with changes by me.


Fri, 23 Jul 2004 14:08:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new mapview_common function put_drawn_sprites.  This is called
	from put_one_tile_iso.  A new canvas (GUI) function
	canvas_put_sprite_fogged is also needed.

	Patch by me in PR#9473.


Fri, 23 Jul 2004 12:33:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Use tileset direction lists in roadstyle 0.  This is more hex-friendly.

	Patch by me in PR#9472.


Thu, 22 Jul 2004 22:06:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Fix the CMA's SAVED_PARAMETER_SIZE.

	See PR#9470.


Thu, 22 Jul 2004 20:42:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	In MAPSTEP check that the direction we're stepping in is valid.  This is
	needed for hex maps where not all directions are valid.

	Patch by me in PR#9466.


Thu, 22 Jul 2004 13:57:00 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/ftwl
	   A /trunk/utility/ftwl/.cvsignore

	Added .cvsignore.


Thu, 22 Jul 2004 13:56:05 -0700  jdorje:

	Changed paths:
	   M /trunk/data/scenario/british-isles-85x80-v2.80.sav
	   M /trunk/data/scenario/earth-160x90-v2.sav
	   M /trunk/data/scenario/earth-80x50-v2.sav
	   M /trunk/data/scenario/europe-200x100-v2.sav

	Change the diplcost in scenarios to 0 (the default).

	See PR#9445.


Thu, 22 Jul 2004 13:52:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Save dummy values for the factor_target in the CM parameter attributes.
	This keeps backward-compatability with the old attribute format.

	Reported by Brett Albertson <brett.albertson@stratech.com> in PR#9470.
	Patch by me.


Thu, 22 Jul 2004 13:44:32 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/utility/Makefile.am
	   M /trunk/utility/ftwl/Makefile.am

	Temporary build configuration for FTWL. Use --enable-ftwl=x11 or
	--enable-ftwl=sdl to build it.


Thu, 22 Jul 2004 13:40:15 -0700  per:

	Changed paths:
	   M /trunk/utility/ftwl/be_sdl.c

	Compile fix.


Thu, 22 Jul 2004 13:05:18 -0700  per:

	Changed paths:
	   M /trunk/doc/Makefile.am

	Add README.ftwl to Makefile


Thu, 22 Jul 2004 13:04:28 -0700  per:

	Changed paths:
	   A /trunk/doc/README.ftwl

	Add README.ftwl.


Thu, 22 Jul 2004 13:00:55 -0700  per:

	Changed paths:
	   A /trunk/utility/ftwl
	   A /trunk/utility/ftwl/Makefile.am
	   A /trunk/utility/ftwl/back_end.h
	   A /trunk/utility/ftwl/be_common_24.c
	   A /trunk/utility/ftwl/be_common_24.h
	   A /trunk/utility/ftwl/be_common_24_sprite.c
	   A /trunk/utility/ftwl/be_sdl.c
	   A /trunk/utility/ftwl/be_x11_ximage.c
	   A /trunk/utility/ftwl/common_types.c
	   A /trunk/utility/ftwl/common_types.h
	   A /trunk/utility/ftwl/text_renderer.c
	   A /trunk/utility/ftwl/text_renderer.h
	   A /trunk/utility/ftwl/theme_engine.c
	   A /trunk/utility/ftwl/theme_engine.h
	   A /trunk/utility/ftwl/widget.c
	   A /trunk/utility/ftwl/widget.h
	   A /trunk/utility/ftwl/widget_button.c
	   A /trunk/utility/ftwl/widget_core.c
	   A /trunk/utility/ftwl/widget_edit.c
	   A /trunk/utility/ftwl/widget_label.c
	   A /trunk/utility/ftwl/widget_list.c
	   A /trunk/utility/ftwl/widget_p.h
	   A /trunk/utility/ftwl/widget_slider.c
	   A /trunk/utility/ftwl/widget_timeout.c
	   A /trunk/utility/ftwl/widget_window.c

	Add "Freeciv Theme and Widget Layer" (FTWL) files to cvs. Additional
	patches needed to compile them.


Thu, 22 Jul 2004 12:57:13 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Update remaining veteran code from the old system. Reported by Jason in
	PR#8670.


Thu, 22 Jul 2004 12:04:33 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h

	Add a new registry function secfile_insert_str_vec.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9463 with comment changes
	by me.


Thu, 22 Jul 2004 08:20:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h

	Add a CM function cm_count_specialist to count the number of specialists in
	a result without hard-coding the types of specialists.

	Patch by me in PR#9443.


Thu, 22 Jul 2004 00:45:09 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix a bug in saving the old-style changed_from_id value.

	Patch by Mateusz Stefek <mstefek@poczta.fm> as an addendum to PR#9193.


Wed, 21 Jul 2004 22:42:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h

	Remove the unused put_one_tile_full function from several clients.

	Patch by me in PR#9444.


Wed, 21 Jul 2004 19:53:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/trident/roads.spec

	Change roadstyle 1 to use tileset direction lists.  This makes it
	hex-friendly and more robust.

	Patch by me in PR#9440.


Wed, 21 Jul 2004 09:34:33 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/server/savegame.c

	Initialize the happyborders server variable, and save it as a boolean not
	an integer.

	Reported by me in PR#9447.  Patch by Christian Knoke <chrisk@cknoke.de>.


Wed, 21 Jul 2004 07:46:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Rewrite circle_iterate.  It is now hex-friendly and respects the style
	guide and macro guidelines.

	Patch by me in PR#9427.


Wed, 21 Jul 2004 03:16:59 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Fix win32 client.  Broken in PR#9426.
	Patch by me under PR#9460.


Wed, 21 Jul 2004 01:41:00 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	updates, fixes. 3728 translated messages, 28 untranslated messages.


Tue, 20 Jul 2004 10:17:50 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c

	Simplify the sprite overlay code in the gtk, gtk2, and win32 clients.

	Patch by me in PR#9426.


Tue, 20 Jul 2004 10:13:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/clinet.c

	Move the freeing of an allocated packet to be on the same level as it was
	allocated on. This simplifies the logic and the code.

	Patch by me in PR#8500.


Tue, 20 Jul 2004 10:05:26 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c

	Move the freeing of an allocated packet to be on the same level as it
	was allocated on.  This simplifies the logic and the code.

	Patch by me in PR#8500.


Tue, 20 Jul 2004 09:58:53 -0700  jdorje:

	Changed paths:
	   M /trunk/doc/HACKING

	Add some guidelines for the use of macros and inline functions.

	See PR#9117.


Tue, 20 Jul 2004 09:27:08 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-xaw/cma_fe.c
	   M /trunk/client/options.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/server/cityturn.c

	Remove the factor_target (which was unused) from the CM parameters.  Add
	new functions cm_init_parameter and cm_init_emergency_parameter that can
	be used to initialize all CM parameters to sane values.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#9247 with style
	changes by me.


Tue, 20 Jul 2004 09:04:56 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Reverse the changes to set_ratio from PR#9328.

	See PR#9409.


Tue, 20 Jul 2004 07:34:32 -0700  per:

	Changed paths:
	   M /trunk/utility/shared.c

	Set size of first input parameter for GetUserName(). Patch by res
	<resqu@gmx.ch> in PR#9438.


Tue, 20 Jul 2004 07:02:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/data/trident/tiles.spec

	Change matched terrain to use the cardinal tileset dirs.  This allows it
	to work properly in a hex tileset.

	Patch by me in PR#9420.


Tue, 20 Jul 2004 04:51:33 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Always enable autogames. Fix requested in PR#1494 by Reinier. Closing
	ticket.


Tue, 20 Jul 2004 04:48:25 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Reduce NUM_BANDS to 5. Fix requested in PR#6781 by Raimar.


Tue, 20 Jul 2004 04:05:37 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Add new server option: happyborders. This boolean default to TRUE, and
	makes units no longer no longer cause unhappiness when inside our own
	borders. Patch by me in PR#9169.


Tue, 20 Jul 2004 03:55:52 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Allow players to start votes through the new conndlg server options edit
	dialog. Patch by me in PR#9350.


Tue, 20 Jul 2004 03:54:30 -0700  per:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/gamehand.c

	Enable nations with split tech trees to start the game with different
	starting units. The way we do this is rather crude and simple, but it
	works. First we check if there are any role units matching what we want
	that the player can actually build (eg not Explorer for default, since it
	requires Seafaring). Then if we don't find anything, we check for any
	unit matching this role. Patch by me in PR#9356.


Tue, 20 Jul 2004 03:52:20 -0700  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Small helptext bug (settler->worker). Reported by Chris Knoke in PR#9364.


Tue, 20 Jul 2004 03:13:06 -0700  per:

	Changed paths:
	   M /trunk/client/control.c

	Fix erronous function comment.


Tue, 20 Jul 2004 03:05:43 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/server/citytools.c
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h

	Ensure that settlers infrastructure cache is rebuilt properly at all
	times. Patch by Jason in PR#9355.


Tue, 20 Jul 2004 02:55:43 -0700  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c

	Add new function city_can_grow_to(), retire function
	wants_to_be_bigger(). Patch by Jason in PR#9382.


Tue, 20 Jul 2004 02:40:31 -0700  per:

	Changed paths:
	   M /trunk/utility/shared.h

	Add an #error directive to check for presence of config.h when this is
	required to avoid very hard to find bugs. Patch by Jason in PR#9391.


Tue, 20 Jul 2004 02:35:51 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	+#ifdef HAVE_UNISTD_H
	 #include <unistd.h>
	+#endif
	From patch by res <resqu@gmx.ch>


Tue, 20 Jul 2004 02:05:51 -0700  per:

	Changed paths:
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/roman.ruleset

	Add legend to Roman ruleset and make Irish a modern nation instead of
	historical. Patch by Gregory Richards <akaquinn@hotmail.com>.


Mon, 19 Jul 2004 13:29:12 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h

	PR#9423: Move global improvement selling and unit disbanding to common
	client code.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 19 Jul 2004 10:13:38 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Add a new map iterator iterate_outward_dxy.  It is used by iterate_outward
	and square_dxy_iterate.  This makes square_dxy_iterate respect "break" and
	allows it to work for hex maps.

	Patch by me in PR#9414.


Mon, 19 Jul 2004 07:06:48 -0700  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Add helptext documentation for adding waypoints.

	Reported by Stepan Roh <stepan@srnet.cz> in PR#2768.  Patch by me.


Mon, 19 Jul 2004 07:04:30 -0700  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Add documentation to the helptext about the special cases of the city
	center.

	Reported by <DHerding@gmx.de> in PR#1785.  Patch by me with help from
	Christian Knoke.


Mon, 19 Jul 2004 06:36:56 -0700  jdorje:

	Changed paths:
	   M /trunk/m4/xaw-client.m4

	Disable automatic detection of the XAW client.  It will not be configured
	unless --enable-client=xaw is specified.

	Patch by me in PR#9369.


Sun, 18 Jul 2004 12:52:00 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-xaw/cityrep.c

	PR#9419: Use city_can_buy() in the Xaw client.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 18 Jul 2004 12:07:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add tileset-specific (hex) support for matched irrigation sprites.

	Patch by me in PR#9407.


Sun, 18 Jul 2004 10:12:12 -0700  vasc:

	Changed paths:
	   M /trunk/common/city.c

	PR#9401: Remove improvement_upkeep_asmiths().

	Patch by Jason Dorje Short <jdorje@freeciv.org>.


Sun, 18 Jul 2004 10:09:39 -0700  vasc:

	Changed paths:
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h

	Make miscellaneous functions take const parameters (PR#9400).

	Patch by Jason Dorje Short <jdorje@freeciv.org>.


Sat, 17 Jul 2004 22:52:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/connection.c

	Reorder the system #includes to help compilation on MacOS X.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#9410, with added
	comment by me.


Sat, 17 Jul 2004 22:47:22 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix a bug preventing nations from being associated with leader names in
	the choosing of nations for named AI players.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#9405; patch by me.


Sat, 17 Jul 2004 21:50:23 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/mapview.c

	Remove static DCs used by the win32 client.  All DCs are now dynamically
	allocated when needed.

	Patch by me in PR#9110.


Sat, 17 Jul 2004 21:19:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-mui/inteldlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-stub/inteldlg.c
	   M /trunk/client/gui-win32/inteldlg.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/include/inteldlg_g.h
	   M /trunk/client/packhand.c

	Add a new function update_intel_dialog and call this function when player
	info changes.  The function itself must be written for each GUI.

	Reported by Thomas Strub <ue80@stud.uni-karlsruhe.de> in PR#3403.  Patch by
	me.


Sat, 17 Jul 2004 21:08:21 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.h
	   M /trunk/server/gamelog.c
	   M /trunk/server/report.c
	   M /trunk/server/savegame.c

	Replace some variable-sized malloc/free arrays with stack arrays.

	Patch by me in PR#6822.


Sat, 17 Jul 2004 20:03:51 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c

	Fix win32 client.  Broken in PR#9317.
	Patch by me under PR#9416.


Sat, 17 Jul 2004 19:42:46 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/astring.c

	Fix a bad bug in astring_clear().

	Broken in PR#8720, fix by me in PR#9415.


Sat, 17 Jul 2004 18:42:02 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Remove the rectangle_iterate macro.  It is unused and hex-unfriendly.

	Patch by me in PR#9397.


Sat, 17 Jul 2004 18:30:52 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/astring.c
	   M /trunk/utility/astring.h

	Add new astring functions astr_clear and astr_add.  This allows easy
	dynamic-length writing of strings.

	Patch by Raimar Falke in PR#8720 with changes by me.


Sat, 17 Jul 2004 18:16:05 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h

	Remove the production field from the CM structures entirely.  It is not
	necessary to track production at all since this is just a translation of
	the surplus.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> as part of PR#9247 with
	style changes by me.


Sat, 17 Jul 2004 17:50:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h

	Make some private functions in cm.c public, and call these in place of
	identical functions in cma_core.c.  The latter functions are removed.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> as part of PR#9247.


Sat, 17 Jul 2004 17:43:56 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Ignore the factor_target when calculating the fitness of a result in the
	CM.  FT_EXTRA is buggy and unnecessary, so we just ignore it (but it is
	left in the API, for now).

	Patch by Benoit Hudson <bh@techhouse.brown.edu> as part of PR#9247.


Sat, 17 Jul 2004 06:35:13 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-mui/gotodlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-xaw/gotodlg.c

	GUI airlift improvements (PR#9398).

	Patch by Jason Dorje Short <jdorje@freeciv.org>.


Sat, 17 Jul 2004 04:25:38 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	*** empty log message ***


Fri, 16 Jul 2004 22:53:20 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Add a new citydlg_common function city_can_buy().  Call this function in
	the GUI code to better determine whether the "buy" button should be
	sensitive.

	Patch by me in PR#9380.


Fri, 16 Jul 2004 22:50:40 -0700  jdorje:

	Changed paths:
	   M /trunk/common/improvement.c

	Fix impr_buy_gold_cost() to return 0 instead of 1998 for capitalization.

	Patch by me in PR#9380.


Fri, 16 Jul 2004 22:48:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/data/trident/tiles.spec

	Write proper support for rivers in hex tilesets.  A list of cardinal
	directions is assembled and the river graphic chosen is dependent on
	all of these directions.

	Patch by me in PR#9379.


Fri, 16 Jul 2004 12:37:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h

	Add a new client text function get_happiness_wonders.  This returns a
	text string describing the wonders that improve happiness.

	Patch by me in PR#9392.


Fri, 16 Jul 2004 09:21:45 -0700  jdorje:

	Changed paths:
	   M /trunk/m4/x.252
	   M /trunk/m4/xaw-client.m4

	Fix an incompatability with xaw-client.m4 and autoconf 2.13.

	Reported by Mateusz Stefek <mstefek@poczta.fm> in PR#9393.  Patch by me.


Fri, 16 Jul 2004 07:43:49 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	When playing in a scenario that lists nations for all of its starting
	positions, mark all nations other than those listed as unavailable and
	don't let players use them.

	Patch by me in PR#9360 based on an earlier patch by Per Mathisen.


Fri, 16 Jul 2004 07:29:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapctrl.c

	Fix compilation of gui-xaw.

	Patch by me in PR#9402.


Thu, 15 Jul 2004 19:10:34 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Rewrite iterate_outward to respect "break", handle wrapping properly for
	existing topologies, and work for some future (hex) topologies.  Now a
	(large) array of positional offsets is created and is used to do fast and
	simple iteration at runtime.

	Patch by me in PR#9327.


Thu, 15 Jul 2004 13:43:32 -0700  vasc:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h

	Separate the luxury_bonus from the tax_bonus (PR#9366).

	Patch by Jason Dorje Short <jdorje@freeciv.org>.


Wed, 14 Jul 2004 21:03:22 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Fix a bug that prevented compilation when SOCKET_ZERO_ISNT_STDIN was
	defined.

	Patch by Per Mathisen in PR#9387 with added comments by me.


Wed, 14 Jul 2004 20:45:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/text.c
	   M /trunk/client/text.h

	Add a new client text function get_happiness_buildings.  This returns a
	text string describing the buildings that improve happiness.

	Patch by me in PR#9365.


Wed, 14 Jul 2004 20:31:55 -0700  jdorje:

	Changed paths:
	   M /trunk/data/scenario/earth-160x90-v2.sav
	   M /trunk/data/scenario/earth-80x50-v2.sav
	   M /trunk/data/scenario/europe-200x100-v2.sav

	Update the starting positions and add nations to the Earth and Europe
	scenarios.

	Patch by me in PR#8804.


Wed, 14 Jul 2004 15:50:24 -0700  jdorje:

	Changed paths:
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/server/savegame.c

	Store city production (including the changed_from field) and worklist data
	in savagames by name instead of by ID.  This avoids creating savegame
	incompatability when the order of units is changed in the ruleset.
	Backwards-compatability is handled by a fixed array of the ordering of the
	old unit names in the various rulesets.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9193 with style changes
	by me.


Wed, 14 Jul 2004 12:43:54 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Simplify AI nation selection.  The old algorithm was unnecessarily
	optimized.

	Patch by me in PR#9359.


Wed, 14 Jul 2004 12:24:38 -0700  jdorje:

	Changed paths:
	   M /trunk/data/flags
	   A /trunk/data/flags/.cvsignore

	Add a .cvsignore file to data/flags/.


Wed, 14 Jul 2004 12:16:24 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   D /trunk/debian/civclient.6
	   D /trunk/debian/civserver.6
	   M /trunk/doc/Makefile.am
	   A /trunk/doc/man
	   A /trunk/doc/man/.cvsignore
	   A /trunk/doc/man/Makefile.am
	   A /trunk/doc/man/civclient.6
	   A /trunk/doc/man/civserver.6

	Add new-and-improved manual pages into doc/man/.  Remove the old, obsolete
	manual pages from debian/.

	Manpages by Florian Ernst <florian@uni-hd.de> in PR#9163.  Bootstrap
	changes by me.


Wed, 14 Jul 2004 12:12:27 -0700  per:

	Changed paths:
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/server/diplhand.c

	The server wasn't correctly freeing the treaties it was creating; now it
	should. Added a clear_treaty function to match init_treaty. Patch by
	Jason in PR#6897.


Wed, 14 Jul 2004 11:50:00 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Fix a bug causing the "Paratroopers" unit flag to be ignored if it was not
	the last flag in the list.

	Reported by Geeslaka Geezonga <geeslaka@mad.scientist.com> in PR#9182.
	Patch by James Canete.


Wed, 14 Jul 2004 10:39:35 -0700  per:

	Changed paths:
	   M /trunk/po/nl.po

	Fix error in latest nl.po commit. Patch by Jason in PR#9389.


Wed, 14 Jul 2004 10:12:21 -0700  per:

	Changed paths:
	   M /trunk/data/history/buildings.ruleset

	Also improve history ruleset's Sun Tzu helptext.


Wed, 14 Jul 2004 09:40:57 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Improve Sun Tzu helptext. Suggested by Chris Knoke.


Wed, 14 Jul 2004 09:04:26 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po fix


Wed, 14 Jul 2004 08:36:46 -0700  jpel:

	Changed paths:
	   M /trunk/po/nl.po

	nl.po update


Wed, 14 Jul 2004 04:33:45 -0700  per:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset

	Add new unit flag: "NoBuild". This makes sure nobody can build a unit.
	Used for barbarian leader. Patch PR#9357.


Tue, 13 Jul 2004 15:52:17 -0700  per:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/common/improvement.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/diplomats.c

	Use city improvement's sabotage field for selective spy sabotage.
	Hard-wired code is made ruleset configurable, while default behaviour is
	not changed. Patch by Jason in PR#9362.


Tue, 13 Jul 2004 15:43:41 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Improve the set_ratio function:

	  - Remove the recursive error handling.  It is never needed so we just
	    assert that the result is correct.
	  - Change the parameter from a float to an integer (since it is).
	  - Improve the accuracy of the calculation by making the i_size value
	    a floating-point value.

	Patch by me in PR#9328.


Tue, 13 Jul 2004 15:04:39 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Reverse most of PR#9247.  Waste and corruption are counted in the
	production for a combination but these values are never used.

	See PR#9247.


Tue, 13 Jul 2004 14:54:17 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/player.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/sanitycheck.c

	Add new function is_capital(), which determines whether a given city is
	the capital. Patch by Jason in PR#9361.


Tue, 13 Jul 2004 11:26:32 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Fix a bug whereby waste and corruption were counted by the CM as a good
	thing.

	Patch by me in PR#9247.


Tue, 13 Jul 2004 11:22:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Add a new client common function key_city_overlay.  Client GUI code can
	call this function when the overlay button ('t') is pressed.

	Patch by me in PR#9343.


Tue, 13 Jul 2004 11:16:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Add a new macro iterator specialist_type_iterate().

	Patch by me in PR#9337.


Tue, 13 Jul 2004 09:01:42 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Add new functions map_vector_to_distance (static),
	map_vector_to_real_distance, and map_vector_to_sq_distance.  These are
	used in several places.

	Patch by me in PR#9043.


Tue, 13 Jul 2004 08:29:51 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/xaw-client.m4

	Add a new m4 file xaw-client.m4.  This provides a function FC_XAW_CLIENT
	which handles configuration for the XAW client.

	Patch by me in PR#9342.


Tue, 13 Jul 2004 08:09:18 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Also clarify whether certain wonders benefit all cities or all your
	cities in the helptext.


Tue, 13 Jul 2004 08:06:46 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Clarify in helptext whose units benefit from certain wonders, as
	suggested by Marko Lindqvist in PR#8633.


Tue, 13 Jul 2004 07:16:40 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Make it clearer to player why the AI is refusing to downgrade treaties.
	Suggested by Jason in PR#6521.


Tue, 13 Jul 2004 07:13:33 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Add a forgotten artist.


Tue, 13 Jul 2004 01:54:33 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3717 translated messages, 28 untranslated messages.


Mon, 12 Jul 2004 14:42:27 -0700  per:

	Changed paths:
	   M /trunk/data/nation/afghani.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/ethiopian.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/swiss.ruleset

	Remove superflous and unused AI information from a few nations. The
	other nations had this removed a while ago.


Mon, 12 Jul 2004 14:35:00 -0700  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix bug which made reputation recover way too quickly.


Mon, 12 Jul 2004 14:11:51 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3701 translated messages, 15 fuzzy translations, 28 untranslated messages.


Mon, 12 Jul 2004 13:56:07 -0700  per:

	Changed paths:
	   M /trunk/ai/aihand.c

	Fix problem in setting workers according to CM instructions. Bug
	reported by Albert Astals Cid <astals11@terra.es>. Thanks to Jason for
	pointing out the obvious.


Mon, 12 Jul 2004 13:48:27 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Improve logging in apply_cmresult_to_city(). Patch by Jason with changes
	by me.


Mon, 12 Jul 2004 13:26:42 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c

	Notify players when a barbarian is created. This solves PR#370.


Mon, 12 Jul 2004 13:19:17 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Reverse logic AI has for giving away embassies, since it was the
	opposite of what it should be. Patch by D. Kolf <kg.guests@gmx.de>.


Mon, 12 Jul 2004 13:17:07 -0700  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	Allow L_FIRSTBUILD units with tech requirements - for modpacks with
	split tech trees.


Mon, 12 Jul 2004 10:22:03 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/tech.c
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/server/ruleset.c

	Make the year that tech cost doubles ruleset configurable, and allows
	rulesets to turn this dubious feature off.


Mon, 12 Jul 2004 08:51:11 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix help for /vote. Reported by Christian Knoke.


Mon, 12 Jul 2004 08:48:00 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Change help syntax of the /debug command. Suggested by Christian Knoke.


Mon, 12 Jul 2004 08:31:26 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3655 translated messages, 43 fuzzy translations, 46 untranslated messages.


Mon, 12 Jul 2004 04:14:37 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3557 translated messages, 105 fuzzy translations, 82 untranslated messages.


Sun, 11 Jul 2004 20:03:29 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/savegame.c

	Store turn_last_built as a turn, not a year.  This is more consistent with
	the idea that everything is done in turns.

	Patch by me in PR#9154.


Sun, 11 Jul 2004 14:06:42 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3444 translated messages, 120 fuzzy translations, 180 untranslated messages.


Sun, 11 Jul 2004 08:05:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix a bug whereby the unit info label isn't updated if the focus unit's
	homecity is renamed.

	Reported by Egor Vyscrebentsov <evyscr@murom.net> in PR#9087.  Patch by me.


Sat, 10 Jul 2004 22:27:20 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Add a new function get_num_specialists() to the CM code.  This returns the
	number of specialists allocated in a particular result.  It uses a loop to
	count and thus doesn't hard-code the list of specialists.

	Patch by me in PR#9314.


Sat, 10 Jul 2004 13:54:56 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3322 translated messages, 234 fuzzy translations, 186 untranslated messages.


Sat, 10 Jul 2004 11:48:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/misc/small.spec

	Change the way specialist graphics are handled by the client.  The client
	and tileset now respect the specialist settings in the ruleset; specialists
	are handled differently from other citizens.

	Patch by me in PR#9317 with gui-xaw changes.


Sat, 10 Jul 2004 11:43:45 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Send the specialist names from server to client.  It was a bug that they
	were not sent previously.

	Patch by me in PR#9316.


Sat, 10 Jul 2004 07:25:45 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Remove a duplicated check that makes sure ysize is even for iso topologies.

	Patch by me in PR#9038.


Sat, 10 Jul 2004 01:02:59 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	upated fr.po


Fri, 09 Jul 2004 12:40:23 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Add the movement type check back into can_city_be_built_here.  This
	prevents land units from building cities on the ocean (and vice versa).

	See PR#9124.


Fri, 09 Jul 2004 12:30:58 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Add a new macro cardinal_adjc_dir_iterate, and use it in several places.
	Remove the CAR_DIR_D[XY] arrays.

	Patch by me in PR#9162.


Fri, 09 Jul 2004 11:52:36 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/settlers.c

	Rename cartesian_adjacent_iterate as cardinal_adjc_iterate.

	Patch by me in PR#9161.


Fri, 09 Jul 2004 10:58:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c

	Remove the callbacks for clicking on an elvis/scientist/taxman in the
	city dialog.  Instead there is just one callback that rotates the
	specialist, like is done in other clients.  This removes a limit on the
	number of specialists and fixes a bug where the hard-coded specialist
	rotation wouldn't work if the ruleset was changed.

	Patch by me in PR#9319.


Fri, 09 Jul 2004 10:33:55 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset

	Remove single-quotes from the ruleset files; they give a problem with i18n.

	Patch by Christian Knoke <chrisk@cknoke.de> in PR#9306.


Fri, 09 Jul 2004 10:26:20 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	When creating a city, set the changed_from production value to what the
	city is currently building, rather than just setting it to 0 (B_AIRPORT).

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9196.


Fri, 09 Jul 2004 10:02:01 -0700  tsdgeos:

	Changed paths:
	   M /trunk/po/es.po

	I'm not the spanish mantainer, but i speak spanish and that is a typo


Thu, 08 Jul 2004 05:07:53 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	partial update. 3212 translated messages, 329 fuzzy translations, 201 untranslated messages.


Wed, 07 Jul 2004 11:06:16 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Run the packet code generator.


Wed, 07 Jul 2004 09:02:50 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/server/ruleset.c

	Make time to build rail, build airbase, build fortress, clean pollution
	and clean fallout configurable from terrain.ruleset.


Wed, 07 Jul 2004 05:11:01 -0700  per:

	Changed paths:
	   M /trunk/common/city.c

	Revert changes to city_can_be_built_here() that made it return FALSE for
	settlers that were being transported. The result was that settlers never
	got off their boats.


Wed, 07 Jul 2004 00:32:03 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitools.c
	   M /trunk/common/player.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h

	New AI tax code, includes the reintroduction of AI support for
	rapid growth through celebration (rapture growth).


Wed, 07 Jul 2004 00:26:04 -0700  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Split out some city calculations that do not change city state from
	some that do. This prepares for the new tax code patch.


Tue, 06 Jul 2004 14:48:48 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/savegame.c

	Save units' types by name rather than by ID.  This avoids creating
	savegame incompatability when the order of units is changed in the ruleset.
	Backwards-compatability is handled by a fixed array of the ordering of the
	old unit names in the various rulesets.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9123 with changes by me.


Sat, 03 Jul 2004 10:11:35 -0700  per:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ1.serv
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/civ2.serv
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset
	   M /trunk/data/misc/flags.spec
	   M /trunk/server/gamehand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Specify a list of starting units as a server variable, instead of using
	the server variables game.settlers and game.explorers. Patch by James
	Canete.


Thu, 01 Jul 2004 11:15:52 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Change adjc_dir_iterate and cartesian_adjacent_iterate to work properly
	with topologies that have different valid and cardinal directions.
	  - Both are wrappers for adjc_dirlist_iterate.
	  - The lists of valid and cardinal directions is built in init_topology.

	Patch by Greg, Ross, and myself in PR#8959, with style, comment, and
	variable names changes by me.


Wed, 30 Jun 2004 07:34:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	Add #include <signal.h> to connectdlg_common.c.

	Patch by Brett Albertson <brett.albertson@stratech.com> in PR#9150 with
	changes by me.


Wed, 30 Jun 2004 00:59:26 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Add a new function end_phase, which is intended to end a player's phase of
	movement.  Move some code into this function.

	Patch by me in PR#9143.


Tue, 29 Jun 2004 21:30:44 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Remove the translation of a LOG_VERBOSE message, and fix the spelling in
	another LOG_VERBOSE message.

	Patch by me in PR#9151.


Tue, 29 Jun 2004 10:05:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add support for roadstyle 2.  This is a civ3-style road method with 2^8
	different sprites each for road and rail.

	Patch by John Bauman <john@baumanfamily.com> in PR#9135 with style,
	comment, and capability changes by me.


Mon, 28 Jun 2004 22:39:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/trident/tiles.png
	   M /trunk/data/trident/tiles.spec

	Make several fixes for veteran level and stack sprites:
	  - Draw the veteran sprite even if the stack sprite is present.
	  - Move the trident stack sprite so it doesn't overlap the veteran sprite.
	  - Make veteran sprites optional.
	  - Remove the empty "green" veteran sprite from trident and isotrident.

	Patch by me in PR#9119.


Mon, 28 Jun 2004 22:28:44 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/units.png
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/trident/tiles.png
	   M /trunk/data/trident/tiles.spec

	Add two new tileset sprites: for "low fuel" and "tired" units.  These
	sprites are drawn on top of the units and are included in trident and
	isotrident tilesets.

	Patch by me in PR#23.  Graphics by Abraham Rash <adrash@unity.ncsu.edu>.


Mon, 28 Jun 2004 00:18:35 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add missing nation files to POTFILES.in.

	Patch by Mateusz Stefek <mstefek@poczta.fm> in PR#9133.


Sun, 27 Jun 2004 09:52:17 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Add civ3-style base terrain graphics.  This allows drawing of fully matched
	rectangular cell graphics.

	Patch by me in PR#8622.


Sat, 26 Jun 2004 10:08:37 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c

	Set the PF parameters is_pos_dangerous and get_zoc in
	pft_fill_unit_default_parameter.

	Patch by Gregory Berkolaiko in PR#9106.


Fri, 25 Jun 2004 18:37:21 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/afghanistan.png
	   A /trunk/data/flags/ethiopia.png
	   M /trunk/data/misc/flags.spec
	   A /trunk/data/nation/afghani.ruleset
	   A /trunk/data/nation/ethiopian.ruleset

	Add the Afghanistan and Ethiopia nations.

	Nations by Daniel Herding <DHerding@gmx.de> in PR#3552 with changes by me.


Fri, 25 Jun 2004 17:41:40 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/swiss.png
	   M /trunk/data/misc/flags.spec
	   A /trunk/data/nation/swiss.ruleset

	Add the Swiss nation.

	Nation by Beni Mahler <benibunny@gmx.net> in PR#8709; patch by me.


Fri, 25 Jun 2004 16:43:01 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/capstr.c
	   M /trunk/common/combat.c
	   M /trunk/common/connection.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/effects.c
	   M /trunk/common/game.c
	   M /trunk/common/government.c
	   M /trunk/common/idex.c
	   M /trunk/common/improvement.c
	   M /trunk/common/map.c
	   M /trunk/common/nation.c
	   M /trunk/common/player.c
	   M /trunk/common/tech.c
	   M /trunk/common/terrain.c
	   M /trunk/common/worklist.c
	   M /trunk/utility/capability.c
	   M /trunk/utility/registry.c

	Remove some unnecessary includes, and add some missing ones.

	Patch by Raimar Falke in PR#8652.


Fri, 25 Jun 2004 16:35:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/attribute.c
	   M /trunk/client/audio_alsa.c
	   M /trunk/client/audio_esd.c
	   M /trunk/client/audio_sdl.c
	   M /trunk/client/audio_winmm.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/control.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/pf_tools.c

	Remove some unnecessary includes, and add some missing ones.

	Patch by Raimar Falke in PR#8652.


Fri, 25 Jun 2004 16:30:00 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/sanitycheck.c

	Add a new terrain flag NoCities.  Terrains with this flag cannot have
	cities built on them, nor can tiles with cities on them be transformed
	into this type of terrain.  Currently only ocean gets the NoCities flag.

	Patch by me in PR#8797.


Fri, 25 Jun 2004 13:51:43 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Minor update.


Fri, 25 Jun 2004 09:38:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug whereby the scroll slider size could be bigger than the scroll
	range.  This lead to inconsistent scrolling and in one case, an infinite
	loop in libgtk2.

	Patch by me in PR#8970.


Fri, 25 Jun 2004 06:53:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Remove the special casing for "tall" tiles in gui_rect_iterate.  Now if
	the user wants "tall" tiles to be covered they must extend the height
	manually.  Since most users don't want this, some unnecessary drawing has
	been removed.

	Patch by me in PR#9079.


Thu, 24 Jun 2004 13:01:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Change find_city_near_tile() so that it gives reproducable results.
	Previously the "last" city was favored, so a tile could be assigned
	sometimes to one city and sometimes to another, depending on what tile had
	been looked at last.  This caused the citymap overlay to be drawn wrongly.

	Patch by me in PR#9069.


Thu, 24 Jun 2004 06:22:04 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Fix a typo bug in the diplomat code that caused the wrong variable to be
	compared to NULL.  This could reportedly cause a server crash.

	Found and patched by James Canete as part of PR#8914.


Thu, 24 Jun 2004 06:18:54 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Save and load the revolen (revlotion length) value so that it's not lost.

	Reported by Eddie Anderson <saywhat@softhome.net> in PR#9051.  Patch by me.


Wed, 23 Jun 2004 17:15:50 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug causing parts of the mapview canvas not to be updated.

	Patch by me in PR#9068.


Wed, 23 Jun 2004 16:08:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/dialogs.c

	Make some simple compilation fixes to gui-sdl.

	Patch by me in PR#9072.


Wed, 23 Jun 2004 14:08:02 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Initialize the CM "results" array when it is created.

	Reported by Brett Albertson <brett.albertson@stratech.com>.  Patch by me
	in PR#9031.


Wed, 23 Jun 2004 08:04:52 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Wed, 23 Jun 2004 07:50:44 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Remove partial tile drawing.  This comprises of removing the draw_part and
	draw_type enumerations, along with all users.  The end result is much
	simpler drawing code.

	Patch by me in PR#8999.


Tue, 22 Jun 2004 21:33:13 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c

	Fix switching tilesets in win32 client.

	Reported by Per as PR#6974, patch by me.


Tue, 22 Jun 2004 19:01:21 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/registry.c

	Fix a memory leak in the registry code.

	Patch by me in PR#9036.


Tue, 22 Jun 2004 18:52:23 -0700  jdorje:

	Changed paths:
	   M /trunk/server/report.c

	Fix a memory leak in the score reporting code.

	Patch by me in PR#9037.


Tue, 22 Jun 2004 16:05:56 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c

	Remove obsolete unit connect dialog from win32 client.
	Fixes a compile warning.

	Reported and patched by Jason Dorje Short
	<jdorje@users.sourceforge.net> as PR#9001.


Tue, 22 Jun 2004 09:17:32 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Mon, 21 Jun 2004 08:14:43 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/text.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Display number of turns to the goto target at the end of the target line
	and also in the information panel on the left.

	Patch by Jason, ticket 717.


Sun, 20 Jun 2004 11:23:38 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiferry.c

	Prevent a possible loop in ai_manage_ferry.

	Spotted, reproduced and fixed by James Canete, issued as (9033).


Sun, 20 Jun 2004 06:24:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Don't draw the "stacked" sprite twice.  Since it's already drawn as part
	of the sprite list in put_unit, it doesn't need to be drawn a second time
	as a special case.

	Patch by me in PR#9022.


Sun, 20 Jun 2004 06:21:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bad bug that caused the part of the mapview canvas store outside
	of the visible window not to ever be updated.  This meant when the mapview
	size was increased the extra drawn data would be garbage.

	Patch by me in PR#9027.


Sun, 20 Jun 2004 06:16:04 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Make get_unit_info_label_text2 always return text with the same number of
	lines.  This prevents the info label from automatically resizing itself
	which caused a spurious mapview resizing.

	Patch by me in PR#9028.


Sun, 20 Jun 2004 02:35:36 -0700  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Add the worker unit. Settlers now cannot make airfields, and are not
	obsoleted. Engineers now obsolete workers intead of settlers, and cannot
	found cities. They also do not cost food upkeep any longer.


Sun, 20 Jun 2004 00:41:15 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aidiplomat.c
	   A /trunk/ai/aiferry.c
	   A /trunk/ai/aiferry.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Move ferry code into its own file. Patch by Greg.


Thu, 17 Jun 2004 12:50:41 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	Don't reshuffle players when loading a saved game.  Instead shuffled
	players are saved in the save file, and on reload no new shuffling is done
	until the next turn.

	Patch by me in PR#8906.


Thu, 17 Jun 2004 12:45:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix several bugs in the drawing (and undrawing) of goto lines.

	Patch by me in PR#8964.


Wed, 16 Jun 2004 18:15:19 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c

	Correct the ordering of units displayed when clicking on a stack in win32
	client.

	Resolves PR#8437.


Wed, 16 Jun 2004 17:39:51 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	Increase the distance that the win32 client mapview scrolls when clicking
	the scroll arrows.

	Resolves PR#8340.


Wed, 16 Jun 2004 17:04:07 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/menu.c

	Fix crash in win32 client due to orders menu being enabled when no unit in
	focus.

	Resolves PR#3507.


Wed, 16 Jun 2004 16:55:56 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c

	Remove redundant line of code (omniscience).


Wed, 16 Jun 2004 15:56:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Remove the duplicated iso and classic-view methods for fulfilling
	draw_segment.  Now both views use a much simpler algorithm.

	Patch by me in PR#8965.


Wed, 16 Jun 2004 15:45:39 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c

	Determine the citydlg canvas size at runtime, and base the city<->canvas
	position conversion on the citydlg size only.  This means the citymap can
	have a different size without breaking the city dialog canvas.

	Patch by me in PR#8973, with extra comments.


Wed, 16 Jun 2004 05:59:34 -0700  glip:

	Changed paths:
	   M /trunk/ai/aitools.c

	Teach ai_unit_execute_path to understand paths which involve waiting before
	venturing into dangerous areas.

	Reported by Chris Knoke in (8955).


Wed, 16 Jun 2004 05:54:36 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Set need_boat field correctly when a future settler will need a boat.
	Also remove the redundant code which was created when separating
	workers and settlers.

	A part of (8992).


Tue, 15 Jun 2004 20:01:02 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/common/city.c

	Make sure to reallocate the CM's cache3.results when the citymap changes.
	Otherwise we can get segfaults or memory corruption at weird times.

	Patch by me in PR#8977.


Tue, 15 Jun 2004 19:50:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/mapview.c

	Fix gui-stub, allowing it to compile again.

	Patch by me in PR#9000.


Mon, 14 Jun 2004 17:58:24 -0700  jdorje:

	Changed paths:
	   M /trunk/diff_ignore

	Add *_gen.[ch] to diff_ignore.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#8898.


Mon, 14 Jun 2004 16:43:08 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/server/citytools.c

	Clean up some city functions:

	- Change "struct city *" parameters to "const struct city *".
	- Rename several functions to match what they do.
	- Style cleanups.
	- Added comments.

	Patch by Per Mathisen in PR#8982 with changes by me.


Mon, 14 Jun 2004 15:01:07 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/citymap.c
	   M /trunk/common/aicore/citymap.h

	citymap1.diff: fix a bug in citymap code, and readd the reserve single
	tile function; this code is used in the new settlers patch.


Mon, 14 Jun 2004 15:00:12 -0700  per:

	Changed paths:
	   M /trunk/ai/ailog.c

	Ensure that virtual units are reported to message window in
	CITY_LOG() too.


Mon, 14 Jun 2004 03:37:52 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Improve ferry logging and removes a small buglet - we didn't reset our
	goto coordinates or AI role when going idle from lack of task in ferry
	management code.


Mon, 14 Jun 2004 03:36:39 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	In the bodyguard want evaluation function, we did not check if the
	dangerous units and cities we evaluated actually were hostile... in some
	cases they could even be our own...


Mon, 14 Jun 2004 03:34:15 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Explorers that cannot explore anything else - send them home, or at
	least to a city somewhere. Units that go home now can use ferries.


Sun, 13 Jun 2004 09:53:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new function map_to_gui_vector.  This does the work of converting
	from cartesian to GUI coordinates in a vector way - one that is not tied
	to any particular origin.  This function is used in three places.

	Patch by me in PR#8960.


Sat, 12 Jun 2004 20:57:05 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Turn MAP_TILES from a #defined constant into a variable.  It is now
	calculated when the topology is set.

	Patch by me in PR#8952.


Sat, 12 Jun 2004 10:42:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Change the method of setting map dimensions.  Previously the user would
	set an xsize and ysize value.  Now the user just sets a size value and the
	server calculates xsize and ysize based on an "optimal" ratio for the
	current topology.  The advantage of the new system is that the default
	parameters now work "optimally" for all topologies.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#8632 with changes by me.


Fri, 11 Jun 2004 23:38:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Draw goto lines the same way in non-iso view as in iso-view.  Now after
	the tile layer (terrain, units, and cities) is drawn all goto lines are
	drawn on top.

	Patch by me in PR#8945.


Fri, 11 Jun 2004 09:59:18 -0700  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/Makefile.am
	   D /trunk/data/isotrident/small.png
	   D /trunk/data/isotrident/small.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/small.png
	   M /trunk/data/misc/small.spec

	Replace the misc "small" graphics with isotrident's "small" graphics, and
	remove isotrident's "small" graphics.  All tilesets now use the same set of
	"small" graphics.

	See PR#8905.


Fri, 11 Jun 2004 08:46:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix a drawing bug that caused the unit to not be proplerly updated when it
	was moved.

	Patch by me in PR#8949.


Fri, 11 Jun 2004 08:41:13 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Fix a bug that causes a fatal error when scientists have a lower city size
	requirement than taxmen.

	Patch by me in PR#8934.


Fri, 11 Jun 2004 07:29:45 -0700  per:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h

	Remove ai_unit_gothere(), which was a mostly unused wrapper which was
	meant to do the work now done by ai_gothere().


Fri, 11 Jun 2004 06:58:56 -0700  per:

	Changed paths:
	   M /trunk/ai/ailog.c

	Send /debug log messages to the message window of all players. This way
	you can also use /debug with conndlg started games to debug the AI.


Wed, 09 Jun 2004 18:04:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Change the way citymap overlays on the mapview are handled.  They are now
	persistent, and will not be overwritten by partial updates (e.g., moving
	units) or recentering the mapview.

	Patch by me in PR#8863.


Wed, 09 Jun 2004 14:27:46 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	If -e is specified or the timeout is -1, don't exit the server immediately
	when the game ends but instead wait for the server restart.  The former
	behavior prevented any type of endgame with a -e server.

	Patch by me in PR#8920.


Tue, 08 Jun 2004 21:39:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Add the names of specialists ("elvis", "scientist", "taxman") to
	cities.ruleset.  This potentially allows these names to be changed in the
	future.

	Patch by me in PR#8921.


Sun, 06 Jun 2004 14:02:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/srv_main.c

	Send the unavailable nations to the client by a series of packets, each
	giving one unavailable nation, rather than a single packet giving the full
	list of unavailable nations.  This is more extensible since the list of
	unavailable nations is potentially unbounded.

	Patch by me in PR#8889.


Sun, 06 Jun 2004 13:45:27 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/stdinhand.c

	Change mapgen to do temperature-based terrain placement:

	- Add a function map_temperature to return the temperature of a particular
	  map position.  This works as you might expect for "classical" topologies
	  but becomes more complicated for torus topologies.
	- Another function rand_map_pos_temperature returns a random position which
	  matches the given temperature and terrain constraints.
	- Placement of poles and other terrain now checks the temperature of the
	  tiles in question.
	- Temperature is used in the placement of huts and starting positions.  The
	  "reserved" polar continent numbers are removed.
	- Poles are separated by decreasing the height of near-polar-cold areas
	  rather than a hard-coded loop.  This enables some texturing of polar
	  terrains to be done.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#8624 with changes by me.


Sun, 06 Jun 2004 11:31:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/map.c
	   M /trunk/server/srv_main.c

	Generate the city map indices when the map is allocated.  This is sure to
	always generate them; it fixes a bug when loading saved games.

	Bug introduces in PR#8817; fixed in PR#8909.


Sun, 06 Jun 2004 11:21:10 -0700  jdorje:

	Changed paths:
	   M /trunk/data/isotrident.tilespec

	Add a match_style to several isotrident terrains.  This allows them to be
	drawn correctly.

	Bug introduced in PR#8897; fixed in PR#8924.


Sat, 05 Jun 2004 23:09:46 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Add a new field "match_style" to the terrain tileset structure in code and
	ruleset.  This lays the foundation for a new "full" type of matching style.
	Currently only boolean and no-matching are possible.

	Patch by me in PR#8897, with added support for isotrident_shields.


Sat, 05 Jun 2004 23:00:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/small.spec
	   M /trunk/data/misc/small.spec

	Use separate sprite tags for the specialist graphics used on the panel to
	show luxury, science, and gold allocations of tax.  This is more extensible
	since the different graphics need not depend on any particular type of
	specialist.

	Patch by me in PR#8903.


Fri, 04 Jun 2004 08:49:59 -0700  glip:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/srv_main.c

	Generate indices for city_map_iterate_outwards rather then have a
	fixed size array.  This makes increasing the city map size less difficult.

	Issued as 8817, Jason's rework of Remi Bonnet's original code.


Fri, 04 Jun 2004 08:25:14 -0700  glip:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h
	   M /trunk/doc/README.AI

	Fix some bugs and reorder things slightly in ai_gothere.

	Reordering:
	Before, the unit would try to find_ferry whenever it wanted ferry, but
	then if the ferry is not nearby, the result would not be used
	constructively.
	Now the unit will use find_ferry only if it's totally lost (inland), then
	it'd walk towards the coast.  If unit is on the coast it will wait for a
	ferry to come within one step.

	Bugs were:
	1. Ferry not made available when released.
	2. Ferry not using omniscience when looking for psngrs.
	3. Units reserving a ferry alhtough it does them no good and it hurts
	other things.
	4. Units reserving other players' ferries.

	Issued as (PR#8827).


Thu, 03 Jun 2004 22:03:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Add a new mapview function gui_distance_vector().  Use this function to
	avoid having to redraw the entire mapview when scrolling and the GUI
	coordinates wrap.

	Patch by me in PR#8884.


Thu, 03 Jun 2004 06:53:42 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.h

	Remove flag and crop blankspace from the worklist unit icons (PR#8482).

	Patch by Daniel Speyer <dspeyer@wam.umd.edu>, commited with changes by me.


Wed, 02 Jun 2004 16:22:08 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Don't do AI actions when loading a game.  They should only be done at the
	start of a new turn.


Wed, 02 Jun 2004 15:54:15 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/cityhand.c

	Add a new function city_can_use_specialist to check if a specialist type
	is usable by a particular city.  Use this function in several places to
	more easily check if the specialist is valid.  Also, fix a bug when the
	player tries to change specialists in the citydlg.

	Patch by me in PR#8882.


Wed, 02 Jun 2004 12:47:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c

	Remove dio_put_city_map and dio_get_city_map.  City map information is now
	sent as an array of integers rather than a string or bitfield.  This is
	much simpler and more extensible.

	Patch by me in PR#8584.


Tue, 01 Jun 2004 13:10:03 -0700  jdorje:

	Changed paths:
	   D /trunk/data/graphics/isotrident/flags
	   D /trunk/data/graphics/trident/flags

	Remove flags files, which are now in data/flags.


Tue, 01 Jun 2004 12:44:24 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix a major bug when decreasing player reputation after nuking.

	Patch by Mateusz Stefek <mstefek@poczta.fm> as part of PR#8834.


Tue, 01 Jun 2004 12:10:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add a MAX_NUM_LAYERS #define to the tilespec code, to avoid hard-coding
	this limit in multiple places.  Make sure the tileset doesn't specify too
	many layers.

	Patch by me in PR#8862.


Mon, 31 May 2004 21:00:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/data/Makefile.am
	   A /trunk/data/flags
	   A /trunk/data/flags/Makefile.am
	   A /trunk/data/flags/arab.png
	   A /trunk/data/flags/argentina.png
	   A /trunk/data/flags/armenia.png
	   A /trunk/data/flags/australia.png
	   A /trunk/data/flags/austria.png
	   A /trunk/data/flags/azerbaijan.png
	   A /trunk/data/flags/barbarian.png
	   A /trunk/data/flags/bavarian.png
	   A /trunk/data/flags/belgium.png
	   A /trunk/data/flags/boer.png
	   A /trunk/data/flags/brasil.png
	   A /trunk/data/flags/bulgaria.png
	   A /trunk/data/flags/canada.png
	   A /trunk/data/flags/catalan.png
	   A /trunk/data/flags/cheyenne.png
	   A /trunk/data/flags/chile.png
	   A /trunk/data/flags/china.png
	   A /trunk/data/flags/cornwall.png
	   A /trunk/data/flags/croatia.png
	   A /trunk/data/flags/czech.png
	   A /trunk/data/flags/denmark.png
	   A /trunk/data/flags/dunedain.png
	   A /trunk/data/flags/egypt.png
	   A /trunk/data/flags/england.png
	   A /trunk/data/flags/estonia.png
	   A /trunk/data/flags/europe.png
	   A /trunk/data/flags/finland.png
	   A /trunk/data/flags/france.png
	   A /trunk/data/flags/germany.png
	   A /trunk/data/flags/greece.png
	   A /trunk/data/flags/greenland.png
	   A /trunk/data/flags/hungary.png
	   A /trunk/data/flags/iceland.png
	   A /trunk/data/flags/india.png
	   A /trunk/data/flags/iran.png
	   A /trunk/data/flags/iraq_old.png
	   A /trunk/data/flags/ireland.png
	   A /trunk/data/flags/israel.png
	   A /trunk/data/flags/italy.png
	   A /trunk/data/flags/japan.png
	   A /trunk/data/flags/kenya.png
	   A /trunk/data/flags/korea.png
	   A /trunk/data/flags/krev.png
	   A /trunk/data/flags/latvia.png
	   A /trunk/data/flags/lithuania.png
	   A /trunk/data/flags/macedonia.png
	   A /trunk/data/flags/mexico.png
	   A /trunk/data/flags/mongolia.png
	   A /trunk/data/flags/mordor.png
	   A /trunk/data/flags/nato.png
	   A /trunk/data/flags/netherlands.png
	   A /trunk/data/flags/norway.png
	   A /trunk/data/flags/olympic.png
	   A /trunk/data/flags/pakistan.png
	   A /trunk/data/flags/peru.png
	   A /trunk/data/flags/philippines.png
	   A /trunk/data/flags/poland.png
	   A /trunk/data/flags/portugal.png
	   A /trunk/data/flags/rome.png
	   A /trunk/data/flags/russia.png
	   A /trunk/data/flags/rwanda.png
	   A /trunk/data/flags/scotland.png
	   A /trunk/data/flags/serbia.png
	   A /trunk/data/flags/silesia.png
	   A /trunk/data/flags/singapore.png
	   A /trunk/data/flags/slovenia.png
	   A /trunk/data/flags/south_africa.png
	   A /trunk/data/flags/soviet.png
	   A /trunk/data/flags/spain.png
	   A /trunk/data/flags/sweden.png
	   A /trunk/data/flags/syria.png
	   A /trunk/data/flags/thailand.png
	   A /trunk/data/flags/tunisia.png
	   A /trunk/data/flags/turkey.png
	   A /trunk/data/flags/ukraine.png
	   A /trunk/data/flags/united_kingdom.png
	   A /trunk/data/flags/united_nations.png
	   A /trunk/data/flags/unknown.png
	   A /trunk/data/flags/usa.png
	   A /trunk/data/flags/vietnam.png
	   A /trunk/data/flags/wales.png
	   M /trunk/data/misc/Makefile.am
	   D /trunk/data/misc/flags.png
	   M /trunk/data/misc/flags.spec

	- Add specfile loading code to load individual graphics files as a single
	  sprite each.
	- Move flags files into individual files in data/flags/.
	- Change specfiles and numerous bootstrap files to match.

	Design by Eric Raymond, Mike Kaufman, and myself.  Patch by me in PR#8760,
	with added automake/autoconf changes.


Mon, 31 May 2004 09:38:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/ruleset.c

	Turn the specialist configuration data into an array.  This simplifies
	some code logic and is more extensible.

	Patch by me in PR#8871.


Mon, 31 May 2004 07:11:16 -0700  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Move some more code into adjust_map(), and call adjust_map() in one
	additional place.  This simplifies the code a little bit.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#8870, with added comments
	by me.


Sun, 30 May 2004 23:41:11 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Store all tile positions in savegames as native positions.  This makes
	them all consistent (previously some were map and some were native
	positions).

	Reported by Rob Best <best754@sasktel.net>.  Patch by me in PR#8852.


Sat, 29 May 2004 21:21:00 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Add a new function begin_phase() to the main server loop.  Some code is
	moved from begin_turn() and the loop itself into begin_phase().  This is a
	first step toward separating turns and phases.

	Patch by me in PR#8859.


Sat, 29 May 2004 13:57:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/server/cityhand.c

	Remove some references to the specialist enum values.  This simplifies the
	logic and is more extensible.

	Patch by me as part of PR#8854.


Sat, 29 May 2004 13:34:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/server/cityturn.c

	Change the CM interface to use an array for the specialists data instead
	of separate variables.  This allows some code to be simplified and is more
	extensible.

	Patch by me in PR#8856.


Sat, 29 May 2004 13:24:43 -0700  jdorje:

	Changed paths:
	   M /trunk/tests/Makefile.am

	Improve "make check" so it can be run out of the builddir.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#8662, updated
	by me.


Sat, 29 May 2004 13:01:45 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Avoid giving shared vision to players that don't exist.  This can cause
	problems when they are created later.

	Report and solution Mateusz Stefek <mstefek@poczta.fm> in PR#8843.  Patch
	by me.


Sat, 29 May 2004 06:41:57 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	The connect dialog didn't grow over the set size when the strings were larger
	than the set size. This caused problems with I18N. Fixed (PR#8808).

	Bug reported by Raimar Falke <i-freeciv-lists@rf.risimo.net>.


Fri, 28 May 2004 13:45:19 -0700  vasc:

	Changed paths:
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h

	Remove unit_behind_*** functions (PR#8861).

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>, reported by me.


Fri, 28 May 2004 12:13:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/packhand.c

	Simplify the logic of do_move_unit and cut out several unnecessary
	redraws.

	Patch by me in PR#8833.


Thu, 27 May 2004 23:52:30 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c

	Remove the begin_player_turn and begin_cities_turn functions, which are
	unused.

	Patch by me in PR#8845.


Thu, 27 May 2004 23:47:10 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/sanitycheck.h
	   M /trunk/server/srv_main.c

	Add a new preprocessor variable SANITY_CHECKING to sanitycheck.h.  The
	sanity_check and sanity_check_city functions are disabled if this macro
	isn't defined.  Callers now don't need to worry whether sanity checking is
	enabled before calling these functions.

	Patch by me in PR#8842.


Thu, 27 May 2004 15:14:19 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aicity.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c
	   M /trunk/server/unithand.c

	Create a specialists' enumeration, and put the specialists' information for
	a city into an array.  This makes the specialists more extensible and will
	make some operations easier.

	Patch by me in PR#8795, with extra style fixes.


Thu, 27 May 2004 08:49:40 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated.


Wed, 26 May 2004 20:17:35 -0700  jdorje:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix a bug preventing games from running outside of scenario mode.

	See PR#8798.


Wed, 26 May 2004 19:06:52 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Remove the map.fixed_start_positions variable.  It is no longer needed
	since this is now set individually for each starting position.

	Patch by me in PR#8798.


Tue, 25 May 2004 21:00:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Fix canvas_put_rectangle in gui-win32: it was drawing one pixel too much
	in each direction.

	Patch by James Canete in PR#8766.


Tue, 25 May 2004 08:47:09 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Add comment about warmap and find_beachhead.


Tue, 25 May 2004 08:42:11 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Replace is_at_coast() with is_ocean_near_tile() in AI code. The former
	only checks oceans in NWES directions and was used by mistake.


Tue, 25 May 2004 08:35:32 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c

	AI love requirement for alliance was set to the same as for peace. This
	is a mistake. Sets it to twice that as required for peace.


Tue, 25 May 2004 08:29:59 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aitech.c
	   M /trunk/common/government.h

	Cleanup of ai/aitech.c. Patch by Greg.


Tue, 25 May 2004 08:21:07 -0700  per:

	Changed paths:
	   M /trunk/server/diplhand.h

	Change reputation loss from 97% to 3% when using a nuke... Patch by
	Mateusz.


Mon, 24 May 2004 18:06:25 -0700  per:

	Changed paths:
	   M /trunk/common/diptreaty.c

	Add some additional comments.


Mon, 24 May 2004 17:41:17 -0700  per:

	Changed paths:
	   M /trunk/utility/shared.c

	Ban '*' from player/nation/city names. From alliances patch.


Mon, 24 May 2004 17:40:20 -0700  per:

	Changed paths:
	   M /trunk/common/diptreaty.c
	   M /trunk/common/game.h
	   M /trunk/server/stdinhand.c

	Extend 'set diplomacy' option to forbid diplomacy even between team
	mates. From alliances patch.


Mon, 24 May 2004 17:33:17 -0700  per:

	Changed paths:
	   M /trunk/server/gamelog.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Extend the 'endgame' command so that you can end the game in a victory
	for the given list of players. For draws and surrenders. See PR#8493.


Mon, 24 May 2004 16:36:50 -0700  per:

	Changed paths:
	   M /trunk/common/player.c

	pplayers_in_peace() was missing check for DS_TEAM (fix from alliances
	patch)


Mon, 24 May 2004 15:48:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Fix a bug in the drawing of fog of war caused by the stipple origin not
	being set.

	Patch by me in PR#8818.


Mon, 24 May 2004 14:42:16 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/Makefile.am
	   A /trunk/common/aicore/citymap.c
	   A /trunk/common/aicore/citymap.h

	Add citymap code to common AI code repository (common/aicore/). This is
	a large int double array that corresponds to the freeciv main map. It
	keeps track of the occupancy and crowdedness of tiles for settlers and
	cities.


Mon, 24 May 2004 14:36:45 -0700  per:

	Changed paths:
	   M /trunk/ai/ailog.c

	Fix logging of virtual units in AI cities.


Mon, 24 May 2004 14:04:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Use a second buffer in drawing the map canvas.  This prevents errors where
	some parts of the canvas were only partially redrawn.

	Patch by me in PR#8815.


Mon, 24 May 2004 06:00:51 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Fixed bug in my recent city dialog commit (PR#8781).

	Bug reported by Christian Knoke <chrisk@cknoke.de> and
	Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 23 May 2004 19:09:27 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h

	Clean up ai_manage_cities, domestic_advisor_choose_build, add header
	comments in few places and retire ai_choose_ferryboat.

	Second patch in (PR#8805).


Sun, 23 May 2004 11:40:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c
	   M /trunk/server/savegame.c

	Load all start positions in a scenario, even if there are more start
	positions than possible players.

	Patch by me in PR#8803.


Sun, 23 May 2004 10:06:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Make sure at least one specialist type is available without a size
	restriction.

	Patch by Raimar Falke as part of PR#8796, with fixed grammar.


Sun, 23 May 2004 07:27:38 -0700  rfalke:

	Changed paths:
	   M /trunk/utility/fcintl.c
	   M /trunk/utility/fcintl.h

	Add a "const" to the return type of skip_intl_qualifier_prefix.

	Patch from me in PR#8813.


Sun, 23 May 2004 06:47:21 -0700  rfalke:

	Changed paths:
	   M /trunk/civ.in
	   M /trunk/ser.in

	Change the construction of the absolute src and build path from using
	"@abs_*@" to using "cd;pwd" since the former isn't available in
	autoconf 2.13.

	Patch from me in PR#8802.


Sat, 22 May 2004 23:10:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update the panel text when a city packet is received, since the civ
	popluation may have changed.

	Patch by Raimar Falke in PR#8769, with added comment.


Sat, 22 May 2004 19:18:25 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Fix a divide-by-zero error which happens in civ1 ruleset when a low-quality
	unit is interviewed for the terminator job.

	Reported by Jason, patch by Raimar and myself (PR#8791).


Sat, 22 May 2004 19:07:58 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/aicity.c

	Cleanup of ai_city_choose_build.  Also relocated establish_city_distances.

	Part of (PR#8805).


Sat, 22 May 2004 19:05:37 -0700  glip:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c

	Introduce find_ferry function.  It can find the nearest ferry for a unit
	which is positioned inland, the ferry can be in any sea adjacent to the
	unit's continent.  It uses some powerful PF magic to do so.

	Issued as (PR#8777).


Sat, 22 May 2004 16:51:10 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ2/terrain.ruleset

	Fix a typo in the civ2 ruleset.

	Patch by me in PR#8792.


Sat, 22 May 2004 11:12:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c

	Remove the single_tile canvas from the mapview struct.  It is no longer
	needed and is a pain to maintain.  Its users now use the tmp_store canvas
	directly.

	Patch by me in PR#8790.


Sat, 22 May 2004 10:56:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h

	Fix a bug in the draw_type of the bottom row of tiles iterated over in
	gui_rect_iterate.  The bottom row should not have D_M.

	Patch by me in PR#8789.


Sat, 22 May 2004 04:37:40 -0700  rfalke:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c

	Issue a warning if packets are read or written to a closed
	connection. Previously the code dumped core at the next line
	(variant-assert).

	Reported by Vasco Alexandre da Silva Costa in PR#8722. Patch from me.


Sat, 22 May 2004 04:31:37 -0700  rfalke:

	Changed paths:
	   M /trunk/common/connection.c

	Expand the receive buffer of the connection up to MAX_LEN_BUFFER if it
	is full but there is data on the wire to be read. Previously this
	caused a read (my_readsocket) with a size of 0 bytes. The result (0)
	was interpreted as EOF.

	Reported by Vasco Alexandre da Silva Costa in PR#8722. Patch from me.


Sat, 22 May 2004 02:27:26 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/specvec.h

	Simplify the ***_vector_get and ***_vector_append function internals.

	Patch by Raimar Falke in PR#8786, with style changes by me.


Fri, 21 May 2004 12:26:30 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Use specvecs instead of realloc'ed array in city dialog (PR#8781).


Fri, 21 May 2004 12:03:44 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/cityhand.c
	   M /trunk/server/ruleset.c

	Make specialists somewhat configurable, and add an option to forbit players
	from changing their tax rates.

	Patch by Per Mathisen in PR#8779, with added style fixes.


Fri, 21 May 2004 11:45:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Merge all of the per-specfile small sprite lists into just one global
	list.

	Patch by me in PR#8761.


Fri, 21 May 2004 11:34:59 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c

	Change a #define to a const int.

	Requested by Raimar Falke in PR#8783.


Fri, 21 May 2004 10:59:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change the overview to use natural coordinates (rather than native
	coordinates).  This requires several hacks to handle corner cases, but
	makes the overview substantially better for iso-maps.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#8627, with style and
	comment changes by me.


Thu, 20 May 2004 17:22:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Add a new function update_city_description to update a single city
	description.  Call this function when a city description changes.

	Patch by me in PR#8756, with style and comment changes.


Thu, 20 May 2004 14:38:53 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.h

	Rewrite city_map_iterate to respect "break" and to use
	is_valid_city_coords.

	Patch by me in PR#8773, based on an earlier patch by Remi Bonnet.


Thu, 20 May 2004 14:27:51 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Change some citymap functions to use CITY_MAP_RADIUS more correctly.  In
	the case if is_valid_city_coords this means checking the pythagorean
	distance instead of hard-coding the "invalid" positions.

	Patch by Remi Bonnet <remi.bonnet@laposte.net> as part of PR#7350, with
	style and comment changes by me.


Thu, 20 May 2004 10:00:23 -0700  rfalke:

	Changed paths:
	   M /trunk/Makefile.am

	Remove the nodist_noinst_SCRIPTS statement from Makefile.am since
	automake 1.4 doesn't support it.

	Reported by me in PR#8702. Patch from Jason Short.


Wed, 19 May 2004 14:14:41 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/astring.c
	   M /trunk/utility/astring.h

	Remove "athing".  It is now obsoleted by specvec.

	Patch by me in PR#8762.


Wed, 19 May 2004 14:03:12 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Forgot one file (with one line change!) in previous AI ferry commit.


Wed, 19 May 2004 13:14:26 -0700  vasc:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/packhand.c

	Fix disconnect menu item insensitivity bug (PR#8707).

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 19 May 2004 13:11:17 -0700  per:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/savegame.c

	Look for information in savegames about where nations should be
	placed which is in a string format and therefore will not break when
	new nations are added. Patch by Jason.


Wed, 19 May 2004 13:07:33 -0700  vasc:

	Changed paths:
	   M /trunk/utility/specvec.h

	Added vector iterator macro, append and get the last element functionality.


Wed, 19 May 2004 07:40:15 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/city.h
	   M /trunk/server/settlers.c

	Reduce the number of ferries built by sending unused ferries to
	cities that need them in advance. Patch by Joshua and Greg as PR#6567.


Wed, 19 May 2004 07:06:24 -0700  per:

	Changed paths:
	   M /trunk/doc/README.AI

	Add Greg's fine explanation of the ferry system to README.AI.


Tue, 18 May 2004 17:49:32 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/server/gotohand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/unittools.c

	Make arctic terrain "dangerous".

	- A new flag TER_UNSAFE is added to arctic.  This causes non-flying units
	  to be lost when traveling over arctic.
	- Another flag TER_UNSAFE_COAST is also added to arctic.  This makes
	  arctic coastline unsafe for triremes.

	Patch by Marcelo Burda <mburda@uld.ac.be> as PR#6972, with style changes,
	added comments, and one moved macro by me.


Tue, 18 May 2004 09:29:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Move the population_to_text function out of utility/ and into common/.  The
	function general_int_to_text is therefore renamed as big_int_to_text,
	documented better, and made public.

	Patch by me in PR#8693, with added comments and an assertion.


Tue, 18 May 2004 09:14:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Replace -1 with NO_NATION_SELECTED, and give an fatal error if an in-use
	nation can't be found when a game is loaded.

	Patch by me in PR#8755.


Mon, 17 May 2004 17:02:40 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ1/terrain.ruleset

	Fix the civ1 ruleset to work without T_RIVER.

	Patch by me in PR#8727.


Mon, 17 May 2004 12:43:28 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/registry.c

	Change columns_tab from an "athing" to an astring vector (using specvec).

	Patch by me in PR#8694.


Mon, 17 May 2004 09:51:16 -0700  jdorje:

	Changed paths:
	   M /trunk/civ.in
	   M /trunk/ser.in

	Use @abs_top_builddir@ and @abs_top_srcdir@ to find the build and src
	dir.  Change to the srcdir before executing Freeciv; this means we don't
	have to set FREECIV_PATH.

	Patch by me in PR#8677.


Mon, 17 May 2004 00:16:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c

	Change the show_city_desc function:
	  - It is told which canvas to draw to.
	  - It tells the caller the dimensions of the city text that was drawn.
	The show_city_descriptions function is changed to take advantage of this.
	This should prevent city descriptions from ever being overdrawn during
	an update_map_canvas call.

	Patch by me in PR#8746 with added comments.


Sun, 16 May 2004 22:34:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/server/stdinhand.c

	Change some N_() strings to be const.

	Patch by me as part of PR#8664.


Sun, 16 May 2004 19:16:15 -0700  vasc:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/city.c
	   M /trunk/server/meta.c
	   M /trunk/server/sernet.c
	   M /trunk/utility/ioz.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/support.c
	   M /trunk/utility/support.h

	PR#8704: Fix wrong error messages in MS Windows.

	Jason Dorje Short helped with testing and debugging of the patch.


Sun, 16 May 2004 18:29:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/data/Freeciv

	Replace the "connect" menu item and its popup window with a connect
	submenu.  The user chooses Orders->Connect->Road and enters the Connect
	state with the activity set to Road.  Only road, rail, and irrigation
	connection is supported for now.

	Patch by me in PR#8739.


Sun, 16 May 2004 12:07:35 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/doc/HACKING

	Introduce "natural" coordinates.

	Patch by Marcelo Burda <mburda@ulb.ac.be> as part of PR#8627, with changed
	comments and added documentation by me.


Sat, 15 May 2004 15:41:37 -0700  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/savegame.c

	Remove game.load_options and simplify savegame loading slightly, as we
	can now always assume that we load rulesets at a certain point.


Sat, 15 May 2004 14:30:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gui_stuff.c
	   M /trunk/client/gui-win32/gui_stuff.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/spaceshipdlg.c

	Fix some compilation warnings in gui-win32.

	Patch by James Canete in PR#8641.


Sat, 15 May 2004 13:30:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Change the prototype for notify_dialog_update to fix compiler warnings.


Sat, 15 May 2004 12:20:36 -0700  per:

	Changed paths:
	   M /trunk/ai/aihunt.c

	(0,0) -> (-1,-1) for comment when indicating invalid coordinate, as
	requested by Jason.


Sat, 15 May 2004 11:15:46 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Fix handling of ZOC in danger maps.

	Patch by Marcelo Burda <mburda@ulb.ac.be> as part of PR#6972.


Sat, 15 May 2004 09:36:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Clear the backing store directly in update_map_canvas, not in
	update_map_canvas_visible.

	Patch by me in PR#8733.


Sat, 15 May 2004 09:33:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Improve error handling of phantom units:

	- Use LOG_ERROR rather than LOG_NORMAL for the error message.
	- If the assertion doesn't go off, just remove the phantom unit.

	Patch by me in PR#8726, with added comment.


Sat, 15 May 2004 09:19:09 -0700  per:

	Changed paths:
	   M /trunk/ai/aihunt.c

	Fix PR#8740, a log message didn't properly check for NULL values. Found
	by Vasco.


Fri, 14 May 2004 17:48:17 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/specvec.h

	Rewrite specvec.  It is no longer a wrapper for athing.

	Patch by me in PR#8683.


Fri, 14 May 2004 08:34:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/text.c

	Add back a missing newline in the panel text.

	Reported by Vasco Alexandre Da Silva Costa.  Patch by me in PR#8723.


Fri, 14 May 2004 04:04:22 -0700  sebauer:

	Changed paths:
	   M /trunk/server/gamehand.c
	   M /trunk/utility/shared.c

	Introduced a new CHALLENGE_PATH define. If set, it defines the path for
	the challenge file which needed if a client want to control the server.

	As AmigaOS does't know about Home directories, modified
	user_home_dir() to return a appropriate directory.

	Closes my patch #8721.


Thu, 13 May 2004 19:23:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	- Pass a rectangle to show_city_descriptions telling it where to update
	  the descriptions.
	- Call show_city_descriptions directly from update_map_canvas.  The callers
	  of update_map_canvas now need not worry about city description redrawing.

	Patch by me in PR#8719.


Thu, 13 May 2004 11:17:37 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Change obsoletion tech of Richard's from Industrialization to Robotics.
	See PR#8658.


Thu, 13 May 2004 11:14:22 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/inputdlg.c
	   M /trunk/client/gui-xaw/inputdlg.h
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.h

	Assume strings returned by gettext are const.

	Patch by me in PR#8664.


Thu, 13 May 2004 09:38:19 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Fix "unit_list_size(&ptile->units) == 0" crash in client. This solves ticket
	(PR#8674). Reported by Christian Knoke and several others, fixed by Jason.


Tue, 11 May 2004 20:21:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c

	Add an iterator citydlg_known_iterate that allows iteration over all tiles
	visible to the city, according to the Painter's algorithm.

	Patch by Marcelo Burda <mburda@ulb.ac.be> and myself in PR#8526.


Tue, 11 May 2004 13:01:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Improve the speed of mapview scrolling.  If the mapview is recentered any
	overlapping areas are just copied, not redrawn.  Any newly-visible areas
	must still be drawn fresh.

	Patch by me in PR#8603, with added comments.


Tue, 11 May 2004 12:51:39 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	PR#8664: Replace GtkComboBox with a GtkOptionMenu. This silences the compiler
	warnings when gettext returns const char *.


Tue, 11 May 2004 10:59:34 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/report.h
	   M /trunk/server/stdinhand.c

	Assume strings returned by gettext are const.

	Patch by me in PR#8664, with improved style and comments.
	------------------------------------------------------------------


Tue, 11 May 2004 10:52:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.h
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Assume strings returned by gettext are const.

	Patch by me in PR#8664.


Tue, 11 May 2004 10:40:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/mapview_common.c

	Rename get_drawn as is_drawn_line(), and change it to return a boolean
	value.  This simplifies the logic for the callers, who have no need to
	know how many lines are actually drawn.

	Patch by me in PR#8668.


Tue, 11 May 2004 10:18:20 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/ruleset.c

	Turn the "killstack" variable into a boolean value.

	Patch by me in PR#8669.


Tue, 11 May 2004 01:09:47 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Tue, 11 May 2004 00:31:42 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add client/text.c to POTFILES.in.

	Reported by Mateusz Stefek <mstefek@poczta.fm> in PR#8714.


Tue, 11 May 2004 00:09:52 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Mon, 10 May 2004 15:29:20 -0700  per:

	Changed paths:
	   M /trunk/server/diplhand.h
	   M /trunk/server/unittools.c

	Add reputation penalty to nukes. Implements part of PR#7179 and closes this ticket.


Sat, 08 May 2004 14:36:44 -0700  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/mapctrl.c

	Fix crash in win32 client when middle clicking on tiles with units.

	Patch by me as PR#8591.


Sat, 08 May 2004 12:21:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/utility/netintf.h

	Fix compilation on the win32 platform, plus two stylistic fixes.

	See PR#8705.


Fri, 07 May 2004 21:47:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c

	Remove references to non-existant file speclist_c.h.


Fri, 07 May 2004 17:00:23 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/include/dialogs_g.h

	Assume strings returned by gettext are const.

	Patch by me in PR#8664, with extra added comments.


Fri, 07 May 2004 03:30:00 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Thu, 06 May 2004 15:57:36 -0700  jdorje:

	Changed paths:
	   M /trunk/utility/Makefile.am
	   M /trunk/utility/specvec.h
	   D /trunk/utility/specvec_c.h

	Make specvec functions inline.  This removes the need for specvec_c.h.

	Patch by Per Mathisen in PR#8683, with changes by me.


Thu, 06 May 2004 14:28:03 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c

	Assume strings returned by gettext are const.

	Patch by me in PR#8664, with extra style fixes.


Wed, 05 May 2004 14:58:11 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Add a warning comment to the direction8 enum.


Wed, 05 May 2004 13:39:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/spaceshipdlg.c
	   M /trunk/client/gui-win32/cma_fe.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/spaceshipdlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/connection.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/unit.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/sernet.c
	   M /trunk/utility/Makefile.am
	   M /trunk/utility/registry.c
	   M /trunk/utility/speclist.h
	   D /trunk/utility/speclist_c.h

	Make speclist functions inline.  Remove the "magic" code for including
	them statically (since inline functions are always static).  speclist_c.h
	is removed entirely.

	Patch by Per Mathisen in PR#8656.


Tue, 04 May 2004 11:47:23 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Fix po/POTFILES.in to include the common->utility move.  This should fix
	"make dist".

	See PR#8673.


Tue, 04 May 2004 11:33:00 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/civ.in
	   M /trunk/ser.in

	Fix some problems with civ and ser scripts:
	  - Don't distribute civ and ser.
	  - Rebuild civ and ser if their dependencies change.
	  - Fix civ and ser to work if run from outside the builddir.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> in PR#8635 with
	added comments by me.


Tue, 04 May 2004 11:22:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/doc/README.graphics

	Change cell drawing code:
	  - Internal code is changed to always use direction4 ordering.
	  - Loading code changes the sprite names to use binary rather than
	    octal values.
	  - Improved documentation.

	Patch by me in PR#8628.


Tue, 04 May 2004 11:01:44 -0700  jdorje:

	Changed paths:
	   M /trunk/tests/Makefile.am
	   A /trunk/tests/copyright.sh

	Add a new test script to check for copyright headers.

	Based on PR#8644.


Tue, 04 May 2004 10:40:26 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aihunt.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/combat.c
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c
	   M /trunk/common/unit.c

	Change some code so that types match up better.

	Patch by Raimar Falke in PR#8648, with added comments and some parts left
	out by me.


Tue, 04 May 2004 09:57:59 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/netintf.h

	Move min_free_port to utility/netintf, renaming it as find_next_free_port.
	This patch also fixes potential bugs in it.

	Patch by Raimar Falke in PR#8653.


Sun, 02 May 2004 14:47:35 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Make some single-city, quickly-obsoleted and/or rarely built wonders much cheaper.

	Colossus 200 -> 100.
	Copernicus 300 -> 200.
	Newton 400 -> 300.
	Richard 300 -> 150.
	Oracle 300 -> 100.
	Shakespeare 300 -> 200.


Sun, 02 May 2004 14:46:02 -0700  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	To encourage players to use city improvements, make them approximately 30% cheaper. Applies to
	all city improvements except wonders and spaceship parts.


Sun, 02 May 2004 09:28:57 -0700  per:

	Changed paths:
	   D /trunk/common/speclist.h
	   D /trunk/common/speclist_c.h
	   D /trunk/common/specvec.h
	   D /trunk/common/specvec_c.h

	Remove the spec* files from common/, which have been moved to utility/


Sun, 02 May 2004 09:10:54 -0700  per:

	Changed paths:
	   D /trunk/common/astring.c
	   D /trunk/common/astring.h
	   D /trunk/common/capability.c
	   D /trunk/common/capability.h
	   D /trunk/common/fcintl.c
	   D /trunk/common/fcintl.h
	   D /trunk/common/genlist.c
	   D /trunk/common/genlist.h
	   D /trunk/common/hash.c
	   D /trunk/common/hash.h
	   D /trunk/common/inputfile.c
	   D /trunk/common/inputfile.h
	   D /trunk/common/ioz.c
	   D /trunk/common/ioz.h
	   D /trunk/common/log.c
	   D /trunk/common/log.h
	   D /trunk/common/mem.c
	   D /trunk/common/mem.h
	   D /trunk/common/netintf.c
	   D /trunk/common/netintf.h
	   D /trunk/common/pqueue.c
	   D /trunk/common/pqueue.h
	   D /trunk/common/rand.c
	   D /trunk/common/rand.h
	   D /trunk/common/registry.c
	   D /trunk/common/registry.h
	   D /trunk/common/sbuffer.c
	   D /trunk/common/sbuffer.h
	   D /trunk/common/shared.c
	   D /trunk/common/shared.h
	   D /trunk/common/support.c
	   D /trunk/common/support.h
	   D /trunk/common/timing.c
	   D /trunk/common/timing.h

	Remove files moved to utility/


Sun, 02 May 2004 08:57:16 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Do not report cruise missiles becoming veteran on attack. Reported by Christian Knoke
	<chrisk@cknoke.de>.


Sun, 02 May 2004 07:47:12 -0700  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Move last unit activities until after game year advances, so that founding years and other activities gets updated in
	the right order and with the correct numbers. Patch by Michael Kirzinger with changes by me. Issue (PR#7107).


Sun, 02 May 2004 07:12:39 -0700  per:

	Changed paths:
	   M /trunk/utility
	   A /trunk/utility/.cvsignore

	Add .cvsignore file for utility/


Sun, 02 May 2004 05:41:53 -0700  per:

	Changed paths:
	   A /trunk/utility/Makefile.am

	Forgot one file in common/ -> utility/ move.


Sun, 02 May 2004 05:40:47 -0700  per:

	Changed paths:
	   M /trunk/m4/alsa.m4

	Make alsa autoconf check look for alsa version 1.0 or higher. Reported by Mike.


Sun, 02 May 2004 05:33:29 -0700  per:

	Changed paths:
	   M /trunk/ai/ailog.c

	If we call UNIT_LOG on a unit which isn't debugging but which is a virtual
	unit in a city that is debugged, set debug level to LOG_NORMAL as if the
	unit itself was debugged, since this impacts on our debugging of the city.


Sun, 02 May 2004 05:31:05 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Fix (PR#8646) Wrong veteran handling in AI, bool->int.


Sun, 02 May 2004 05:13:52 -0700  per:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/ai/Makefile.am
	   M /trunk/client/Makefile.am
	   M /trunk/client/agents/Makefile.am
	   M /trunk/client/gui-gtk/Makefile.am
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-stub/Makefile.am
	   M /trunk/client/gui-win32/Makefile.am
	   M /trunk/client/gui-xaw/Makefile.am
	   M /trunk/common/Makefile.am
	   M /trunk/common/aicore/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/server/Makefile.am
	   M /trunk/server/userdb/Makefile.am

	Move a number of common, non-freeciv-specific files from the common/ to the utility/ directory.
	The actual files have been copied in the cvs repository, to preserve cvs history.


Sun, 02 May 2004 04:42:24 -0700  per:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/common/version.c
	   M /trunk/common/version.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Move freeciv motto function from shared.c to version.c


Sun, 02 May 2004 03:42:55 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Make bodyguards more aggressive in rampaging against adjacent units.


Sun, 02 May 2004 01:09:31 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aihunt.h
	   M /trunk/client/gui-gtk-2.0/connectdlg.h
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h

	Add missing declarations and includes to compile headers on their own.


Sun, 02 May 2004 01:00:50 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/server/sernet.c

	Replace general memory function calls with freeciv specific ones. Some
	for calls to isdigit().

	Patch from me in PR#8547.


Sun, 02 May 2004 00:54:59 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/happiness.h
	   M /trunk/client/gui-sdl/happiness.h
	   M /trunk/client/gui-win32/happiness.h

	Add guards against multiple inclusion.


Sat, 01 May 2004 18:24:50 -0700  jdorje:

	Changed paths:
	   M /trunk/tests/va_list.sh

	Fix bug in test script.


Sat, 01 May 2004 18:14:02 -0700  jdorje:

	Changed paths:
	   M /trunk/tests
	   M /trunk/tests/.cvsignore
	   M /trunk/tests/Makefile.am
	   A /trunk/tests/header_guard.sh
	   A /trunk/tests/va_list.sh

	Add two test scripts for detecting problems with the code.  They are run
	when "make check" is called and put their results in tests/check-output.

	See PR#8617.


Sat, 01 May 2004 17:44:06 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Add support for iso-maps in IS_BORDER_MAP_POS.  This means it is turned
	into an inline function instead of a macro.  A new macro do_in_map_pos is
	also added.

	Patch by Marcelo Burda <mburda@ulb.ac.be> in PR#8619, with changes by me.


Sat, 01 May 2004 11:01:10 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	PR#6824: Make government selection dialog non-modal.

	Reported by Benoit Hudson <bh@techhouse.brown.edu>.


Sat, 01 May 2004 10:45:34 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/plrdlg.c

	PR#4692: Add scrollbar to players dialog in GTK+ 1.2 client.

	Requested by David Turover <dturover@student.santarosa.edu>.


Sat, 01 May 2004 10:33:01 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	PR#8558: Add CLIENT_CAN_LAUNCH_SERVER macro to the extended connect dialog.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 01 May 2004 10:28:47 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	PR#8486: Add fullscreen mode for GTK+ 2.2 client.

	Patch by Andreas Rosdal <andrearo@stud.ntnu.no>.


Fri, 30 Apr 2004 20:34:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-win32/cityrep.c

	Add a wrapper function (city_building_present) for city_got_building.  This
	matches the TestCityFunc prototype.

	Patch by James Canete and myself in PR#8595.


Fri, 30 Apr 2004 20:31:44 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aihunt.c

	Remove an extra logdebug_suppress_check call.

	See PR#8604.


Fri, 30 Apr 2004 20:22:11 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/common/log.h
	   M /trunk/server/civserver.c
	   M /trunk/server/console.c
	   M /trunk/utility/log.h

	Make logdebug_check an inline function, and remove the
	logdebug_suppress_warning "magic" macro.

	Patch by me in PR#8604.


Thu, 29 Apr 2004 12:59:21 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   A /trunk/ai/aihunt.c
	   A /trunk/ai/aihunt.h
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/map.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	AI will now track dangerous enemies around on the map, build units specifically for
	speed and attack, and send them to intercept these enemies. It will hunt transports
	in particular. If we have missiles, bring them along and fire at the target or anyone
	that might pose a threat to us on our mission. If not, see if we should build them.
	Adds very crude support in pf for air units.


Thu, 29 Apr 2004 11:49:40 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Fix missing space.
	-                       _("Game: Can't attack %s's unit"
	+                       _("Game: Can't attack %s's unit "
	                         "because you are not at war with %s."),


Thu, 29 Apr 2004 08:11:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Implement "tall" terrain.  This is terrain (like mountains) that covers
	the full "unit" tile size.

	Patch by me in PR#8608.


Wed, 28 Apr 2004 22:37:14 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Check for variable-sized arrays at configure time.

	Patch by me in PR#8605.


Tue, 27 Apr 2004 17:54:24 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Change update_map_canvas to use gui_rect_iterate and work in canvas
	coordinates.  This makes it more useful and removes the iso-logic from
	the code.

	Patch by me in PR#8594.


Tue, 27 Apr 2004 11:24:24 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Change show_city_descriptions to use gui_rect_iterate.  This makes it more
	correct and removes the iso-logic from the code.

	Patch by me in PR#8593.


Mon, 26 Apr 2004 22:00:25 -0700  jdorje:

	Changed paths:
	   M /trunk/m4/alsa.m4
	   M /trunk/m4/auth.m4

	Add quotes to avoid getting a warning from autoconf.

	See PR#7346.


Mon, 26 Apr 2004 21:10:23 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/tests
	   A /trunk/tests/.cvsignore
	   A /trunk/tests/Makefile.am

	Add a new subdirectory "tests".

	Patch by me in PR#8588.


Mon, 26 Apr 2004 14:26:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Improve the support for hexagonal tilesets.  Grid drawing should now work.

	Patch by me in PR#8487.


Mon, 26 Apr 2004 14:11:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Merge fill_tile_sprite_array and fill_tile_sprite_array_iso.

	Patch by me in PR#8574.


Mon, 26 Apr 2004 09:25:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h

	Add a new macro gui_rect_iterate.  This macro is used to iterate over all
	the tiles contained within an arbitrary GUI rectangle.

	Patch by me in PR#4004.


Sun, 25 Apr 2004 21:01:56 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c

	Load AI units via handle_unit_load rather than sentrying them.

	Reported by Per Mathisen in PR#8543.  Patch by me.


Sun, 25 Apr 2004 19:13:30 -0700  jdorje:

	Changed paths:
	   A /trunk/common/fciconv.c
	   A /trunk/common/fciconv.h
	   A /trunk/utility/fciconv.c
	   A /trunk/utility/fciconv.h

	Add stub fciconv files to the repository.

	See PR#1824.


Sun, 25 Apr 2004 12:03:40 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/server/civserver.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h

	- Add a new server parameter --exit-on-end.  If given, the server will
	  exit after playing a game rather than restarting.
	- When the client launches a server give it the -q 1 -e parameter.  This
	  will cause it to quit if the client disconnects.

	Patch by me in PR#8578.


Sun, 25 Apr 2004 11:30:00 -0700  rfalke:

	Changed paths:
	   M /trunk/client/text.h

	Add a missing declaration for struct player.


Sun, 25 Apr 2004 07:23:51 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add a bg_color parameter to fill_tile_sprite_array_iso.  This makes it
	match with fill_tile_sprite_array.

	Patch by me in PR#8579.


Sat, 24 Apr 2004 10:32:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.h
	   M /trunk/server/stdinhand.c

	Move the sset_type enum into the common code.  It is now used by both
	server and client.

	Patch by me in PR#8555.


Sat, 24 Apr 2004 10:20:17 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug in the drawing of borders in iso-view.

	Patch by me in PR#8566.


Sat, 24 Apr 2004 01:17:49 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	Add a new function can_unit_do_activity_targeted_at.  This does the exact
	same thing as can_unit_do_activity_targeted but allows the caller to
	specify the location for the would-be activity.

	Patch by me in PR#8561 with extra style fixes.


Sat, 24 Apr 2004 00:46:52 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c

	In classic view, use the DRAWN_GRID drawn_sprite element to draw the
	mapview grid.

	Patch by me in PR#8573.


Fri, 23 Apr 2004 17:19:29 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	PR#8572: Fix issues with resumption of savedgames when using long names with
	spaces in between, e.g. "Pierre Trudeau".


Fri, 23 Apr 2004 16:37:04 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	PR#8572: Connect with the right username to the spawned server.


Fri, 23 Apr 2004 16:23:53 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	PR#8572: do not use mallocs, fix some missing variable initialization bugs.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 23 Apr 2004 16:13:55 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#8572: extended connection dialog improvements.

	Some code and UI cleanup, added mnemonics, some simplification of the code
	control flow on the GTK+ 2.2 specific connect dialog code.


Fri, 23 Apr 2004 15:58:06 -0700  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.h
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/client/include/repodlgs_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/plrdlg_common.c
	   A /trunk/client/text.c
	   A /trunk/client/text.h
	   M /trunk/common/player.h

	Add new files client/text.[ch] that include functions to generate commonly
	used text strings.  Some, but not all, of the GUI clients now use these
	functions.

	Patch by Raimar Falke in PR#8528 with changes by me.


Fri, 23 Apr 2004 09:43:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Change draw_part to be a more compact bitfield.  draw_type now includes the
	list of all 18 drawable rectangles.

	Patch by me in PR#8568.


Thu, 22 Apr 2004 16:07:07 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix two occurrances where units were freed inside an unsafe unit iterator.

	Patch by me in PR#8552.


Thu, 22 Apr 2004 15:58:28 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Merge the functions get_xxx_tile and city_get_xxx_tile.  (xxx may be food,
	trade, or shields.)  This prevents the logic from being duplicated.

	Patch by me in PR#8527 with extra comments.


Thu, 22 Apr 2004 14:07:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Extend drawn_sprite to include more elements.  The tilespec code now
	fills out almost all drawing information for iso-view drawing in the
	drawn_sprite list.

	Patch by me in PR#8559.


Thu, 22 Apr 2004 09:05:45 -0700  vasc:

	Changed paths:
	   M /trunk/client/plrdlg_common.h

	Added missing include changes from my last commit.


Thu, 22 Apr 2004 08:38:25 -0700  vasc:

	Changed paths:
	   M /trunk/client/plrdlg_common.c

	PR#8569 make num_player_dlg_columns variable const.

	Requested by Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 21 Apr 2004 19:25:03 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Ditto.


Wed, 21 Apr 2004 19:23:56 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Minor style cleanups.


Wed, 21 Apr 2004 19:15:38 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/options.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h

	Replaced NUM_PLAYER_DLG_COLUMNS constant with num_player_dlg_columns variable.


Wed, 21 Apr 2004 16:11:46 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.h

	Remove an obsolete comment about EXTRA_BOTTOM_ROW.


Wed, 21 Apr 2004 14:39:55 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/plrdlg_common.c

	Added missing function headers to my previous commit.


Wed, 21 Apr 2004 14:30:36 -0700  rfalke:

	Changed paths:
	   M /trunk/diff_ignore

	Add "civ" and "ser".


Wed, 21 Apr 2004 12:52:23 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	PR#8564: Fix extraneous strikethrough text style bug on units.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 21 Apr 2004 12:46:37 -0700  vasc:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/options.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h

	PR#8539: Make displayed player dialog columns configurable.

	Patch by Mateusz Stefek <mstefek@poczta.fm>.


Wed, 21 Apr 2004 12:01:57 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Rewrite adjc_iterate as a wrapper for adjc_dir_iterate.

	Patch by me in PR#8551.


Wed, 21 Apr 2004 11:28:28 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Change the server-side citizen management to use reasonable parameters.  It
	should now no longer grossly overvalue trade, and will work better for
	human players.

	Patch by me in PR#7129.


Wed, 21 Apr 2004 08:14:47 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	In player_restore_units, instead of following complicated logic to
	determine which units are to be refueled, just refuel those units which
	are being transported.

	Patch by me in PR#8389.


Tue, 20 Apr 2004 22:31:15 -0700  kauf:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	send a command to the server of a client-started game to set the
	topology to one specified by the client's tileset.

	Patch by Jason Short


Tue, 20 Apr 2004 13:10:38 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Move is_terrain_clean, is_hut_close, and is_special_close out of map.[ch]
	and into mapgen.c.

	Patch by me in PR#7546.


Tue, 20 Apr 2004 12:56:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Don't allocate dummy values for the mapview and overview canvases in
	init_mapcanvas_and_overview.  Doing so is not needed and broke the gtk2
	client.

	Patch by me in PR#7446.


Tue, 20 Apr 2004 10:26:13 -0700  rfalke:

	Changed paths:
	   M /trunk/acconfig.old
	   M /trunk/configure.in

	Fix fork() detecting.

	Reported by me in PR#8534. Patch from Jason Short with changes from me.


Tue, 20 Apr 2004 10:21:57 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/unittools.c

	When an alliance is broken city updates need to be sent to the players so
	that the pcity->occupied flag is correctly set.

	Patch by me in PR#8338.


Tue, 20 Apr 2004 09:17:39 -0700  jdorje:

	Changed paths:
	   M /trunk/common/unit.c

	Add a helper function count_carrier_capacity, used by
	missile_carrier_capacity and airunit_carrier_capacity.

	Patch by me in PR#8525.


Mon, 19 Apr 2004 23:30:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Have fill_tile_sprite_array return a background color rather than a player
	pointer (which was used to determine the background color).

	Patch by me in PR#8520.


Mon, 19 Apr 2004 14:42:08 -0700  per:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/server/connecthand.c

	strcasecmp -> mystrcasecmp


Mon, 19 Apr 2004 14:40:39 -0700  per:

	Changed paths:
	   M /trunk/client/audio_alsa.c

	usleep -> myusleep


Mon, 19 Apr 2004 10:24:16 -0700  per:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/Makefile.am
	   M /trunk/client/audio.c
	   A /trunk/client/audio_alsa.c
	   A /trunk/client/audio_alsa.h
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/alsa.m4
	   M /trunk/m4/sound.m4

	Add an ALSA sound plugin. Written by Javier Pello <jpello@escet.urjc.es>
	with changes by me.


Mon, 19 Apr 2004 05:23:07 -0700  per:

	Changed paths:
	   M /trunk/data/history/units.ruleset

	Copy default ruleset's veteran settings to historical ruleset. Requested
	by Daniel L Speyer <dspeyer@wam.umd.edu>.


Mon, 19 Apr 2004 05:17:15 -0700  per:

	Changed paths:
	   M /trunk/common/combat.c
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset

	Improve helptext for killstack. Patch by LoboGris <molv@netgate.com.uy>.


Mon, 19 Apr 2004 05:13:29 -0700  per:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Fix helpdata.txt i18n. Patch by Mateusz Stefek <mstefek@poczta.fm>.


Sun, 18 Apr 2004 03:01:04 -0700  rfalke:

	Changed paths:
	   M /trunk/client/agents/agents.c

	Disable the simple historian agent till a proper fix is in place. The
	SHA causes core dumps and memory corruption.


Sat, 17 Apr 2004 23:59:42 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sat, 17 Apr 2004 04:01:23 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po + 2nd part of Gregory Luguet corrections


Fri, 16 Apr 2004 21:48:20 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix a bug where a client with hack could crash the server
	by attempting a /take with the wrong number of arguments.
	Resolves PR#8508

	Report and initial patch by James Canete. Final patch by me.


Fri, 16 Apr 2004 10:30:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Two small cleanups to connectdlg_common:
	  - Make a variable static.
	  - Perform a configure check for fork() rather than checking for specific
	    platforms.

	Patch by me in PR#8484.


Fri, 16 Apr 2004 10:27:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/server/unithand.c

	A sentried unit is loaded and an activated unit is unloaded from its
	transporter.  Now this is done by the client rather than automatically by
	the server.

	Patch by me in PR#8498.


Fri, 16 Apr 2004 10:24:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h

	Add load and unload menu commands to the GTK and XAW clients.

	Patch by me in PR#8496.


Fri, 16 Apr 2004 10:08:27 -0700  jdorje:

	Changed paths:
	   M /trunk/common/registry.c
	   M /trunk/common/registry.h
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h

	Add a new function secfile_get_section_entries to return all entries in a
	given section.

	Patch by Raimar Falke in PR#8504 with style and comment changes by me.


Thu, 15 Apr 2004 12:36:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Implement a function get_tile_boundaries that returns the corners of a
	boundary of a tile, and tells whether this boundary actually exists and is
	on the tile.

	This simplifies the logic of drawing the map grid, national borders,
	coastlines, city selection rectangles, and unavailable city tiles.  Several
	buglets are also fixed: for instance the map grid used to be drawn for the
	citydlg in iso-view but not in non-iso view.

	Patch by me in PR#8507, with additional comments.


Wed, 14 Apr 2004 10:18:36 -0700  rfalke:

	Changed paths:
	   M /trunk/client/agents/Makefile.am
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/agents.h
	   A /trunk/client/agents/sha.c
	   A /trunk/client/agents/sha.h
	   M /trunk/client/packhand.c

	Adds a simple historian agent which keeps track of the previous state
	of tiles and units.

	Patch from A. Gorshenev <nikodimka@yahoo.com> with small changes by me.


Wed, 14 Apr 2004 04:38:45 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/common/combat.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/default/units.ruleset

	Add new unit flag: CityBuster. This flag gives units double normal
	firepower when attacking cities.


Wed, 14 Apr 2004 04:19:45 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Add new unit flag: F_BOMBARDER. This flag makes the unit attack other
	units without risk to itself, but at the cost of only being able to
	damage them, not kill them. The field 'bombard_rate' regulates the
	number of attacks, while attack power is used for strength. Patch by
	James Canete <use_less@ignmail.com>, (PR#8455).


Wed, 14 Apr 2004 03:57:27 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/helpdata.txt
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/ruleset.c

	Add new ruleset option: killstack. If this is set to zero, then all
	tiles acts as a fortress for the purpose of unit death - that is, only
	one unit dies for each attack. Patch by LoboGris <molv@netgate.com.uy>,
	(PR#8483).


Wed, 14 Apr 2004 03:14:39 -0700  per:

	Changed paths:
	   M /trunk/server/diplomats.c

	Ensure that client is updated with moves_left info from a diplomat
	running out of moves while eliminating enemy diplomats. See PR#8502.


Tue, 13 Apr 2004 09:40:00 -0700  rfalke:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h

	Fix compile problem with some stricter warnings by adding const to the
	parameters of connect_to_server and get_server_address.


Tue, 13 Apr 2004 09:05:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move code for drawing the map grid in iso-view into mapview_common.

	Patch by me in PR#8488.


Tue, 13 Apr 2004 05:43:48 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	translate @ connect dialog and menu, fix helpdata


Mon, 12 Apr 2004 14:36:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c

	Fix the parameters for put_unit in the gtk2 and win32 clients.

	Patch by James Canete in PR#8499.


Mon, 12 Apr 2004 10:50:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Sentry a unit when it is loaded via the "load" command.

	Reported by Per Mathisen in PR#8468.  Patch by me.


Mon, 12 Apr 2004 10:15:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	- Remove the no_backdrop global variable.  Now a "backdrop" parameter is
	  passed to fill_unit_sprite_array and put_unit.  This fixes several
	  buglets where unit flags are drawn over cities.
	- The stack parameter (passed to fill_unit_sprite_array and put_unit) is
	  only set if there is more than one known unit on the stack.  For
	  occupied transporters the backend code can figure this out for itself.

	Patch by me in PR#8477.


Mon, 12 Apr 2004 07:17:36 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/repodlgs_common.h

	PR#8490: HIGify extended connection dialog a bit, fix short/int size mismatch
	bug in the integer field of an option.


Sun, 11 Apr 2004 17:45:19 -0700  vasc:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/po/POTFILES.in

	Markup file strings for translation.

	Patch by Genevieve Gracian <ggracian@free.fr>.


Sat, 10 Apr 2004 22:23:31 -0700  jdorje:

	Changed paths:
	   M /trunk/client/connectdlg_common.c
	   M /trunk/configure.ac
	   M /trunk/configure.in

	- Add a configure check for sys/wait.h.
	- Add some win32 support to connectdlg_common.

	Patch by Andreas Kemnade and myself in PR#8479.


Sat, 10 Apr 2004 16:05:51 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/map.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/default/game.ruleset
	   M /trunk/server/ruleset.c

	New ruleset option: Slow invasions. This option, turned on by default, makes ground units lose all their movement
	points when moving from an ocean tile to a land tile.


Sat, 10 Apr 2004 16:00:46 -0700  per:

	Changed paths:
	   M /trunk/client/connectdlg_common.c

	Remove warning - log.h include not necessary.


Sat, 10 Apr 2004 04:23:01 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c

	remove functions which are now in connectdlg_common.c


Fri, 09 Apr 2004 20:47:50 -0700  kauf:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   A /trunk/client/connectdlg_common.c
	   A /trunk/client/connectdlg_common.h
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/include/connectdlg_g.h
	   M /trunk/client/include/repodlgs_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h
	   M /trunk/common/capstr.c
	   M /trunk/common/connection.h
	   M /trunk/common/dataio.h
	   M /trunk/common/game.c
	   M /trunk/common/log.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/shared.h
	   M /trunk/doc/HACKING
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamehand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h
	   M /trunk/utility/log.c
	   M /trunk/utility/shared.h

	A new connect dialog for the client. This allows a client to start a
	server from within the client. Also implement a graphical user interface
	for setting server options from the client. See PR#977 and doc/HACKING for
	details.

	Patch by Mike Kaufman and Daniel Speyer <dspeyer@wam.umd.edu>


Fri, 09 Apr 2004 18:40:17 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/common/shared.c
	   M /trunk/utility/shared.c

	Make sure to #include <stdarg.h> when va_start is used.

	Reported by Raimar Falke in PR#8450.  Patch by me.


Thu, 08 Apr 2004 11:19:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-xaw/dialogs.c

	Add some missing #includes.


Thu, 08 Apr 2004 07:53:57 -0700  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Wed, 07 Apr 2004 14:12:43 -0700  rfalke:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c

	Add checks so that variable-sized arrays and intra-array diffs don't
	go over the "hard" array size.


Wed, 07 Apr 2004 10:38:55 -0700  rfalke:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c

	Make packets_gen.c smaller by unifying all functions which return
	constant 0.


Wed, 07 Apr 2004 10:32:01 -0700  rfalke:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Give the PACKET_AUTHENTICATION_REQ packet the dsend flag.

	Reported by Andreas Røsdal <andrearo@stud.ntnu.no> in PR#8409. Patch
	from me.


Wed, 07 Apr 2004 10:29:16 -0700  rfalke:

	Changed paths:
	   M /trunk/server/connecthand.c

	Change auth code to use the correct field of struct connection.

	Reported by Andreas Røsdal <andrearo@stud.ntnu.no> in PR#8409. Patch
	from me.


Tue, 06 Apr 2004 14:39:05 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/cma_fe.h

	add missing include guard. Reported by Raimar Falke


Mon, 05 Apr 2004 03:11:26 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po

	This is my last contribution to the Freeciv project. I hereby donate my
	dutch translation work to anyone who feels competent enough to take it.
	I don't have the time anymore.

	Success to all of you folks!


Sun, 04 Apr 2004 07:49:10 -0700  vasc:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Improved worklist dialog:
	 - The current production of a city is always displayed at the top of the
	   worklist. Uses new functionality in client/.
	 - Added new SHIFT+Insert shortcut for new prepend action.
	 - Added prepend, bubble up, bubble down, append buttons.

	Added a buy button to the overview pane.

	Changed the mnemonic of the Trade Routes pane to not clash with the mnemonics
	in the production tab.

	Resolves PR#4340 reported by Per I. Mathisen <per@leftist.net>,
	Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 04 Apr 2004 07:22:12 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	PR#8456: Add missing _()'s to GTK+ 2.x client.

	Patch by Mateusz Stefek <mstefek@poczta.fm>.


Sat, 03 Apr 2004 13:29:54 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/Makefile.am
	   M /trunk/client/gui-win32/citydlg.c
	   A /trunk/client/gui-win32/cma_fe.c
	   A /trunk/client/gui-win32/cma_fe.h

	Sync with gtk client, fixes PR#6454


Sat, 03 Apr 2004 08:26:23 -0800  vasc:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	PR#4447: add traderoute info to tile popup.

	Based on original patch by Andreas Rosdal <andrearo@stud.ntnu.no>.


Sat, 03 Apr 2004 06:17:17 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Fri, 02 Apr 2004 17:57:22 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	PR#3712 addition: add client option to display worklist task icons.

	Based on a comment by Raimar Falke <i-freeciv-lists@rf.risimo.net>.


Fri, 02 Apr 2004 16:25:42 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Don't check if units are obsoleted improvements.

	Bug reported by Raimar Falke <i-freeciv-lists@rf.risimo.net>.


Fri, 02 Apr 2004 05:49:25 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Remove some of the old cruft dating back to the time this code was originally
	made for GTK+ 1.0 and GTK+ 1.2. Namely the gtk_set_label and
	gtk_accelbutton_new wrappers. Now the native functions are good enough.


Fri, 02 Apr 2004 05:08:52 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#4374: show distance in goal tech menu at science dialog.

	Requested by Yann Dirson <ydirson@altern.org>, forwarded from Debian bug
	tracking system by Jordi Mallach <jordi@sindominio.net>.


Fri, 02 Apr 2004 05:03:59 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	PR#3712: add icons to worklist entries.

	Based on the original GTK+ 1.2 patch by Daniel L Speyer <dspeyer@wam.umd.edu>,
	changed by me to use icons instead of colors, use the GTK+ 2.2 API, etc.


Fri, 02 Apr 2004 03:19:19 -0800  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Add two new veteran levels (PR#7392).


Fri, 02 Apr 2004 03:03:16 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	If A declares war against B, and B is allied to C and A and C are in the
	same team, C should break off alliance with B instead of declaring war
	against A, since the latter would cause a war inside a team, which is
	unacceptable. Patch by mateusz stefek <matusik_s@o2.pl> with changes by
	me.


Fri, 02 Apr 2004 02:42:32 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Make "AI love" when the AI breaks an alliance due to impatience drop to
	the lowest of zero or actual AI love. Before this, it just divided
	actual AI love by four, which could actually increase the AI love!
	Reported by Jason.


Fri, 02 Apr 2004 02:40:00 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix crash in stdinhand.c, where a user with no player could try to start
	a vote. Found by Andreas Røsda l<andrearo@stud.ntnu.no.


Thu, 01 Apr 2004 15:46:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/packhand.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Add "load" and "unload" commands to the client.  The user tells a unit to
	"load" onto a transporter; the client sends a load packet to the server,
	and the server loads the unit.  Currently the command has an entry in the
	orders menu; the load command will pick a transporter at random.  The
	interface allows GUIs to provide a more sophisticated UI if desired.

	Patch by me in PR#7667.


Thu, 01 Apr 2004 15:11:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec
	   M /trunk/doc/README.graphics

	Implement generalized darkness.  The tileset may specify any of several
	algorithms for drawing the darkness sprites.  These sprites are drawn
	between the first and second layer of terrain.

	Patch by me in PR#8434.


Thu, 01 Apr 2004 10:47:05 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	PR#7366: Add confirmation dialog upon an economy report improvement sell
	command.

	Requested by Hunter L. Cook <hunter@tranquility.net>.


Thu, 01 Apr 2004 03:45:19 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Wed, 31 Mar 2004 17:28:56 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/chatline.c

	PR#3470: don't scroll if the user is reading the backlog.

	Patch by Arnstein Lindgard <a-l@c2i.net>.


Wed, 31 Mar 2004 17:20:20 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/chatline.c

	PR#3470: don't scroll if the user is reading the backlog.

	Based on the original GTK+ 1.2 client patch by Arnstein Lindgard <a-l@c2i.net>.


Wed, 31 Mar 2004 16:18:46 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Double-click on a player with the left mouse button causes the intel dialog
	to popup, double-click with the right mouse button causes the meeting dialog
	to popup. Feature (PR#6798).

	Based on a suggestion by Jason Dorje Short <jdorje@users.sourceforge.net>,
	Christian Knoke <chrisk@cknoke.de>, Raimar Falke <rf13@inf.tu-dresden.de>.


Wed, 31 Mar 2004 14:43:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Fix (PR#8431): city dialog unit section is too short.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 31 Mar 2004 14:03:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Changed mnemonic for the "Change" menu from 'c' to 'g' to not clash with the
	"Close button" mnemonic. Fixes (PR#7419).

	Bug reported by Kenn Munro <kenn@cyberbeach.net>.


Wed, 31 Mar 2004 11:47:13 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/wldlg.c

	Patch (PR#4401): Fix UI bug when changing worklist after buying.

	Patch by Cameron Morland <cameron@morland.ca>.


Wed, 31 Mar 2004 10:44:55 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Forgot to set policy to AUTOMATIC on vertical size too large rather than NEVER
	on the unit select dialog.


Wed, 31 Mar 2004 10:42:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Turns out offsets are negative. This fixes a nasty bug in isotrident view.

	Bug reported by Jason Short <jdorje@users.sourceforge.net>.


Wed, 31 Mar 2004 07:09:10 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	(PR#8427): show units immediately after the unit they are transported by.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 31 Mar 2004 07:05:30 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Use a tree to diplay the units in a tile, this way you can easily see if
	they are being transported.


Tue, 30 Mar 2004 22:02:33 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po


Tue, 30 Mar 2004 15:29:17 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Tue, 30 Mar 2004 11:07:32 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Don't die in tilespec_read_toplevel if the tileset info can't be read.
	Instead return FALSE and let the caller deal with it.  When first loading
	the tileset we still can't do anything other than die.  But when switching
	tilesets at runtime we can now easily switch back to the original tileset.

	Patch by me in PR#8406.


Tue, 30 Mar 2004 11:00:16 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Send punit->transported_by to the client.

	Patch by me in PR#8393.


Tue, 30 Mar 2004 10:12:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec
	   M /trunk/doc/README.graphics

	Make the drawing system fully layered.  Each layer now has its match
	type and cell type specified separately.  Existing tilesets and
	documentation are updated.

	Patch by me in PR#8412.


Mon, 29 Mar 2004 18:01:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h

	Remove the pixmap_put_sprite_full function from GTK and GTK2 clients.

	Patch by me in PR#8359.


Mon, 29 Mar 2004 15:37:35 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	Added diplomatic relations information to the intelligence dialog, plus some
	UI re-layout.

	Solves (PR#5478). Reported by Per I. Mathisen <per@leftist.net>.


Mon, 29 Mar 2004 11:29:32 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Fix decrease_unit_hp_smooth.  Previously the server had been sending out
	a unit info packet which updated the units' HP before the combat info
	packet was sent out.  Thus the client didn't know the original HP at the
	time the combat was done.  Now the unit info packet is sent before the
	combat is done so the original HP are reported.

	See PR#7616.  Patch by me.


Mon, 29 Mar 2004 11:23:38 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Configure the civ and ser scripts independently.  This fixes a problem
	where they were made executable more than once.

	Reported by Mike Kaufman in PR#8407.  Patch by me.


Mon, 29 Mar 2004 11:17:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Do arrow-key scrolling in GUI coordinates.  Now the mapview scrolls a
	half-screen at a time, with no possibility for zig-zagging.

	Issued as PR#8405.


Mon, 29 Mar 2004 10:52:54 -0800  jdorje:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Make sure the username returned by user_username is sane and not too long.

	Patch by me in PR#8385.


Sun, 28 Mar 2004 10:33:29 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident.tilespec

	Fix two problems with blending:
	  - Jungle should be blended in iso-view.
	  - Blending should only be done when both bordering terrains call for it.

	Patch by me in PR#8392.


Sat, 27 Mar 2004 15:16:14 -0800  jdorje:

	Changed paths:
	   M /trunk
	   M /trunk/.cvsignore

	Add "civ" and "ser" to .cvsignore.


Sat, 27 Mar 2004 13:55:57 -0800  vasc:

	Changed paths:
	   M /trunk/m4/gtk2-client.m4

	Remove deprecated feature test macros. Or the client will not compile in
	GTK+ 2.4.x.


Sat, 27 Mar 2004 11:08:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Allow GUI coordinates to wrap by introducing a normalize_gui_pos function.
	This function is implemented in the "simple way" by wrapping in native
	coordinates with a conversion to and from GUI coordinates.

	Patch by me as part A of PR#8299.


Sat, 27 Mar 2004 10:44:16 -0800  jdorje:

	Changed paths:
	   D /trunk/civ
	   A /trunk/civ.in
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   D /trunk/ser
	   A /trunk/ser.in

	Allow the civ and ser scripts to work out of a builddir.  These scripts
	must be generated by configure and must look for their data in the
	srcdir.

	Patch by me in PR#8387.


Sat, 27 Mar 2004 08:39:21 -0800  jdorje:

	Changed paths:
	   M /trunk/autogen.sh

	Allow autogen.sh to be run with a separate builddir and srcdir.

	Patch by me in PR#8386.


Fri, 26 Mar 2004 11:30:53 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Remove old debug log call.


Fri, 26 Mar 2004 11:20:27 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Don't give away land map for free when AI has lost all cities but not
	yet dead. Bug reported by Mikolaj Konarski <mikon@mimuw.edu.pl>. We now
	always assume we have at least 3 cities for purposes of map
	worth calculation.


Fri, 26 Mar 2004 11:14:26 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	AI will be more careful about giving away shared vision when it
	means non-allies can get it through other players. Patch by Mateusz
	Stefek (PR#6683). Also fix small bug in embassy sharing.


Fri, 26 Mar 2004 10:11:32 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Cease-fire ends after the turn in which it has counted down to 1.
	Implements PR#6473 by Jason.


Fri, 26 Mar 2004 10:02:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix map_canvas_resized: it now returns TRUE iff the whole canvas was
	redrawn during the (possible) resize.  This fixes bugs in the expose
	events for the mapview in GTK and XAW clients.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#8262.  Patch by me.


Fri, 26 Mar 2004 09:50:33 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Cascading war declarations no longer destroy the reputation of allies,
	and the sudden drop into war only gives one check for revolution due to
	Senate. Implements (PR#5103).


Fri, 26 Mar 2004 09:31:55 -0800  per:

	Changed paths:
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	Add AI diplomacy variables to savegame. Fixes PR#7268.


Fri, 26 Mar 2004 08:59:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Center_tile_mapcanvas using GUI coordinates.  This is simpler and more
	accurate.  center_tile_mapcanvas is now the proper inverse of
	get_center_tile_mapcanvas.

	Patch by me in PR#8358.


Fri, 26 Mar 2004 08:45:13 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Mark vote option text as no-c-format for l18n. Patch by Genevieve
	Gracian.


Thu, 25 Mar 2004 15:29:08 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/mapview.c

	gui-win32: Instead of using a premade fog sprite, combine a sprite mask with
	a stipple mask to draw fog.

	Patch by me as PR#8215.


Thu, 25 Mar 2004 10:31:19 -0800  jdorje:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/utility/shared.c

	When compiling on Win32 use the GetUserName function to find a username,
	rather than just using the fallback username "name".

	Patch by James Canete in PR#2102, with style and comment changes by me.


Tue, 23 Mar 2004 22:18:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/include/graphics_g.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/terrain1.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec

	- Extend crop_sprite() to take an addition mask to crop by.  If present,
	  the newly-cropped sprite is additionally limited by this mask.
	- Change the drawing of the blending (dither) code.  Now the sprites used
	  for blending are cropped using the dither mask when the tileset is
	  loaded.  This means at drawing time no special-casing is needed for
	  these sprites.

	Issued as PR#7612.  Win32 fixes by James Canete.


Tue, 23 Mar 2004 21:39:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Fix some bad checks for empty strings.

	Reported by Raimar Falke in PR#7942.  Patch by Vasco Alexandre Da Silva
	Costa, with style changes by me.


Mon, 22 Mar 2004 12:58:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/ruleset.c

	Allow the ruleset to specify the foodbox system (granary sizes) more
	flexibly.

	Patch by James Canete as PR#6973, with style, comment, and grammar changes
	by me.


Mon, 22 Mar 2004 11:34:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix the drawing of darkness sprites: they must be drawn below specials.

	Patch by me as part of PR#8128.


Mon, 22 Mar 2004 11:25:27 -0800  rfalke:

	Changed paths:
	   M /trunk/configure.in

	Fix an error in the ftime commit from "Wed Mar 17 16:26:19 2004". The
	error causes autogen.sh to fail.


Fri, 19 Mar 2004 12:22:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Introduce GUI coordinates.

	GUI coordinates have canvas (pixel) resolution, but cover the entire map.
	map(0,0) is equivalent to gui(0,0).  A gui position may wrap and be
	clipped (just like the map does).  GUI positions are now used for all
	mapview centering operations as well as mapview scrolling.

	One side effect of this is that there are no more EXTRA_BOTTOM_ROW
	problems.  Another is that scrolling works properly for all combinations
	of map and mapview.

	Patch by me in PR#7445.


Fri, 19 Mar 2004 10:47:23 -0800  jdorje:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h

	Don't build a dsend function for a packet unless the packet specifically
	requests it.  Packets with string arrays should not use dsend packets
	since the packet generator does not support them.

	Patch by Raimar Falke in PR#8149.


Thu, 18 Mar 2004 12:00:24 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident/terrain1.spec

	Handle drawing of darkness in iso-view via a special "darkness" sprite
	rather than by blending.  Currently the darkness sprite is the same as
	the blend mask sprite.

	Patch by me in PR#8128.


Wed, 17 Mar 2004 08:26:19 -0800  jdorje:

	Changed paths:
	   M /trunk/common/timing.c
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/utility/timing.c

	If gettimeofday is not available, try to use ftime to track user time for
	the timing code.

	Reported by James Canete as PR#8073.  Patch by me.


Wed, 17 Mar 2004 01:10:57 -0800  jcanete:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h

	Cleanup of gui-win32.  Removed two functions and three variables that are
	made redundant by the common canvas code.

	Fixes PR#7778.


Tue, 16 Mar 2004 16:22:44 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Make sure handle_stdin_input has enough arguments.

	Patch by James Canete <use_less@ignmail.com> under PR#7858.


Tue, 16 Mar 2004 12:24:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a bug drawing a drawn_sprite.  This causes flags to be overwritten in
	iso-view.

	Patch by me as PR#8069.


Tue, 16 Mar 2004 06:47:39 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix problem with voting for /set commands. Reported by James Canete.


Tue, 16 Mar 2004 06:42:40 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix bug in voting code involving multiple words commands, patch by James
	Canete as PR#7895.


Mon, 15 Mar 2004 17:00:39 -0800  jdorje:

	Changed paths:
	   D /trunk/data/isotrident/flags.png
	   D /trunk/data/isotrident/flags.spec
	   D /trunk/data/trident/flags.png
	   D /trunk/data/trident/flags.spec

	Remove the unused flags.* files from trident and isotrident rulesets.

	See PR#4832.


Mon, 15 Mar 2004 13:57:34 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	When deleting a unit, only reset the AI role if it has a role.

	Patch by me in PR#7912.


Sun, 14 Mar 2004 22:30:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-stub/mapview.c

	Bring gui-stub up to date, and clean up a few comments.


Sun, 14 Mar 2004 22:14:39 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Clean up the canvas math in move_unit_map_canvas.

	Patch by me as PR#7911.


Sun, 14 Mar 2004 22:05:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Run unit movement animations in real-time instead of in discrete animation
	steps.  Now the user specifies the animation time rather than the number
	of steps the animation is to take, and the client slides the unit to keep
	up.

	Patch by me as PR#7860.


Sun, 14 Mar 2004 21:35:28 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h

	Remove the unused function pixmap_put_black_tile.

	Issued as PR#7913.


Sat, 13 Mar 2004 11:07:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c

	Remove draw_unit_animation_frame.  Do the frame drawing directly from
	move_unit_map_canvas in mapview_common.

	Issued as PR#7859.


Sat, 13 Mar 2004 10:56:32 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c

	Remove the unused function really_draw_segment.

	Patch by me as PR#7857.


Thu, 11 Mar 2004 22:20:32 -0800  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	When an alliance is broken tell the clients to remove all units that
	may have become hidden.  This prevents ghost units and segfaults at the
	client end.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as part of PR#7408; updated by
	me.


Thu, 11 Mar 2004 21:50:48 -0800  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Generalize the get_tile_value function.  Now instead of hard-coding some
	very inaccurate "values" for the terrains, we calculate the value using
	a moderately inaccurate algorithm.

	Issued as PR#7548.


Thu, 11 Mar 2004 20:57:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/colors_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move draw_segment and its helper functions into mapview_common.  This means
	goto lines are now always buffered.

	Issued as PR#7726.


Thu, 11 Mar 2004 06:58:19 -0800  per:

	Changed paths:
	   M /trunk/server/handchat.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h

	Voting command added. Info cmdlevel players can now execute ctrl
	cmdlevel commands through putting the command to a vote. New server
	command: /vote yes|no <vote no.>


Wed, 10 Mar 2004 14:14:27 -0800  rfalke:

	Changed paths:
	   M /trunk/configure.in

	Add a check for the 'ar' compilation program also to configure.in.

	Reported as PR#7506.


Tue, 09 Mar 2004 11:10:42 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c

	Rename some functions:

	- canvas_store_create => canvas_create
	- canvas_store_free => canvas_free
	- gui_put_sprite => canvas_put_sprite
	- gui_put_sprite_full => canvas_put_sprite_full
	- gui_put_rectangle => canvas_put_rectangle
	- gui_put_line => canvas_put_line
	- gui_copy_canvas => canvas_copy

	Patch by James Canete <use_less@ignmail.com> as part of PR#7517, with
	changes by me.


Mon, 08 Mar 2004 23:17:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Fix drawing to bitmapped surfaces in put_one_tile_iso.

	Patch by James Canete <use_less@ignmail.com> as PR#7725.


Sun, 07 Mar 2004 23:20:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/graphics.h
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	- Rename "struct canvas" as "struct mapview_canvas".
	- Rename "struct canvas_store" as "struct canvas".
	- Rename "pcanvas_store" variables as "pcanvas".

	Patch by me as part of PR#7517.


Sun, 07 Mar 2004 19:00:22 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Remove the assign_units_to_transporter system.  Now instead of reassigning
	all units on a tile every time anything happens on that tile, we preserve
	the transporter information for a unit.  Units may be loaded when they are
	sentried or moved onto a tile.  They may be unloaded when they are
	activated or moved off of a tile.  At other times the units will remain on
	the transporter that they're put on.

	Patch by me under PR#6174.


Sun, 07 Mar 2004 18:24:36 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c

	Move decrease_unit_hp_smooth into mapview_common.  Now the single_tile
	canvas is allocated by the common client code.

	Patch by me as PR#7447.


Sun, 07 Mar 2004 18:17:20 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/plrdlg.c

	Work around some compile-time warnings in gui-win32.

	Patch by me as PR#7614.


Sun, 07 Mar 2004 18:15:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Rename the "blend" field in the terrain_drawing_data struct to "match".

	Patch by me as PR#7606.


Sat, 06 Mar 2004 11:18:12 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Remove an incorrect assertion from handle_city_info.  Instead do a full
	check for can_player_see_units_in_city.

	Reported by Remi Bonnet <remi.bonnet@laposte.net> as PR#7555.  Patch by me.


Sat, 06 Mar 2004 03:13:05 -0800  per:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/options.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/events.h
	   M /trunk/server/diplhand.c

	Add exchange of embassies as a diplomacy option. Support is only added
	for gtk2 client, client maintainers are expected to add support to their
	respective clients on their own. AI support will be added later.


Fri, 05 Mar 2004 11:01:20 -0800  per:

	Changed paths:
	   M /trunk/common/log.c
	   M /trunk/utility/log.c

	Cosmetic fixes and improve a string check.


Fri, 05 Mar 2004 10:57:19 -0800  per:

	Changed paths:
	   M /trunk/server/console.c
	   M /trunk/server/gamelog.c

	Improve a string check.


Fri, 05 Mar 2004 10:16:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c

	Move the drawing of the city dialog map into citydlg_common.  A single
	function city_dialog_redraw_map is created to do the work.  A new GUI
	function put_one_tile_iso is created, and called from the common drawing
	code.

	Patch by me as PR#7560.


Fri, 27 Feb 2004 13:24:30 -0800  jdorje:

	Changed paths:
	   M /trunk/data/trident_shields.tilespec

	Update trident_shields to work with recent changes to the tileset
	metadata.

	Patch by me as PR#7535.


Fri, 27 Feb 2004 10:31:39 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/doc/README.graphics

	Generalize the drawing algorithm used in iso-view for ocean coasts.  This
	method may now be used for any terrain, and in orthogonal view (untested).

	Patch by me as PR#7534.


Fri, 27 Feb 2004 08:30:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/include/colors_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move pixmap_frame_tile_red into mapview_common.  Rename it as
	put_red_frame_tile.

	Patch by me as PR#7531.


Fri, 27 Feb 2004 03:39:02 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Remove never-implemented server command 'rename'.


Fri, 27 Feb 2004 03:37:47 -0800  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Make 'experimental' command available in non-debug builds.


Thu, 26 Feb 2004 16:14:01 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/Makefile.am
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/flags.png
	   A /trunk/data/misc/flags.spec
	   M /trunk/data/trident/Makefile.am
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Merge flags from trident, isotrident, and trident_shields tilesets into
	misc/flags.  The graphics are taken directly from trident, and the tileset
	is able to specify the offset to use when drawing the flag.

	See PR#4832.


Thu, 26 Feb 2004 05:38:45 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new function get_overview_window.  Use this to recover the overview
	window canvas instead of tracking the value globally.  This allows things
	to work when the window moves.

	Reported as PR#7499.  Patch by me.


Thu, 26 Feb 2004 05:32:20 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Add a check for the 'ar' compilation program.  Configure fails if it is
	not present.  The check is only done under recent versions of autoconf.

	Reported by Raimar Falke as PR#7506.  Patch by me.


Thu, 26 Feb 2004 05:19:47 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Move is_good_tile() into mapgen.c, and rename it as get_tile_value().

	Patch by me as PR#7514.


Wed, 25 Feb 2004 20:05:10 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.h

	Replace some hard-coded numbers with references to CITY_MAP_RADIUS,
	CITY_MAP_SIZE, or CITY_TILES.

	Patch by Remi Bonnet <remi.bonnet@laposte.net> as part of PR#7350.


Wed, 25 Feb 2004 19:24:16 -0800  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Improve the documentation of consider_settler_action.

	Patch by James Canete <use_less@ignmail.com> as part of PR#7249.


Wed, 25 Feb 2004 19:12:55 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Make sure every unit contains exactly the same fields.  Without this, the
	registry code becomes confused and gives an obscure warning message.

	Reported by lots of people as PR#7265.  Patch by me.


Wed, 25 Feb 2004 15:02:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move put_city_tile_output into mapview_common.

	Issued as PR#7502.


Wed, 25 Feb 2004 13:48:39 -0800  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Wed, 25 Feb 2004 12:23:50 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/unit.c
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Complete the commit for PR#7236.  Originally only the client/ directory
	was committed.


Wed, 25 Feb 2004 12:09:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-mui/worklistclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/wldlg.c

	Rather than accessing unittype->build_cost and impr->build_cost directly,
	access them via wrappers: unit_build_shield_cost, unit_buy_gold_cost,
	unit_disband_shields, impr_build_shield_cost, impr_buy_gold_cost,
	impr_sell_gold.  Behavior is unchanged except for the occasional bugfix.

	Patch by James Canete <use_less@ignmail.com> as PR#7236.  Some changes by
	Raimar Falke.  Comments and style changed by me.


Wed, 25 Feb 2004 10:14:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Merge terrain drawing from iso and non-iso view into one function,
	fill_terrain_sprite_array.

	Patch by me as PR#7497.


Wed, 25 Feb 2004 08:13:29 -0800  jdorje:

	Changed paths:
	   M /trunk/common/player.c

	Fix a silly bug in PR#7451.

	Reported by Mateusz Stefek.


Tue, 24 Feb 2004 15:52:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/autoattack.c
	   M /trunk/server/unittools.c

	Remove player_can_see_unit and player_can_see_unit_at_location, and fold
	their functionality into can_player_see_unit_at.  Add a new function
	can_player_see_unit, a simple wrapper for can_player_see_unit_at.  Change
	existing callers of the removed functions to use one of the two remaining
	functions.

	Patch by me as PR#7451.


Mon, 23 Feb 2004 23:43:14 -0800  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c

	When creating barbarians, make sure we operate on the tile the barbarians
	are on rather than a random adjacent tile.

	Fix by Mateusz Stefek <mstefek@poczta.fm> as part of PR#7408.


Mon, 23 Feb 2004 21:20:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/graphics_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident/nuke.spec
	   M /trunk/data/trident/tiles.spec

	Put put_nuke_mushroom_pixmaps into mapview_common.  Also change
	non-iso-view nuke drawing to use a single sprite, like iso-view does.

	Issued as PR#7461.


Mon, 23 Feb 2004 17:03:41 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	When a city is lost and units are rehomed, make sure all of the new
	homecities belong to the player who owns the unit.

	Reported by Genevieve Gracian <ggracian@free.fr> as PR#7413.  Patch by me.


Mon, 23 Feb 2004 12:03:56 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/diplodlg.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-stub/mapview.c

	Make gui-stub compile again.


Mon, 23 Feb 2004 01:31:14 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	fix overview window


Mon, 23 Feb 2004 00:51:58 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	draw map again with non-iso tiles, but reported by Nathan Kleger


Sun, 22 Feb 2004 21:31:21 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/map.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/settlers.c

	Remove T_RIVER and the ruleset control of river generation.  Now rivers
	are always a special (S_RIVER).  A new terrain flag CanHaveRiver is
	introduced; this allows the same behavior to be reproduced.

	Patch by me as PR#7259.


Sun, 22 Feb 2004 19:30:02 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	When orders are canceled, make sure we tell the clients.

	Patch by me as part of PR#7434.


Sun, 22 Feb 2004 14:32:57 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aitools.c
	   M /trunk/common/city.h

	Introduce need_boat field to the ai_choice struct.  This field indicates
	that the unit that the city wants to build will need a boat.
	Presently the city will still try to build a boat first, but hopefully
	we will change that soon.

	Patch by Joshua Hudson, part of (PR#6567).


Sun, 22 Feb 2004 11:24:58 -0800  kauf:

	Changed paths:
	   M /trunk/client/tilespec.c

	fix client crash when switching tilesets.

	Patch by Jason.


Sun, 22 Feb 2004 09:32:07 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Fix a bug when transfering a unit between homecities.

	Reported by Benoit Hudson <bh@techhouse.brown.edu> as PR#7463.  Patch by
	me.


Sat, 21 Feb 2004 23:31:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Fix a bug in the drawing of dithered, fogged sprites in gui-win32.

	Bug introduced by PR#7428.  Patch by James Canete <use_less@ignmail.com>
	as PR#7464.


Sat, 21 Feb 2004 14:15:04 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new function put_unit_city_overlays to mapview_common.  Call this
	function from the GUI code to draw the unit overlays used by the
	city dialog.

	Patch by me as PR#7449.


Sat, 21 Feb 2004 10:49:04 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po + several modifs from G. Lurguet


Fri, 20 Feb 2004 07:57:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec

	In the terrain information in the tileset, specify which mine sprite
	(tx.mine or tx.oil_mine) to use.

	Patch by me as PR#7440.


Thu, 19 Feb 2004 22:42:28 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	Fix an incorrect message string when the player popups information about a
	city.

	Patch by me as PR#7438.


Thu, 19 Feb 2004 13:06:42 -0800  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplhand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c

	Make sure we free all list nodes before we quit or restart, and do not
	initialize players twice on start in the server only.


Thu, 19 Feb 2004 12:01:07 -0800  jdorje:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Pass the unit's transporter to create_unit_full.  That way when barbarians
	are created and put on a transporter, the first send_unit_info will know
	about the transporter and won't send their info to players who can't see
	them.

	Bug found by Mateusz Stefek <mstefek@poczta.fm> in PR#7408.  Patch by me.


Thu, 19 Feb 2004 10:23:15 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c

	Also update the unit if the index into the order list changes.

	Patch from Jason Short in PR#7434.


Thu, 19 Feb 2004 10:18:17 -0800  rfalke:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Merge can_player_see_unit_at and can_player_see_unit_at2 into
	can_player_see_unit_at. The original can_player_see_unit_at was only
	used by can_player_see_unit_at2.

	Patch from Jason Short in PR#7433.


Thu, 19 Feb 2004 06:11:43 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	add a missing ,


Wed, 18 Feb 2004 16:47:15 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Remove special-case drawing of oceans from the GUI code.  Oceans are now
	put into the sprite array and drawn just like other terrain sprites.  The
	cell-based drawing of oceans is still special-cased in the tilespec code.

	Patch by me as PR#7428.


Wed, 18 Feb 2004 14:26:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/data/scenario/earth-160x90-v2.sav
	   M /trunk/data/scenario/earth-80x50-v2.sav
	   M /trunk/server/maphand.c
	   M /trunk/server/savegame.c

	Remove map.is_earth value.  Instead, savegames (scenarios) can specify a
	specific sprite to use as the terrain for a tile.  Old earth scenarios
	are updated so that the Denmark tiles are still drawn specially.

	Patch by me as PR#7416.


Wed, 18 Feb 2004 13:06:43 -0800  jdorje:

	Changed paths:
	   M /trunk/data/scenario/british-isles-85x80-v2.80.sav
	   M /trunk/data/scenario/europe-200x100-v2.sav
	   M /trunk/data/scenario/iberian-peninsula-136x100-v1.0.sav

	Fix the topology_id and is_earth values for scenarios.

	Patch by me as PR#7429.


Wed, 18 Feb 2004 11:00:09 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	compile fix


Wed, 18 Feb 2004 07:33:16 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	Fix the mapview popup text to account for DS_TEAM.

	Patch by Mateusz Stefek <mstefek@poczta.fm> as PR#7437.


Tue, 17 Feb 2004 18:26:35 -0800  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	Client goto shouldn't be omniscient even if the player is ai-controlled.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@math.tamu.edu> as PR#7381.


Tue, 17 Feb 2004 18:20:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Unify some mapview code for resizing the mapview.

	Patch by Raimar Falke as PR#7375.


Tue, 17 Feb 2004 12:12:11 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Fix the spelling of "scoundrel".

	Reported by Ole Laursen <olau@cs.auc.dk> as PR#7432.


Mon, 16 Feb 2004 20:53:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/capstr.c
	   M /trunk/common/map.h
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/data/isotrident/terrain1.spec
	   M /trunk/data/isotrident/terrain2.spec
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/doc/README.graphics

	Put more drawing information into the tilesets.  The tileset now specifies
	whether a particular terrain is dithered, layered, or matched.  This is
	documented in doc/README.graphics.

	Patch by me as PR#7261.


Mon, 16 Feb 2004 14:55:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Implement a dirty/flush system for the map overview.  This should make
	updates faster and more correct.

	Patch by Raimar Falke under PR#7385.


Sun, 15 Feb 2004 16:24:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Don't set the unit focus before the game starts.

	Reported by Martin Schroder <martin@oneiros.de> as PR#7425.


Sun, 15 Feb 2004 10:23:03 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Make ai_manage_ferryboat loop to ensure that if a passenger-in-charge left
	the boat, other passengers have a chance to drive.

	Patch by Joshua Hudson and myself.


Fri, 13 Feb 2004 18:36:48 -0800  jdorje:

	Changed paths:
	   M /trunk/common/player.c

	Fix typo in PR#5465 commit.


Fri, 13 Feb 2004 18:27:24 -0800  jdorje:

	Changed paths:
	   M /trunk/common/player.c

	Show units in transporters if the transporter's owner is allied with us.
	Previously the check was for shared vision.

	Patch by me as part of PR#5465.


Fri, 13 Feb 2004 18:21:26 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/common/dataio.c
	   M /trunk/common/improvement.h
	   M /trunk/common/unittype.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/cityhand.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/diplomats.h
	   M /trunk/server/ruleset.c

	Replace "int" with "Impr_Type_id" in a bunch of places.  Fix a few compiler
	warnings caused by this.

	Patch by Raimar Falke and myself as PR#6871.


Fri, 13 Feb 2004 18:12:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c

	Allow CMA weights to be zero.

	Patch by me under PR#6918.


Fri, 13 Feb 2004 18:01:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Don't set the unit focus if we're not playing a game.

	Patch by me as part of PR#6923.


Fri, 13 Feb 2004 14:09:18 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Don't grant a player free techs (based on "techlevel") every time a game
	is loaded.

	Reported by many people as PR#6282.


Fri, 13 Feb 2004 01:24:41 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Improve the scrolling of the mapview on an isometric map.

	Patch by Gregory Berkolaiko and myself as PR#7384.


Thu, 12 Feb 2004 23:57:58 -0800  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am

	Add packets_gen.[ch] to BUILT_SOURCES.  This fixes a potential problem
	with out-of-order compilation.

	Patch by me as PR#7390.


Thu, 12 Feb 2004 11:50:29 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Fix a memory leak in remove_city_virtual.

	Patch by Per as PR#7401.


Wed, 11 Feb 2004 22:50:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Draw the orders route in the client when the user middle-clicks on a unit.
	Support for GTK, GTK2, and XAW clients only.

	Issued as PR#7393.


Sun, 08 Feb 2004 13:56:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c

	Don't tell people investigating a city with a spy is free, since it's not.

	Reported by "Caspar" <caspar-freeciv@cbothmer.org> as PR#6986.  Patch by
	me.


Sun, 08 Feb 2004 11:00:00 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Sun, 08 Feb 2004 09:38:01 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Fix a bug in the PR#7316 patch which causes the wrong sensitive states
	of the government buttons in the GTK1 client.

	Patch by David Stewart.


Sun, 08 Feb 2004 03:59:13 -0800  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/stdinhand.c

	New server option 'revolen' control the number of turns it takes to
	finish a revolution. Patch by Tarje Bargheer <tarje@arklint.dk> with
	style changes.


Sat, 07 Feb 2004 12:20:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/repodlgs.c

	Fix typo bug in XAW client.


Sat, 07 Feb 2004 03:49:44 -0800  rfalke:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/common/capstr.c
	   M /trunk/common/events.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c

	Create a new event named E_CITY_PRODUCTION_CHANGED which is sent when
	the production of a city changes.

	Rename the event from E_UNIT_BUILD to E_UNIT_BUILT.

	Patch from Jason Short in PR#7232 with changes from me.


Sat, 07 Feb 2004 03:16:50 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.h
	   M /trunk/server/unittools.c

	Send the orders of a unit back to the client. This will enable the
	client to show the orders and to draw the correct info-sprite for
	them.

	Patch from Jason Short in PR#7357 with capability added by me.


Sat, 07 Feb 2004 02:55:20 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/common/unit.c
	   M /trunk/server/diplomats.c

	Misc style issues from another patch.


Fri, 06 Feb 2004 15:35:31 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset

	Set triremes to sink on the high seas 50% of the time in Civ1, Civ2, and
	Default rulesets.  The History ruleset is untouched and still has no
	veteran support.

	Reported by Genevieve Gracian <ggracian@free.fr> as PR#7364.  Patch by
	Per and myself.


Fri, 06 Feb 2004 12:00:32 -0800  glip:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/map.h

	Enable iso maps.

	3 short words for a man, a huge new chapter for Freeciv.

	Jason has a reason to celebrate, issued as (PR#7380).


Thu, 05 Feb 2004 17:22:42 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Thu, 05 Feb 2004 17:01:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-mui/gamedlgs.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Make sure loops over the client options list are properly terminated.  This
	was broken in PR#7079.

	Reported by "Eugene" <eugene3@web.de> as PR#7323.  Patch by me.


Thu, 05 Feb 2004 12:28:41 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c

	Prevent most conflicts of orders and AI control.  Now orders should have
	precedence over AI control.

	See PR#7324.


Thu, 05 Feb 2004 12:20:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Fix broken code (introduced by PR#7333 and PR#7334) that prevented goto
	lines from being drawn.

	Issued as PR#7356.


Thu, 05 Feb 2004 00:23:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/packhand.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/citytools.c

	Add two new functions, can_player_see_units_in_city and
	can_player_see_city_internals.  Call these functions in the right places
	to make the logic of cities consistent.

	Issued as PR#7341; this also fixes PR#7327.


Thu, 05 Feb 2004 00:05:05 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.c

	Remove a check of is_valid_city_coords from tile_update_owner.  Therefore
	update_city_tile_status_map is now able to accept out-of-city-range tiles.

	Patch by Remi Bonnet <remi.bonnet@laposte.net> as PR#7332 with changes by
	me.


Wed, 04 Feb 2004 23:51:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c

	Make sure the current science goal is shown as one of the possible goals
	in the science dialog (even if it takes more than 11 steps to get there).

	Reported by "az" <az@ftc.ru> as PR#6944.  Patch by me.


Wed, 04 Feb 2004 12:06:12 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Adapt the GTK2 client to the new "overview unification" code change.

	Reported by Remi Bonnet <remi.bonnet@laposte.net> in PR#7377. Patch
	from me.


Tue, 03 Feb 2004 12:37:28 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Fix a bug in the PR#7316 patch which causes the wrong government to be
	selected in the GTK1 client.

	Reported by David ???.


Tue, 03 Feb 2004 12:21:15 -0800  rfalke:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/common/aicore/aisupport.c
	   M /trunk/common/aicore/aisupport.h
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/trident/tiles.spec

	Truncate lines which only contain 80 spaces to length 0.

	Patch in PR#7373.


Tue, 03 Feb 2004 12:16:08 -0800  rfalke:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Add three new graphic primitives:
	 - canvas_store_create: creates a new canvas store of the given size
	 - canvas_store_free: frees the given canvas store
	 - gui_copy_canvas: copies an area from one canvas store to another

	Move functions and so code from individual mapview.c files into
	mapview_common.c. The functions set_overview_dimensions,
	overview_update_tile and refresh_overview_canvas got
	moved. refresh_overview_viewrect got folded into
	refresh_overview_canvas. A new gui-specific callback map_size_changed
	was added to allow the gui to resize gui-elements.

	Only the XAW and GTK1 client were fully updated and tested.

	Patch from Raimar Falke in PR#7301.


Mon, 02 Feb 2004 04:35:44 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/mapctrl_common.c

	Add can_client_issue_orders() checks.

	Patch from Remi Bonnet <remi.bonnet@laposte.net> in PR#7367.


Mon, 02 Feb 2004 04:04:12 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c

	Change the win32 client to follow the recent change of the signature
	of popup_government_dialog().

	Patch from James Canete <use_less@ignmail.com> in PR#7362 with style
	changes from me.


Sun, 01 Feb 2004 23:23:46 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advspace.h
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/include/diplodlg_g.h
	   M /trunk/common/terrain.h
	   M /trunk/server/connecthand.h
	   M /trunk/server/spacerace.h

	Add required includes and declarations to compile the header files
	alone.


Sun, 01 Feb 2004 23:08:03 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Make the xaw client compile again. This was caused by the commit at
	"Fri Jan 30 07:20:39 2004":
	  Set the mapview canvas size to encompass the full width of the
	  backing store. This prevents a bug whereby resizing the widget
	  could expose tiles that were shown on the backing store but
	  weren't part of the canvas.

	  Issued as PR#7300.


Sun, 01 Feb 2004 17:48:48 -0800  glip:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Provide mapgen support for iso topology.  This is the final building block
	for the real iso view, huray!

	As usual the patch was provided by Jason, issued as (PR#7304).


Sat, 31 Jan 2004 09:52:42 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/unittools.c

	Team mates now share their research by default. You can opt out of this
	shared research by reducing treaty level to 'alliance'. Players also see
	how much they research for per turn in the research dialog, and also
	how much team mates contribute, if anything. For more info, see PR#4213.


Sat, 31 Jan 2004 09:51:23 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Remove a conditional AC_SUBST(ARFLAGS) that causes compilation to fail
	on most systems when using automake 1.8.

	Issued as PR#7347.


Sat, 31 Jan 2004 09:49:52 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/c99.m4
	   M /trunk/m4/debug.m4
	   M /trunk/m4/gettimeofday.m4
	   M /trunk/m4/gtk-client.m4
	   M /trunk/m4/gtk2-client.m4
	   M /trunk/m4/ngettext.m4
	   M /trunk/m4/no-client.m4
	   M /trunk/m4/readline.m4
	   M /trunk/m4/sdl-client.m4
	   M /trunk/m4/sound.m4
	   M /trunk/m4/win32-client.m4
	   M /trunk/m4/x.252

	Fix warnings when running automake 1.8.

	Issued as PR#7346.


Sat, 31 Jan 2004 09:26:24 -0800  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	Remove ruleset warnings in Civ1 ruleset from civil war nations. Patch by
	Jason.


Sat, 31 Jan 2004 09:22:44 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Remove feature 'reduce veteran level by one for each upgrade' added in
	veteran level patch. Reported by Christian Knoke.


Sat, 31 Jan 2004 08:58:18 -0800  per:

	Changed paths:
	   M /trunk/common/game.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/data/history/game.ruleset
	   M /trunk/server/cityturn.c
	   M /trunk/server/ruleset.c

	Make incite factors settable in ruleset. Patch by mateusz stefek
	<matusik_s@o2.pl>.


Sat, 31 Jan 2004 06:56:25 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/packhand.c

	Change the signature of popup_government_dialo. The caller now
	provides a list of governments to display. This removes specific
	knowledge about governments (like "don't diplay Anarchy as a choice")
	from the clients.

	The GTK1, GTK2 and XAW client were changed and tested. The SDL client
	was changed but not tested.

	Patch from Raimar Falke and Jason Short. See PR#7316.


Fri, 30 Jan 2004 23:21:50 -0800  jdorje:

	Changed paths:
	   M /trunk/common/improvement.c

	Replace several "int" value with "enum impr_range".

	Patch by Raimar Falke as PR#6872.


Fri, 30 Jan 2004 17:17:36 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Pass the unit type (not the unit id) to is_ground_unittype.

	Reported by several people as PR#7254.  Patch by James Canete
	<use_lessignmail.com>.


Thu, 29 Jan 2004 23:20:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c

	Set the mapview canvas size to encompass the full width of the backing
	store.  This prevents a bug whereby resizing the widget could expose tiles
	that were shown on the backing store but weren't part of the canvas.

	Issued as PR#7300.


Thu, 29 Jan 2004 17:36:14 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h

	Remove wrapper macros from the mapview code in gui-gtk-2.0.

	Issued as PR#7334.


Thu, 29 Jan 2004 17:33:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Fix a bug in previous PR#7333 commit.


Thu, 29 Jan 2004 17:16:41 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h

	Remove wrapper macros from the mapview code in gui-gtk-2.0.

	Issued as PR#7333.


Thu, 29 Jan 2004 11:48:00 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Disable buy button when nothing more to buy. Fixes (PR#6378).

	Bug reported by Remi Bonnet <remi.bonnet@laposte.net>, patch by
	Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 29 Jan 2004 07:04:00 -0800  ali:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/stdinhand.c

	turnblock defaults to ON.
	Closes PR#7086.


Wed, 28 Jan 2004 23:24:06 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	update


Wed, 28 Jan 2004 15:08:38 -0800  glip:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/unittools.c

	Various fixes for AI ferries.  In particular few exciting bugs have been
	fixed:
	* ferries should be able to serve settlers now.
	* ferries no longer go to _any_ passanger who wants a ride.  They only
	  pick up passangers of their own nation.
	* do counting properly.

	For more details, see (PR#7076).


Wed, 28 Jan 2004 13:36:48 -0800  glip:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/goto.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h

	Put more common code into pft_fill_default_parameter.  Call this function
	from every other pft_fill_*_parameter, instead of all over the code.
	 5 files changed, 20 insertions(+), 38 deletions(-)

	Patch by Jason, closes (PR#6960).


Wed, 28 Jan 2004 10:53:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h

	Remove macro wrappers from mapview code in gui-xaw.

	Issued as PR#7335.


Wed, 28 Jan 2004 10:03:15 -0800  jdorje:

	Changed paths:
	   M /trunk/common/nation.h
	   M /trunk/data/civ1/nations.ruleset
	   M /trunk/data/default/nations.ruleset
	   D /trunk/data/nation/misc_cities.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/srv_main.c

	Remove nation/misc_cities.ruleset.  Now when a nation's city names are
	exhausted, new names will be taken from other available nations - starting
	with nations listed as civil war nations of this nation and those who
	list this nation as one of their civil war nations.

	Idea by Morgan Jones <morgan.jones@paradise.net.nz> as PR#6965.  Patch by
	me.


Tue, 27 Jan 2004 22:02:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/common/events.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Fix the handling of failed orders:
	  - Free the route before returning to prevent the callers from continuing
	    to execute it.
	  - Send a notification message with a new event type to the player.

	Patch by me as PR#6931.


Tue, 27 Jan 2004 02:36:52 -0800  rfalke:

	Changed paths:
	   M /trunk/server/diplomats.c

	Change the creation of different strings by concatenation to really
	different strings. This helps translation.

	Patch by Mateusz Stefek <matusik_s@o2.pl> in PR#7330 with style
	changes by me.


Mon, 26 Jan 2004 22:48:12 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Rewrite create_start_positions to use a more efficient search algorithm.

	Patch by me as PR#7311.


Mon, 26 Jan 2004 11:09:09 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Kludge around GTK+ 2.0 progress bar refresh bugs. Fixes (PR#7235).


Sun, 25 Jan 2004 23:13:27 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	On the last order of an orders list, set punit->orders to FALSE before
	executing the order.  This means the last order is executed the way a
	normal action is.  This fixes bugs with attacking and caravans under
	orders.

	Issued as PR#7307.


Sun, 25 Jan 2004 06:28:10 -0800  rfalke:

	Changed paths:
	   M /trunk/server/cityturn.c

	Replace all -20 with -FC_INFINITY to really denote that the caller
	doesn't care how much these values go down.

	Reported by Predrag Viceic <viceic@net2000.ch> in PR#7256. Patch from me.


Sun, 25 Jan 2004 06:23:53 -0800  rfalke:

	Changed paths:
	   M /trunk/server/cityturn.c

	Replace


Sun, 25 Jan 2004 05:55:14 -0800  rfalke:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/netintf.c
	   M /trunk/common/netintf.h
	   M /trunk/server/meta.c
	   M /trunk/server/sernet.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/netintf.h

	Add a new type "union my_sockadd" which holds all the various "struct
	sockaddr*" types. This is necessary since the different "struct
	sockaddr*" types have different alignment properties and so casting
	from one type to another types raises a compiler warning.

	The new type is used in all address related functions.

	Reported by Brett Albertson <brett.albertson@stratech.com> in
	PR#7121. Patch from me.


Sun, 25 Jan 2004 00:04:53 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/unithand.c

	Replace "int" with "enum tile_special_type" in many places.

	Patch by Raimar Falke as PR#6874, with style changes by me.


Sat, 24 Jan 2004 23:28:20 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/ukrainian.ruleset

	Add new leaders for some rulesets.

	Patch by Tom Chance <tomchance@gmx.net> as PR#6904, with style changes by
	me.


Sat, 24 Jan 2004 22:37:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Don't do goto-line-drawing unless goto_is_active().

	Patch by Raimar Falke as PR#7302.


Sat, 24 Jan 2004 15:19:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Move is_starter_close into mapgen and rename it as is_illegal_start_pos.

	Issued as PR#7068.


Sat, 24 Jan 2004 08:45:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c

	Fix the client mapview auto-centering code to work with iso-maps.

	Issued as PR#4718.


Fri, 23 Jan 2004 18:58:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Allow each client to add its own options to the list of client options.

	See PR#7079.


Fri, 23 Jan 2004 13:19:23 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c

	Fix left-clicking on the overview window.

	Issued as PR#7284.


Thu, 22 Jan 2004 19:14:45 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Assure that the Y dimension of a north-south wrapping iso-map is even.

	Issued as PR#7266.


Thu, 22 Jan 2004 18:29:32 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Change a spurious LOG_NORMAL message to LOG_DEBUG.


Thu, 22 Jan 2004 15:52:21 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset

	Add a new terrain flag "Starter" that denotes terrain types that are
	eligible to hold starting positions.

	Issued as PR#7288.


Wed, 21 Jan 2004 01:28:53 -0800  jdorje:

	Changed paths:
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/cityturn.c

	Add a new terrain flag NoPollution.

	Issued as PR#7273.


Tue, 20 Jan 2004 13:52:09 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Replace client goto and patrol routes with client orders.

	Issued as PR#7131.


Mon, 19 Jan 2004 13:06:16 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset

	Fix broken comments in rulesets.

	Broken by PR#2957.


Mon, 19 Jan 2004 12:02:22 -0800  jdorje:

	Changed paths:
	   M /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset

	Add a new terrain flag TER_OCEANIC.  This flag indicates whether the
	terrain is ocean or land.

	Patch as PR#2957 by Karen Yeats <kayeats@uwaterloo.ca> and myself.


Sun, 18 Jan 2004 22:01:22 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/unit.c

	Replace several T_OCEAN checks with calls to is_ocean.

	Issued as PR#7258.


Sun, 18 Jan 2004 09:55:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Make sure we redraw a city when its "occupied" status changes.

	Reported by Thomas Strub <ue80@stud.uni-karlsruhe.de> as PR#7242.  Patch by
	me.


Sun, 18 Jan 2004 08:49:17 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Add new macros native_pos_to_index and index_to_native_pos.  Use them in
	map_pos_to_index and index_to_map_pos.

	Issued as PR#7251.


Sat, 17 Jan 2004 09:21:20 -0800  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   A /trunk/common/terrain.c
	   M /trunk/common/terrain.h
	   M /trunk/server/mapgen.c

	Create a new file terrain.c.  Functions and data are moved from map.[ch]
	into terrain.[ch].

	Issued as PR#7220.


Sat, 17 Jan 2004 08:58:10 -0800  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Fix several places so that maps with no poles will be be more uniform.

	Issued as PR#7252.


Fri, 16 Jan 2004 20:29:14 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Avoid sending information about a nonexistant city to nobody.

	See PR#6999.


Fri, 16 Jan 2004 08:01:25 -0800  ali:

	Changed paths:
	   M /trunk/client/tilespec.c

	Silence compiler warning.


Thu, 15 Jan 2004 18:08:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Clear the mapview before doing a full update.  This causes duplicated
	tiles (which are otherwise not updated) to get drawn black.

	See PR#4679.


Thu, 15 Jan 2004 17:23:00 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Thu, 15 Jan 2004 13:17:17 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Thu, 15 Jan 2004 03:52:38 -0800  rfalke:

	Changed paths:
	   M /trunk/common/generate_packets.py

	Replace a regular expression which makes Python 2.2 and 2.3 choke with
	simple string operations.

	Reported by Thomas Strub. Issued as PR#7240.


Wed, 14 Jan 2004 03:58:12 -0800  rfalke:

	Changed paths:
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets.h
	   M /trunk/common/packets_gen.c

	Rename the field flags "pre" to "pre-send" and "post" to
	"post-recv". Add the flag "post-send". Remove the packet type
	arguments from the callback signature.

	Add a new function conn_clear_packet_cache which resets the delta
	state of this connection.

	Add post-send and post-recv callback for the GAME_STATE packet. This
	is necessary since the client removes information cached in map.tiles
	when such a game is recevied. However previously this information
	(about the removal of the tile data at the client) was not know to the
	delta layer. This resulted in not sending the required packets in case
	the client connection switches between players.

	Reported by Per I. Mathisen in PR#7216. Patch from me.


Tue, 13 Jan 2004 21:02:30 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Mon, 12 Jan 2004 19:48:04 -0800  jdorje:

	Changed paths:
	   M /trunk/Makefile.am

	Remove files in the debian/ directory from distribution.

	See PR#6968.


Mon, 12 Jan 2004 19:20:17 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Change map_to_native_pos from a set of macros to an inline function.  This
	makes it faster as well as prettier.

	Issued as PR#7195.


Mon, 12 Jan 2004 19:18:18 -0800  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Optimize base_city_map_to_map by checking if we are at a border map
	position before normalizing.

	Issued as PR#7197.


Mon, 12 Jan 2004 08:59:17 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/savegame.c

	Save city styles by name instead of by number to ensure forward and
	backward compatibility in the future. Save city style by number as zero
	to ensure we don't break anything in old versions. Patch by mateusz
	stefek <matusik_s@o2.pl> with style changes and comments added.
	(See PR#7224 for more info).


Mon, 12 Jan 2004 08:34:44 -0800  per:

	Changed paths:
	   M /trunk/server/diplomats.c
	   M /trunk/server/unithand.c

	Fix i18n problems introduced in veteran patch. Patch by mateusz stefek
	<matusik_s@o2.pl>.


Sun, 11 Jan 2004 09:45:06 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/options.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/capstr.c
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/common/events.h
	   M /trunk/common/game.h
	   M /trunk/common/map.c
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/common/shared.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/airgoto.c
	   M /trunk/server/autoattack.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h
	   M /trunk/utility/shared.h

	Add support for multiple veteran levels, defined in units.ruleset. See
	new documentation in units.ruleset for more info. Patch by James Blewitt
	<james.blewitt@ukonline.co.uk> Rafal Bursig <bursig@poczta.fm> and me.


Sat, 10 Jan 2004 07:30:09 -0800  per:

	Changed paths:
	   M /trunk/data/isotrident/units.spec

	Fix off-by-one error in enumeration of veteran icons in isotrident
	tileset. Patch by Genevieve Gracian <ggracian@free.fr>.


Sat, 10 Jan 2004 05:06:00 -0800  rfalke:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/combat.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	Create new function is_attack_unit which tests if a unit has an attack
	strength >0.

	Patch from Arnstein Lindgard in PR#7213.


Sat, 10 Jan 2004 04:46:34 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets.c

	Remove a compiler warning by using a union to get the two views (enum
	packet_type and int) of the variable.

	Patch from Gustavo R.Montesino <ikki_gerrard@yahoo.com.br> in PR#7164.


Sat, 10 Jan 2004 02:13:12 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Replace a slightly wrong calculation with the proper call to
	city_granary_size.

	Patch from James Canete <use_less@ignmail.com> in PR#7099.


Sat, 10 Jan 2004 01:41:31 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Don't clear the whole cache3 but only the parts which we will
	use. This depends on the city size.

	Patch from Benoit Hudson <bh@techhouse.brown.edu> in PR#7062.


Fri, 09 Jan 2004 16:47:19 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Fri, 09 Jan 2004 08:59:50 -0800  ali:

	Changed paths:
	   M /trunk/ai/aitools.h
	   M /trunk/client/control.c
	   M /trunk/client/mapctrl_common.c

	Fix 3 erroneous asserts.
	assert(punit) => assert(punit != NULL) and one that was just
	plain wrong.


Fri, 09 Jan 2004 08:53:03 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Make Leonardo's upgrades free as they are supposed to be.

	Patch by Brett Albertson <brett.albertson@stratech.com> as part of PR#7211.


Fri, 09 Jan 2004 00:00:51 -0800  rfalke:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c

	Remove an unneeded "return" which returns void.

	Issued as PR#7221.


Thu, 08 Jan 2004 21:55:55 -0800  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	remove spurious '\'


Thu, 08 Jan 2004 10:18:21 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Thu, 08 Jan 2004 09:02:58 -0800  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Don't impose a lattitude restriction on deserts in a game without poles.

	Issued as PR#7209.


Thu, 08 Jan 2004 05:31:52 -0800  perl:

	Changed paths:
	   M /trunk/po/et.po

	Updated.


Thu, 08 Jan 2004 03:55:49 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Fix bug that would case ai_choose_attacker() to give bogus data if first
	military unit in a ruleset has zero attack rating. Bug and patch by
	Joshua <joshudson@hotmail.com>.


Thu, 08 Jan 2004 03:38:15 -0800  per:

	Changed paths:
	   M /trunk/data/nation/japanese.ruleset

	Update Japanese ruleset with new cities and terrain hints. Patch by
	anonymous.


Thu, 08 Jan 2004 03:34:45 -0800  per:

	Changed paths:
	   M /trunk/doc/HACKING

	Add a section to doc/HACKING explaining which freelogs should be
	translated and which should not be. In short, only LOG_NORMAL should be
	translated. Reasoning: VERBOSE and DEBUG are for developers, and FATAL
	and ERROR should be reported to developers in a language they can
	understand. This closes issue #7000. Patch by Raimar.


Thu, 08 Jan 2004 03:27:11 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	When a team player dies, do not show entire map but do allow shared
	vision to other players to continue. Fixes issue #7084 reported by
	Thomas Strub.


Wed, 07 Jan 2004 17:47:35 -0800  jdorje:

	Changed paths:
	   M /trunk/common/packets.c

	Change an assertion so that it will work with iso-maps.

	Issued as PR#7208.


Wed, 07 Jan 2004 15:16:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/common/unit.c

	Fix several bugs preventing the upgrading of units.

	Reported by Genevieve Gracian <ggracian@free.fr> as PR#7211.


Wed, 07 Jan 2004 10:50:49 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated.


Wed, 07 Jan 2004 08:31:14 -0800  ali:

	Changed paths:
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Functionize is_city_hilited(pcity)


Tue, 06 Jan 2004 12:19:17 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand_gen.c
	   M /trunk/common/generate_packets.py
	   M /trunk/server/hand_gen.c

	Include config.h in client/packhand_gen.c and server/hand_gen.c.

	Reported by Genevieve Gracian <ggracian@free.fr> in PR#7206. Patch
	from me.


Tue, 06 Jan 2004 09:33:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Avoid showing the "revolution finished" message multiple times at the end
	of the anarchy period.

	Issued as PR#4449.


Tue, 06 Jan 2004 00:11:35 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Unify code that checks if a unit can be upgraded.  Improve the testing for
	transported units to avoid having an upgrade strand a unit.

	Initial report by Brett Albertson <brett.albertson@stratech.com> as
	PR#6735.  Patch by Raimar Falke and myself.


Mon, 05 Jan 2004 09:55:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/SDL_ttf.c

	Use the "proper" method for #including Freetype headers.

	Reported by me as PR#7191.  Patch by Raimar Falke.


Sun, 04 Jan 2004 16:18:31 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/helpdlg.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.h
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/common/packets.c

	- Build fix for gcc 3.x in packet code.
	- Fix return variables in common LAN scaner.
	- LAN servers support in connect dlg.
	- Help Dlg. (Not Finished :( )
	- Small fix for no-iso maps (sorry still not work).


Sat, 03 Jan 2004 16:42:24 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c

	When checking to draw the goto crosshead for a unit, check if
	is_goto_dest_set rather than looking at the underlying state of the unit.

	Issued as PR#7147.


Sat, 03 Jan 2004 16:40:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	- Complete patrol routes by actually building a path from the end back to
	  the beginning, rather than simply reversing the route to get back to the
	  beginning.
	- Unify the send code for goto and patrol routes.

	Issued as PR#7150.


Sat, 03 Jan 2004 08:09:11 -0800  ali:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Add macro is_city_hilited().


Wed, 31 Dec 2003 13:52:22 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Mon, 22 Dec 2003 03:01:26 -0800  perl:

	Changed paths:
	   M /trunk/po/et.po

	updated.


Sun, 21 Dec 2003 05:06:22 -0800  per:

	Changed paths:
	   M /trunk/doc/README.AI
	   M /trunk/doc/TODO

	Update TODO and README.AI


Fri, 19 Dec 2003 02:39:58 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	fixes PR#6950 (problems with non-iso tileset, patch by G-rad with changes by me


Tue, 16 Dec 2003 07:07:52 -0800  ali:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	PR#6949 Keyboardless Goto, including dependency PR#6948 Quickselect.

	Defaults to ON to encourage testing - please report if you find it
	easy to make mouse typos, see unexpected behavior or think it should
	default off. Patch by me.

	Next step is keyboardless group movement, pending other patches.


Mon, 15 Dec 2003 13:25:46 -0800  rfalke:

	Changed paths:
	   M /trunk/server/connecthand.c

	Set the field conn_id of the PACKET_SERVER_JOIN_REPLY packet to the
	correct value instead of the obvious incorrect hard-coded -1.

	Reported by Michael Kirzinger <mjk3@ece.ualberta.ca> in PR#7070 with
	patch from me.


Mon, 15 Dec 2003 11:14:50 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unithand.c

	Use the correct player ("other_player" over which is iterates instead
	of "pplayer") for removing the knowledge about units involved in combat.

	Reported by Thomas Strub <ue80@stud.uni-karlsruhe.de> in
	PR#7077. Patch from me.


Mon, 15 Dec 2003 09:18:12 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Remove a duplicated "your" in a message.

	Patch from Gustavo R.Montesino <ikki_gerrard@yahoo.com.br> in PR#7088
	with style changes from me.


Mon, 15 Dec 2003 09:08:00 -0800  rfalke:

	Changed paths:
	   M /trunk/server/srv_main.c

	Add more strict check for the city_style field sent by the client.

	Patch from Mateusz Stefek <matusik_s@o2.pl> in PR#7058.


Sun, 14 Dec 2003 04:48:10 -0800  tsdgeos:

	Changed paths:
	   M /trunk/po/ca.po

	More updates from David Gaya <david DOT gaya AT terra DOT es>


Thu, 11 Dec 2003 08:07:55 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated po


Wed, 10 Dec 2003 23:29:39 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Wed, 10 Dec 2003 14:00:16 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Mon, 08 Dec 2003 11:19:56 -0800  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Don't special-case continents 1 and 2 as poles, since they need not be.
	Instead rely on the terrain check to prevent placing players at bad
	starting positions.

	See PR#6903.


Sun, 07 Dec 2003 23:48:54 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Cleanup to handle_unit_packet_common:
	  - Remove spurious call to update_unit_focus.
	  - Remove unused variables.
	  - Replace check with assertion.
	  - Add comments.

	Patch by Arnstein Lindgard as PR#7040 with style and comment changes by me.


Sun, 07 Dec 2003 22:34:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	Use city_granary_size() to find the size of the city's foodbox, instead
	of calculating this value manually.

	Patch by James Canete <use_less@ignmail.com> as part of PR#6973, with
	style changes by me.


Sat, 06 Dec 2003 15:14:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-win32/ratesdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-win32/spaceshipdlg.c

	Fix gui-win32 to compile with the new network code.

	Patch by James Canete <use_less@ignmail.com> as PR#6984 with changes
	by me.


Sat, 06 Dec 2003 12:37:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c
	   M /trunk/common/packets_gen.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/savegame.c

	Fix some inconsistencies in how shields (production) are transferred
	when the type of production is changed.  To aid this we now track the
	number of shields produced in the city in the last turn; only these
	shields go unpenalized when changing production types.

	Bug report by Thomas Strub <ue80@stud.uni-karlsruhe.de> as PR#5672.  Patch
	by me.


Sat, 06 Dec 2003 11:23:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/civclient.c
	   D /trunk/client/civclient_gen.c
	   A /trunk/client/packhand_gen.c
	   M /trunk/client/packhand_gen.h
	   M /trunk/common/generate_packets.py
	   M /trunk/server/Makefile.am
	   A /trunk/server/hand_gen.c
	   M /trunk/server/hand_gen.h
	   M /trunk/server/srv_main.c
	   D /trunk/server/srv_main_gen.c

	Change the code in civclient_gen.c and srv_main_gen.c to be real,
	compilable C code.  This puts the function prototypes in hand_gen.h and
	packhand_gen.h while the code goes into newly-created files hand_gen.c
	and packhand_gen.c.

	Patch by Raimar Falke as PR#7038.


Fri, 05 Dec 2003 20:57:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	Fix a bug in toggling city workers on the citydlg map.

	Reported by many as PR#6905.


Fri, 05 Dec 2003 20:28:56 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/doc/ja/Makefile.am

	Fix bug in PR#7028 commit:
	  - Botched commit missed configure.* files.
	  - doc/ja/Makefile.am had bugs.


Fri, 05 Dec 2003 17:14:21 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/Makefile.am
	   M /trunk/doc/de
	   A /trunk/doc/de/.cvsignore
	   A /trunk/doc/de/Makefile.am
	   M /trunk/doc/fr
	   A /trunk/doc/fr/.cvsignore
	   A /trunk/doc/fr/Makefile.am
	   M /trunk/doc/it
	   A /trunk/doc/it/.cvsignore
	   A /trunk/doc/it/Makefile.am
	   M /trunk/doc/ja
	   A /trunk/doc/ja/.cvsignore
	   A /trunk/doc/ja/Makefile.am
	   M /trunk/doc/nl
	   A /trunk/doc/nl/.cvsignore
	   A /trunk/doc/nl/Makefile.am
	   M /trunk/doc/sv
	   A /trunk/doc/sv/.cvsignore
	   A /trunk/doc/sv/Makefile.am

	Add Makefiles to doc/$LANG/, moving the EXTRA_DIST inclusions out of
	doc/Makefile and into the language-specific Makefiles.

	Issued as PR#7028.


Thu, 04 Dec 2003 11:51:21 -0800  rfalke:

	Changed paths:
	   M /trunk/common/connection.c

	Increase the send buffer to have enough space even when a large chunk
	of compressed data is send. Previously the send buffer was only
	enlarged by MAX_LEN_PACKET but the chunk of compressed data may be
	larger.

	Patch from me under PR#7018.


Thu, 04 Dec 2003 10:32:45 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unittools.c

	Let the unit goes out of sight for the players which doesn't see the
	unit anymore after a move.

	Reported by various people. Patch from me.


Thu, 04 Dec 2003 05:53:12 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c

	Change the SDL client to compile again. This was broken by the recent
	delta patch.

	Patch from Michael Kirzinger <mjk3@ece.ualberta.ca> in (PR#6983) with
	style changes from me.


Thu, 04 Dec 2003 05:42:40 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-sdl/cityrep.c

	Added an include for log.h to be able to compile.


Wed, 03 Dec 2003 21:54:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/server/Makefile.am

	Add missing files to SOURCES and EXTRA_DIST to allow "make dist" to work.

	See PR#7038.


Wed, 03 Dec 2003 17:57:45 -0800  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c

	Fix a bug causing starting positions not to be properly reordered.

	Patch by <az@ftc.ru> as PR#6942 with changes by me.


Wed, 03 Dec 2003 17:46:02 -0800  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	Allow caravans to goto into enemy cities.

	See PR#6718.


Wed, 03 Dec 2003 16:44:32 -0800  jdorje:

	Changed paths:
	   M /trunk/server/Makefile.am

	Add server/handgen.h to the sources list.

	Reported by various people as PR#6990.


Mon, 01 Dec 2003 15:25:10 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Mon, 01 Dec 2003 14:47:53 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Mon, 01 Dec 2003 11:32:04 -0800  rfalke:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/menu.c

	Extract a new function ui_exit() from main(). This function frees all
	common client resources.

	The Xaw client is changed to use this new function. Previously it just
	exit()'ed resulting in an unclean shutdown. main_quit_freeciv() was
	renamed to xaw_ui_exit() during for this.

	Patch from me issued as PR#6885.


Mon, 01 Dec 2003 10:18:01 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets.h

	Remove the trailing comma of enum authentication_type.


Mon, 01 Dec 2003 10:14:22 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unit.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/savegame.c
	   M /trunk/server/unittools.c

	Replace many unit_list_iterate iterators with unit_list_iterate_safe.

	Reported by Genevieve Gracian as PR#6816.  Patch by me.


Mon, 01 Dec 2003 10:03:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/helpdata.c

	Don't translate helptext if it is empty.  Also move a little bit of GUI
	code into the common client code.

	Patch by Raimar Falke as PR#7006.


Mon, 01 Dec 2003 03:13:48 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 30 Nov 2003 13:51:18 -0800  per:

	Changed paths:
	   M /trunk/server/diplhand.c

	Remove spurious check for capital in gold clause code. Patch by Raimar.


Sun, 30 Nov 2003 11:26:23 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Make most recent commit translatable.


Sun, 30 Nov 2003 10:30:59 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Ensure that we do not create new nations through civil war when we
	have reached the maximum number of nations.


Sun, 30 Nov 2003 09:57:12 -0800  rfalke:

	Changed paths:
	   M /trunk/server/srv_main.c

	Add code to reject old pre-delta clients at the server. The connection
	attempt is recognized and a proper reject packet is sent back.

	Issued as PR#6997.


Sun, 30 Nov 2003 09:37:29 -0800  rfalke:

	Changed paths:
	   M /trunk/common/generate_packets.py
	   M /trunk/common/packets_gen.c

	Change a die to a freelog(LOG_ERROR, ...) statement. This is issued if
	one side (client or server) sends or receives a packet which only the
	other side should send or receive.

	Previously pre-delta clients were able to crash a delta server because
	of this.

	Issued as PR#6996.


Sun, 30 Nov 2003 05:09:08 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.c

	Change the protocol type of the field empire_size_mod from unsigned to
	signed.

	Reported by Genevieve Gracian <ggracian@free.fr> as (PR#6985). Patch
	from me.


Sat, 29 Nov 2003 11:39:40 -0800  ali:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix trident_shields. Make the code handle the "duplicates_ok"
	tag in .tilespec files like it claims to do.


Sat, 29 Nov 2003 03:53:13 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets.def
	   M /trunk/common/packets_gen.h

	Correct the size of the legend field of PACKET_RULESET_NATION from
	MAX_LEN_NAME to MAX_LEN_MSG.

	Reported by Thomas Strub <ue80@stud.uni-karlsruhe.de> in
	(PR#6976). Patch from me.


Sat, 29 Nov 2003 03:37:00 -0800  rfalke:

	Changed paths:
	   M /trunk/common/worklist.c

	Also check the is_valid field in are_worklists_equal(). The missing
	check caused the function to return TRUE and so the worklists aren't
	sent to the client.

	Reported by Genevieve Gracian <ggracian@free.fr> in (PR#6980). Patch
	from me.


Sat, 29 Nov 2003 01:52:45 -0800  rfalke:

	Changed paths:
	   M /trunk/client/include/connectdlg_g.h

	Remove the prototype of handle_authentication_request. It is replaced
	by handle_authentication_req and which is declared in packhand_gen.h
	with different arguments.

	Found by Michael Kirzinger <mjk3@ece.ualberta.ca> in (PR#6982). Patch
	from me.


Fri, 28 Nov 2003 09:37:45 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advspace.c
	   M /trunk/ai/advspace.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/chatline_common.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   A /trunk/client/civclient_gen.c
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/clinet.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/gui-xaw/ratesdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/include/connectdlg_g.h
	   M /trunk/client/include/dialogs_g.h
	   M /trunk/client/include/diplodlg_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/messagewin_common.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   A /trunk/client/packhand_gen.h
	   M /trunk/common/Makefile.am
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   D /trunk/common/create_lsend.pl
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   A /trunk/common/generate_packets.py
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.c
	   A /trunk/common/packets.def
	   M /trunk/common/packets.h
	   A /trunk/common/packets_gen.c
	   A /trunk/common/packets_gen.h
	   D /trunk/common/packets_lsend.c
	   D /trunk/common/packets_lsend.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/common/tech.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/worklist.c
	   M /trunk/common/worklist.h
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/doc/HACKING
	   A /trunk/doc/README.delta
	   M /trunk/server/cityhand.c
	   M /trunk/server/cityhand.h
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/connecthand.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplhand.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamehand.c
	   A /trunk/server/hand_gen.h
	   M /trunk/server/handchat.c
	   M /trunk/server/handchat.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sernet.c
	   M /trunk/server/settlers.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/spacerace.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   A /trunk/server/srv_main_gen.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unithand.h
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h
	   M /trunk/server/userdb/user_db.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Introduction of a new network protocol (code name "delta"). There are
	4 major parts:

	 - formal definition of the protocol in common/packets.def. The C
	 source code is generated by the python generator
	 common/generate_packets.py. This also includes a cleanup of the
	 existing packets and their fields.

	 - the generated C source code will only send the field of a packet if
	 its values changed. This reduces the bandwidth usage.

	 - the network stream is compressed with zlib. The level can be
	 controlled with the environment variable
	 FREECIV_COMPRESSION_LEVEL. This reduces the bandwidth usage.

	 - direct calling: there are dsend_packet_* function for each
	 send_packet_* function which instead of taking "struct packet_* *"
	 these functions take the values of this packet directly. This
	 eliminates the need for declaring and using the packet structs used
	 in the past. A similar direct approch is used for the handle
	 functions in the server.

	For more information see doc/README.delta.

	Patch is from Raimar Falke. A lot of testing done by Arnstein
	Lindgard.


Thu, 27 Nov 2003 16:50:37 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Thu, 27 Nov 2003 06:35:15 -0800  per:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/server/sernet.c

	Fix server and client's LAN server tab for win32 environments. Patch by
	Andreas R?sdal <andrearo@stud.ntnu.no>.


Thu, 27 Nov 2003 06:30:03 -0800  per:

	Changed paths:
	   M /trunk/common/aicore/path_finding.h

	Tiny piece missed in a previous commit:
	-  TM_WORST_TIME,
	+  TM_WORST_TIME
	 };


Wed, 26 Nov 2003 21:55:08 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Tue, 25 Nov 2003 06:15:16 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 24 Nov 2003 03:27:24 -0800  glip:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/ailog.c

	Make AI count down to war properly.  Otherwise AIs never declare war.
	Also modify a comment for PLAYER_LOG.

	Patch by Per.  Bug reported as #6772.


Sun, 23 Nov 2003 10:56:57 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Make the change production and help buttons in the worklists insensitive when
	nothing is selected in the source list. Solves PR#4371, PR#6797.

	Reported by Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 23 Nov 2003 10:23:40 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Use GTK+ 2.2 'gtk_list_store_swap' instead of rolling our own.


Sun, 23 Nov 2003 10:19:41 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Added a bit of padding.


Sun, 23 Nov 2003 10:09:09 -0800  vasc:

	Changed paths:
	   M /trunk/m4/gtk2-client.m4

	Make GTK+ 2.2.1 a requirement instead of 2.2.0. Fixes PR#4472.

	Bug reported by Josh Cogliati <jjc@rupert.honors.montana.edu>.


Sun, 23 Nov 2003 07:49:26 -0800  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/unit.c
	   M /trunk/server/airgoto.c
	   M /trunk/server/ruleset.c

	Remove some unused variables. Patch by Raimar.


Sun, 23 Nov 2003 07:18:45 -0800  per:

	Changed paths:
	   M /trunk/server/diplhand.c

	Ensure in server that we cannot give away our palace. Bug report and
	patch by mateusz stefek <matusik_s@o2.pl>.


Sat, 22 Nov 2003 15:34:55 -0800  per:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/data/Freeciv
	   M /trunk/server/sernet.c
	   M /trunk/server/sernet.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Add new connection tab for 'LAN servers'. Searching for LAN servers is
	done through multicast. Patch by Andreas Roesdal
	<andrearo@stud.ntnu.no>.


Sat, 22 Nov 2003 08:34:07 -0800  rfalke:

	Changed paths:
	   M /trunk/server/cityturn.c

	Set the minimal surplus for gold and trade to very low values in case
	of a problem.

	Reported by Genevieve Gracian <ggracian@free.fr>.


Sat, 22 Nov 2003 08:32:01 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Fix the implementation of allow_specialists. It didn't work in case
	pcity->size>=MAX_FIELDS_USED.

	Reported by Genevieve Gracian <ggracian@free.fr>.


Sat, 22 Nov 2003 06:58:04 -0800  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	My previous commit mistook foodstock for foodbox. This uses FC_INFINITY
	to make absolutely sure. Thanks to Raimar for pointing out what should
	have been obvious.


Sat, 22 Nov 2003 06:12:32 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h

	Add tests for the case that pf_get_path doesn't find a path.

	Change pf_destroy_path so that it also accepts NULL as the path.

	Patch from Gregory Berkolaiko in PR#6907. Docu added by me.


Fri, 21 Nov 2003 13:09:08 -0800  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Do not set food want to -20 in worst CM case when we already have set it
	to -(foodbox size), which is far worse, in the second worst case.


Fri, 21 Nov 2003 11:47:25 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po


Fri, 21 Nov 2003 11:24:46 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po. Merged with latest freeciv.pot.


Fri, 21 Nov 2003 09:25:40 -0800  ali:

	Changed paths:
	   M /trunk/client/control.c

	Correct mistake in my previous commit.


Fri, 21 Nov 2003 09:17:54 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	 - move cache statistics counter into the stats struct
	 - extra the cache statistics counter reporting into a seperate
	 function (report_one_cache_stat)
	 - remove stale references to CMA

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#6911 with
	changes from me.


Thu, 20 Nov 2003 14:05:26 -0800  per:

	Changed paths:
	   M /trunk/data/isotrident/units.png
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/trident/tiles.png
	   M /trunk/data/trident/tiles.spec

	New veteran icons drawn by me with helpful input from several.


Thu, 20 Nov 2003 08:49:59 -0800  ali:

	Changed paths:
	   M /trunk/client/control.c

	Ineffectual modification of advance_unit_focus(); ensure that only
	set_unit_focus() actually modifies the static "punit_focus". Add comment.


Wed, 19 Nov 2003 10:29:31 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Wed, 19 Nov 2003 09:30:51 -0800  ali:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c

	Cleanup client/control.c. Consistently use the static "punit_focus",
	don't call get_unit_in_focus(). Remove unneccessary funct
	set_unit_focus_no_center() to avoid duplicating special focus
	considerations.


Wed, 19 Nov 2003 07:17:16 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/server/sanitycheck.c

	Replace 3 "int"s with the correct type of "enum tile_terrain_type".


Wed, 19 Nov 2003 07:02:29 -0800  rfalke:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/terrain.h
	   M /trunk/server/ruleset.c

	Add a new terrain_type_iterate iterator macro. Change code to use it.


Wed, 19 Nov 2003 06:55:38 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 19 Nov 2003 03:53:46 -0800  rfalke:

	Changed paths:
	   M /trunk/data/nation/japanese.ruleset

	Add leader "Oda Nobunaga". Fix a city name. Add cities.

	Patch by anonymous in PR#6881.


Wed, 19 Nov 2003 03:39:09 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aicity.c

	Remove a memory leak by freeing a city list.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#6892.


Wed, 19 Nov 2003 03:29:59 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Remove a memory leak by destroying a path.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> in PR#6894.


Wed, 19 Nov 2003 03:24:23 -0800  rfalke:

	Changed paths:
	   M /trunk/server/srv_main.c

	Remove a memory leak by freeing a timer.

	Patch from Benoit Hudson <bh@techhouse.brown.edu> in PR#6896.


Wed, 19 Nov 2003 03:16:52 -0800  rfalke:

	Changed paths:
	   M /trunk/common/netintf.c
	   M /trunk/server/civserver.c
	   M /trunk/server/meta.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/utility/netintf.c

	Add the ability to bind the server sockets to a specific address given
	with the "--bind" command line option. This adds security if a system
	is configured with multiple IPs. "--bind localhost" will for example
	only allow local running clients to connect to the server.

	Initial patch by Patrick Duchstein
	<duchstei@rbg.informatik.tu-darmstadt.de>. Merged with a patch by
	anonymous (jacobn+freecivrt@chiark.greenend.org.uk) from
	PR#6887. Further changes from me.


Wed, 19 Nov 2003 02:07:17 -0800  rfalke:

	Changed paths:
	   M /trunk/client/helpdata.c

	Add note about the effects of TF_REDUCE_TRIREME_LOSS[12] techs to the
	helptext of the trireme. Add note about the effects of the
	TF_REDUCE_TRIREME_LOSS[12] techs to the helptext of these techs.

	Prefix all tech effects by "* ".

	Patch by Arnstein Lindgard in PR#6821. Style changes from me.


Tue, 18 Nov 2003 20:40:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/report.c

	Replace some 'int' types with 'enum event_type'.  Also fix a buglet where
	0 was used in place of E_NOEVENT.

	Patch by Raimar Falke as PR#6870, with style changes and added comments by
	me.


Tue, 18 Nov 2003 15:11:14 -0800  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Fix a potential bug in the calculation of the height map in generator 5.

	Issued as PR#6839.


Tue, 18 Nov 2003 12:36:53 -0800  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Fix memory leaks in loading of rulesets.

	Patch by Benoit Hudson <bh@techhouse.brown.edu> as PR#6895.


Mon, 17 Nov 2003 13:00:52 -0800  berthe:

	Changed paths:
	   M /trunk/doc/fr/BUGS.fr

	*** empty log message ***


Mon, 17 Nov 2003 12:22:25 -0800  tsdgeos:

	Changed paths:
	   M /trunk/po/ca.po

	Sorry for breaking cvs compilation, hope that fixes it.


Mon, 17 Nov 2003 10:32:37 -0800  ali:

	Changed paths:
	   M /trunk/client/packhand.c

	Stop refocusing for player in AI mode.


Mon, 17 Nov 2003 10:25:52 -0800  ali:

	Changed paths:
	   M /trunk/common/unit.c

	Disable auto-attack for units of zero attack strength.


Mon, 17 Nov 2003 10:22:04 -0800  ali:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Corrections to Rectangle patch. Pointed out by Raimar Falke.


Sun, 16 Nov 2003 14:11:12 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Revert parts of previous patch. We should assume that the AI builds
	veteran land units, since it will most often build barracks first.


Sun, 16 Nov 2003 13:06:31 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c

	Make use of do_make_unit_veteran() to check for possible veteran status
	of future units.


Sun, 16 Nov 2003 12:57:32 -0800  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Cosmetic cleanup of do_make_unit_veteran()


Sun, 16 Nov 2003 12:09:40 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Sun, 16 Nov 2003 10:45:01 -0800  tsdgeos:

	Changed paths:
	   M /trunk/po/ca.po

	Updates from David Gaya <david DOT gaya AT terra DOT es>


Sat, 15 Nov 2003 06:38:07 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/aisupport.c

	Convert an "int" to an "enum spaceship_state" to be more type-safe.

	Patch from Benoit Hudson <bh@techhouse.brown.edu> in PR#6838.


Sat, 15 Nov 2003 04:47:21 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c

	Wrap a number of checks of unit move rate behind unit_move_rate(). Taken
	from veteran level patch.


Sat, 15 Nov 2003 04:16:22 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Make sure that we do not attempt to attack players we are not at war
	with but that we want to go to war against in fstk. We now call
	pplayers_at_war when passing real units to fstk instead of calling
	HOSTILE_PLAYER. Bug reported by Greg.


Sat, 15 Nov 2003 03:32:45 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Make unit bouncing checks  on civil war more strict. Patch by mateusz
	stefek <matusik_s@o2.pl>.


Sat, 15 Nov 2003 00:21:51 -0800  andi:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/common/Makefile.am

	Make it compile


Fri, 14 Nov 2003 11:21:09 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	update


Fri, 14 Nov 2003 04:26:58 -0800  ali:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapctrl.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-mui/mapctrl.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/cityrep.c
	   M /trunk/client/gui-stub/mapctrl.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/cityrep_g.h
	   M /trunk/client/include/mapctrl_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/data/helpdata.txt

	Rectangular area selection of cities with right-click-
	and-drag. Patch by me.


Thu, 13 Nov 2003 20:40:00 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Thu, 13 Nov 2003 13:28:51 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Thu, 13 Nov 2003 12:11:31 -0800  rfalke:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/options.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/server/cityturn.c

	Add a field "allow_specialists" to the cm-parameters. The default
	value is TRUE. If the field is FALSE however CM isn't allowed to use
	specialists i.e. all citizen are worker.

	The server CM usage is changed in such a way that if for a non-ai city
	no reasonable values (at least one food surplus and at least one
	shield surplus) could be achieved the server will try no longer and
	will make all citizen workers. This may cause a disorder in the city
	but this is considered a feature since such a city would get the human
	player attention while a non-disorder city with a food surplus of zero
	and a shield surplus of zero would not be noticed.

	Reported by Genevieve Gracian <ggracian@free.fr> in PR#6403. Patch
	from me.


Thu, 13 Nov 2003 11:46:46 -0800  rfalke:

	Changed paths:
	   M /trunk/server/connecthand.c

	Wrap the array named "auth_fail_period" in AUTHENTICATION_ENABLE since
	it is only used if authentication is enabled. Even then it isn't used
	outside teh file -> static.


Thu, 13 Nov 2003 11:41:10 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/improvement.c
	   M /trunk/common/packets.h
	   M /trunk/common/pqueue.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/unithand.c
	   M /trunk/utility/pqueue.c

	 - replace assert(pointer) with assert(pointer != NULL)
	 - replace int with bool
	 - change comparisons to yield boolean value


Thu, 13 Nov 2003 11:31:52 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h

	Rerun common/create_lsend.pl.


Thu, 13 Nov 2003 11:27:30 -0800  rfalke:

	Changed paths:
	   M /trunk/diff_ignore

	Adding freeciv_user_database.


Thu, 13 Nov 2003 08:06:04 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	2 little fixes


Wed, 12 Nov 2003 20:59:57 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Tue, 11 Nov 2003 19:11:55 -0800  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Don't generate poles on a map that wraps north-south.

	Patch and FIXME comment from PR#6669.


Tue, 11 Nov 2003 13:10:27 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updating ru.po - stylistics.


Tue, 11 Nov 2003 02:03:28 -0800  rfalke:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Update the keymap help text.

	Patch from Arnstein Lindgard in PR#6821.


Tue, 11 Nov 2003 01:54:24 -0800  rfalke:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/doc/HACKING
	   M /trunk/doc/TODO

	Remove map_adjust_x and map_adjust_y. These function are no longer
	used.

	Patch by Jason Short in PR#6830 with changes from me.


Tue, 11 Nov 2003 00:49:01 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Mon, 10 Nov 2003 12:41:49 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Fixed a couple more leaks (PR#6742).

	Reported (as the last ones) by Jason Short <jdorje@users.sourceforge.net>.


Mon, 10 Nov 2003 12:33:58 -0800  rfalke:

	Changed paths:
	   M /trunk/client/agents/agents.c
	   M /trunk/client/civclient.c
	   M /trunk/common/Makefile.am
	   M /trunk/common/game.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Cleanup the usage of cm_init() and cm_free(). Previously calls to
	these functions where spread all over the code which resulted in
	memory leaks.

	The only place which calls cm_init() is now game_init() and the same
	for cm_free() and game_free().


Sun, 09 Nov 2003 19:15:48 -0800  ntaka:

	Changed paths:
	   M /trunk/po/ja.po

	Updated ja.po


Sun, 09 Nov 2003 19:04:50 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c

	Fixed memory leak in GArray. Didn't tell g_array_free to free the actual array
	contents.


Sun, 09 Nov 2003 18:53:53 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Fixed leak in load_intro_gfx.


Sun, 09 Nov 2003 15:47:16 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Turns out the refresh_overview_canvas call is unnecessary.
	Kludging to fix now. Will have a better fix later.

	Reported as PR#6810 by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 09 Nov 2003 15:28:47 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Sun, 09 Nov 2003 08:45:01 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/Makefile.am
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-win32/plrdlg.c

	make the win32 client compile again


Sun, 09 Nov 2003 07:40:44 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Removed extraneous calls to GDK clipping.


Sun, 09 Nov 2003 04:49:47 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c

	 remove usage of genlist_iterator_init


Sun, 09 Nov 2003 04:38:18 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/gui_stuff.c

	 remove usage of genlist_iterator_init


Sun, 09 Nov 2003 04:09:52 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/graphics.c

	 dont set a struct (not a pointer) to NULL


Sat, 08 Nov 2003 20:06:50 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	PR#6742: Fix memory leaks in GTK+ 2.0 client.

	Leak trace by Raimar Falke <rf13@inf.tu-dresden.de>. Bug reported by
	Christian Knoke <chrisk@cknoke.de>.


Sat, 08 Nov 2003 10:56:06 -0800  glip:

	Changed paths:
	   M /trunk/common/player.c

	Slightly change can_player_see_unit_at to follow its own comment.

	Patch by Raimar, resolves PR#6790.


Sat, 08 Nov 2003 03:46:56 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	update + several modifications


Fri, 07 Nov 2003 19:39:26 -0800  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Send diplomatic information about a civilization to all players that
	civilization is in contact with (not just players who have an embassy).

	Patch by Per as PR#5488, with added comments by me.


Fri, 07 Nov 2003 07:20:09 -0800  rfalke:

	Changed paths:
	   M /trunk/client/options.c

	Fix a case where the field allow_disorder was not initialized.

	Reported by Christian Knoke in PR#6732.


Fri, 07 Nov 2003 01:45:03 -0800  rfalke:

	Changed paths:
	   M /trunk/server/citytools.c

	In case of a conquered city defer the reduction of the city size till
	the city belongs to the new owner.

	Reported by Gregory Berkolaiko (PR#6544) and Christian Knoke
	(PR#6754). Patch by Jason Short and me.


Thu, 06 Nov 2003 04:33:23 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 06 Nov 2003 03:54:34 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c

	Adjust a menu item text so that the name is the same in all
	occurrences.

	Reported and patch from Christian Knoke <chrisk@cknoke.de> in PR#4755.


Thu, 06 Nov 2003 02:40:46 -0800  rfalke:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/aicore/cm.c

	Free a cache in cm.c when cm_free() is called.

	Reported by Christian Knoke <chrisk@cknoke.de> in PR#6742.


Tue, 04 Nov 2003 15:01:42 -0800  ali:

	Changed paths:
	   M /trunk/client/control.c

	Add whitespace to a comment. A small step for Freeciv... I am testing cvs write access.


Tue, 04 Nov 2003 05:44:23 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated po


Tue, 04 Nov 2003 03:29:19 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Output some basic statistical information to the gamelog every 10th turn
	for making game statistics and AI measurements.


Tue, 04 Nov 2003 02:38:00 -0800  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Previous behaviour: When a city is removed, supported units in other
	cities automatically get their support from that city instead.
	New behaviour: Same, but only for our own cities (not transfer
	units to allies).
	Patch by Jason.


Tue, 04 Nov 2003 02:21:56 -0800  per:

	Changed paths:
	   M /trunk/common/diptreaty.c

	Make illegal diplomatic clauses that try to create a diplomatic pact
	state that is already in effect. Client maintainers should disable such
	options in the client. Fixes bug reported by Jason as PR#6519.


Tue, 04 Nov 2003 02:19:14 -0800  per:

	Changed paths:
	   M /trunk/server/diplhand.c

	Add extra gamelog messages for diplomatic states.


Tue, 04 Nov 2003 02:13:28 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix bug caused by erronous city size reduction when using nuclear
	weapons. Bug found by Paul Zastoupil.


Tue, 04 Nov 2003 02:05:07 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 03 Nov 2003 09:30:22 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unittools.c

	Don't reveal coordinates in normal messages to the user.

	Patch from Jason Short in PR#6672.


Mon, 03 Nov 2003 02:46:40 -0800  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po to 2942t+21f+94u+21o.


Sun, 02 Nov 2003 13:32:26 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Sun, 02 Nov 2003 12:50:30 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c

	- Build fix.
	- Win32 build fix.
	- Input Dlg should work again in Win32 enviroment.
	- Player Dlg Diploatcy Fix.
	- Unload useless unkeep.gold(2) icons.


Sat, 01 Nov 2003 15:43:53 -0800  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Sat, 01 Nov 2003 02:44:23 -0800  per:

	Changed paths:
	   M /trunk/data/isotrident/units.png
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/trident/units.png
	   M /trunk/data/trident/units.spec

	Add worker graphics by Lukas T?nne <lukas.toenne@web.de>.


Sat, 01 Nov 2003 01:48:05 -0800  per:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c

	Remove genlist iterator initialization function usage from Xaw client
	the same way as in the gtk1 client.


Fri, 31 Oct 2003 17:02:38 -0800  per:

	Changed paths:
	   M /trunk/common/genlist.c
	   M /trunk/common/genlist.h
	   M /trunk/common/registry.c
	   M /trunk/doc/HACKING
	   M /trunk/utility/genlist.c
	   M /trunk/utility/genlist.h
	   M /trunk/utility/registry.c

	Remove the genlist iterator initialization function. This increases
	the speed of starting genlist loops. Gtk1 and gtk2 clients work fine,
	the other clients will need to be updated.


Fri, 31 Oct 2003 16:53:05 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c

	Change the kludged for loops using the genlist iterator into cleaner
	unit_list_iterate loops.


Fri, 31 Oct 2003 09:57:56 -0800  per:

	Changed paths:
	   M /trunk/m4/c99.m4

	Add configure check for variable size array definitions. Patch by Jason.


Wed, 29 Oct 2003 00:00:39 -0800  rfalke:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Create new function free_unit_goto_route which encapsulate common
	code.

	Patch by Jason Short in PR#6625 with name change from me.


Tue, 28 Oct 2003 23:32:58 -0800  rfalke:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/unithand.c

	Clean up the packet which is used to send goto routes to the
	server. The new code only cleans up some of the problems with the old
	code:

	1.  The use of goto chunks.  This is intended to allow arbitrary long
	routes. It doesn't do much and takes a lot of code.  The new code
	limits the route to 2000 steps.

	2.  Some values that only the server needs are initialized by the
	client and sent over the network, which is nonsensical.  This includes
	first_index and last_index values.  The server should just initialize
	these when it receives the packet.

	3.  The unit's path (punit->pgr->pos) is actually allocated by the
	network code, then subverted for use by the core server code.  The
	result is that there is no clear sequence of allocs and frees.

	4.  The server currently uses a circular buffer to store the goto
	route. This circular buffer method requires that the buffer have an
	extra, unfilled position.  So you'd think the server would just create
	the buffer one size larger than needed - but no, it's the client that
	does this!

	Patch by Jason Short in PR#6627 with changes from me.


Tue, 28 Oct 2003 11:41:14 -0800  rfalke:

	Changed paths:
	   M /trunk/server/citytools.c

	Fix a memory leak.

	Patch by Jason Short in PR#6650.


Mon, 27 Oct 2003 13:02:54 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Make the full unit list update passes O(n) instead of O(n^2).


Mon, 27 Oct 2003 06:34:31 -0800  jdorje:

	Changed paths:
	   M /trunk/server/diplomats.c

	A diplomat failing to steal a technology will still cause an incident.

	Patch by Per as PR#6522.


Mon, 27 Oct 2003 06:25:25 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/maphand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Add a 'topology' server variable to allow maps to wrap in N-S and/or E-W
	directions.

	Issued as PR#6287.


Sat, 25 Oct 2003 03:55:51 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Thu, 23 Oct 2003 17:23:33 -0700  jdorje:

	Changed paths:
	   M /trunk/server/score.c

	When calculating the civ score, don't give a bonus for happy citizens.

	Patch by Per as PR#6488 with added comment by me.


Thu, 23 Oct 2003 17:03:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/chatline.c

	Fix a possible problem with the XAW chatline under i18n.

	Report and patch by <hzhr@linuxforum.net> as PR#6452, with style changes
	by me.


Thu, 23 Oct 2003 07:50:30 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 22 Oct 2003 11:05:54 -0700  per:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Fix big memory leak in AI diplomat code. Patch by Raimar & Jason.


Wed, 22 Oct 2003 11:02:56 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Add player name tab completion to the team command. Patch by Jason.


Wed, 22 Oct 2003 10:57:26 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Better error messages for /start command. Patch by Jason, some changes
	by me.


Wed, 22 Oct 2003 07:03:32 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.h

	Don't link to sanity_check_city if NDEBUG is defined.

	Issued as PR#6573.


Wed, 22 Oct 2003 00:12:14 -0700  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Revert a previous patch by changing city_map_checked_iterate back to
	my_city_map_iterate.


Tue, 21 Oct 2003 23:09:02 -0700  rfalke:

	Changed paths:
	   M /trunk/doc/README.graphics

	Add a section how to created indexed PNGs.

	Patch from Jason Short as PR#6510.


Tue, 21 Oct 2003 15:04:53 -0700  glip:

	Changed paths:
	   M /trunk/server/mapgen.c

	Make map-generator5 recognize the topology settings.

	Patch by Jason, critique by Ross.


Tue, 21 Oct 2003 14:49:55 -0700  glip:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/unit.c
	   M /trunk/server/maphand.c

	Rename map_get_known2 to map_get_known since the latter name has been
	freed by another patch.

	See PR#4725 for more details.


Tue, 21 Oct 2003 14:17:35 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Remove the cause of the error message " AI Passengers counting reported
	false positive".  The cause was quite hilarious: ferry knew there are
	prospective passenegers and was looking around using PF, but PF does not
	return the square where the search starts, and this is precisely where the
	passengers were.  So now the boat check its own square properly before
	launching the serious PF search.

	Reported by Jason as PR#6450


Tue, 21 Oct 2003 12:38:47 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Tue, 21 Oct 2003 10:27:43 -0700  glip:

	Changed paths:
	   M /trunk/server/settlers.c

	Match the iterates with the correct iterate_end macros.  We were lucky
	nothing was happenning inside previously mismatched macros.

	Patch by Remi Bonnet.
	Issued as PR#6581.


Tue, 21 Oct 2003 10:20:47 -0700  glip:

	Changed paths:
	   M /trunk/server/gotohand.c

	In really_generate_warmap() loop, avoid calling WARMAP_[SEA]COST(x,y) more
	than once.  Cache the result instead.  This results in around 1.2% speedup
	in autogames.

	Patch by Jason.


Mon, 20 Oct 2003 17:12:55 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h

	PR#6409: added overview map goto.

	Based on original GTK+ 1.2 patch by Jason Short <jdorje@users.sourceforge.net>.


Mon, 20 Oct 2003 13:31:43 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	Fixed typing gold in diplomacy meeting bug (PR#6195).

	Bug reported by Kenn Munro <kenn@cyberbeach.net>.


Mon, 20 Oct 2003 01:43:03 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 20 Oct 2003 01:30:22 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-xaw/cma_fe.h
	   M /trunk/server/plrhand.h
	   M /trunk/server/sanitycheck.h
	   M /trunk/server/score.h

	Add missing includes and declarations.


Thu, 16 Oct 2003 10:03:43 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Translate item factory menus the proper way, using a GtkTranslateFunc.


Wed, 15 Oct 2003 20:39:52 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Use 'find_city_by_id' instead of the way slower 'city_list_find_id' function.

	The first is an hash table lookup while the second is a linked list search.


Wed, 15 Oct 2003 17:04:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/common/map.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Rename WRAP as FC_WRAP to avoid a compilation problem on Solaris.

	Reported by Brett Albertson <brett.albertson@stratech.com> as PR#6451;
	patch by me.


Wed, 15 Oct 2003 16:59:05 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c

	Fix compilation error in gui-gtk, caused by gold upkeep patch.

	Reported as PR#6535.


Wed, 15 Oct 2003 16:47:05 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Changed the names of some city report menus from "First", "Next", "Last" to the
	slightly more obvious "Add First", "Add Next", "Add Last".


Wed, 15 Oct 2003 16:42:13 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Add prepend, append after first and last worklist element menus to the
	city report (PR#4426).

	Patch by Josh Cogliati <jjc@honors.montana.edu>.


Wed, 15 Oct 2003 16:14:35 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	This patch implements the find closest unit feature mentioned in PR#1178.

	Original patch by Daniel L Speyer <dspeyer@wam.umd.edu>, reimplemented for
	the current code base by me. Fix to also search for sentried units by
	Josh Cogliati <jjc@honors.montana.edu>.


Wed, 15 Oct 2003 14:15:47 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/repodlgs_common.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Client (gtk and gtk2) support for gold upkeep. Patch by Remi Bonnet
	<remi.bonnet@laposte.net>.


Wed, 15 Oct 2003 13:56:12 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Forbid adding barbarians into a team. Fixes bug PR#6407, reported by
	Chris.


Wed, 15 Oct 2003 13:51:26 -0700  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Remove 'unique' flag from Barbarian Leader, since it made no sense to
	have it there - barbarian leaders are neither built nor unique...


Tue, 14 Oct 2003 04:45:10 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 13 Oct 2003 14:50:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update the visible map canvas when changing game state.  This fixes some
	FOW bugs caused because some tiles are sent by the server before the
	game enters the RUNNING state.

	Issued as PR#2982.


Mon, 13 Oct 2003 14:33:59 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Don't let GAMELOSS units get killed by barbarians when exploring huts.

	Patch by Per as PR#6490.


Mon, 13 Oct 2003 14:24:54 -0700  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/tiles.png
	   M /trunk/data/isotrident/tiles.spec
	   M /trunk/data/trident/tiles.png
	   M /trunk/data/trident/tiles.spec

	Add gold upkeep graphics, designed by Per.


Mon, 13 Oct 2003 00:37:05 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Make nohomed units go to nearest city in ai_military_gohome(), instead
	of just sitting there.


Mon, 13 Oct 2003 00:30:57 -0700  per:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/common/aicore/pf_tools.h

	Make more sensible use of pf in AI diplomats code, and remove the
	simple unit path iterators in favour of an even simpler pf_iterator.

	Fixes bug #4358, diplomats can get stuck on goto, and changes
	diplomat tactics slightly in view improved diplomat-vs-diplomat rules,
	so that diplomats will stay behind to defend city more often (stay if
	only diplomat and city is in urgency).


Mon, 13 Oct 2003 00:27:20 -0700  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix kill_dying_player call which would kill off a player before he had
	time to join the game...


Mon, 13 Oct 2003 00:10:15 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	In auto_arrange_workers, focus on food until city is size two. This is
	important since it is a requirement for building a settler. Idea by
	Genevieve.


Mon, 13 Oct 2003 00:00:13 -0700  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Remove gameloss flag from barbarian leader. It made no sense, since
	barbarians hordes exist in multiple locations at the same time, each
	potentially with their own leader. The gameloss flag made them all die
	if one horde's leader was defeated, which was not the intention.
	The barbarian player slots should rather be thought of as placeholders
	for several virtual barbarian nations, each existing independently of
	each other.


Sun, 12 Oct 2003 23:55:22 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/srv_main.c

	Ensure that players killed through loss of gameloss unit are removed
	from the game immediately. Patch by Jason.


Sun, 12 Oct 2003 18:33:31 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/sanitycheck.h

	Move sanity_check_city() into sanitycheck.[ch], and add most of the
	current city sanity checks to this function.  This means the citizen
	checks previously done by this function are now done during the routine
	sanity_check call, and all of the routine checks are done when a special
	user calls sanity_check_city.

	Issued as PR#6464.


Sun, 12 Oct 2003 17:48:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Rewrite to get_mapview_scroll_window, giving better functionality for the
	current map options and adding support for varied wrapping and iso-maps.

	Issued as PR#6439.


Sun, 12 Oct 2003 09:17:12 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Minor updates.


Sun, 12 Oct 2003 03:58:45 -0700  per:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/server/srv_main.c
	   M /trunk/utility/shared.c

	Add stricter player and city name checking.


Sun, 12 Oct 2003 03:56:57 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Ugly workaround for "illegal city" bug. Patch by Jason. See PR#6260 for
	more info.


Sun, 12 Oct 2003 03:36:36 -0700  per:

	Changed paths:
	   M /trunk/server/gamelog.c
	   M /trunk/server/report.c

	Some style cleanup.


Sat, 11 Oct 2003 05:05:36 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated po


Fri, 10 Oct 2003 12:29:06 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h

	Mark a unit that is waiting to move via server-side goto as done_moving.

	Issued as PR#6428.


Thu, 09 Oct 2003 11:09:28 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Small updates to ru.po


Thu, 09 Oct 2003 05:06:22 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix bug #6396, assert in CM when loading game from inside the server
	console. Fixed by properly initializing CM when loading the game. Patch
	by Mike.


Thu, 09 Oct 2003 04:59:20 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c

	Initialize uninitialized data in unit_info_packet. Patch by Jason.


Wed, 08 Oct 2003 17:46:02 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Improve the sanity checking on city tile status by calling
	city_can_work_tile in addition to any specific checks for tile
	(un)workability.

	Issued as PR#6413.


Wed, 08 Oct 2003 17:44:19 -0700  jdorje:

	Changed paths:
	   M /trunk/common/player.h

	Fix an erronous comment.

	Patch by Remi Bonnet <remi.bonnet@laposte.net> as part of PR#6388.


Wed, 08 Oct 2003 17:41:57 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	Don't show research progress on an unknown target.

	Patch by Remi Bonnet <remi.bonnet@laposte.net> as part of PR#6388.


Wed, 08 Oct 2003 17:07:33 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c

	Cleanup of AI ferry handling. This is Greg's patch. It makes an amazing
	difference in AI behaviour. It should now be a lot more challenging when
	having superior numbers.

	Changes in short: Moved ai_military_gothere() to aitools, and renamed it
	ai_gothere(). Passengers now run ferries, while ferries just run for
	passengers when they don't have any. A lot of ugly kludges replaced by
	sane code. See PR#6308 for more info.


Wed, 08 Oct 2003 16:55:45 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix some invalid memory reads in wipe_unit_spec_safe(). Patch by Jason.


Wed, 08 Oct 2003 10:59:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Change the helpdata lists to use speclists instead of genlists.

	Patch by Per as PR#6410, with style changes by me.


Wed, 08 Oct 2003 09:56:07 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unithand.h
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Remove the wipe_unit_safe function, as wipe_unit is inherently safe.
	wipe_unit_spec_safe remains, but it doesn't need the iterator parameter
	any more.

	Patch by Per as PR#6408.


Tue, 07 Oct 2003 11:55:09 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/packhand.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/gotohand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/unittools.c

	Allow pauses during client-side goto.  The client already sends a pause as
	a repeated position; now the server interprets this as causing the unit to
	wait at that position until the end of the turn.  A new flag
	punit->done_moving is introduced so the client can tell which units are
	continuing their goto and which are done (waiting) this turn.

	Issued as PR#4683.


Mon, 06 Oct 2003 07:27:59 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapctrl.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	When in goto mode, allow the user to hover over the overview minimap to
	choose a destination.

	Issued as PR#6381.


Mon, 06 Oct 2003 04:48:22 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Popup the unit selection dialog for a single known unit in a non-owned
	city.

	Issued as PR#6382.


Mon, 06 Oct 2003 04:46:27 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Change get_mapview_corners() to return the correct set of corners when
	using iso-maps.

	Issued as PR#6379.


Mon, 06 Oct 2003 00:49:43 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Fri, 03 Oct 2003 18:17:45 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Some updates and merges. Plus restored correct version.


Fri, 03 Oct 2003 10:01:59 -0700  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Fixed some bugs in the Spanish translation.


Fri, 03 Oct 2003 04:31:18 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Make an error message in CM more explicit.

	Patch by Remi Bonnet.
	Issued as 6377.


Fri, 03 Oct 2003 04:29:31 -0700  glip:

	Changed paths:
	   M /trunk/server/mapgen.c

	Remove an ancient check.

	Patch by Jason.


Thu, 02 Oct 2003 22:55:15 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Improve the unit popup dialog:
	  - A better string when there is no homecity.
	  - Disable the "Ready all" button if we don't have any units here.

	Issued as PR#6205.


Thu, 02 Oct 2003 14:37:45 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-sdl/wldlg.c

	- Add scale Unit Info Dlg. support.
	- Add mouse cursor map scrolling.
	- Add mouse cursors animations.
	- Fix some problems with dialogs small close buttons.
	- Correct some PL_() strings.
	- Add new graphics and upload new DELUXE6 to ftp. (sorry)


Thu, 02 Oct 2003 10:54:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/terrain.h
	   M /trunk/data/civ1/terrain.ruleset
	   M /trunk/data/civ2/terrain.ruleset
	   M /trunk/data/default/terrain.ruleset
	   M /trunk/data/history/terrain.ruleset
	   M /trunk/server/barbarian.c
	   M /trunk/server/ruleset.c

	Add flags for terrain types.  A NoBarbs flag for terrain types that cannot
	support barbarians is added and used.

	Issued as PR#6183 and PR#6330.


Thu, 02 Oct 2003 10:45:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	Change texts for the tile info popup string:
	  - Change adjective arrays to use Q_ so that different forms can be
	    used for translations.
	  - Add new lines to the string with a called function add_line(), so
	    spurious \n characters do not have to be translated.
	  - Use PL_ for a (possibly) plural-form string.

	Patch by Mateusz Stefek <matusik_s@o2.pl> and myself as PR#6303.


Thu, 02 Oct 2003 10:04:55 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Rewrite tile_visible_and_not_on_border_mapcanvas to work with iso-maps
	and Y-wrapping.

	Issued as PR#6331.


Thu, 02 Oct 2003 10:02:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Add a function set_mapview_origin() which is called to recenter the
	mapview.  This also adds generalized wrapping of the mapview
	(fixing PR#6355), wrapping of the scroll bars, and avoids spurious redraws
	when the mapview origin does not change.

	Issued as PR#6346.


Wed, 01 Oct 2003 14:04:42 -0700  jdorje:

	Changed paths:
	   M /trunk/m4/c99.m4

	Remove spurious logging message.


Wed, 01 Oct 2003 14:01:52 -0700  jdorje:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Have die() report the file and line from which it was called.

	Patch by Per as PR#6223.


Wed, 01 Oct 2003 13:48:45 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/common/log.h
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/c99.m4
	   M /trunk/utility/log.h

	Check for the legality of C99-style variadic macros, and fail if they are
	not supported.  Turn freelog() into a variadic macro.

	Issued as PR#6254.


Wed, 01 Oct 2003 07:48:54 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Ensure that we do not give up trying to arrange workers in a city if
	gold income drops lower than -20. Bug reported by Paul Zastoupil.


Wed, 01 Oct 2003 04:14:37 -0700  glip:

	Changed paths:
	   M /trunk/po/es.po

	Hack Spanish translation so that msgfmt -c doesn't complain and compilation
	succeeds.


Wed, 01 Oct 2003 03:39:40 -0700  glip:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/savegame.c

	Removes the regular_map_pos_is_normal macro, and replaces its users
	(in savegame.c) with native coordinates instead.

	This means the savegames will be stored in native coordinates.  For an
	iso-map this is a big savings versus using map coordinates since the
	native coordinates are rectangular.

	Also update SAVE_MAP_DATA and LOAD_MAP_DATA to be more clear about
	variables that are made visible outside the macro and about their
	structure and usage.

	Patch by Jason, corrections by Ross, minor corrections byt myself.
	Issued as 4691.


Wed, 01 Oct 2003 03:30:56 -0700  glip:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Do gen-topology-safe wrapping in map_to_canvas_pos using
	map_distance_vector.  See PR#4648 for discussion.

	Patch by Jason, hotly disputed by Ross Wetmore.


Wed, 01 Oct 2003 02:32:10 -0700  per:

	Changed paths:
	   M /trunk/server/userdb/lockfile.c

	Crudely disable userdb's lock file ability on win32, so that Freeciv can
	compile on this platform:
	+#ifndef WIN32_NATIVE
	 #define HAS_FILE_LOCKING
	+#endif


Wed, 01 Oct 2003 02:23:16 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Fix client-side CMA and disorder problem. Patch by Greg. See #6322 for
	more info.


Tue, 30 Sep 2003 21:58:50 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Skip the border position check for iso-maps.

	Issued as PR#6321.


Tue, 30 Sep 2003 20:02:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Fix obvious compiler/logical error.


Tue, 30 Sep 2003 19:10:31 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c

	Send the spaceship score to clients as a 32-byte integer rather than an
	8-byte one.

	Patch by Andreas R?sdal <andrearo@stud.ntnu.no> as an addendum to PR#3446.


Tue, 30 Sep 2003 18:39:47 -0700  jdorje:

	Changed paths:
	   M /trunk/server/gamehand.c

	Rewrite the code to place starting players.  In the process this fixes a
	bug with overlapping player starting positions.

	Reported by Genevieve Gracian <ggracian@free.fr> as PR#6189.  Patch by me.


Tue, 30 Sep 2003 16:20:10 -0700  kauf:

	Changed paths:
	   M /trunk/common/effects.c
	   M /trunk/common/effects.h
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/doc/README.effects

	Add new effects, and correct and rename other effects and update rulesets.

	Patch by Ben Webb <ben@salilab.org> and myself


Tue, 30 Sep 2003 12:16:05 -0700  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Tue, 30 Sep 2003 12:01:22 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Allow the overview window to scroll in the Y direction if the underlying
	map does.

	Issued as PR#6316.


Mon, 29 Sep 2003 14:47:58 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	When disbanding a transporter, reassign or bounce all of its cargo.

	Bug spotted by Per.  Patch by me as PR#6200.


Mon, 29 Sep 2003 10:42:37 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Fix compiler warning in PR#6259 patch.


Mon, 29 Sep 2003 10:15:50 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/doc/HACKING

	Change native_to_map_pos and map_to_native_pos to work with iso-maps.

	Issued as PR#6259.


Sun, 28 Sep 2003 20:28:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Change mapview scrolling to use "scroll positions".  These are implemented
	to just use native positions.

	Issued as PR#6272.


Sun, 28 Sep 2003 19:42:15 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Rewrite rand_map_pos to work with native coordinates.

	Issued as PR#6285.


Sun, 28 Sep 2003 12:52:17 -0700  glip:

	Changed paths:
	   M /trunk/ai/ailog.h

	Fix a warning created by a previous commit.


Sun, 28 Sep 2003 10:52:54 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h

	Introduce new PLAYER_LOG function and use it extensively in AI diplomacy
	code.

	Patch by Per.  Final part of 6305.


Sun, 28 Sep 2003 10:49:48 -0700  glip:

	Changed paths:
	   M /trunk/ai/ailog.c
	   M /trunk/ai/ailog.h

	Remove the unused GOTO_LOG function.

	Patch by Per.  Part of 6305.


Sun, 28 Sep 2003 10:44:16 -0700  glip:

	Changed paths:
	   M /trunk/ai/ailog.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/stdinhand.c

	New fantastic debugging tool.  Now you can switch on all debug messages
	from a given unit / city / player by issuing the command "debug".
	From the help:

	Command: debug  -  Turn on or off AI debugging of given entity.
	Synopsis: debug <player <player> | city <x> <y> | units <x> <y> | unit <id>>
	Level: hack
	Description:
	  Print AI debug information about given entity and turn continous debugging
	  output for this entity on or off.

	Patch by Per.  A part of 6305.


Sun, 28 Sep 2003 02:33:21 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Remove a check from fstk that wanted to know if we could occupy an enemy
	unit (!) and that prevented it from attacking defenseless units (!).


Sun, 28 Sep 2003 02:12:59 -0700  per:

	Changed paths:
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/dutch.ruleset

	Change dutch civil war nation to boer and vica versa. Patch by unknown
	with changes by me.


Sat, 27 Sep 2003 18:04:59 -0700  glip:

	Changed paths:
	   M /trunk/ai/aitools.c

	For some reason my compiler fancied this:

	+      result = (find_unit_by_id(id) != NULL);

	better than this

	-      result = (punit = find_unit_by_id(id));

	So fixed accordingly.


Sat, 27 Sep 2003 11:50:32 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Cosmetic update of ai_assess_military_unhappiness()


Sat, 27 Sep 2003 08:02:32 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/po/pl.po

	- Small cleanup in Options Dlg.
	- Small Polish Translation Fix.


Sat, 27 Sep 2003 04:27:01 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Ensure that we can make trade with city that we try to make a traderoute
	with. Patch by Rafal and Cameron.


Sat, 27 Sep 2003 04:22:40 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Move ai_unit_execute_path() to aitools.c and fix a recently introduced
	bug.


Thu, 25 Sep 2003 13:55:01 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c

	Change map_distance_vector to work with native coordinates and wrapping
	in different directions.

	Issued as PR#6256.


Thu, 25 Sep 2003 13:11:12 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Make ai_unit_execute_path() not be a static function.


Thu, 25 Sep 2003 11:13:13 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Small fix for ai_manage_unit(): In the words of Greg: "Check if we have
	enough move_points _before_ checking what we are. Because whatever we
	are, we can do nothing with no points!"


Thu, 25 Sep 2003 10:55:05 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Cleanup ai_military_gothere(). Patch by me and Greg.


Thu, 25 Sep 2003 10:51:33 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Unset ferry variables as we change AI tasks.


Thu, 25 Sep 2003 09:58:00 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h

	Add function to pf: pf_get_parameter().  We need this to figure out whether
	pf maps are still valid when we no longer have a reference to the old
	parameter we used to create the pf map.

	Patch by Per.
	Issued as 6279.


Thu, 25 Sep 2003 09:55:03 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Improve ai_unit_execute_path() so that it can be used with non-military
	units and non-attack gotos. We now only attack something if it is on the
	end of our path.

	Patch by Per.
	Issued as 6280.


Thu, 25 Sep 2003 09:51:55 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Improve logging in aiunit.c, all functions.  Use UNIT_LOG whenever we can,
	add one or two more log messages.


Thu, 25 Sep 2003 06:35:47 -0700  glip:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Turn a CMA error from fatal to non-fatal.  The message is still printed
	"Dresden has changed multiple times.  The CMA will detach itself from
	the city now."

	Patch by Per.
	Issued as 6262.


Wed, 24 Sep 2003 14:00:15 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	When transferring a unit from one city to another, the transported_by field
	isn't updated.

	Reported and tracked down by John Wheeler <jdwheeler42@yahoo.com> as
	PR#6216.  Patch by me.


Wed, 24 Sep 2003 10:38:22 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Fix typo in previous commit.


Wed, 24 Sep 2003 10:35:09 -0700  jdorje:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add two missing files to POTFILES.in.

	Patch by Mateusz Stefek <matusik_s@o2.pl> and myself as PR#6267.


Wed, 24 Sep 2003 09:41:08 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Minor change to ru.po.


Wed, 24 Sep 2003 02:57:33 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix silly bug in move_unit():
	-    send_unit_info_to_onlookers(NULL, punit, punit->x, punit->x, TRUE);
	+    send_unit_info_to_onlookers(NULL, punit, punit->x, punit->y, TRUE);

	Found simultaneously by me and mateusz stefek.


Tue, 23 Sep 2003 15:01:41 -0700  kauf:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/stdinhand.c

	observers no longer popup the nation selection dialog or the change
	government dialog. See PR#4787.

	Reported by Jason.


Tue, 23 Sep 2003 14:35:58 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	- Fix ScrollBar bug in win32 port.
	- Fix Economy Report draw bug.
	- Add max taxrate blocade for tax counter.
	- Force exit client with quit button


Tue, 23 Sep 2003 12:47:22 -0700  glip:

	Changed paths:
	   M /trunk/common/map.h

	Convert map_pos to/from index via gen-topology sound
		map_pos <-> native_pos <-> index
	route.

	Patch by Jason.


Tue, 23 Sep 2003 11:57:39 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Make unloading from a ferry easier for AI.  They now have to pass fewer
	bureacratic checks.

	Patch by Jordi Negrevernis i Font and Per.
	A part of 6227 for no good reason.


Tue, 23 Sep 2003 11:53:08 -0700  glip:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Kill the hugely annoying assert(!pplayer->is_dying).  Jason promises to fix
	it some time.

	Patch by Jason, after complaints by me.


Tue, 23 Sep 2003 11:43:23 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Remove dead (unfunctional) code that tries to estimate time for the enemies
	to get to our city by boat.  It was looking at wrong boats.  Now we will
	only look at boats the enemies have already boarded.

	Patch by Per.
	Part of 6227.


Tue, 23 Sep 2003 09:18:05 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Make overview coordinates be a scaling of native coordinates.  This allows
	the overview to work well with iso-maps.

	Issued as PR#6178.


Tue, 23 Sep 2003 09:10:23 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Change normalize_map_pos to work in native coordinates and wrap in both
	X and Y directions.  A new macro WRAP() is introduced in the process.

	Issued as PR#6167.


Tue, 23 Sep 2003 08:59:05 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h
	   M /trunk/server/srv_main.c

	Replace several static map-sized 2d arrays with dynamically-allocated
	indexed arrays.

	Patch by me as PR#6182.


Tue, 23 Sep 2003 08:45:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	Fixes for mapview popup text on tiles with cities:
	  - Don't call your own cities "Mysterious".
	  - Give a city line when playing without borders.
	  - Change spacing in city line.
	  - Add translation comments.

	Patch by Genevieve Gracian <ggracian@free.fr> and myself as PR#6229.


Mon, 22 Sep 2003 13:25:56 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h

	Change the notify() function to call vnotify_conn_ex instead of
	notify_player_ex.  This is needed because the variadic arguments to the
	function are a va_list.

	See PR#6244.


Mon, 22 Sep 2003 12:10:52 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h

	Fix 2 bugs ScrollBar Code.

	- move dlg with scollbar work.
	- scroll up/down proper update scrollbar background.


Mon, 22 Sep 2003 10:02:10 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c

	- Add gold unit support in units dlg.
	- Add basic space ship support.
	- Fix Intlg. dlg.


Mon, 22 Sep 2003 09:54:09 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/player.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	- Don't send transported units to players without shared vision.
	- Send occupy count to owner player.
	- Fix draw transport move bug.

	Patch by me and Jason


Mon, 22 Sep 2003 09:05:39 -0700  glip:

	Changed paths:
	   M /trunk/server/savegame.c

	Make old savegames playable by ensuring that transported_by fields of all
	transported units are set.  This is done by the simplest method possible:
	we bounce the offending cities.

	Patch by Per.
	Issued as 6243.


Mon, 22 Sep 2003 09:04:03 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h

	Add line and file info to sanity_check_city() when we die for better
	bug reporting.


Mon, 22 Sep 2003 08:50:54 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Avoid use of C99 variadic macros to make code compile on more platforms.
	Patch by Jason. Reported by Irena Vr?nov? <Irena_Vranova@seznam.cz>.


Mon, 22 Sep 2003 08:47:39 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Make CM set city center info that is sent through cm_result. Patch by
	Jason.


Mon, 22 Sep 2003 08:46:17 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Reorder two checks to silence a harmless valgrind warning. Patch by
	Jason.


Mon, 22 Sep 2003 08:19:41 -0700  per:

	Changed paths:
	   M /trunk/data/civ1/governments.ruleset

	Fix helptext for martial law under Monarchy. Reported by Egor
	Vyscrebentsov <evyscr@murom.net>


Mon, 22 Sep 2003 07:58:42 -0700  jdorje:

	Changed paths:
	   M /trunk/common/worklist.c
	   M /trunk/common/worklist.h

	Add functions worklist_insert and worklist_append.  These functions can
	be used to give finer control over worklists.

	Patch by Josh Cogliati <jjc@rupert.honors.montana.edu> as part of PR#4426,
	with style and comment changes by me.


Mon, 22 Sep 2003 07:18:46 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/server/settlers.c

	Remove some more unused code. Patch by Greg.


Mon, 22 Sep 2003 06:51:58 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c

	Add a more rigorous sanity check for non-allied stacked units.

	Issued as part of PR#6189.


Mon, 22 Sep 2003 06:22:27 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Mon, 22 Sep 2003 04:41:14 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sun, 21 Sep 2003 07:02:15 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   D /trunk/ai/advattitude.c
	   D /trunk/ai/advattitude.h
	   D /trunk/ai/advforeign.c
	   D /trunk/ai/advforeign.h
	   D /trunk/ai/advisland.c
	   D /trunk/ai/advisland.h
	   D /trunk/ai/advleader.c
	   D /trunk/ai/advleader.h
	   D /trunk/ai/advscience.c
	   D /trunk/ai/advscience.h
	   D /trunk/ai/advtrade.c
	   D /trunk/ai/advtrade.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aitech.c
	   M /trunk/common/nation.h
	   M /trunk/data/default/nations.ruleset
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/server/ruleset.c

	Remove AI advisors (unused code).


Sun, 21 Sep 2003 05:57:13 -0700  per:

	Changed paths:
	   A /trunk/win32
	   A /trunk/win32/client.ico
	   A /trunk/win32/gtk2.iss
	   A /trunk/win32/sdl.iss
	   A /trunk/win32/server.ico

	Add resources for compiling gtk2 and SDL clients on win32 with mingw32.


Sun, 21 Sep 2003 02:06:43 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/goto.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Fix some problems with autoexplorers: #3456, explorers don't see very
	far. #4803, explorers attack while exploring. #3467, AI idles fortifying
	units. #4689, exploring units don't deal well with ZoC. Patch by Greg.


Sun, 21 Sep 2003 01:49:40 -0700  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/server/unittools.c

	city_can_be_built_here() cleanup by Jason


Sat, 20 Sep 2003 13:08:08 -0700  per:

	Changed paths:
	   M /trunk/data/nation/viking.ruleset

	Update to vikings.ruleset, patch by Andreas R?sdal
	<andrearo@stud.ntnu.no>


Sat, 20 Sep 2003 12:56:56 -0700  per:

	Changed paths:
	   M /trunk/data/nation/scottish.ruleset

	Updated scottish ruleset by Martin McMahon
	<martin.mcmahon@blueyonder.co.uk>


Sat, 20 Sep 2003 12:32:26 -0700  per:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Make CodingStyle clearer when concerning function headers. Patch by
	Greg.


Sat, 20 Sep 2003 12:24:54 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aihand.c
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/aicore/cm.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/unithand.c

	Make AI use CM, the new city management code written by Raimar. Patch by
	me with help of Greg. The old city management code has been junked.


Sat, 20 Sep 2003 11:30:19 -0700  per:

	Changed paths:
	   M /trunk/data/nation/viking.ruleset

	Someone erronously removed Fjaler from the viking ruleset while doing
	the legends patching, making the comment there about it (which is, it
	should be said, in Norwegian) unintelligible. Fixed.


Sat, 20 Sep 2003 08:06:44 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/repodlgs.c

	- small spell fixes

	Thx all for reports and patches


Fri, 19 Sep 2003 15:27:18 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c

	Add sanity checks on dead players to make sure they have been properly
	killed off.  When loading a saved game, skip the units and cities of dead
	players (to fix any bugs present in the saved game).

	Patch by me under PR#4757.  This closes PR#4757.


Fri, 19 Sep 2003 14:55:08 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	Change Police Station so that you can't build it when you have Women's
	Suffrage (the latter supercedes the former and does not obsolete).

	Patch by Genevieve Gracian <ggracian@free.fr> as PR#6158.


Fri, 19 Sep 2003 11:29:40 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am

	Add gettimeofday.m4 and locale.m4 to the distribution.

	Reported by Kenn Munro <kenn@cyberbeach.net> as PR#6146.  Patch by me.


Fri, 19 Sep 2003 08:39:57 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Avoid a gross memory leak.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as PR#4697.


Fri, 19 Sep 2003 07:16:56 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Forbid a transport from transporting an allied unit into a tile
	containing a unit or city not allied to the cargo.


Fri, 19 Sep 2003 07:14:45 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Make transported_by accounting more robust, and add more sanity checks.
	Patch by Jason.


Fri, 19 Sep 2003 06:17:12 -0700  glip:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Make generator 2 even more fair by insuring the islads have the same size
	(margin of error = 5%).

	Patch by Cameron Morland.
	Reviewed by Josh Cogliati and myself.
	Issued as PR#4659.


Fri, 19 Sep 2003 05:39:37 -0700  glip:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Unify the middle-click popup and add to it the diplomacy information on the
	owner of the territory.

	Patch by Daniel Speyer.  Reviewed by Andreas Rosdal.
	Issued as PR#5378.


Fri, 19 Sep 2003 03:00:18 -0700  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/srv_main.c

	Remove AI 'double-move'. AIs now only move units in beginning of
	turn. Patch by Greg. See PR#5633 for more info.


Wed, 17 Sep 2003 09:59:18 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	"Fix" path finding to be able to deal with units that have more MP than
	their MR.

	Reported by Thomas Strub <ue80@stud.uni-karlsruhe.de> and
	Tom Chance <tomchance@gmx.net> as PR#6094.  Patch by Greg with added
	comments by me.


Wed, 17 Sep 2003 07:59:40 -0700  glip:

	Changed paths:
	   M /trunk/server/gotohand.c

	Use memset instead of a loop to initialize warmap.  Brings about 6% speedup
	on small autogames.

	Patch by Jason, reported by myself.
	Issued as 6165.


Wed, 17 Sep 2003 07:39:36 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Send units home in the end of ai_military_attack.

	Patch by Per, as a part of 4137.


Tue, 16 Sep 2003 19:57:21 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/server/autoattack.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Add a new function, can_unit_attack_atll_at_tile.  This function must pass
	before a unit can attack any unit on that tile.  This makes the attack
	rules more consistent and prevents some potential/current bugs.

	Patch by Greg as PR#6132.


Tue, 16 Sep 2003 16:27:40 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Tue, 16 Sep 2003 11:04:47 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Do not overwrite the want for defensive buildings in assess_danger()
	with a smaller value than the buildings evaluation code sets it to.


Tue, 16 Sep 2003 08:12:39 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Add missing parantheses in advdiplomacy.c:
	-  i = total_balance / (city_list_size(&pplayer->cities) * 50) + 1;
	+  i = total_balance / ((city_list_size(&pplayer->cities) * 50) + 1);


Mon, 15 Sep 2003 12:40:53 -0700  glip:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/include/repodlgs_g.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/server/report.c
	   M /trunk/server/report.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Extend endgame report.  Now (if you are running GTK 1/2) you essentially
	get the demographics report info (and more) on each player at the
	present moment.

	Patch by Andreas Rosdal, review by Remi Bonnet.
	Issued as PR#3446.


Mon, 15 Sep 2003 10:03:24 -0700  jdorje:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset

	Add some nation-specific civil war preferred nations.

	Patch by Daniel Speyer <dspeyer@wam.umd.edu> as part of PR#5252, with
	style changes by me.


Mon, 15 Sep 2003 09:51:07 -0700  jdorje:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Allow nation ruleset files to specify a list of "preferred" nations to be
	chosen as the forked-off nation when a civil war occurs.

	Patch by <remi.bonnet@laposte.net> as PR#5252 with style changes, comment
	changes, and an added assertion by me.


Mon, 15 Sep 2003 09:05:35 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-xaw/menu.c

	Disable the "Return to nearest city" operation for air and helicoptor
	units, since client-side PF does not support them yet.

	Reported by Paul Zastoupil as PR#6134.  Patch by me.


Mon, 15 Sep 2003 08:58:42 -0700  jdorje:

	Changed paths:
	   M /trunk/po/Makefile.in.in
	   M /trunk/po/POTFILES.in
	   A /trunk/po/POTFILES.skip

	Add missing source files to POTFILES.in.  Create POTFILES.skip to include a
	list of source files that have translatable material but do not need
	translation.

	Reported by Duarte Loreto <happyguy_pt@hotmail.com> as PR#6149.  Patch by
	me.


Mon, 15 Sep 2003 06:00:06 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Fri, 12 Sep 2003 07:22:16 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/governments.ruleset

	Fix a typo: "Anarchy"->"Communism".

	Patch by Genevieve Gracian <ggracian@free.fr> as PR#6150.


Fri, 12 Sep 2003 00:11:16 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Improvements to the connection dialog.

	Patch by Vasco as part of PR#4175.


Fri, 12 Sep 2003 00:10:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c

	If the GUI lets the user try to connect to the server more than once,
	simply give the user an error rather than crashing.  Another error message
	has its punctuation fixed in the process.

	Originally reported by Mike as PR#4175.  Patch by Vasco with added
	assertion by me.


Thu, 11 Sep 2003 19:31:40 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c
	   M /trunk/server/userdb/Makefile.am
	   D /trunk/server/userdb/user.h
	   M /trunk/server/userdb/user_db.c
	   M /trunk/server/userdb/user_db.h

	Remove 'struct user' and server/userdb/user.h. Database lookup is
	performed using 'struct connection'. PR#6133


Thu, 11 Sep 2003 09:54:52 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Remove a spoof variable which was initialized to zero and then used to
	make decisions.

	Noticed and patched by Per, as part of 6131.


Thu, 11 Sep 2003 08:43:59 -0700  per:

	Changed paths:
	   M /trunk/ai/aiair.c

	Add loop detection and more robustness to AI air code. Patch by Greg.


Thu, 11 Sep 2003 07:35:20 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 11 Sep 2003 05:09:46 -0700  glip:

	Changed paths:
	   M /trunk/server/mapgen.c

	Fix a bug in gen4 where the islemass parameter in a call to make_island
	isn't scaled properly.

	Reported by myself, patch by Jason.


Thu, 11 Sep 2003 04:49:53 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Make AI consider danger from paratroopers taking into account that they
	can jump.

	Patch by Per.


Thu, 11 Sep 2003 04:30:42 -0700  glip:

	Changed paths:
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Introduce topology flags TF_WRAPX, TF_WRAPY, TF_ISO and a macro to check
	if the current map has them.  One user of the macro is introduced,
	nearest_real_pos.

	Patch by Jason, criticism by Ross.


Wed, 10 Sep 2003 17:47:08 -0700  kauf:

	Changed paths:
	   M /trunk/common/city.c

	Initialize the city improvement list and worklist before there's
	a chance to access them. See PR#6076.

	Original patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi>


Wed, 10 Sep 2003 13:14:44 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Don't right-indent the Help menu as per the GTK+ 2.0 HIG.

	Requested by Preben Randhol <randhol@pvv.org>.


Wed, 10 Sep 2003 10:51:03 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	cosmetic style fixes


Wed, 10 Sep 2003 09:50:18 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Ensure that transfered units do not exceed maximum limits on movement
	points for their unit type. Patch by Greg.


Tue, 09 Sep 2003 14:51:50 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Unit selection dialog fixes (PR#4422).


Tue, 09 Sep 2003 14:36:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Fixed DND bug (PR#5207).

	Bug reported by Per I. Mathisen <per@leftist.net>.


Tue, 09 Sep 2003 14:00:28 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Due to popular demand, added back mnemonics to the notebook tabs.


Tue, 09 Sep 2003 13:10:28 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Introduce a "short unit" packet.  This packet is sent in place of a unit
	info packet when unit information is being sent to a player who isn't
	supposed to know everything about that unit.  It only contains a limited
	amount of information about the unit.

	Patch by Marko Lindqvist <marko.lindqvist@pp5.inet.fi> as PR#5082, with
	added comments and style fixes by me.


Tue, 09 Sep 2003 08:55:52 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h

	Stop the possibility of production of units for which you do not have
	the requirements to produce in cities that you conquer, incite or
	otherwise obtain. See PR#2405 for more info.


Tue, 09 Sep 2003 08:52:47 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Statue of Liberty now allows immediate government change, as it is
	supposed to according to the documentation. Reported by
	<jonadab@bright.net>.


Tue, 09 Sep 2003 08:49:07 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/game.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Add new server option to curtail the ability of players to
	conduct diplomacy. This enables 'free for all' kinds of games,
	and also easier games where AIs cannot cooperate against you. For
	more info see PR#5135. Patch by me and Josh Cogliati
	<jjc@honors.montana.edu>.


Mon, 08 Sep 2003 13:47:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	When building a city, update the happiness for the home cities of any units
	on that tile - since the units will probably no longer cause unrest.

	Reported by Christian Knoke <ChrisK@enter.de> as PR#907.  Patch by Per with
	changed comments by me.


Mon, 08 Sep 2003 10:14:04 -0700  per:

	Changed paths:
	   M /trunk/server/diplomats.c

	Diplomats now lose one movement point for each enemy diplomat they kill
	in diplomat contests, and will not be able to do diplomat actions
	against a city with no movement points left. For more info see PR#4593.


Mon, 08 Sep 2003 09:33:28 -0700  per:

	Changed paths:
	   M /trunk/autogen.sh

	Fix bug where autogen.sh's sed magic would fall over with packag
	names containing a '-' character. Patch by Crossbow/Miyo <pajuma@iki.fi>


Mon, 08 Sep 2003 06:47:29 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Cosmetic style fixes to handle_unit_enter_city()


Mon, 08 Sep 2003 05:46:51 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Remove overzealous error checking, leading to spurious "left a unit
	stranded" bugs. Patch by Jason, reported by several.


Sun, 07 Sep 2003 15:05:21 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	little modif. in ai message


Sun, 07 Sep 2003 14:48:33 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	changed version to 1.14.99


Sat, 06 Sep 2003 19:58:44 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	updated fr.po


Wed, 03 Sep 2003 17:02:42 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c

	- fix sellect unit dlg draw bug.
	- add sellect all and sentry idle options in adv menu.


Wed, 03 Sep 2003 14:33:58 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Make notifies from cancel treaty function filterable in the client.


Wed, 03 Sep 2003 06:40:11 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/gui_stuff.c

	- fix unit menu dlg crash in city dlg. (Active Unit)
	- small cleanup in city dlg code.


Wed, 03 Sep 2003 01:58:27 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/wldlg.c

	- fix upgrade unit dlg crash in city dlg.
	- fix mouse whell crash in worklist dlg..
	- make bigger city production font size in city map desriptions.


Mon, 01 Sep 2003 21:52:06 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	modify the messages in is_allowed_to_take() to refer to 'one' instead
	of 'you'. Issued as PR#5092.

	Patch by Erik Sigra <sigra@home.se>


Mon, 01 Sep 2003 12:09:49 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Correct the punctionation of a game message.

	Patch by Erik Sigra <sigra@home.se> as PR#5093.


Mon, 01 Sep 2003 11:45:45 -0700  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Add an assertion to make sure the initial cost in a path search is never
	negative.

	Patch by Greg as PR#5580.


Mon, 01 Sep 2003 08:42:32 -0700  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	If enough starting positions cannot be found, make a savegame to aid
	debugging before exiting the server.

	Patch by Cameron Morland <cameron@morland.ca> as PR#5433 with i18n change
	by me.


Mon, 01 Sep 2003 08:22:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/helpdata.c

	Change alignment of "Rivers" entry in the help menu so that it fits in
	with the basic terrain types.

	Patch by Juhani Heino <juhani.heino@1posti.net> as PR#2406 with added
	comment by me.


Mon, 01 Sep 2003 08:11:26 -0700  jdorje:

	Changed paths:
	   M /trunk/server/mapgen.c

	Remove an unnecessary global variable, making it local.  Clean up some
	unnecessarily cluttered calculations.

	Patch by Cameron Morland <cameron@morland.ca> as PR#5431, with style
	changes by me.


Sun, 31 Aug 2003 15:00:18 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	- fix change research/goal/steal tech dlg's when number of techs > 12.
	- small clean up in city dlg code.
	- fix city dlg with spy/diplomat investigation.
	- fix order buttons positioning after screen resize.
	- enable order buttons after reconnect (fix).


Sun, 31 Aug 2003 10:21:03 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Provide a stub for future handling of helicopters by AI.  Current code
	cannot manage them.

	Issued as 5294.
	Reported by PaulZ.


Sun, 31 Aug 2003 10:19:02 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	A bugfix for PF handling of dangerous routes.  Make sure that stopping
	due to insufficient moves is not counted as waiting.

	Issued as 5289.
	Reported by Christian Knoke.


Sun, 31 Aug 2003 10:15:53 -0700  glip:

	Changed paths:
	   M /trunk/server/maphand.c

	Make map_get_known2 respect shared vision.  Fixes 5113.

	Reported by Remi Bonnet.


Sat, 30 Aug 2003 12:03:52 -0700  glip:

	Changed paths:
	   M /trunk/common/city.c

	Reorder some of the arithmetic in city_corruption() to avoid any possible
	integer roundoff errors.  Some other minor cleanups.

	Based on PR#1233 (by Ross Wetmore), extracted by Jason.


Fri, 29 Aug 2003 16:43:34 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	Tweaked diplomatic meeting dialog.


Fri, 29 Aug 2003 15:06:40 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	- draw exit button fix in 24/32 bpp modes.
	- draw focus animation fix.
	- add chance to win string in adv dlg and unit sellect dlg.
	- science dlg fix.


Fri, 29 Aug 2003 05:31:17 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	When calculating the focus unit's chance to win against a certain tile,
	consider all units on that tile not just the "top" one.

	Issued as PR#5083.


Thu, 28 Aug 2003 09:02:04 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/SDL_ttf.c
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/menu.h
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/tilespec.c

	- draw map fix.
	- new sellect nation dlg. (class and legend support)
	- new connection list dlg.
	- borders support in minimap.
	- new players colors.
	- SDL_String16 code cleanup.
	- small hack in fill dither code. (don't fill it when client don't use it)
	- many bug fixes and clean.


Thu, 28 Aug 2003 08:54:11 -0700  glip:

	Changed paths:
	   M /trunk/server/mapgen.c
	   M /trunk/server/mapgen.h
	   M /trunk/server/stdinhand.c

	Call adjust_terrain_params only once, just prior to map generation.

	Otherwise, in the words of the patch author, "it makes the terrain
	variables non-idempotent" and "it makes it difficult to set a number
	of terrain variables to particular percents since _all_ variables change
	whenever you change one of them".

	Reported and patched by Karen Yeats.


Wed, 27 Aug 2003 09:56:29 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Pop up a unit selection dialog for any unit stack the client knows about -
	including enemy stacks.  This avoids inconsistencies with allied units and
	denies an advantage to cheating clients.

	Reported as an addendum to PR#2053.  Patch by me.


Wed, 27 Aug 2003 09:27:32 -0700  jdorje:

	Changed paths:
	   M /trunk/common/combat.c
	   M /trunk/server/unittools.c

	Change get_defender so that it does not check diplomatic status of the
	attacker and defender.  Change one caller so that it doesn't assume
	get_defender makes this check.

	See PR#4620.  Initially reported by Mike Kaufman.  Patch by Gregory
	Berkolaiko with style and comment changes by me.


Tue, 26 Aug 2003 04:57:26 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 26 Aug 2003 04:12:52 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.h
	   M /trunk/common/unit.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Cleanup of handle_unit_move_request.  Now we thoroughly check if the
	alliances permit attack before calculating the defender.  We also
	ensure that the attacker is physically able to attack every unit on the
	target tile, i.e. no more attacking a tank under a plane.

	Issued as 4199.


Tue, 26 Aug 2003 02:05:42 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Make fstk work with subs. Previously fstk would try to make subs attack
	cities on land, would just looked silly.


Tue, 26 Aug 2003 02:01:17 -0700  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	Actually honour the 'required' parameter to lookup_impr_type() and
	lookup_unit_type() in server/ruleset.c, to avoid crashes if
	non-required entries are not found. Also add a default to graphic_alt
	for buildings. Patch by Remi Bonnet <remi.bonnet@laposte.net>.


Tue, 26 Aug 2003 01:54:13 -0700  per:

	Changed paths:
	   M /trunk/autogen.sh

	Change the carefully crafted sed magic in autogen.sh to detect even more
	varied version strings. Problem reported by Marko Lindqvist
	<marko.lindqvist@pp5.inet.fi>.


Tue, 26 Aug 2003 01:46:08 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	This removes an unnecessary F_GAMELOSS unit safety net, and also
	simplifies some code using the new bounce_unit() function.

	This also removes a potential bug: It would assert if we have no other
	cities left, then lose a ferry or (our last) city containing a
	F_GAMELOSS unit.


Tue, 26 Aug 2003 01:42:10 -0700  per:

	Changed paths:
	   M /trunk/m4/auth.m4

	Ensure that USER_DB_LIB automake variable is always set. Problem
	reported first by Jordi Negrevernis i Font <jorneg@retemail.es>.


Tue, 26 Aug 2003 01:36:24 -0700  per:

	Changed paths:
	   M /trunk/common/unit.c

	Fix potential future bug where the non-feasability of one diplomat
	action against a unit might prematurely stop the checking of other
	diplomat actions.

	Patch by Remi Bonnet <remi.bonnet@laposte.net>.


Tue, 26 Aug 2003 01:21:56 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update Christian Knoke's email address


Mon, 25 Aug 2003 04:30:15 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	AI diplomacy: When we agree on an alliance with a player who was our
	war target, make sure we reset the target to NULL.  Also improve the
	logging of going to war agianst an ally.

	Issued as 5114.
	Reported by Markus, patch by Per.


Fri, 22 Aug 2003 07:02:57 -0700  glip:

	Changed paths:
	   M /trunk/client/control.c

	Fix of helicopter goto related crash #1.

	Reported by PaulZ (PR#5098)


Thu, 21 Aug 2003 11:51:09 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix failure to resolve stacks when breaking alliance. Report and
	patch by John Wheeler <jdwheeler42@yahoo.com>.


Thu, 21 Aug 2003 10:17:37 -0700  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	Bringing up-to-date and fixing a few typos.


Thu, 21 Aug 2003 00:09:31 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 20 Aug 2003 08:36:41 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	few corrections on yesterday's update


Tue, 19 Aug 2003 20:52:48 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Remove /take code obsoleted by the allowtake option.
	Previously, we prevented connections without hack from displacing
	other connections. Now allowtake controls this.

	reported by Per as PR#5134


Tue, 19 Aug 2003 12:46:25 -0700  per:

	Changed paths:
	   M /trunk/server/savegame.c

	-    if (game.version >= 10300) {
	-      pcity->airlift=secfile_lookup_bool(file,
	+    pcity->airlift = secfile_lookup_bool_default(file, FALSE,
	                                  "player%d.c%d.airlift",plrno,i);
	-    }

	Suggestion by Greg that I forgot when I committed the patch he commented
	on.


Tue, 19 Aug 2003 12:14:37 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Remove shared vision before showing entire map to dead player. This
	should fix PR#4801. Reported by Genevieve Gracian <ggracian@free.fr>.


Tue, 19 Aug 2003 11:14:28 -0700  per:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Change diplomacy helptext to reflect the fact that we now have AI
	diplomacy. Patch by John Wheeler <jdwheeler42@yahoo.com> with a
	few changes by me.


Tue, 19 Aug 2003 09:44:20 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h

	Remove some dead code. Was PR#5115.


Tue, 19 Aug 2003 09:40:08 -0700  per:

	Changed paths:
	   M /trunk/data/civ1/governments.ruleset

	Fix helptext for Communism martial law in civ1 ruleset. Reported by
	Erik Sigra <sigra@home.se>.


Tue, 19 Aug 2003 09:33:20 -0700  per:

	Changed paths:
	   M /trunk/common/player.h
	   M /trunk/server/unittools.c

	Add comments to pplayer->is_dying and pplayer->got_tech. Don't eset
	pplayer->is_alive to FALSE until kill_player() is actually called.
	Patch by Jason. Fixes PR#5097.


Tue, 19 Aug 2003 08:37:43 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Remove cause of "Tile at X marked as unavailable but seems to be
	available!" warnings. Patch by Jason. See PR#5107.


Tue, 19 Aug 2003 08:30:46 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	one \n missing


Tue, 19 Aug 2003 06:08:12 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	po update : ai diplomacy, help take/observe


Mon, 18 Aug 2003 09:50:04 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c

	Make sure the client goto recognizes diplomats as aggressive units.

	Patch seems to be authored by Remi Bonnet.


Mon, 18 Aug 2003 09:46:07 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h

	AI units on rampage now
	* instead of looking only at adjacent tiles, will look at all tiles
	reachable within one turn.
	* if a unit doesn't want to move from where it is, but still wants to
	attack adjacent, it still can do by a proper choice of the thresholds.

	I also put in a simple path-executing function.  It might grow into
	something big, when we need to execute long paths, but right now what it
	does is sufficient.


Fri, 15 Aug 2003 00:19:08 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 14 Aug 2003 19:39:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Add missing #include.


Thu, 14 Aug 2003 14:34:43 -0700  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/savegame.c

	Set some extra variables in the new virtual unit and city functions,
	remove one unused AI variable from pcity, and add the use of the virtual
	functions to savegame.c


Thu, 14 Aug 2003 14:17:58 -0700  per:

	Changed paths:
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/default/governments.ruleset

	Fix helptext for civ1 and default 'Communism' government so that it
	accurately reflects settlers food upkeep. Patch by Marko Lindqvist
	<marko.lindqvist@pp5.inet.fi>.


Thu, 14 Aug 2003 14:13:28 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Remove redundant space in string. Patch by Erik Sigra <sigra@home.se>.


Thu, 14 Aug 2003 14:10:49 -0700  per:

	Changed paths:
	   M /trunk/ai/advdiplomacy.c

	Make AI dialog strings translatable. Patch by Pieter J. Kersten with
	changes by me.


Thu, 14 Aug 2003 12:07:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/unittools.c

	Correctly delete a unit from the client when it moves out of sight.  This
	prevents the creation of phantom units in some rare cases.

	Reported by Christian Knoke <chrisk@cknoke.de> as PR#5071.  Patch by Greg
	with added comments by me.


Thu, 14 Aug 2003 11:49:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix some memory leaks when loading and unloading tilesets.

	Issued as PR#4830.


Thu, 14 Aug 2003 03:55:40 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Wed, 13 Aug 2003 23:34:07 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/wldlg.c

	- double click on work target change production and exit worklist dlg.


Wed, 13 Aug 2003 01:24:19 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Added missing ai diplomacy strings


Wed, 13 Aug 2003 01:23:51 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Added ai/advdiplomacy.c to translateable sources.


Tue, 12 Aug 2003 14:31:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	Don't add an empty goto "part" if the user sets consecutive waypoints in
	the same place.

	Reported by Christian Knoke <chrisk@cknoke.de> as PR#4827.  Patch by Greg.


Tue, 12 Aug 2003 11:54:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	When the drawing code assembles a sprite list, each sprite need not be
	aligned with the tile origin but is given its own offset.  New tileset
	variables "flag_offset_x" and "flag_offset_y" are introduced that provide
	the offset for flag sprites (which stand to benefit most easily from this
	feature).

	Issued as PR#4576.


Tue, 12 Aug 2003 10:34:19 -0700  glip:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix AI transporting allies, issued as 4660.  This seems to alleviate
	the hugely annoying 4820 problem.

	Patch by Per, reported by Chris Knoke and Tom Goulet.


Tue, 12 Aug 2003 10:26:14 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/pf_tools.c

	Make sure client goto doesn't think IgTer units are marines.
	Reported as 4711, patch submitted by 4819.

	Reported by Jason.


Tue, 12 Aug 2003 10:17:57 -0700  glip:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix phantom units bug.

	Make sure client deletes units which are normally not seen and were only
	shown to the client for the combat visualisation.  This bug was reported
	several times, most recently in PR#4781.

	Traced and cornered by myself, squashed by Jason.


Mon, 11 Aug 2003 10:12:06 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c

	Move some asserts around in client goto code, before they annoy more people
	and RT overflows with their complaints.

	Reported by Jason and Christian Knoke, patch by Jason.


Mon, 11 Aug 2003 00:46:30 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 10 Aug 2003 19:31:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h

	Fix the path-finding usage of the return-to-nearest-city client operation.

	Reported as PR#4758.  Patch by myself and Greg.


Sun, 10 Aug 2003 19:24:03 -0700  jdorje:

	Changed paths:
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h

	Make the pplayer->research.inventions[tech].required_techs value be an
	explicit bit-vector rather than a manual one.

	Patch as PR#4786.


Sun, 10 Aug 2003 19:13:25 -0700  jdorje:

	Changed paths:
	   M /trunk/common/effects.c

	Remove spurious #include.

	See PR#4814.


Sun, 10 Aug 2003 18:56:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/goto.c

	Fix some assertion code to avoid compiler warnings when compiling with
	NDEBUG.

	Issued as PR#4792.


Sun, 10 Aug 2003 18:54:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Add a macro ADD_SPRITE_SIMPLE that is used to append sprites to the
	list in fill_***_sprite_array_*** functions.

	Issued as PR#4780.


Sun, 10 Aug 2003 18:48:58 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/server/connecthand.c

	Don't send out player information when a player disconnects, unless the
	game is running.  This avoids a sanity-check failure when the client
	receives inconsistent tech information in the player packet.

	Reported by Christian Knoke <chrisk@cknoke.de> as PR#4760.  Patch by me.


Sun, 10 Aug 2003 07:44:14 -0700  kauf:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/stdinhand.c

	replace the allowconnect option with an allowtake option.

	Option: allowtake  -  Players that users are allowed to take
	Description:
	  This should be a string of characters, each of which specifies a type or
	  status of a civilization, or "player".  Clients will only be permitted to
	  take or observe those players which match one of the specified letters.
	  This only affects future uses of the take or observe command.  The
	  characters and their meanings are:
	      H,h = Human players
	      A,a = AI players
	      d   = Dead players
	      b   = Barbarian players
	  The first description from the _bottom_ which matches a player is the one
	  which applies.  Thus 'd' does not include Barbarians, 'a' does not include
	  dead AI players, and so on.  Upper case letters apply before the game has
	  started, lower case letters afterwards.
	  Each character above may be followed by one of the following numbers to
	  allow or restrict the manner of connection:
	    (none) = Controller allowed, observers allowed,
	             can displace connections.
	    1 = Controller allowed, observers allowed,
	        can't displace connections;
	    2 = Controller allowed, no observers allowed,
	        can displace connections;
	    3 = Controller allowed, no observers allowed,
	        can't displace connections;
	    4 = No controller allowed, observers allowed;
	  "Displacing a connection" means that you may take over a player that another
	  user already has control of.
	Status: changeable
	Value: "HAhad", Default: "HAhad"

	reported by Mateusz Stefek <matusik_s@o2.pl>


Sun, 10 Aug 2003 06:46:14 -0700  kauf:

	Changed paths:
	   M /trunk/common/Makefile.am
	   A /trunk/common/effects.c
	   A /trunk/common/effects.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h

	Create the files effects.c and effects.h and move the existing effects
	code from improvement.c and improvement.h to them.


Sat, 09 Aug 2003 14:02:40 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Forward port some style fixes for patch readability.


Sat, 09 Aug 2003 12:21:01 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Ensure sanity of unit list iterator also when disbanding transports when
	disbanding units due to lack of shields upkeep. Bug reported by Chris
	Knoke.


Sat, 09 Aug 2003 08:34:19 -0700  glip:

	Changed paths:
	   M /trunk/server/autoattack.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/settlers.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c

	Add shuffled_players_iterate() macro.

	Patch by Jason.


Fri, 08 Aug 2003 20:30:44 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Refresh city information after loading all cities from a savegame.  This
	avoids the chance of using stale data later.

	Issued as PR#4766.


Fri, 08 Aug 2003 15:11:42 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   A /trunk/ai/advdiplomacy.c
	   A /trunk/ai/advdiplomacy.h
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/options.c
	   M /trunk/common/aicore/Makefile.am
	   A /trunk/common/aicore/aisupport.c
	   A /trunk/common/aicore/aisupport.h
	   M /trunk/common/diptreaty.c
	   M /trunk/common/events.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	AI Diplomacy. You can now do diplomacy with AI players as if they were
	human players, and AI players will sometimes contact human players
	and each other with proposals. In team mode, AI players will cooperate
	tighthly.

	The AIs are in general following a "king of the hill" behaviour. They
	will gang up against the biggest player, unless that player happens to
	be their ally and he is not building a spaceship. The AI is quite
	trusting towards its allies, and will not break alliances without
	provokation (spaceship and not helping in wars being provokations).

	AIs will help their allies if and only if they are in war with their
	enemies. If you wish to give gifts to the AI in order to increase your
	standing with that AI, open a diplomacy dialog and give only beneficial
	clauses.


Fri, 08 Aug 2003 14:31:36 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	More robust code to reduce cities when they fail to upkeep
	F_UNDISBANDABLE units. Patch by Jason.


Fri, 08 Aug 2003 14:07:19 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Ensure that you do not lose embassies to team mates when suffering civil
	war. Report and patch by Thomas Strub, with changes by me.


Fri, 08 Aug 2003 13:38:09 -0700  per:

	Changed paths:
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Add assertion check to bitvectors when in debug mode. Patch by Jason.


Fri, 08 Aug 2003 09:42:03 -0700  jdorje:

	Changed paths:
	   M /trunk/server/Makefile.am

	Use absolute paths to source directories in the Makefile.  This allows
	compiling in a directory other than the source one.

	Patch by <pzabel@gmx.de> as PR#4791.


Fri, 08 Aug 2003 04:07:58 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po: spelling fixes


Thu, 07 Aug 2003 20:45:54 -0700  kauf:

	Changed paths:
	   M /trunk/common/specvec_c.h
	   M /trunk/utility/specvec_c.h

	remove useless include


Thu, 07 Aug 2003 20:13:02 -0700  jdorje:

	Changed paths:
	   M /trunk/common/specvec.h
	   M /trunk/common/specvec_c.h
	   M /trunk/utility/specvec.h
	   M /trunk/utility/specvec_c.h

	Add a new specvec function <foo>_vector_copy().

	Patch by Mike Kaufman as PR#4784 with added #include by me.


Thu, 07 Aug 2003 14:54:29 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/unistring.c
	   M /trunk/client/gui-sdl/wldlg.c

	- clean in SDL_String16 code (large cleanup in entire gui-sdl).
	- fix in multi line string code.
	- new unit memagments in city dlg.
	- new upgrade unit dlg (not tested!)
	- fix crash with empty wonder report.
	- fix capitalization string in worklist dlg.
	- small clean in nations dlg.
	- small clean in video modes code.


Thu, 07 Aug 2003 14:28:26 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h

	Have city_reduce_size() return a boolean value indicating whether the city
	is still alive.  Check this return value when killing off citizens to
	satisfy an "undisbandable" unit, so that if the city dies we don't continue
	processing the city (this is a severe error).

	Fixes part of PR#4769.


Thu, 07 Aug 2003 14:24:50 -0700  jdorje:

	Changed paths:
	   M /trunk/common/packets.c

	Avoid type-casting pointer variables to variables of a different type; this
	is dangerous and causes a compiler warining in GCC 3.3.

	Path by Rafal Bursig and myself as PR#4771.


Thu, 07 Aug 2003 06:31:05 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Save dumb city "happy" and "unhappy" fields.

	Issued as PR#4765.


Wed, 06 Aug 2003 09:10:08 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Change some variables (solid_bg and fog) from integers to booleans.

	Issued as PR#4751.


Wed, 06 Aug 2003 06:55:09 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c

	- build fix.
	- nuke animation support (DELUXE5).
	- fix no resource bug in city dlg.


Wed, 06 Aug 2003 00:34:38 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c

	Some cleanups to the XAW drawing code:
	  - Use UNIT_TILE_*** instead of NORMAL_TILE_*** in appropriate places.
	  - Use city_to_canvas_pos instead of manual conversion.
	  - Don't assert on unreal city positions.

	Issued as PR#4753.


Wed, 06 Aug 2003 00:22:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Add a new function city_buy_production, to do the work of sending a
	PACKET_CITY_BUY city request packet.

	Issued as PR#4752.


Wed, 06 Aug 2003 00:18:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/mapview_common.c

	- Rename city_pos_to_canvas_pos as city_to_canvas_pos;
	  canvas_pos_to_city_pos as canvas_to_city_pos.
	- Both functions return boolean success values; callers check these.
	- The parameters are reordered so that the "return" values are first.
	- canvas_to_city_pos has its parameters renamed to be more clear.

	Issued as PR#4729.


Tue, 05 Aug 2003 08:18:09 -0700  jdorje:

	Changed paths:
	   M /trunk/data/Freeciv

	Don't translate the empty string.

	Reported by Erik Sigra <sigra@home.se> as PR#4667.  Patch by me.


Tue, 05 Aug 2003 08:12:45 -0700  jdorje:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Avoid using a gettext meta-character in a ruleset comment.

	Patch by Christian Knoke <chrisk@cknoke.de> as PR#4754.


Tue, 05 Aug 2003 08:02:02 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	partial update


Tue, 05 Aug 2003 04:55:17 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 04 Aug 2003 20:44:34 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	When saving a city's worklist, fill in unused worklist entries with zeroes
	rather than with whatever garbage happens to be sitting in memory.

	Issued as PR#4732.


Mon, 04 Aug 2003 13:57:15 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Add a new client function city_set_worklist.  This is called by the GUI
	code to change the worklist for a city.

	Issued as PR#4741.


Mon, 04 Aug 2003 08:42:48 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Add new flags to units ruleset:
	 - "GameLoss", you lose the game if you lose one of these units
	 - "Unique", you can only have one of these in play at the same time
	 - "Unbribable", it cannot be bribed
	 - "Undisbandable", it cannot be disbanded or starved to death; if it
	   has food upkeep, the unit can starve its homecity to death instead;
	   it also cannot be drowned by disbanding its ferry
	 - "SuperSpy", it always wins diplomat contests, and if it is in a city,
	   it can never be incited
	 - "NoHome", the unit starts the game without a homecity, and therefore
	   always with no shields or food upkeep

	These flags are all added to the Barbarian Leader unit.


Mon, 04 Aug 2003 08:02:04 -0700  per:

	Changed paths:
	   M /trunk/common/game.c

	Fix small bug in recent commit. See PR#4746. Both this fix and the
	previous connection patch were by Mike.


Mon, 04 Aug 2003 07:57:42 -0700  per:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/stdinhand.c

	Introduce the new server commands /observe and /detach. Player names are
	no longer duplicate in pregame, and are taken from username of attaching
	player if possible.

	Players created by players logging in are automatically destroyed if
	that player detaches from it, but players created by /create are not.

	Further info in PR#4746.


Mon, 04 Aug 2003 00:32:28 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Fri, 01 Aug 2003 13:27:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Add a new client function city_rename.  This is called by the GUI code to
	request a renaming of the city from the server.

	Issued as PR#4730.


Fri, 01 Aug 2003 13:11:41 -0700  jdorje:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/server/plrhand.c

	Fix several allied-allied-war buglets:
	  - Allow an A-B allience even if A is allied to C with whom B has no
	    contact.
	  - Give a message when attacking an ally's city puts you into a state of
	    war.

	Patch by Per Mathisen as PR#4738.


Fri, 01 Aug 2003 12:58:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.h

	Track "happy" and "unhappy" status of cities in the player city map.  Send
	this information in the short city packet, and use it at the client end.
	Update the dumb city when happy status changes.

	Fixes PR#3771 reported by Christian Knoke <chrisk@enter.de>.  Patch by me
	with additional style fixes.


Fri, 01 Aug 2003 08:58:08 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/autoattack.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Rename
		map_get_known -> map_is_known
		map_get_known_and_seen -> map_is_known_and_seen
	because both functions return bool.  Savegames identical.

	Patch by Andy Smith <andy@strugglers.net>


Fri, 01 Aug 2003 07:48:00 -0700  glip:

	Changed paths:
	   M /trunk/server/autoattack.c

	Make sure that autoattack does not
	(1) peek under the cover of fog to see targets
	(2) send units to attack something which cannot be attacked due
	    various attack/layer rules

	Noticed and fixed by Andy Smith <andy@strugglers.net>


Thu, 31 Jul 2003 14:05:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Add a new client function city_toggle_worker.  This is called by GUI and
	CMA code to toggle the worker<->specialist on a particular city tile.

	Issued as PR#4723.


Thu, 31 Jul 2003 12:18:41 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/data/Freeciv

	Bump the version number in data/Freeciv to 1.14.99-devel.

	Issued as PR#4724.


Thu, 31 Jul 2003 11:59:29 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	po update


Wed, 30 Jul 2003 14:14:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Remove an unnecessary '#include "log.h"' from gui-xaw/mapview.c.

	Issued as PR#4714.


Wed, 30 Jul 2003 13:26:11 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Add new client functions city_change_specialist and city_rotate_specialist.
	This reduces the GUI code needed to send network packets to do these
	actions, and allows all the fields of the packet to be initialized.

	Issued as PR#4717.


Wed, 30 Jul 2003 04:19:41 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 29 Jul 2003 15:31:51 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated.


Tue, 29 Jul 2003 11:42:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Make gui-gtk-2.0 compile again.

	Reported by Paul Zastoupil.


Tue, 29 Jul 2003 08:16:32 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/repodlgs_common.h

	Add a new function city_sell_improvement to citydlg_common.  This
	function is called to sell (via sending a network packet) an improvement
	of a city.  Unlike old code it initializes all fields of the network
	packet.

	Issued as PR#4688.


Mon, 28 Jul 2003 21:49:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Fix a compile error in gui-gtk-2.0.

	Bug introduced by PR#4688. Patch by <imbaczek@poczta.onet.pl> as PR#4713.


Mon, 28 Jul 2003 14:47:11 -0700  vasc:

	Changed paths:
	   M /trunk/client/clinet.c

	Patch (PR#4637): add tileset to meta request.

	Patch by Paul Zastoupil and Jason Short.


Mon, 28 Jul 2003 13:16:18 -0700  jdorje:

	Changed paths:
	   M /trunk/common/version.h
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Bumb the version of the CVS development version to 1.14.99.

	See PR#2479.


Sun, 27 Jul 2003 21:19:12 -0700  jdorje:

	Changed paths:
	   M /trunk/common/nation.c

	Free nation class and legend strings when nations are freed.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as PR#4696.


Sun, 27 Jul 2003 21:10:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Clean up map_to_canvas_pos:
	  - Do wrapping more correctly (although it will only work for the
	    current topology).
	  - Check the return value more correctly.

	Issued as PR#4681.


Sun, 27 Jul 2003 21:00:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c

	Add a new function city_change_production to citydlg_common.  This
	function is called to change (via sending a network packet) the production
	of a city.  Unlike old code it initializes all fields of the network
	packet.

	Issued as PR#4688.


Sun, 27 Jul 2003 18:16:06 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-xaw/Makefile.am
	   M /trunk/client/gui-xaw/citydlg.c
	   A /trunk/client/gui-xaw/cma_fe.c
	   A /trunk/client/gui-xaw/cma_fe.h
	   M /trunk/data/Freeciv

	add a CMA dialog to the XAW client.

	Patch by Andreas Røsdal <andrearo@stud.ntnu.no>


Sat, 26 Jul 2003 08:07:58 -0700  kauf:

	Changed paths:
	   M /trunk/client/packhand.c

	The client wasn't updating improvements' obsolescence correctly.
	Add a call to improvements_update_obsolete() in read_player_info_techs().

	Reported by Christian Knoke.


Fri, 25 Jul 2003 11:59:46 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new function base_refresh_overview_canvas to mapview_common.  Call
	this function from the refresh_overview_canvas functions of several GUIs.

	Issued as PR#4670.


Fri, 25 Jul 2003 07:48:32 -0700  glip:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.h
	   M /trunk/common/unit.c

	This patch cleans the usage of pcity->occupied up in two ways:

	1.  Instead of pcity->occupied it's now pcity->client.occupied.  This
	makes it harder to accidentally use it at the server (which was one of
	the original bugs with this code), and is a prelude for more
	client-side-only fields (see PR#3771).  Of course this means all users
	have to be changed.

	2.  Lots of comments added about the client-side usage of this field.
	It seems that the client side of the code is correct, so some explanations
	are put into the comments.

	Patch by Jason.


Fri, 25 Jul 2003 05:43:08 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_stuff.c

	- small fix in input code.


Thu, 24 Jul 2003 19:17:44 -0700  jdorje:

	Changed paths:
	   M /trunk/server/score.c

	In the game log, output the map in native coordinates.

	Issued as PR#4658.


Thu, 24 Jul 2003 10:42:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	Initialize packet data for a packet_generic_message.

	Issued as PR#4656.


Thu, 24 Jul 2003 10:41:05 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	When building a city, initialize the worker placement on the minimap
	before calculating borders.

	Issued as PR#4657.


Thu, 24 Jul 2003 09:55:41 -0700  jdorje:

	Changed paths:
	   M /trunk/server/connecthand.c

	Add missing punctuation.

	Patch by Erik Sigra <sigra@home.se> as PR#4668.


Thu, 24 Jul 2003 09:52:28 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	When scaling an upgraded unit's MP, take into account external effects
	such as Magellan's Expedition.

	Reported by Christian Knoke <chrisk@enter.de> as PR#4639.  Patch by me.


Thu, 24 Jul 2003 09:18:30 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1.serv
	   M /trunk/data/civ2.serv

	Disable borders in civ1 and civ2 rulesets.

	Issued as PR#4653.


Thu, 24 Jul 2003 09:17:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't give a warning message when an alternate sprite tag is used, only
	when a required sprite is completely missing.  Change improvement sprites
	to be optional.

	Issued as PR#4629.


Thu, 24 Jul 2003 06:47:54 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapview.c

	- draw borders fix.


Wed, 23 Jul 2003 13:24:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/doc/HACKING
	   M /trunk/server/gamelog.c

	Introduce the concept of "native" positions, different from "map"
	positions.  Add conversion functions map_to_native_pos and
	native_to_map_pos to translate to and from the coordinate system.  Use
	native positions in one place, and add a lot of explanation of iso-maps
	and different coordinate systems to the HACKING file.

	See PR#3936.


Wed, 23 Jul 2003 12:43:48 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/server/userdb/lockfile.c

	Add configure check for flock() and sys/file.h, implement defines for
	these in userdb. Patch by Jason with changes.


Wed, 23 Jul 2003 07:35:26 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 23 Jul 2003 06:46:04 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h
	   M /trunk/client/include/colors_g.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/data/Freeciv
	   M /trunk/doc/HACKING
	   M /trunk/server/citytools.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Add support for national borders.  The default setting has borders=7.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> as PR#1870, with style
	changes and added comments by me.


Tue, 22 Jul 2003 21:51:14 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/packhand.c

	Initialize packet data for send_packet_generic_message and
	send_packet_unit_request calls.

	Issued as PR#4631.


Tue, 22 Jul 2003 21:40:33 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Don't translate the text "Other" (used as a nation class) twice.  Leave it
	up to the GUI code to translate it, just like for the other classes.

	Issued as PR#3640.


Tue, 22 Jul 2003 21:27:39 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Don't send a city owner the short_city packet - this just confuses the
	client.

	Reported by Mateusz Stefek <matusik_s@o2.pl> as PR#4633.  Patch by me.


Tue, 22 Jul 2003 04:48:35 -0700  glip:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/gotohand.c

	find_the_shortest_path in server/gotohand.c had a static variable
	local_vector, a 2d array with dimensions MAP_MAX_WIDHT * MAP_MAX_HEIGHT.

	This is inefficient not only because of the wasted memory, but because
	the inferior cache usage slows things down.

	The correct thing to do - and what is done everywhere else - is to make
	this value a 1d array indexed by index positions.

	Also the array elements are changed from char to bit-vector.
	The corresponding BV_ are now used to access the bits.

	Noticed and changed by Jason, PR#4636.


Mon, 21 Jul 2003 15:33:04 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	minor corrections + a few updates


Mon, 21 Jul 2003 12:01:01 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/aicore/pf_tools.c

	For client-side goto:
	1. Allow military ships to plan goto route with shore bombardment.
	2. Disallow shore bombardment (including city bombardment) for units with
	No_Land_Attack flag.
	3. Disallow non-military units from planning a goto route with any sort
	of attack.


Mon, 21 Jul 2003 09:09:43 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c

	- small build fix.
	- fix bug in input edit code.


Mon, 21 Jul 2003 09:00:03 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Save the AI city urgency values in the savegame.  This is a temporary
	solution to having these values uninitialized.

	See PR#4536.


Mon, 21 Jul 2003 07:18:49 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new function get_mapview_clipping_window to mapview_common.  This
	returns the dimensions of the bounding box of the possible values for the
	origin of the mapview.  It is currently used by the scrollbar code.

	Issued as PR#4626.


Sun, 20 Jul 2003 18:43:52 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitech.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/game.c
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/score.c

	Add a new iteration macro tech_type_iterate.  Use it in a number of places.

	Issued as PR#2715.


Sun, 20 Jul 2003 18:23:27 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Change all end-of-game player notifications to be E_GAME_END events.

	Patch by Christian Knoke <chrisk@enter.de> as PR#4620 with style changes
	by me.


Sun, 20 Jul 2003 18:19:36 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/unit.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Remove rules against having cities on the ocean.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> as PR#4606 with style
	changes and added comments by me.


Sun, 20 Jul 2003 18:05:02 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new function map_to_base_overview_pos.  This converts a map position
	to a base, unwrapped overview position (as is used for the minimap backing
	store).

	Issued as PR#4613.


Sun, 20 Jul 2003 15:20:30 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/menu.c

	- New Order Buttons Info Texts


Sun, 20 Jul 2003 13:41:39 -0700  raffaelo:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/gotodlg.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/unit.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/unithand.c

	- New Trade & Traderoute System (PR#4420)
	- New Goto/Airlift City Dlg. (gui-sdl)
	- Fix memory leak in Find City Dlg.
	- Many clean up in gui-sdl/dialogs.c
	- Fix in move animation drawing code.

	PR#4420 cleaned by Jason Short


Sat, 19 Jul 2003 17:22:58 -0700  jdorje:

	Changed paths:
	   M /trunk/server/maphand.c

	When giving a player information about a city from another player's
	vision, make sure all fields of the dumb city are copied.

	Issued as PR#4602.


Sat, 19 Jul 2003 13:56:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	Allow the user to toggle city growth display after the game has ended.

	Patch by Christian Knoke <chrisk@enter.de> as PR#4619.


Sat, 19 Jul 2003 08:13:54 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c

	Add flags field to the PF parameters structure.  Make use of F_MARINES
	flag to allow sea-to-land attack only for marines.

	Also add initialisations of the omniscience field.

	Reported by Chris Knoke and Jason.


Sat, 19 Jul 2003 01:39:21 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Fri, 18 Jul 2003 21:05:59 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Pass (255,255) as the end-of-goto-route marker instead of
	(map.xsize,map.ysize).  This is more robust and more likely to work with
	new topologies.  The patch also fixes a server vulnerability.

	Issued as PR#4594.


Fri, 18 Jul 2003 19:04:30 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Patch (PR#4600) use put_unit in gui-gtk-2.0.

	Patch by Jason Short <jdorje@users.sourceforge.net>.


Fri, 18 Jul 2003 18:47:59 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Guard 'sprite_get_pixbuf' against NULL arguments.


Fri, 18 Jul 2003 18:44:12 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-stub/connectdlg.c

	make gui-stub compile after auth patch broke it.


Fri, 18 Jul 2003 18:43:26 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	add a missing variable declaration.


Fri, 18 Jul 2003 15:56:27 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	fix an i18n problem.

	Patch by Mateusz Stefek<matusik_s@o2.pl>


Fri, 18 Jul 2003 15:52:36 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	add missing variable declaration


Fri, 18 Jul 2003 15:02:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/chatline_common.c
	   M /trunk/client/chatline_common.h
	   M /trunk/client/gui-gtk/chatline.c
	   M /trunk/client/gui-gtk-2.0/chatline.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-win32/chatline.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-xaw/chatline.c

	Add a new function send_chat() to chatline_common.  Call this function
	when we want to initiate a chat message.

	Issued as PR#4595.


Fri, 18 Jul 2003 14:06:26 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new mapview_common function get_mapview_corners.  Change most GUIs
	to use this function for drawing the mapview rectangle onto the overview
	minimap.

	Issued as PR#4597.


Fri, 18 Jul 2003 13:29:47 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Change the boolean specfile variable is_pixel_border to an integer
	pixel_border value, to allow values other than 0 and 1 to be specified.
	Preserve backwards-compatability.

	Patch by Rafal BUrsig and myself as PR#3783.


Fri, 18 Jul 2003 13:19:38 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Halt any clent-side goto activities for units when they are on a
	transport that moves.

	Reported by Christian Knoke <chrisk@enter.de> as PR#3993; patch by me.


Fri, 18 Jul 2003 11:22:14 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Replace several instances of '3' with SINGLE_MOVE_RATE.

	Patch by Ben Webb Ben Webb <ben@bellatrix.pcl.ox.ac.uk> as PR#4607.


Fri, 18 Jul 2003 10:14:15 -0700  jdorje:

	Changed paths:
	   M /trunk/server/settlers.c

	Use create_unit_virtual to build the virtual units used to find good
	places for terrain improvement and city founding.  This makes sure all
	needed fields are initialized; in particular the goto destination is
	cleared.

	Issued as PR#4604.


Fri, 18 Jul 2003 10:11:18 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Fix a bug introduced by PR#4345 in updating the 'occupied' flag on the
	player map.

	Issued as PR#4603.


Fri, 18 Jul 2003 10:05:53 -0700  jdorje:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/Makefile.am
	   M /trunk/server/gamelog.c
	   M /trunk/server/report.c
	   A /trunk/server/score.c
	   A /trunk/server/score.h
	   M /trunk/server/srv_main.c

	Move the civ_score() function into the server code, into a new set of
	files score.[ch].

	Issued as PR#4582; idea by Ben Webb.


Fri, 18 Jul 2003 08:51:01 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	New incite cost rules. We now factor in the city's size, happy citizens,
	unhappy citizens, angry citizens, celebration, units, buildings,
	wonders, courthouse, gold reserves and distance to capital.

	Overall incite cost has gone up. Distance to capital is now of far
	greater significance than before. Courthouse divides this distance by
	four. You still cannot bribe the capital, distance penalty does not get
	any worse after 32 tiles, and revolting cities go dirt cheap.


Thu, 17 Jul 2003 18:12:10 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add two new mapview_common functions, put_unit and put_unit_full, to draw
	a unit onto a canvas store.  Use these functions in the GTK and XAW
	clients.

	Issued as PR#4578.


Thu, 17 Jul 2003 15:33:34 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/unit.c

	Fix is_my_zoc so it works in both server and client.  This should fix the
	inability of client PF to recognize that occupied enemy cities impose ZoC
	restrictions.

	Also provide the possibility of supplying the PF with a zoc-callback.
	Right now it's always the default is_my_zoc, but AI might use a different
	one in the future.

	Initial problem reported by Christian Knoke.


Thu, 17 Jul 2003 15:04:16 -0700  glip:

	Changed paths:
	   M /trunk/client/control.c

	The code in do_move_unit to determine the vector of movement of a unit
	was not topology-safe.  Using map_distance_vector made it so.

	Caught and fixed by Jason.


Thu, 17 Jul 2003 11:56:52 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/packhand.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/autoattack.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Add wrappers for accessing a unit's goto destination.  The wrappers
	ensure that if an invalid goto destination is accessed an assertion will
	trigger.  Hacks are added in several places to avoid doing this.

	Issued as PR#3524.


Thu, 17 Jul 2003 09:42:59 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/unittools.c

	When a unit moves into or out of a city changing its 'occupied' status,
	update the player ("dumb") city data and send a short city packet to any
	player who can see the city.

	This fixes part or all of PR#4345.


Thu, 17 Jul 2003 09:39:13 -0700  jdorje:

	Changed paths:
	   M /trunk/common/map.h

	Rewrite whole_map_iterate to do its core loop over index positions
	rather than map positions with an is_regular check.

	Issued as PR#4562.


Thu, 17 Jul 2003 09:36:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Fix a math bug in center_tile_overviewcanvas.

	Issued as PR#4585.


Wed, 16 Jul 2003 23:34:07 -0700  jdorje:

	Changed paths:
	   M /trunk/common/tech.c
	   M /trunk/server/ruleset.c

	When there is a tech dependency loop, detect it when the ruleset is
	loaded.  Previously the loop was only detected if it was one level deep.

	Reported as PR#4181; idea by Greg; patch by me.


Wed, 16 Jul 2003 23:30:34 -0700  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	When transfering a city, tell the players about any units transfered also.
	In particular, if a unit is lost (along with the city) let the player
	know.

	Reported by Christian Knoke <chrisk@enter.de> as PR#3482.  Patch by me.


Wed, 16 Jul 2003 21:49:25 -0700  jdorje:

	Changed paths:
	   M /trunk/server/unittools.c

	Scale the HP and MP of a unit when upgrading.  This prevents some odd
	behavior when upgrading from units with only 1 MP.

	Reported by Christian Knoke <chrisk@enter.de> as PR#3990.  Patch by me.


Wed, 16 Jul 2003 21:43:03 -0700  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Merge the two tileset options into one.  Changing the tileset via this
	option will now change both the current/active tileset and change the
	default tileset (in .civclientrc, once you save your options).

	Issued as PR#4237.


Wed, 16 Jul 2003 18:37:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Store the origin of the overview statically, and recalculate it only when
	the mapview is recentered.  Let the GUI code access the overview origin
	data directly via the map_overview_x0 variable.

	Issued as PR#4561.


Wed, 16 Jul 2003 16:01:02 -0700  glip:

	Changed paths:
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Properly free punit->pgr and memory therein in a couple of cases.

	Caught and executed by Jason.


Wed, 16 Jul 2003 14:51:14 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_zoom.c
	   M /trunk/client/gui-sdl/gui_zoom.h
	   M /trunk/client/gui-sdl/repodlgs.c

	- some reported bugs fixes.
	- new zoom function to non standart pixel format.


Tue, 15 Jul 2003 23:34:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Fix put_unit_pixmap_city_overlays.

	Issued as PR#4577.


Tue, 15 Jul 2003 07:52:45 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 15 Jul 2003 07:48:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Replace two update_city_descriptions() with
	queue_mapview_update(UPDATE_CITY_DESCRIPTIONS).

	Issued as PR#4563.


Tue, 15 Jul 2003 03:00:20 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c
	   M /trunk/server/unithand.c

	When disbanding units due to lack of upkeep, use the normal disband
	function, so that cities we are in get half our shields added to
	production.

	Reported by Christian Knoke, patch by Thomas Strub


Tue, 15 Jul 2003 02:54:38 -0700  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Call resolve_unit_stacks() after dissolving an illegal alliance when
	loading a saved game. This ensures that we don't crash if there were
	also illegal stacking.

	Bug reported by Jordi Negrevernis i Font


Mon, 14 Jul 2003 18:57:49 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	po update


Mon, 14 Jul 2003 18:04:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-xaw/graphics.c

	When freeing a sprite, reset its fields to NULL first.  This can aid in
	debugging.

	Patch by Raimar Falke as PR#3609.


Mon, 14 Jul 2003 17:42:05 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update (redraw) the city descriptions when a new city is founded.

	Bug reported by Raimar Falke and Christian Knoke as PR#4071.  Patch by me.


Mon, 14 Jul 2003 15:40:05 -0700  glip:

	Changed paths:
	   M /trunk/ai/aicity.c

	Clean up various issues related to asking for more cash via maxbuycost
	variable.  Also stop the practice of disbanding units in cities with low
	production.

	Patch by Per, with changes.


Mon, 14 Jul 2003 14:37:03 -0700  glip:

	Changed paths:
	   M /trunk/ai/aihand.c

	Revert previously committed LOG_NORMAL printout to its proper LOG_DEBUG
	state.

	Thanks to Jason for reporting.


Mon, 14 Jul 2003 14:01:49 -0700  glip:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/capstr.c
	   M /trunk/server/stdinhand.c

	Allows a player to take another player during a running game without
	disconnecting first.  The latter player cannot have any previous
	connections (this will change later, but will do for now).

	Note: attempting this with an old client on a new server will crash it,
	hence the capability.

	Also fix the autotoggle bug with /take.  Now /take pays attention to
	game.auto_ai_toggle.

	Patch by Mike Kaufman.


Mon, 14 Jul 2003 12:31:34 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Correctly initialize units in enemy cities' "supported_by" and "present"
	unit lists.  We now use create_unit_virtual to allocate these units.

	Bug reported by Cameron Morland <cameron@morland.ca> as PR#4351.  Patch by
	Per Mathisen and myself.


Mon, 14 Jul 2003 04:34:53 -0700  glip:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aihand.c

	New AI tax selection code.  Absolutely bare bones: lux rate is 0, tax rate
	is the minimum at which the net income is positive (+10% if we need money
	for some other projects), all the rest goes to science.

	Hacked together by Per and myself.


Sun, 13 Jul 2003 19:00:23 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Set the overview tile size based on the size of the map.

	Patch by Andreas R?sdal <andrearo@stud.ntnu.no> as part of PR#4543, with
	added comment by me.


Sun, 13 Jul 2003 15:19:19 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Add Arnstein as maintainer.


Sun, 13 Jul 2003 12:59:56 -0700  kauf:

	Changed paths:
	   M /trunk/server/connecthand.c

	Send username and player name information to client after establishing
	a connnection.

	requested by Christian Knoke


Sun, 13 Jul 2003 11:58:30 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	revert a saved experiemental level AI back to hard level if !DEBUG

	patch by Jason Short


Sat, 12 Jul 2003 18:51:11 -0700  kauf:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	give AI players and barbarians a default username of ANON_USER_NAME


Sat, 12 Jul 2003 17:47:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Rewrite the road/rail sprite layering code.  The drawing logic is separated
	from the sprite drawing.  Several bugs are also fixed.

	Issued as PR#4530; this also fixes PR#2603.


Sat, 12 Jul 2003 17:42:40 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Remove spurious sending of tile and city packets to the player when the
	world is being revealed through the Apollo program.

	Patch by Arnstein Lindgard as PR#3648 with added comment by me.


Sat, 12 Jul 2003 01:18:06 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_stuff.c

	- change color of move windows frame from black to white.
	- rewrite h & v draw lines functions.
	- small allocation fix in local event loops.


Fri, 11 Jul 2003 17:05:31 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	fix compile error. gdk_draw_pixmap should be gdk_draw_drawable

	patch by Jason


Fri, 11 Jul 2003 14:35:17 -0700  kauf:

	Changed paths:
	   M /trunk/server/handchat.c

	In pregame, players are usually named anonymously. This confused the
	server in forming chat names. Now try the player name first (except
	when the name is the anonymous) then use the username.

	Reported by Michael Mielke <michael@mielke.cc>


Fri, 11 Jul 2003 13:11:42 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Clean up the overview refreshing code.  Now all map wrapping is handled
	by calls to the common client code, and a lot less GUI code is required.

	Issued as PR#3971.


Fri, 11 Jul 2003 11:14:11 -0700  glip:

	Changed paths:
	   M /trunk/server/userdb/lockfile.c

	Make sure CVS can be compiled with DEBUG enabled.  The problem was that
	lockfile.c never uses freelog(LOG_DEBUG, ...) command which triggers
	"defined and not used" compilation error.  Problem is solved by adding
	such a call; it doesn't hurt to have it.


Fri, 11 Jul 2003 10:22:41 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c

	- fix for start crash.(I still don't know why my PC don't crash here... magic ?)
	- small clean.


Fri, 11 Jul 2003 10:01:40 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.h
	   M /trunk/common/nation.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Remove the MAX_NUM_NATIONS constant entirely; now there is no limit on the
	number of nations.  Add a new manditory capability to support this.

	Issued as PR#3930.


Fri, 11 Jul 2003 09:20:19 -0700  jdorje:

	Changed paths:
	   M /trunk/common/city.c

	Rewrite base_map_to_city_map to use map_distance_vector instead of brute-
	force searching all city tiles to find the correctly wrapped position.

	Issued as PR#4075.


Thu, 10 Jul 2003 17:26:48 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c

	- rewrite connect dlg.
	- add support client/server passwd login.
	- samll fix in set order button position.


Thu, 10 Jul 2003 16:39:39 -0700  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	Initialize all cities' "synced" fields to FALSE when loading a saved game.
	Also save and load the "occupied" flag for player map cities.  This
	prevents inconsistent-state bugs when reloading a game.

	Issued as PR#4523.


Thu, 10 Jul 2003 09:33:51 -0700  jdorje:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset

	Provide improvement graphics tags for civ1, civ2, and history rulesets.

	Issued as PR#4515.


Thu, 10 Jul 2003 09:31:21 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c

	When freeing a sprite, don't free the colorarray if it was never allocated.

	Issued as PR#4524.


Wed, 09 Jul 2003 20:50:56 -0700  kauf:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c

	Introduce a new function request_diplomat_action so we can avoid
	uninitialized data while making the code more concise and readible.

	Patch by Jason Short


Wed, 09 Jul 2003 20:34:30 -0700  kauf:

	Changed paths:
	   M /trunk
	   M /trunk/.cvsignore
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/include/connectdlg_g.h
	   M /trunk/client/options.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/connection.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/common/support.c
	   M /trunk/common/support.h
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/data/Freeciv
	   A /trunk/m4/auth.m4
	   M /trunk/server/Makefile.am
	   M /trunk/server/connecthand.c
	   M /trunk/server/connecthand.h
	   M /trunk/server/sernet.c
	   M /trunk/server/sernet.h
	   M /trunk/server/srv_main.c
	   A /trunk/server/userdb
	   A /trunk/server/userdb/.cvsignore
	   A /trunk/server/userdb/Makefile.am
	   A /trunk/server/userdb/lockfile.c
	   A /trunk/server/userdb/lockfile.h
	   A /trunk/server/userdb/user.h
	   A /trunk/server/userdb/user_db.c
	   A /trunk/server/userdb/user_db.h
	   M /trunk/utility/support.c
	   M /trunk/utility/support.h

	Add support for client/server authentication. Server authentication is
	enabled with ./autogen.sh --enable-auth[=<path-to-database>/database.a]

	The server can either use a simple internal database (using the registry)
	or can link to an external database for user and password lookup.

	This commit adds the files server/userdb/* as well as m4/auth.m4


Wed, 09 Jul 2003 08:43:45 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/menu.c

	- support for new "Return to ..." unit order graphic.
	SORRY... this force reload Deluxe theme (DELUXE4) becouse DELUXE3 has units graphics corrupted.


Wed, 09 Jul 2003 07:19:29 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/menu.c

	- support for new "Return to ..." unit order.
	- fix for nations and city dlg (move on top ability).
	- add "Patrol here" and "Paradrom here" to Advanced Menu.
	- small build fixe and code clean.


Mon, 07 Jul 2003 19:45:24 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c

	- unload unused graphics
	- fix in connect dlg.
	- end of turn label.


Mon, 07 Jul 2003 17:28:52 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c

	Forward port some UI tweaks.


Mon, 07 Jul 2003 13:15:32 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/SDL_ttf.h
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/chatline.h
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/cma_fe.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	- cma dlg.(requ. new grahics that I upload tomorow)
	- fix connect dlg and options dlg buttons problems.(Fredric Rodrigo ideas)
	- many fix and cleans.


Mon, 07 Jul 2003 12:14:37 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h

	Add a new function, request_unit_return, to control.h; this initiates a
	goto route for the unit to the nearest allied city.  Bind this operation
	to the Orders->"Return to nearest city" (Shift+G) menu entry for most GUIs.

	Patch by Arnstein Lindgard and myself as PR#3535.


Fri, 04 Jul 2003 23:29:45 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Thu, 03 Jul 2003 11:18:51 -0700  jdorje:

	Changed paths:
	   M /trunk/common/player.c

	Count capitalization and unit upkeep when calculating the expected income
	for this turn.

	Issued as PR#2949.


Wed, 02 Jul 2003 19:58:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Change undraw_segment to use refresh_tile_mapcanvas instead of
	update_map_canvas, even in the iso case.  This prevents most overwriting
	of city names.

	Issued as PR#3509.


Wed, 02 Jul 2003 12:32:47 -0700  per:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/unittype.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Add server calculations of gold upkeep for units. Patch by Remi
	<remi.bonnet@laposte.net>, with changes by me.


Wed, 02 Jul 2003 11:37:57 -0700  per:

	Changed paths:
	   M /trunk/autogen.sh

	Fix error in sed script that breaks autogen.sh with newer versions of
	sed. Patch by Jason, closes issue #4238.


Wed, 02 Jul 2003 09:48:55 -0700  per:

	Changed paths:
	   M /trunk/common/unit.c

	When you have sea units with ruleset move rate lower than 2, its actual
	moves in the game is set to 2. This is now fixed so that its actual
	moves is never set higher than its ruleset move rate.

	Bug reported by Bart Coppens (bart@bartcoppens.be).


Wed, 02 Jul 2003 09:40:19 -0700  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.h
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.h

	Store the previous focus unit when advancing the focus, and add a new
	function key_recall_previous_focus_unit that will refocus on that
	previously focused unit.  Rebind keypad 5 to this function for some GUIs.
	Remove the deprecated function focus_to_next_unit from most GUIs.

	Patch by Arnstein Lindgard <a-l@c2i.net> as PR#3700 with added comments by
	me.


Wed, 02 Jul 2003 09:19:46 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Fix an off-by-A_FIRST-error in the loading of technologies from the
	ruleset.

	Issued as PR#4474.


Tue, 01 Jul 2003 15:17:57 -0700  michi:

	Changed paths:
	   M /trunk/po/ro.po

	- ~200 new translated strings
	- ~70 fuzzy entries less


Mon, 30 Jun 2003 13:53:25 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/game.c
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Add a government_iterate macro. Replace most of the for loop to use
	the new macro.

	Change the place where pgov->index is initialized from
	load_government_names to governments_alloc.

	Patch by Jason Short with changes from me.


Mon, 30 Jun 2003 13:15:10 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Add a missing i18n for a string.

	Reported and patch by Michael Stefaniuc <mstefani@redhat.com>.


Mon, 30 Jun 2003 12:29:43 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c

	Add a missing #include.


Mon, 30 Jun 2003 10:55:04 -0700  jdorje:

	Changed paths:
	   M /trunk/server/plrhand.c

	Avoid having an assertion fail when we acquire a future technology.  Add a
	comment explaining the current situation's hack.

	Reported by <kimiko@xs4all.nl> as PR#4461.  Patch by me.


Sun, 29 Jun 2003 19:14:32 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aiair.c

	Fix a bug in checking known/seen tiles in find_something_to_bomb().

	Patch by Rafal Bursig as PR#4460 with style changes by me.


Sat, 28 Jun 2003 06:31:12 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Fri, 27 Jun 2003 09:57:04 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/plrdlg.c

	- fix scroll bug in diplomat dlg.
	- add gold clauses support in diplomat dlgs.
	- clean in client iconv clode.
	- some small fixs and cleans.


Fri, 27 Jun 2003 00:01:33 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 26 Jun 2003 19:32:07 -0700  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Update the science dialog when a new tech is discovered, even if we're not
	going to popup the dialog (it may be open already).

	See PR#4024.


Thu, 26 Jun 2003 19:14:42 -0700  jdorje:

	Changed paths:
	   M /trunk/server/ruleset.c

	Fix an off-by-one error causing the last tech to be handled incorrectly.

	See PR#2464.


Thu, 26 Jun 2003 19:09:30 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h

	Add a new function start_revolution which the GUI code calls to begin
	a revolution.  This function resets some data before sending a packet to
	the server.

	Bug reported by Christian Knoke <chrisk@enter.de> as PR#3949.  Patch by me.


Thu, 26 Jun 2003 16:09:23 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/server/savegame.c

	Correct the translation of some strings.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as PR#4433 with style and syntax
	fixes by me.


Thu, 26 Jun 2003 16:03:13 -0700  jdorje:

	Changed paths:
	   M /trunk/ai/aitech.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/government.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/data/default/techs.ruleset
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Allow technologies to be restricted by nation.  A tech that is given a
	root_req can only be acquired (researched, stolen, etc.) by a nation that
	already knows that "root" technology.  Thus nations may be completely
	denied access to some technologies.

	Patch by Per Mathisen as PR#2464, with style fixes and updated capstring by
	me.


Tue, 24 Jun 2003 03:27:35 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c

	- fix problems with sub event loops that break net connections
	  ( till now only main event loop had net check )
	- speed up drawing "move window" frame.


Mon, 23 Jun 2003 11:35:45 -0700  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Add .uk translation to $ALL_LINGUAS list.  This allows Freeciv to build
	the .uk translation.

	Issued as PR#4425.


Sun, 22 Jun 2003 17:16:30 -0700  michi:

	Changed paths:
	   M /trunk/po/ro.po

	- changed encoding to UTF-8
	- brought the file in sync to the code
	- a lot of fixes for fuzzy entries
	- some new translations


Fri, 20 Jun 2003 06:49:28 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 19 Jun 2003 10:44:21 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Actually implement all of Bart's patch.


Thu, 19 Jun 2003 10:30:34 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Don't ever open a diplomat dialog for AI players. Reported by Mateusz
	Stefek <matusik_s@o2.pl>


Thu, 19 Jun 2003 10:26:40 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	'disconnect' -> 'detach' for take command. Suggestion by Greg Wooledge
	<greg@wooledge.org>.


Thu, 19 Jun 2003 10:21:47 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Don't divide by zero in danger distance calculations if a unit has
	zero movement. Reported & patch drafted by Bart Coppens
	<coppensbart@pi.be>.


Tue, 17 Jun 2003 19:11:38 -0700  dnloreto:

	Changed paths:
	   A /trunk/po/uk.po

	2003-06-18  Duarte Loreto <happyguy_pt@hotmail.com>

		* uk.po: Added Ukranian translation by Roman Festchook.


Mon, 16 Jun 2003 18:13:24 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/plrdlg.c

	- small bug fix for win32 enviroment.


Mon, 16 Jun 2003 11:17:18 -0700  per:

	Changed paths:
	   M /trunk/data/nation/finnish.ruleset

	Avoid gettext warning in finnish nation ruleset. Patch by Erik Sigra
	<sigra@home.se>.


Mon, 16 Jun 2003 05:00:40 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Typo "unconnecting" -> "disconnecting". Reported by Reinier.


Mon, 16 Jun 2003 04:44:34 -0700  per:

	Changed paths:
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/viking.ruleset

	Add location info to Finnish cities and fix a number of spelling errors
	in other nations rulesets.

	Patch by Juhani Heino <juhani.heino@1posti.net>. This closes 3545.


Mon, 16 Jun 2003 04:39:42 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Stop using punit->fuel as a temporarily variable while refuelling units
	from carriers. This made it impossible to create fuel-limited carrier
	units.

	Patch by Cameron Morland <cameron@morland.ca> with style and comment
	changes by me.


Mon, 16 Jun 2003 04:30:44 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Allow non-ground units to paradrop into the ocean.

	Patch by Bart Coppens <bart@bartcoppens.be>


Mon, 16 Jun 2003 02:50:45 -0700  rfalke:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Replace a double space with a single space.

	Patch from Erik Sigra <sigra@home.se>.


Sun, 15 Jun 2003 01:04:41 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/plrdlg.c

	- small bug fixes in new diplomatic dlgs.


Sat, 14 Jun 2003 06:20:52 -0700  per:

	Changed paths:
	   M /trunk/common/unit.c
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/unittools.c

	Add possibility of unlimited fuel aircraft. To use, set fuel to zero.

	Patch by Cameron Morland <cameron@morland.ca>. Closes PR#4373.


Sat, 14 Jun 2003 05:12:30 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c

	Move increase of player number after creating barbarian earlier to
	ensure that we do not call any functions with an invalid number of
	players.


Tue, 10 Jun 2003 13:28:01 -0700  per:

	Changed paths:
	   M /trunk/server/barbarian.c

	Some style fixes to barbarian.c


Tue, 10 Jun 2003 09:18:30 -0700  rfalke:

	Changed paths:
	   M /trunk/client/control.c

	Disable the use of goto for helicopter units. The new path finding
	doesn't support these yet.

	Reported by Cameron Morland <cameron@morland.ca> as (PR#4355). Patch
	by Cameron with changes (also add the patrol case) by me.


Sun, 08 Jun 2003 10:24:15 -0700  dnloreto:

	Changed paths:
	   M /trunk/po/pt.po

	2003-06-08  Duarte Loreto <happyguy_pt@hotmail.com>

		* pt.po: Updated Portuguese translation and fix misspells.


Sat, 07 Jun 2003 07:05:46 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update, suggestions by Piotr (Cobra)


Thu, 05 Jun 2003 16:10:46 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/diplodlg.h
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/gui_zoom.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/inteldlg.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/plrdlg.h
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/common/player.c

	- fixs for win32 enviroment (PR#4343).
	- players dlg.
	- diplomatic meeting dlg. (gold transactions/clauses still don't work)
	- intel. dlg.
	- don't use code for cvs version of SDL lib (this is configurable).
	- fix bug in deleting widget code (from vertical scrolled list).
	- del duplicate code in gui_iconv.c
	- small clean (IMHO) in struct GUI.
	- using new graphics ( sorry new Deluxe2 theme is needed )
	- some small fixes & cleans.


Thu, 05 Jun 2003 02:17:58 -0700  tg:

	Changed paths:
	   M /trunk/po/hu.po

	update


Wed, 04 Jun 2003 13:05:40 -0700  per:

	Changed paths:
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Move check for whether or not a unit can attack a tile into common code,
	and add a new rule that you can only attack a tile if you are at war
	with all players owning units on that tile. Patch by me with changes by
	Greg. Closes #4328.


Wed, 04 Jun 2003 12:32:22 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	When make embassy before making contact, then when making contact,
	clients do not get updated information about treaties until the next
	turn. This fixes this problem.


Wed, 04 Jun 2003 12:24:36 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Fix unit list corruption happening when a city is taken which supports a
	loaded ferry. This fix is a kludge. See #4259.


Tue, 03 Jun 2003 13:51:29 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c

	Add missing #include directives.


Tue, 03 Jun 2003 11:22:54 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po, small changes.


Mon, 02 Jun 2003 15:07:18 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c

	Prevent client goto from suggesting a path through tiles occupied by
	non-allied units or cities.


Mon, 02 Jun 2003 15:04:46 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c

	Fix an earlier fix to client goto, where a crash was caused by the path
	pointer being sometimes NULL.

	Current fix based on a patch by Sam.


Mon, 02 Jun 2003 01:58:10 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sat, 31 May 2003 09:30:21 -0700  per:

	Changed paths:
	   M /trunk/doc/README.AI

	Update README.AI


Sat, 31 May 2003 09:22:15 -0700  per:

	Changed paths:
	   M /trunk/common/diptreaty.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c

	New rule 1: You can no longer ally a player that is allied to someone
	you are at war with.

	New rule 2: Whenever you declare war on a player, you automatically also
	declare war on all his allies.

	This prevents the occurance of any situation where you are allied with
	someone who is allied with a third player that you are at war with.


Sat, 31 May 2003 05:45:23 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix a bug I introduced in a previous commit which made server attempt to
	upgrade every unit to itself every turn.


Fri, 30 May 2003 11:50:59 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Preliminary cleanup work on emergency_reallocate_workers(). It should
	now be readable, although its performance is still far from stellar. For
	more info see PR#3645.


Fri, 30 May 2003 11:26:11 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Add a test for can_unit_attack_unit_at_tile() before calling
	get_defender() the second time in find_something_to_kill(), thereby
	removing a cause of core dumps. Reported by various.


Fri, 30 May 2003 11:17:01 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Fix comments in can_unit_attack_unit_at_tile(). It used to say that a
	marine could attack ships (while the code, correctly, did not allow
	this).


Thu, 29 May 2003 06:44:38 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c

	Update some comments.


Thu, 29 May 2003 06:42:32 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Remove obsolete comment.


Thu, 29 May 2003 06:24:57 -0700  per:

	Changed paths:
	   M /trunk/client/audio_winmm.c

	Remove log.h include to squelch a warning.


Wed, 28 May 2003 14:26:18 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix upgrade of unit production in cities. They used to skip one step of
	the obsoletion chain, checking if we can upgrade to the unit obsoleting
	the the unit we are obsoleting and so on, instead of starting with the
	unit that obsoletes us. Bug report and patch by Thomas Strub.


Wed, 28 May 2003 14:11:38 -0700  per:

	Changed paths:
	   M /trunk/common/connection.h

	Add include for sys/types.h, which is needed on MacOS X. Problem reported
	by Tony.


Wed, 28 May 2003 07:48:38 -0700  rfalke:

	Changed paths:
	   M /trunk/client/goto.c

	The path of a part could be NULL if no path was found. This leads to a
	core dump at the destruction of the part. This is fixed by always
	having a non-NULL path.

	Reported by various.


Wed, 21 May 2003 19:08:02 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Brought ru.po somewhat up to date.


Tue, 20 May 2003 16:44:31 -0700  kauf:

	Changed paths:
	   M /trunk/data/Freeciv

	Give the default look for the Xaw client a facelift. Banished are all
	instances of "cyan", "blue", and "lightblue". The main background color
	is gray84, which is the default color for widget sets like GTK.
	The lists are black text on white background.


Tue, 20 May 2003 16:39:03 -0700  kauf:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	allow configure to pass the test for libpng if libm hasn't already
	been put in CFLAGS. Note that libm is not specifically tested for,
	so machines without a math library (!) will not pass the test.


Tue, 20 May 2003 07:01:44 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 19 May 2003 15:09:25 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Do not make the city dialog transient when "keep dialogs on top" is off like
	it is supposed to.

	Bug reported by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sun, 18 May 2003 21:21:30 -0700  vasc:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Make the GTK+ 2.0 client the default.


Sun, 18 May 2003 09:47:50 -0700  kauf:

	Changed paths:
	   M /trunk/common/tech.c

	a kludge to prevent CVS from breaking.
	A correct fix (for PR#4256) is in the works.


Sun, 18 May 2003 09:19:29 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Added "Keep dialogs on top" client option to the GTK+ 2.0 client.

	Requested by Raimar Falke <rf13@inf.tu-dresden.de>.


Thu, 15 May 2003 09:02:00 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aihand.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c

	No longer evaluate governments every turn, and don't evaluate for dead
	players. The number of turns between each evaluation is equal to our
	number of cities, but never less than 5 or more than 20.


Thu, 15 May 2003 08:16:07 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/server/plrhand.c

	We can see intelligence dialog info from someone we're in contact with
	but not yet embassy with, but we can't see their techs, including what
	they are currently researching, nor their tax settings.

	This means that when you open up the diplomacy dialog to such a player,
	you can give your own techs to the other side, and he can put his techs
	on the table, but you can't suggest _his_ techs into the proposal,
	because you don't know and can't see what techs he has.

	This closes #4200 and #4102.


Thu, 15 May 2003 08:05:56 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Move the setting of contact turns up a few lines so that we reset
	these values even though one player has embassy. The bug here was that
	once contact turns has expired and one of them has embassy, contact is
	never reestablished, which means the player without an embassy won't get
	necessary intelligence info from the other, leading to possible core
	dump.


Thu, 15 May 2003 05:38:11 -0700  glip:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/aicore/pf_tools.c
	   M /trunk/common/aicore/pf_tools.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Make client goto use the new path finding module.  This means total rewrite
	of client/goto.c, which will fix many bugs and create new ones.

	In particular, the triremes are now choosing safe but shortest route and
	refusing to go to dangerous places.  Unfortunately, the execution of such
	routes in the server is not ready yet.

	Patch by Raimar.


Thu, 15 May 2003 05:26:53 -0700  glip:

	Changed paths:
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Introduce new AI handicap called "science_cost".  It is given in percents
	and signifies how much the techs cost to AIs as compared to humans (i.e.
	200 means the AI must spend twice as much bulbs to get the same tech).

	Create a new AI level which is same as easy but also has 150% science cost.

	Patch by Sam sam+civ@hotaru.chaosring.org


Wed, 14 May 2003 10:55:56 -0700  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	update fr.po 14/05/2003


Wed, 14 May 2003 08:03:24 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/menu.c

	- small fix in repositioning of order buttons.
	- fix for win32 build.
	- small fix in cities report update.


Wed, 14 May 2003 07:10:09 -0700  per:

	Changed paths:
	   M /trunk/m4/iconv.m4

	Revert iconv.m4 update, since the new version didn't support the old
	autoconf version 2.13 and/or automake 1.4.


Tue, 13 May 2003 17:58:19 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/mapview.c

	Replace 'sleep' calls for 'myusleep'. See PR#4043.


Tue, 13 May 2003 17:26:17 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Double-clicking on a city in the city report popups the city dialog.
	CTRL+double-click centers on that city (PR#4221).

	Requested by Raimar Falke <rf13@inf.tu-dresden.de>.


Tue, 13 May 2003 14:50:48 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Define away a variable that is never used under mingw32 (same as S1_14
	commit).


Tue, 13 May 2003 14:50:46 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/wldlg.c

	- small fix in cities report ( in Dlg width )
	- optional support for city map grids and city worker map grids.
	- small fix in worklist/production editor ( show turns to build )
	- support for notify dlg ( wonders dlg, top 5 cities, etc ).


Tue, 13 May 2003 14:10:32 -0700  per:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/common/support.c
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/m4/gtk2-client.m4
	   M /trunk/m4/iconv.m4
	   M /trunk/utility/support.c

	Some mingw32 fixes: Don't create a DOS window when launching gtk2 under
	mingw32, use Sleep() under Windows and update iconv.m4 to latest
	official version.


Tue, 13 May 2003 13:38:33 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.h

	* Make all windows childs of the toplevel.
	  This fixes the "windows sent to back" problem for people using click to focus.
	* Fixed a bunch of bugs in the worklist dialog.

	Fixes PR#2342, PR#4220.

	Bug reports by:
	* Jason Dorje Short <jdorje@users.sourceforge.net>.
	* Raimar Falke <rf13@inf.tu-dresden.de>.


Tue, 13 May 2003 07:53:13 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	Updated no.po  (3125 translated)


Tue, 13 May 2003 07:43:10 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 13 May 2003 04:16:52 -0700  rfalke:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/shared.h
	   M /trunk/common/unit.c
	   M /trunk/utility/shared.h

	Revert stupid changes.


Tue, 13 May 2003 00:04:28 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/shared.h
	   M /trunk/common/unit.c
	   M /trunk/server/cityturn.c
	   M /trunk/utility/shared.h

	Add a callback parameter to generic_city_refresh. This callback is
	called if a unit is changed during the calculation of the city. The
	callback can be NULL.

	This is the real fix for PR#4107. With the fix the AI calculations
	don't send packets anymore.

	Patch by Per I. Mathisen.


Mon, 12 May 2003 16:11:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Patch (PR#4224) rename variable 'sun'.

	Bug reported by Brett Albertson. Patch by Jason Dorje Short.


Mon, 12 May 2003 14:44:50 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Minor UI fixes.


Mon, 12 May 2003 14:43:18 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Make the help list selection of type BROWSE instead of SINGLE.


Mon, 12 May 2003 14:42:34 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	* ALT+Up/Down shifts items in the worklist up or down.
	* Speedups.

	Requested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Mon, 12 May 2003 14:33:19 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Fix for 'gtk_table_resize' call with ncols=0 bug.

	Bug reported by Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 11 May 2003 16:38:54 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/data/freeciv.rc-2.0

	* make the default font even smaller.
	* increased the size of useful area.
	* reinstated word wrapping.


Sun, 11 May 2003 15:41:41 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/happiness.c

	Use speclists instead of genlists.


Sun, 11 May 2003 13:20:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Make the help dialog entries selectable with a single click (PR#4209).

	Requested by Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 11 May 2003 12:08:42 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Move close button to the far right (PR#4211).

	Bug reported by Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 11 May 2003 11:09:30 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/data/freeciv.rc-2.0

	Fixed wrong window size of help window (PR#4210).

	Bug reported by Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 11 May 2003 10:49:04 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Fixes ping-time column missing in the player report (PR#4207).

	Bug reported by Raimar Falke <rf13@inf.tu-dresden.de>.


Sat, 10 May 2003 12:53:10 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/data/freeciv.rc-2.0

	The city names and production fonts are now configurable using RC styles.

	Requested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sat, 10 May 2003 12:20:16 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Forward port some style changes from a patch.


Sat, 10 May 2003 11:48:26 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Added tooltip to improvement list in city dialog.

	Requested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sat, 10 May 2003 11:11:25 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/server/unittools.c

	Rename unit_vulnerability and Co to unit_def_rating and Co, some cleanup
	and formatting.  This pretty much closes PR#3584.

	Patch by Juhani Heino, more adventurous changes by me.


Sat, 10 May 2003 10:49:35 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Make 'no' the default choice in the buy dialog.

	Requested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sat, 10 May 2003 10:42:15 -0700  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	Add very simple test to catch techs that require themselves during
	ruleset loading.


Sat, 10 May 2003 10:30:23 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	In advmilitary.c:assess_danger(), dist can be zero if we attempt to
	figure out the threat posed by the units of an allied player. Fixed.


Sat, 10 May 2003 06:32:06 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/SDL_ttf.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c

	- try fix FT_OPEN_STREAM problem in SDL_ttf.c
	- fix minimap size bigger that xsize = 160, now full support for xsize > 160
	- add scalling ability for minimap ( still little bugy )


Sat, 10 May 2003 02:51:38 -0700  ama:

	Changed paths:
	   M /trunk/doc/ja/BUGS.ja

	Sync with 1.17.


Sat, 10 May 2003 02:39:00 -0700  ama:

	Changed paths:
	   M /trunk/doc/ja/README.ja

	Sync with 1.9.


Sat, 10 May 2003 02:37:13 -0700  ama:

	Changed paths:
	   M /trunk/doc/ja/NEWS.ja

	Sync with 1.43.


Fri, 09 May 2003 16:10:25 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3125 translated messages.


Fri, 09 May 2003 15:09:40 -0700  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Thu, 08 May 2003 16:01:22 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c

	- fix for setenv(...) ( changed on putenv(...) )
	- fix for redefinition of MALLOC/FREE/... in SDL_ttf.c
	- basic minimap handler ( you can center map by mouse clik on minimap )
	- units info window handle (LBM - next unit, RMB - center on focused unit)
	- smal fixes


Thu, 08 May 2003 15:18:54 -0700  chris:

	Changed paths:
	   M /trunk/po/de.po

	3110 translated messages, 15 untranslated messages.


Thu, 08 May 2003 04:51:28 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/optiondlg.c

	Small fixes for logo drawing and refesh opened dlgs.


Wed, 07 May 2003 20:24:45 -0700  raffaelo:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-sdl/README.SDLClient
	   A /trunk/client/gui-sdl/SDL_ttf.c
	   A /trunk/client/gui-sdl/SDL_ttf.h
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/cityrep.h
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/gui_zoom.c
	   M /trunk/client/gui-sdl/happiness.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/inputdlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/menu.h
	   M /trunk/client/gui-sdl/messagedlg.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/messagewin.h
	   A /trunk/client/gui-sdl/mmx.h
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.h
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-sdl/wldlg.h
	   A /trunk/m4/freetype2.m4
	   M /trunk/m4/sdl-client.m4

	- Merge SDL_ttf lib with freeciv tree.
	- multi widget scroll suported.
	- GUI theme loaded via tilesets code ( you don't need data/theme dir)
	- add work list suport (worklist editor merged with change production dlg.)
	- economy dlg merged with taxrates dlg.
	- basic cities report dlg.
	- basic splash screen added.
	- lots of fixes.


Wed, 07 May 2003 20:06:59 -0700  raffaelo:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/data/default/cities.ruleset
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	- Support for Multi citizens icons style protocol.
	- Reports Update via player info handler.
	- fix in sending info sequency by server.


Tue, 06 May 2003 23:49:24 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Add rulesetdir to output scripts from server using 'write' command.

	Patch by Mateusz Stefek <matusik_s@o2.pl>


Tue, 06 May 2003 15:08:25 -0700  glip:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Re-fix some faulty integer arithmetics when trying to estimate number of
	turns to reach a target.

	Suspicions by Per, fix idea by Jason.


Tue, 06 May 2003 14:18:02 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/happiness.c

	City dialog:
	  * Added progress bar to overview pane.
	  * Changed some labels in the overview pane.

	Changed padding of CMA, Happiness panes.

	Reduced size of Happiness frame. Removed CMA frame.


Tue, 06 May 2003 01:13:21 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aitools.c
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Move is_stack_vulnerable() to common code and use it a few places where
	appropriate in the AI code.

	Patch by Olivier DAVY <olivier.davy@free.fr>, with some style changes.


Mon, 05 May 2003 23:02:49 -0700  per:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiunit.c

	Improve logging in AI diplomat code, and also fix a little bug in which
	a travel penalty was not applied if time to destination was roughly
	equal to move rate, leading to too large want in this case.


Mon, 05 May 2003 22:18:49 -0700  per:

	Changed paths:
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aidiplomat.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/cityturn.c

	Remove the ugly pcity->ai.already_considered_for_diplomat hack, and
	replace it with a bitvector for each player which takes into
	consideration targets already taken by diplomats on their way as well.
	This helps PR#4119 but does not solve it.


Mon, 05 May 2003 22:06:07 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Rewrite of the 'resolve unit stacks' code which is called when alliances
	break and civil war breaks out. This fixes PR#4110, reported by
	Christian Knoke, as well as hopefully providing a more robust code with
	fewer surprises.


Mon, 05 May 2003 21:58:28 -0700  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Change handling of movement points after combat. Previously a land
	unit's movement points after combat were unaffected for an entire turn,
	no matter how many hitpoints lost. Now all units get their movement
	points updated according to movement rate adjusted by hitpoints after
	combat.

	Patch by Greg


Mon, 05 May 2003 10:46:55 -0700  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	Small fixes and an update.


Mon, 05 May 2003 05:41:39 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/client/packhand.c
	   M /trunk/common/game.c
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/barbarian.h
	   M /trunk/server/unittools.c

	Move virtual unit creation function from ai/aitools.c to common/game.c,
	and use it in both client and server for creation unit skeletons. This
	avoids duplication of code and allows client AI to use it to create
	virtual units.


Mon, 05 May 2003 05:11:13 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/audio.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/helpdata.txt
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/civserver.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Fix a large number of textual errors. Spotted by Duarte Loreto
	<happyguy_pt@hotmail.com>. Patch by Christian Knoke <ChrisK@enter.de>.


Mon, 05 May 2003 05:04:52 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/server/unittools.c

	Rename base_unit_belligerence_primitive to unittype_att_rating,
	unit_belligerence_basic to unit_att_rating, unit_belligerence_primitive
	to unit_att_rating_now and unit_belligerence to unit_att_rating_sq. Then
	some style changes. Patch by Juhani Heino <juhani.heino@1posti.net>,
	some changes by me. Original idea by Greg.


Mon, 05 May 2003 00:42:25 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sat, 03 May 2003 13:20:16 -0700  vasc:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/gui_main_g.h
	   M /trunk/client/packhand.c
	   M /trunk/server/connecthand.c

	Add pregame player list (PR#3736).

	For now GTK+ 2.0 only. The rest of the clients get stubs.

	Patch by Andreas Røsdal <andrearo@stud.ntnu.no> with changes by me.


Sat, 03 May 2003 06:28:48 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Fix a mistake in the previous commit.  A variable was not initialised.


Sat, 03 May 2003 06:26:23 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Updates torn out of Raimar's patch plus some extra bugfixes.  The summary:
	* in TM_WORST_TIME the cost wasn't correctly capped
	* upodate pf_print_path format
	* remove LOG_NORMAL printouts
	* when dealing with waiting, wrong cost was recorded in the path and also
	  "-1" for waiting_dir was put in the wrong place.

	Patch by Raimar and myself.


Fri, 02 May 2003 15:25:44 -0700  glip:

	Changed paths:
	   M /trunk/client/gui-xaw/plrdlg.c

	Fix a Xaw compile problem caused by changesto the diplomacy network
	protocol.  Xaw now compiles, works and looks awful.

	Reported by Paul.


Fri, 02 May 2003 09:41:04 -0700  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Kludge fix for a bug that appear with AI government code change. The bug
	appears because we send unit info before data has been properly
	initialized in the client. A call to assess_danger_player() that seems
	totally unnecessary triggers the bug, and has therefore been removed.
	Further investigation and fixing is in order, however.


Thu, 01 May 2003 14:04:46 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Reduce the size of the huge and very complicated danger_iterate_map
	function in path_finding.c

	Also fix a small bug (previously highlighted by a FIXME).


Thu, 01 May 2003 14:02:10 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Synchronize naming in path_finding.c:
	 * add one "static" qualifier
	 * remove prefix pf_ from some static functions to bring it in line with
	most static functions


Wed, 30 Apr 2003 14:14:35 -0700  glip:

	Changed paths:
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplhand.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c

	Generalize and simplify the diplomatic network protocol and handling:
	- PACKET_PLAYER_REMOVE_VISION has been removed
	- PACKET_PLAYER_CANCEL_PACT now takes a value that indicates what kind of
	treaty is being cancelled, which may be CLAUSE_VISION
	- New function establish_embassy(), which wraps embassy making
	- All clients are updated (but not checked)

	These are necessary changes for the next installment of this series of
	patches, since it creates a more general framework to handle various
	types of treaties and their cancellation.

	Patch by Per.


Wed, 30 Apr 2003 13:29:16 -0700  glip:

	Changed paths:
	   M /trunk/common/map.c

	Remove an overzealous assert from dir_get_name so that pf_print_path can
	do its job without problems.


Wed, 30 Apr 2003 13:25:01 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	PF: Fix some bugs in the handling of paths in the presence of danger.

	The bugs were:
	* waiting go in the way of the correct counting of steps
	* tiles which were processed were not recognised as such (it lead to a lot
	of extra iterations, so was not fatal)

	Fixes include:
	* early detection of dangerous tiles, so we don't even try to find a path
	to them
	* lots more comments
	* a bit of cleaning of "waiting" handling
	* indicated a bug discovered previously by a fixme.  It doesn't affect the
	code at the present stage (only affects PF on land + danger).


Wed, 30 Apr 2003 13:13:32 -0700  glip:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	AI: Evaluate the cost of inciting on the same scale as benefits of
	inciting in the diplomat code.

	Patch by Per.


Tue, 29 Apr 2003 12:47:11 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Remove the AI's ability to look at other players' cities and find out
	whether they are going to be producing threatening, dangerous units next
	turn. This, we decided, was taking omniscience a step too far. It also
	serves as a rather brutal fix to the PR#4018 bug, noticed by Greg.


Tue, 29 Apr 2003 12:38:19 -0700  per:

	Changed paths:
	   M /trunk/undep.sh.in

	Remove support for automake 1.3 (which has not been supported
	elsewhere for a year or so) in undep.sh.in.


Tue, 29 Apr 2003 12:25:29 -0700  per:

	Changed paths:
	   M /trunk/undep.sh.in

	Adding common/aicore/ to undep.sh.in.

	Patch by Davide


Tue, 29 Apr 2003 11:05:28 -0700  glip:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/server/citytools.c

	More infrastructure for new settler code:
	* Add two functions to create and destroy virtual cities.  Make other
	  functions use them.  This is put into common code for the benefit of
	  those who want to write client-side AIs.

	Patch by Per.


Tue, 29 Apr 2003 01:40:11 -0700  glip:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aihand.h

	Provide the infrastructure forthe new settlers code.  Namely,
	  - Build settlers for city founding even if this means stagnation of
	growth in the building city.
	  - Evaluate which government we want in the beginning of the turn, so
	that we can use this information during the turn.

	Patch by Per.


Mon, 28 Apr 2003 20:21:29 -0700  vasc:

	Changed paths:
	   M /trunk/po/pt.po

	Updated Portuguese (.pt) translation.

	Translation by Duarte Loreto <happyguy_pt@hotmail.com>.


Mon, 28 Apr 2003 10:05:53 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix bug in AI ferry code where a 'return' should be a 'continue'.

	Bug found by Jordi Negrevernis i Font <jorneg@retemail.es>


Mon, 28 Apr 2003 07:23:03 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 27 Apr 2003 07:46:27 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c

	Ensure that our new variable is properly initialized. Fixes slight bug in
	previous commit.


Sun, 27 Apr 2003 07:44:29 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix two problems with science dialog. First, it pops up whenever you learn
	a new tech, even if this tech is not the one you are researching or your
	tech goal. Second, we update menues correctly when this happens.

	Based on a patch by Arnstein <a-l@c2i.net> with changes by me. This is issue
	#4024, which is not entirely solved, since we now do not update the science
	dialog if it is open and we gain new techs which we do not research or have
	as tech goal.


Thu, 24 Apr 2003 08:06:45 -0700  per:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Fix Solaris compile warning. Reported by me, fixed by Greg. Closes #4027.


Wed, 23 Apr 2003 22:25:39 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Fixed segmentation fault on worklist dialog help button press (PR#4068).

	Bug reported by Kenn Munro <kenn@cyberbeach.net>.


Wed, 23 Apr 2003 10:08:50 -0700  jdorje:

	Changed paths:
	   M /trunk/client/climap.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c

	Add a new macro, map_exists() to climap.h.  Call this check from the GUI
	code rather than hard-coding the check.

	Issued as PR#3998.


Tue, 22 Apr 2003 19:43:49 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Don't process the mask in gdk_pixbuf_new_from_sprite if there is none.


Tue, 22 Apr 2003 18:18:12 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Fixed crash during city report update when a city is destroyed (PR#4033).

	Bug reported by Kimiko Koopman <kimiko@xs4all.nl>.


Tue, 22 Apr 2003 14:49:13 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Optimized sprite_scale speed at the expense of some extra DRAM use.


Tue, 22 Apr 2003 14:46:05 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.h

	Forgot the include in my last commit.


Tue, 22 Apr 2003 14:45:35 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	* Remove unused 'sprite_draw_black_border' function.
	* Use GdkPixbuf API scaling ops instead of doing our own thing.


Tue, 22 Apr 2003 13:50:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/doc/HACKING
	   M /trunk/server/maphand.c
	   M /trunk/server/savegame.c

	Don't send unknown (NODRAW) tiles to the client.  This prevents cheating
	(intentional or otherwise), cuts down on network traffic, is easier for
	the client goto code to deal with, and eliminates a lot of spurious code.
	The only drawback is that sometime exploring new land will now change the
	appearance of existing land.

	Issued as PR#3948 with additional documentation changes.


Tue, 22 Apr 2003 09:10:39 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	For mingw32 builds, add -lwsock32 for the entire build.


Mon, 21 Apr 2003 15:57:25 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c
	   M /trunk/common/map.h

	Introduce a new macro rectangle_iterate, and use it in two places.  This
	abstracts map iteration in the non-square rectangular case as well as fixing
	PR#3450.

	Issued as PR#3451.


Mon, 21 Apr 2003 09:06:12 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c

	Allocate data needed for drawing the map grid in iso-view, even if we
	start in non-iso view (since we can switch later).

	Issued as PR#4023.


Sun, 20 Apr 2003 14:13:27 -0700  per:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c

	Fix "might be clobbered by `longjmp' or `vfork'" warning. Reported by
	me, fix by Jason. Closes PR#4025.


Sun, 20 Apr 2003 13:59:18 -0700  per:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Stopgap fix for problem caused by use of errno values on platforms (like
	win32) where errno is not used and those values not defined. This means
	that autoconnect feature will not work (and has never worked) on these
	platforms.


Sun, 20 Apr 2003 13:51:28 -0700  andi:

	Changed paths:
	   M /trunk/client/audio_winmm.c

	make audio_winmm compile again


Sun, 20 Apr 2003 13:31:14 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	If we do not use NLS, `menu_path_tok' is defined but not used. Make this
	function's inclusion in the code condition on using NLS (using #ifdef
	ENABLE_NLS). Fixes a warning part of PR#4043.


Sun, 20 Apr 2003 13:27:11 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	-    sleep(1);
	+    myusleep(1000000);

	Fixes part of PR#4043, issues compiling gtk2 client with mingw32.


Sun, 20 Apr 2003 13:00:58 -0700  per:

	Changed paths:
	   M /trunk/m4/gtk2-client.m4

	To compile GTK on Win32 platform using mingw32 or cygwin, you need to
	use -fnative-struct for gcc versions 3.0 or earlier and -mms-bitfields
	for versions 3.1 or later. S1_14 had -fnative-struct default for mingw32
	builds, but this was removed (sensibly) for CVS HEAD when gcc dropped
	support for this extension. This, however, made it impossible to
	compile the gtk under Win32.

	Whenever the gtk2 client is compiled under ming32, add -mms-bitfields to
	CFLAGS. This means compiling gtk2 under mingw32 requires gcc 3.1 or
	later, which is no big restriction since older versions of gcc are
	unlikely in that context.


Sun, 20 Apr 2003 12:26:17 -0700  per:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/shared.c
	   M /trunk/utility/shared.c

	Convert two uses of strerror to mystrerror. Was part of gccpoison patch
	a while back.


Sun, 20 Apr 2003 12:05:36 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/gui_stuff.c

	background color fix. bug reported by Andreas Rosdal


Sun, 20 Apr 2003 04:22:59 -0700  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h

	Introduce a new function for the AI diplomacy patch,
	is_player_dangerous(), and optimizes the generation of the data this
	function and the AI diplomacy patch uses for checking if other players are
	allied or at war with players that we are allied to or allied to a player
	that we are at war with. This new function is used in assess_danger() and
	in aidata calculations.

	The idea is that we should fortify our cities not only against the current
	enemies but against the potential enemies as well.

	Patch by Per.


Sun, 20 Apr 2003 04:02:58 -0700  glip:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h

	Separate a function which calculate the cost of a possible AI attack
	target including the other units which will die in a successful attack.
	Place it into aitools.c.  Until now it has been a part of the aiair.c
	code.


Sat, 19 Apr 2003 10:55:36 -0700  glip:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Fixing some bugs in the PF, namely
	* ZoC should not prevent us from attacking an enemy
	* we shouldn't attempt to go back further than the initial point of a path
	* if a path to a dangerous tile is requested, return NULL instead of
	crashing
	* undefined paths should detected (instead segfaulting) when printing (RF)
	* print direction when printing paths (RF)

	Ref: PR#4017
	(RF) marks contributions by Raimar.


Fri, 18 Apr 2003 21:25:18 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c

	* Add tooltips for the indicator icons (PR#3356).

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net> with changes by me.


Fri, 18 Apr 2003 21:23:52 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Minor layout padding changes.


Fri, 18 Apr 2003 21:23:32 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Remove cursor from legend TextView in nations dialog.


Fri, 18 Apr 2003 21:22:10 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	* Minor layout padding changes.
	* Added a stock item to the buy button.


Fri, 18 Apr 2003 21:21:20 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	* Remove popup menu and add a menubar (it is not obvious there is a popup menu).
	* Fix players dialog update bug (PR#3716).

	Bug reported by Per I. Mathisen <per@leftist.net>.


Fri, 18 Apr 2003 14:54:14 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	PR#3935: Remove MAX_NUM_NATIONS.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 18 Apr 2003 14:34:14 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Fix pixbuf memory leak in nations dialog.


Fri, 18 Apr 2003 14:33:37 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h

	Reuse the improvement pixbufs so we don't waste lots of mem.


Fri, 18 Apr 2003 12:48:21 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h

	Fix 'butt_down_wakeup never' called bug (PR#3945).

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 18 Apr 2003 12:05:02 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Replace icky production frame for a label.


Fri, 18 Apr 2003 11:26:44 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Don't use monospace font in menus.


Fri, 18 Apr 2003 10:51:14 -0700  glip:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Fixes the topology issue in find_city_to_diplomat, and also stop the
	path-finding iteration earlier.

	Ref: PR#3619
	Patch by Per.


Fri, 18 Apr 2003 10:21:48 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	* Added "change production" button to the worklist editor.
	* Changed the production frame and progress bar label to make it more intuitive.


Fri, 18 Apr 2003 08:01:11 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	* Changed "Advanced" label to the more clearer "Show Future Targets".
	* Minor layout changes.

	Suggested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Fri, 18 Apr 2003 05:47:15 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Stop AI explorer code from always idling units. Bug reported by me. Fix
	by Greg.


Fri, 18 Apr 2003 03:08:53 -0700  per:

	Changed paths:
	   M /trunk/common/player.c

	Some style fixes to reduce diff size of diplomacy patches.


Thu, 17 Apr 2003 15:41:17 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	* Change the window type to normal.
	* Add a thin border around the TreeView.


Thu, 17 Apr 2003 15:27:41 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	* Fixed a crash bug when hot-changing from 'trident' to 'isotrident' with
	  the map grid on. GTK+ 1.2 still needs fixing.

	Bug reported by Mike Kaufman <kaufman@orion.physics.wisc.edu>.

	* Removed one redundant frame around the chat text widget.


Thu, 17 Apr 2003 15:17:32 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	* Fix for build progress bar update problems when CMA is changed (PR#3575).

	Bug reported by Kenn Munro <kenn@cyberbeach.net>.

	* Added a thin border around TreeViews.
	* Made the city dialog a normal type window so Metacity doesn't freak out.
	* Fixed some comments.


Thu, 17 Apr 2003 15:12:38 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c

	* Added a thin border around the TreeView.
	* Disable the annoying tooltip when the list is not empty.


Thu, 17 Apr 2003 15:08:46 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	* Added thin borders to the TreeViews.

	Worklist Editor:
	* Delete in the target list erases elements.
	* Insert in the source list adds elements to the target list.
	* Target-list allows multiple selection.
	* SHIFT+Up/Down moves elements in the target list.
	* Renamed "Add" to "Add Global Worklist".
	* Minor fixes.

	Changes suggested by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Thu, 17 Apr 2003 14:20:58 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Continuation of the last commit.


Thu, 17 Apr 2003 14:18:08 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	* Added thin borders to TreeView.
	* Made some dialogs regular windows so Metacity lets us minimize/maximize and
	  move them top and bottom at will.


Thu, 17 Apr 2003 13:06:37 -0700  glip:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/citytools.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unittools.c

	The following changes to diplomatic procedures are introduced:
	 - "No contact" is rephrased as "Never met", otherwise same.
	 - "Contact" is now a new mode, which means units of these players have
	been adjacent within the previous X turns, where X is a server set
	variable. If this server variable is zero, this feature is turned off.
	 - You can Meet with any player with embassy to you or that you have
	embassy to or that you have Contact with.
	 - Tech dialog is updated correctly in some rare cases where it wasn't.
	 - All GUIs updated.

	This is part of a bigger diplomacy patch (PR#3745).  If it doesn't work,
	blame Per (the author).


Thu, 17 Apr 2003 08:51:07 -0700  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Increase MAX_COMBINATIONS to 150 to cope with non-generated maps.

	Reported by Matthew D. Fuller <fullermd@over-yonder.net>.


Thu, 17 Apr 2003 07:21:05 -0700  rfalke:

	Changed paths:
	   M /trunk/client/Makefile.am

	Clean up the linking of civclient. The old version prevented the use
	of path_finding.c


Thu, 17 Apr 2003 06:54:04 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Remove Change button from Production pane. It serves no purpose anymore.


Wed, 16 Apr 2003 20:13:46 -0700  vasc:

	Changed paths:
	   M /trunk/m4/gtk2-client.m4

	To prove our full compliance to the GTK+ 2.0 API some compile flags need to
	be added:

	-DGTK_DISABLE_DEPRECATED, -DGDK_DISABLE_DEPRECATED, -DG_DISABLE_DEPRECATED.


Wed, 16 Apr 2003 20:11:52 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Erradicate every single remaining instance of deprecated pre GTK+ 2.0 API.

	We have ourselves a fully GTK+ 2.0 API clean client! WooHoo!


Wed, 16 Apr 2003 15:50:38 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	* Made the overview minimap be centered in the available space.
	* Added a gtk_window_set_role for the toplevel window.


Wed, 16 Apr 2003 15:39:09 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	* Changed some functions to use their GTK+ 2.0 API equivalents.
	* Changed the layout of the city options.
	* Changed the font of the trade window.
	* Do not allow selling improvements of an investigated city.
	* Made the production progress bar a GTK+ Drag destination.
	* Removed the change production dialog.
	  Drag items from the source view to the production progress bar instead.
	* Changed some labels, added some mnemonics.
	* NoteBook page selection is now done via CTRL+Left/Right.
	* Added a gtk_window_set_role call to the city dialog.
	  This means Window Managers should now properly save the dimensions of this
	  dialog.

	  Fixes PR#3710.


Wed, 16 Apr 2003 15:30:56 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.h

	Make the source view a GTK+ Drag source.
	Do not allow changing the worklist of a city if it is not supposed to be
	changed.


Wed, 16 Apr 2003 15:28:26 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.h

	Port more widgets to their GTK+ 2.0 API equivalents.
	Changed some names to sync with the GTK+ 1.2 client.


Wed, 16 Apr 2003 12:01:01 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	Fix a compile error in gui-win32.

	Reported as PR#4016.


Wed, 16 Apr 2003 03:17:39 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapctrl.c

	Fix a compile error in the XAW client.

	Reported as PR#4013.


Wed, 16 Apr 2003 01:26:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add two functions, map_to_overview_pos and overview_to_map_pos, to
	mapview_common.  These functions simply convert between an overview
	(canvas) position and a map position.

	Issued as PR#3997.


Tue, 15 Apr 2003 16:54:06 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Change the help tree from using two columns to just one.
	You won't notice anything but somehow I think this is nicer. :-D


Tue, 15 Apr 2003 16:52:07 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Use GTK_STOCK_REFRESH instead of just a label saying 'Update'.


Tue, 15 Apr 2003 16:49:33 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	You can now see the legend in the nation dialog.
	I added a notebook for this. It is a bit eye distracting but it works.


Tue, 15 Apr 2003 16:40:41 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c

	Changed some GTK_RESPONSE_* uses to GTK_RESPONSE_CANCEL and GTK_RESPONSE_OK.
	This makes these windows close when Escape is pressed in GTK+ 2.2.


Tue, 15 Apr 2003 16:37:37 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/happiness.c

	Changed the happiness shell to use GtkPixcomms so we do not need to allocate
	extra pixmaps.


Tue, 15 Apr 2003 16:36:05 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	New diplomacy dialog.


Tue, 15 Apr 2003 16:35:42 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Minor layout fixes.


Mon, 14 Apr 2003 16:54:16 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Fix compiler warning (PR#4002).

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 13 Apr 2003 16:30:36 -0700  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Make the default font of the city info smaller.


Sun, 13 Apr 2003 16:28:47 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.h

	Remove leftover junk from the old worklist code.


Sun, 13 Apr 2003 16:24:38 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	* Changed to use the new worklist dialog commited before.
	* Removed nasty Trade pane frame.
	* Moved citizens display from the city window toplevel shell to the overview
	  pane.


Sun, 13 Apr 2003 16:22:58 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.h

	New worklist dialog.


Sun, 13 Apr 2003 16:22:24 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c

	Make the local options dialog resize well. The previous commit was not enough.


Sun, 13 Apr 2003 09:18:11 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c

	Make the local options dialog resize more nicely.


Sun, 13 Apr 2003 09:16:49 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/happiness.c

	Minor graphic tweaks.


Sat, 12 Apr 2003 13:35:06 -0700  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Changed the font of the spaceship dialog.


Sat, 12 Apr 2003 13:34:34 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.h

	Ported to GTK+ 2.0 API.


Sat, 12 Apr 2003 11:24:42 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/connectdlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/handchat.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Rename some variables. pconn->name becomes pconn->username. pinfo->name
	becomes pinfo->username. In the client player_name and default_player_name
	become user_name and default_user_name. find_[player|conn]_by_* function
	names also changed. A split player gets the username "Server AI",
	consistent with normal AIs.

	Patch by Mike.


Fri, 11 Apr 2003 23:15:18 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Add a new function, action_button_pressed, to mapctrl_common.  This
	function is called by the GUI code when the user clicks the main mouse
	button.

	Issued as PR#3966.


Fri, 11 Apr 2003 22:57:15 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Wed, 09 Apr 2003 13:47:44 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Replace the hardcoded values of 2x2 as the dimensions of a tile in the map
	overview with OVERVIEW_TILE_WIDTH and OVERVIEW_TILE_HEIGHT variables.

	Issued as PR#3937.


Tue, 08 Apr 2003 20:54:46 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix for previous PR#3546 fix.


Tue, 08 Apr 2003 20:48:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Add a new function, recenter_button_pressed, to mapctrl_common.  Call this
	function from the GUI code when the user presses the appropriate mouse
	button to recenter the mapview.

	Issued as PR#3947.


Tue, 08 Apr 2003 20:33:40 -0700  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	Avoid having the server try to place workers onto unavailable tile.

	Reported by Christian Knoke <chrisk@enter.de> as PR#3546.


Tue, 08 Apr 2003 13:36:10 -0700  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/connecthand.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/handchat.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Preparation patch for player authentication. Introduces a new command
	/take to take command over a player.

	Patch by Mike


Tue, 08 Apr 2003 01:47:31 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	fixes a problem with improvment upkeets. Patch by Jason Dorje Short. Allow supported units to be activated when they are outside of a city. Reported by admerik@uajms.edu.bo


Mon, 07 Apr 2003 10:10:44 -0700  per:

	Changed paths:
	   M /trunk/common/tech.c

	Kludge: Comment out assertion that triggered when AI players are created
	and game is started. This makes it possible to use cvs for testing
	again with --with-debug=yes.


Mon, 07 Apr 2003 00:59:15 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 06 Apr 2003 23:29:56 -0700  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Write a much more explanatory comment for map_to_canvas_pos.

	Patch by Arnstein Lindgard <a-l@c2i.net> as an addendum to PR#3924, with
	changes by me.


Sun, 06 Apr 2003 14:52:24 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-mui/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-stub/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.h
	   M /trunk/client/include/mapctrl_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Add a new function, adjust_workers_button_pressed, to mapctrl_common.
	Call this function from the GUI when the appropriate mouse button is
	pressed to adjust workers through the mapview.  This fixes several
	buglets in the GUI implementations.

	Issued as PR#3934.


Sun, 06 Apr 2003 14:44:07 -0700  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Replace MAX_NUM_NATIONS by NO_NATION_SELECTED in one important place.

	Reported by Per Mathisen and Raimar Falke.  Fixed as PR#3942.


Sun, 06 Apr 2003 13:27:57 -0700  tsdgeos:

	Changed paths:
	   M /trunk/po/ca.po

	changed "Plural-Forms: nplurals=; plural=n>1;\n" to the correct form
	"Plural-Forms: nplurals=2; plural=n>1;\n"


Sun, 06 Apr 2003 11:24:36 -0700  per:

	Changed paths:
	   M /trunk/client/climisc.c

	Some style fixes from diplomacy patch.


Sun, 06 Apr 2003 11:05:25 -0700  tsdgeos:

	Changed paths:
	   M /trunk/po/ca.po

	Minor updates and checking if i can commit


Fri, 04 Apr 2003 17:13:23 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/german.ruleset

	Change some city names to make the German ruleset more accurate.

	Patch by Christian Knoke <chrisk@enter.de> as an addendum to PR#3597.


Fri, 04 Apr 2003 10:44:35 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Change map_to_canvas_pos and canvas_to_map_pos so that they will behave
	correctly even when given coordinates that are not on the canvas.

	Patch by Arnstein Lindgard <a-l@c2i.net> as PR#3924 with added comments
	by me.


Fri, 04 Apr 2003 10:34:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Add a new function wakeup_button_pressed() to mapctrl_common.  Call this
	function from the GUI code when the user presses the correct button
	(SHIFT+LMB) to wakeup all sentried units on a tile.  This fixes several
	bugs in the XAW and Win32 implementation.

	Issued as PR#3921.


Fri, 04 Apr 2003 08:14:50 -0800  rfalke:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add a new function sprite_exists which test if the given sprite exists
	in the current tileset.

	Avoid loading explosion sprites a second time by using the new
	sprite_exists function.

	Patch by Jason Short.


Fri, 04 Apr 2003 08:03:08 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unithand.c

	Convert a negative amount of "remaining" to "surplus" in a text
	message.

	Reported by me. Patch from Jason Short.


Fri, 04 Apr 2003 07:47:50 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advspace.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/amiga/amigaclient.c
	   M /trunk/amiga/amigaserver.c
	   M /trunk/amiga/vsnprintf.c
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/attribute.c
	   M /trunk/client/audio.c
	   M /trunk/client/audio_amiga.c
	   M /trunk/client/audio_esd.c
	   M /trunk/client/audio_none.c
	   M /trunk/client/audio_sdl.c
	   M /trunk/client/audio_winmm.c
	   M /trunk/client/chatline_common.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/climap.c
	   M /trunk/client/climisc.c
	   M /trunk/client/clinet.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/chatline.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/colors.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/finddlg.c
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk/gotodlg.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/gtkpixcomm.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_stuff.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/happiness.h
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/inteldlg.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk/messagedlg.c
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-gtk/wldlg.h
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-mui/autogroupclass.c
	   M /trunk/client/gui-mui/colortextclass.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/historystringclass.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-mui/muistuff.c
	   M /trunk/client/gui-mui/objecttreeclass.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-mui/scrollbuttonclass.c
	   M /trunk/client/gui-mui/transparentstringclass.c
	   M /trunk/client/gui-mui/worklistclass.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/diplodlg.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/gotodlg.c
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/helpdlg.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/plrdlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/spaceshipdlg.c
	   M /trunk/client/gui-sdl/wldlg.c
	   M /trunk/client/gui-stub/mapctrl.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/gui_stuff.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/aicore/path_finding.h
	   M /trunk/common/astring.h
	   M /trunk/common/capstr.c
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/dataio.c
	   M /trunk/common/fcintl.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/genlist.c
	   M /trunk/common/government.c
	   M /trunk/common/hash.c
	   M /trunk/common/improvement.c
	   M /trunk/common/inputfile.c
	   M /trunk/common/ioz.c
	   M /trunk/common/log.c
	   M /trunk/common/map.h
	   M /trunk/common/nation.c
	   M /trunk/common/netintf.c
	   M /trunk/common/netintf.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/registry.c
	   M /trunk/common/shared.c
	   M /trunk/common/spaceship.c
	   M /trunk/common/support.c
	   M /trunk/common/support.h
	   M /trunk/common/tech.c
	   M /trunk/common/timing.c
	   M /trunk/common/unittype.c
	   M /trunk/server/citytools.h
	   M /trunk/server/civserver.c
	   M /trunk/server/connecthand.c
	   M /trunk/server/console.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/meta.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sernet.c
	   M /trunk/server/settlers.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h
	   M /trunk/utility/astring.h
	   M /trunk/utility/fcintl.h
	   M /trunk/utility/genlist.c
	   M /trunk/utility/hash.c
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/ioz.c
	   M /trunk/utility/log.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/netintf.h
	   M /trunk/utility/registry.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/support.c
	   M /trunk/utility/support.h
	   M /trunk/utility/timing.c

	Reorder the includes to follow the new more formal rules of the style
	guide.


Fri, 04 Apr 2003 07:30:15 -0800  rfalke:

	Changed paths:
	   M /trunk/po/Makefile.in.in

	Reverse the last change "Add dependency to rebuilt all language files
	if freeciv.pot changes" since it prolongs the normal compile too long.


Thu, 03 Apr 2003 02:54:10 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	one new message + corrections on help awacs


Wed, 02 Apr 2003 20:13:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.h
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/common/map.c

	Change canvas_to_map_pos so it does not call nearest_real_pos, it only
	calls normalize_map_pos and returns the result.  Many callers therefore
	have to call nearest_real_pos on their own.  The get_map_xy macros used by
	GUI code are removed in the process.  Finally, a comment is added to
	normalize_map_pos explaining the new usage.

	Patch by Arnstein Lindgard <a-l@c2i.net>, with changes by me, as PR#3798.


Wed, 02 Apr 2003 14:50:25 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Changed city improvements list interface:
	  * to sell an improvement double-click on it.
	  * to see the help for an improvement double-click on it while pressing CTRL.
	  * the improvements now have icons.

	Fixed the settings bug of PR#3710.


Tue, 01 Apr 2003 09:19:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/map.h
	   M /trunk/common/nation.h
	   M /trunk/common/player.c
	   M /trunk/server/srv_main.c

	Use NO_NATION_SELECTED (-1) instead of MAX_NUM_NATIONS to indicate that
	a player hasn't chosen a nation yet.

	Issued as PR#3627.


Tue, 01 Apr 2003 08:48:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-mui/mapview.h
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Remove get_map_xy/get_canvas_xy from the common client code.  Now
	map_to_canvas_pos and canvas_to_map_pos do this job.  The wrappers are
	still kept as macros on a per-GUI basis.

	Issued as PR#3779.


Tue, 01 Apr 2003 01:10:19 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Clarify the order of includes. There is now a strict ordering defined.


Tue, 01 Apr 2003 00:59:56 -0800  rfalke:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Update the GUI if the CMA detaches itself from the city.

	Reported by Christian Knoke <chrisk@enter.de>.


Sun, 30 Mar 2003 23:38:44 -0800  rfalke:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/po/ca.po

	Add Catalan translation.

	Translation by Albert Astals Cid <astals11@terra.es>.


Sat, 29 Mar 2003 06:00:57 -0800  rfalke:

	Changed paths:
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapctrl_common.h
	   M /trunk/server/connecthand.h

	Small fixes to allow to compile the headers by their own.


Sat, 29 Mar 2003 01:57:37 -0800  rfalke:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/inteldlg.c
	   M /trunk/client/gui-sdl/cityrep.c
	   M /trunk/client/gui-sdl/inteldlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/inteldlg.c
	   M /trunk/client/gui-win32/messagedlg.c
	   M /trunk/client/gui-win32/ratesdlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/messagedlg.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/gui-xaw/ratesdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/server/plrhand.c

	Include stdarg.h iff the file needs it (uses va_*).

	Reported by Davide Pagnin. Patch from me.


Sat, 29 Mar 2003 01:36:10 -0800  rfalke:

	Changed paths:
	   M /trunk/po/Makefile.in.in

	Add dependency to rebuilt all language files if freeciv.pot changes.

	Reported by Christian Knoke <chrisk@enter.de>.


Fri, 28 Mar 2003 14:08:12 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c

	Rename a capability, and document it.

	Fixes an inconsistency introduced by PR#3649.


Fri, 28 Mar 2003 05:20:47 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	make pl.po compile again, sorry


Fri, 28 Mar 2003 04:45:56 -0800  akel:

	Changed paths:
	   M /trunk/po/et.po

	Some fixes.


Fri, 28 Mar 2003 00:07:06 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 27 Mar 2003 22:58:22 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Thu, 27 Mar 2003 14:59:27 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Thu, 27 Mar 2003 14:02:08 -0800  pagnin:

	Changed paths:
	   M /trunk/po/nl.po

	Closes PR#2886. (By adding a period at the end of the message)
	I've corrected also from Electricity to Electronics, because
	this helptext refers to civ2 building ruleset.


Thu, 27 Mar 2003 12:51:03 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	up to date and complete


Thu, 27 Mar 2003 12:22:33 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 27 Mar 2003 11:15:26 -0800  berthe:

	Changed paths:
	   M /trunk/po/fr.po

	mise à jour du 28 mars


Thu, 27 Mar 2003 09:50:35 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/menu.c

	Change the type of the second parameter of translate_menu_path from
	int to bool.


Thu, 27 Mar 2003 09:38:37 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/connectdlg.c

	Allow sorting of the servers in the metaserver list.

	Patch from Andreas Røsdal <andrearo@stud.ntnu.no> with changes from
	me.


Thu, 27 Mar 2003 07:14:15 -0800  rfalke:

	Changed paths:
	   M /trunk/data/nation/croatian.ruleset

	Add translation marking around legend string.

	Reported by Christian Knoke <chrisk@enter.de>.


Thu, 27 Mar 2003 07:08:04 -0800  rfalke:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Add server/connecthand.c.

	Reported by Christian Knoke <chrisk@enter.de>.


Thu, 27 Mar 2003 05:13:57 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	3 unübersetzte Meldungen


Wed, 26 Mar 2003 15:08:35 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/tilespec.h

	Don't refer to graphics files as "XPM files" anymore.  Also rewrite a
	comment describing the different sprites in the graphics files.

	Issued as PR#3759.


Wed, 26 Mar 2003 14:37:50 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	When selecting a nation for AI players, prefer to choose one from the
	class that human players are using.

	Patch by Mateusz Stefek <matusik_s@o2.pl>, with changes by me, as PR#3751.


Wed, 26 Mar 2003 11:00:24 -0800  rfalke:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Correct the menu containing the players dialog from "Game" to
	"Reports".

	Reported by Gabor Takacs <tg330@hszk.bme.hu>.


Wed, 26 Mar 2003 07:48:03 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 25 Mar 2003 21:33:08 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/german.ruleset

	Fix the German legend.

	Patch by Christian Knoke <chrisk@enter.de> as an addendum to PR#3597.


Tue, 25 Mar 2003 06:38:44 -0800  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	Routine update to match cvs + some grammar fixes. <sini.ruohomaa@iki.fi>


Mon, 24 Mar 2003 14:55:27 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	By user request the proper place to put freeciv.rc-2.0 is now at
	$HOME/.freeciv.rc-2.0.


Mon, 24 Mar 2003 14:29:32 -0800  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/clinet.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/server/connecthand.c
	   M /trunk/server/connecthand.h
	   M /trunk/server/srv_main.c

	Change "join game" to "login game". Symbolic change only.

	Patch by Mike Kaufman


Mon, 24 Mar 2003 14:20:58 -0800  per:

	Changed paths:
	   M /trunk/server/Makefile.am
	   A /trunk/server/connecthand.c
	   A /trunk/server/connecthand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Move connection code into a new file server/connecthand.c and
	corresponding header file.

	Patch by Mike


Sun, 23 Mar 2003 16:29:59 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/german.ruleset

	Updates for German nation ruleset: new/corrected leader names, geographic
	city labels added, some city name corrections.

	Patch by Christian Knoke <chrisk@enter.de> as PR#3597.


Sun, 23 Mar 2003 11:19:03 -0800  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c

	Send player diplomatic state values as 8-bit integers instead of 32-bit
	integers.  This may reduce network traffic by around 25%.

	Patch by Arnstein Lindgard <Arnstein.Lindgard@c2i.net> as PR#3649.


Sun, 23 Mar 2003 11:08:12 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/portuguese.ruleset

	Update the Portuguese ruleset: with new ruler names and tech_goals.

	Patch by Vasco Alexandre Da Silva Cost as PR#3656, with style changes by
	me.


Fri, 21 Mar 2003 22:43:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix the error output given when a tileset is missing a necessary sprite
	tag.

	Reported by Rafal Bursig.  Patch by me as PR#3758.  Fixes bug introduced in
	PR#2967.


Fri, 21 Mar 2003 15:36:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	In the city dialog for the GTK+-1.2 and GTK+-2.0 clients, take effects
	(like Adam Smith's) into account when displaying individual and cumulative
	upkeep for improvements.

	Patch by Thomas Strub <ue80@stud.uni-karlsruhe.de> as PR#3688, with style
	changes and added comments by me.


Fri, 21 Mar 2003 12:49:27 -0800  jdorje:

	Changed paths:
	   M /trunk/common/aicore/path_finding.c

	Change map coordinate variables in pf_map structure from 'short' to 'int'.
	This allows them to be passed to coordinate functions like
	normalize_map_pos.

	Issued as PR#3731.


Fri, 21 Mar 2003 12:05:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	On an appropriate keypress, the client will recenter the mapview on your
	capital (or print a warning if you have no capital).  Support for the
	GTK+-1.2 and GTK+-2.0 clients is included; the 'Home' key is used for this.

	Patch by Arnstein Lindgard <a-l@c2i.net> as PR#3701 with style changes and
	added comments by me.


Fri, 21 Mar 2003 11:11:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/doc/README.graphics

	Add support for drawing farmland and irrigation continuously, like is done
	in Civ3.  Each irrigated tile has its farmland/irrigation sprite chosen
	based on which cardinally adjacent tiles are also irrigated.

	Patch by Rafal Bursig and myself as PR#3730, plus documentation by me.


Fri, 21 Mar 2003 09:32:09 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/kenyan.ruleset

	Put the Kenyan nation into the "Modern" class.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as part of PR#3751.


Thu, 20 Mar 2003 05:37:52 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/messagewin.h
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/optiondlg.h
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.h

	Unification vertical scrollbar handling ( creating, add new widget, scroll up/down )
	Unification horizontal scrollbar handling ( creatingt )
	Rewritten messagewin dlg ( use new scrollbar code )
	Options Dlg :
	- proper sctring drawing
	- add global work list handling.
	- clean options button code.
	Some cleans and fixs.


Mon, 17 Mar 2003 22:24:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Load named sprites on demand, rather than loading them all at the beginning
	whether or not they are actually used.  Since the structure of the data
	directories hasn't changed, this means scanning in the tileset specfiles to
	build up a list of what sprites are available, so that a sprite may be
	efficiently looked up when it is needed.

	Patch by Raimar Falke as PR#3457, with removed cruft, style changes, and
	added comments by me.


Mon, 17 Mar 2003 18:14:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Provide support for scrolling the mapview with the keyboard, via a new
	function scroll_mapview(gui_dir) and GTK and GTK2 keyboard bindings to
	do this with the arrow keys.

	Patch by Arnstein Lindgard <a-l@c2i.net> and myself as PR#3726.


Mon, 17 Mar 2003 18:08:22 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/packhand.c

	Introduce code to mark a rectangle of the mapview as "dirty", and to wait
	until later to "flush" it to the display.  This allows clients and GUI
	libraries (particularly those that use manual buffering) to better
	optimize the drawing operation.

	Patch by Rafal Bursig and myself as PR#3424.


Sat, 15 Mar 2003 12:27:02 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Added mnemonics to the entry widgets.


Fri, 14 Mar 2003 18:09:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	When a player tries to move a unit without any MP left, initiate a goto
	route instead.

	Patch by Arnstein Lindgard <a-l@c2i.net> as PR#3699, with style changes
	and added comments by me.  This also fixes PR#3697.


Thu, 13 Mar 2003 05:27:55 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/unistring.c
	   M /trunk/po/pl.po

	Remove Threads usage and use simple event polling (Raimar order :)
	Some speedup in SDL_FillRectAlpha (full RGB888 case)
	New Label Widget type to speedup Change Prod. Dlg and Meta Servers Dlg.
	Port Jason flush code to gui-sdl side (only... requ. common part)
	Some cleans and fixs.


Wed, 12 Mar 2003 04:11:18 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Tue, 11 Mar 2003 10:49:14 -0800  per:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	Change AI diplomat code to use new path-finding code.


Tue, 11 Mar 2003 09:59:27 -0800  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/client/climisc.c
	   M /trunk/common/aicore/Makefile.am
	   A /trunk/common/aicore/path_finding.c
	   A /trunk/common/aicore/path_finding.h
	   A /trunk/common/aicore/pf_tools.c
	   A /trunk/common/aicore/pf_tools.h
	   M /trunk/common/map.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/server/Makefile.am
	   M /trunk/server/maphand.c

	This adds a new path-finding code. It enables the use of multiple path
	maps at the same time, path iterators and advanced callbacks that change
	the way path-finding is done in real time. No code uses this yet.

	Patch by Gregory Berkolaiko and Raimar Falke.


Mon, 10 Mar 2003 14:21:54 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	* Removed units pane.
	* Added 'List present units' button to dialog action area.
	* Renamed 'Worklist' pane label to 'Production'.
	* Moved production info from the 'Overview' to the 'Production' pane.
	* Changed 'Overview' pane's support and present units lists.
	  The new lists are more space efficient. No more weird hacks.
	* Moved improvement info to the upper right of the 'Overview' pane.


Mon, 10 Mar 2003 08:34:50 -0800  rfalke:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Remove an unneded TRANS comment.

	Patch from  Erik Sigra <sigra@home.se>.


Mon, 10 Mar 2003 08:32:30 -0800  rfalke:

	Changed paths:
	   M /trunk/data/history/governments.ruleset

	Add a space.

	Patch by Erik Sigra <sigra@home.se>.


Mon, 10 Mar 2003 05:35:47 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 09 Mar 2003 05:07:43 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Fri, 07 Mar 2003 19:49:01 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Removed spurious line.


Fri, 07 Mar 2003 02:57:12 -0800  tg:

	Changed paths:
	   M /trunk/po/hu.po

	update


Thu, 06 Mar 2003 21:14:41 -0800  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c

	Fix some spelling - in comments and help texts.

	Patch by Raimar Falke and a spellchecker, with style fixes by me.


Thu, 06 Mar 2003 21:08:42 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/common/hash.c
	   M /trunk/common/player.c
	   M /trunk/common/shared.h
	   M /trunk/common/tech.c
	   M /trunk/common/unit.c
	   M /trunk/server/gotohand.c
	   M /trunk/utility/hash.c
	   M /trunk/utility/shared.h

	To avoid compiler warnings with non-gcc compilers, add suitable return
	statements after die() is called.  To prevent this causing warnings under
	gcc, the noreturn attribute is removed from die().

	Patch by Raimar Falke as PR#3427.


Thu, 06 Mar 2003 21:03:56 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Translate the national legend strings when they are received from the
	server.  Skip translation of any empty entries (gettext treats a 0-length
	string as a special case).

	First reported as PR#3607 by Pieter J. Kersten <kersten@dia.eur.nl>.  Patch
	by me.


Thu, 06 Mar 2003 20:54:59 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Add autoheader templates to configure.ac, so that HAVE_LIB_X*** definitions
	for config.h that are defined by FC_CHECK_X_LIB will not be missed.  This
	allows the XAW client to compile with Xaw3d and may fix other bugs as well.

	Reported by Stepan Roh <stepan@srnet.cz> as PR#2673.  Patch by me.


Thu, 06 Mar 2003 17:07:22 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Remove unused variable.

	Mimic use of convenience functions:
		- can_client_issue_orders
		- can_meet_with_player
		- client_is_observer

	by the GTK+ 1.2 client in the GTK+ 2.0 version.

	Bug reported by Per I. Mathisen <per@leftist.net>.


Thu, 06 Mar 2003 16:11:51 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Remove redudant style. Change GtkDialog to use the default GTK+ style.


Thu, 06 Mar 2003 16:11:03 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Fix segmentation fault on disconnect bug.


Thu, 06 Mar 2003 16:09:11 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Change menu style. The old all monospace style used too much space.


Thu, 06 Mar 2003 13:38:26 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c

	show legend in the nation selection dialog


Thu, 06 Mar 2003 05:49:18 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapctrl.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/po/pl.po

	New Window/Dialog Menager
	Support for Goto/Patrol Lines.
	Some small fixes.
	(client still won't work without flush code)


Thu, 06 Mar 2003 02:17:03 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/README

	Update the IRC information to freenet.


Thu, 06 Mar 2003 01:35:12 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c

	Remove get_mapview_dimensions. It is superseded by struct canvas. This
	function only lived about 4 months.

	Patch from Jason Short.


Thu, 06 Mar 2003 01:11:18 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c

	Correct the condition for which the techs aren't updated to show the
	techs of a disconnected player during the main game.

	The problem: init_tech (which marks all techs given in the ruleset
	unknown, makes A_NONE and gives init techs) is only called in a new
	game and if after all players chose their nations. So this leaves the
	time window from the time a player connects (and this is published to
	all other players) till the time this player disconnects before the
	init_tech is called. In this time window the tech data is unset. This
	is the problem that the previous patch should have fixed. However the
	previous patch was too restrictive.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.


Wed, 05 Mar 2003 04:53:27 -0800  glip:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/unittools.c

	A small cleanup of "No Contact" handling in the paradrop code.  After
	the cleanup, the pplayer_no_contact function is no longer needed, and is
	removed.

	Patch by Per Mathisen.


Wed, 05 Mar 2003 04:06:25 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	partial updated; some names changed (Mauerbau, Jagdflugzeug, Lastwagen, Eisen/Bronzeverarbeitung, Krebsheilung, Raumschiff*


Wed, 05 Mar 2003 01:29:19 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	partial updated


Wed, 05 Mar 2003 00:56:08 -0800  jdorje:

	Changed paths:
	   M /trunk/INSTALL
	   M /trunk/NEWS
	   M /trunk/client/agents/agents.c
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/genlist.c
	   M /trunk/common/netintf.c
	   M /trunk/common/shared.c
	   M /trunk/common/support.c
	   M /trunk/config.mac.h
	   M /trunk/doc/README.sound
	   M /trunk/server/autoattack.c
	   M /trunk/server/citytools.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/unittools.c
	   M /trunk/utility/genlist.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/support.c

	Fix some spelling - in documentation, comments, log messages, and variable
	names.

	Patch by Raimar Falke and a spellchecker, with style and grammer fixes by
	me.


Tue, 04 Mar 2003 08:47:35 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Tue, 04 Mar 2003 00:56:20 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 03 Mar 2003 15:06:38 -0800  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Remove BeOS and add SDL to ./configure --help documentation.


Mon, 03 Mar 2003 14:44:13 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c

	Hide/show city report instead of destroy/create (PR#2680).

	Patch by Stepan Roh <stepan@srnet.cz> commited with changes by me.


Mon, 03 Mar 2003 14:41:23 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/gui_stuff.c
	   M /trunk/client/gui-gtk/gui_stuff.h

	Fix for multiple history reports won't close bug (PR#2839).

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 02 Mar 2003 22:07:25 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sun, 02 Mar 2003 13:38:06 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	A mild cleanup of ai_military_gothere.  Separated bodyguard estimating (??)
	code into a separate function, added comments, highlighted FIXMEs.
	Incorporated debugging change of initialising boat coords to (-1, -1),
	following an idea by Jason Short.  Behaviour is unchanged.


Sun, 02 Mar 2003 13:17:42 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	A minor cleanup of the defenders part of military_advisor_choose_build.
	Added a couple of comments and FIXMEs, general reformatting.


Sun, 02 Mar 2003 13:13:40 -0800  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	Returning to 'normal' CVS after the release...


Sun, 02 Mar 2003 13:10:26 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Function find_beachhead is returning an int but might as well return
	bool, for clarity.  The return type is therefore changed, the function is
	documented, a dubious check is highlighted.


Sun, 02 Mar 2003 10:41:11 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Add "Center" button to support unit popup (PR#2692).

	Patch by Stepan Roh <stepan@srnet.cz>, commited with changes to the GTK+ 2.0
	part by me.


Sun, 02 Mar 2003 09:43:16 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Patch to scroll main_message_area on PgUp/PgDown keypress.

	Bug reported by Janus N. Tønderin <janus@bananus.dk>.

	Changed kludge to stop emission of the default widget focus movement events on
	Up/Down/Left/Right keypress. The old kludge was not working properly anymore.

	Thanks to Sven Neumann on #gtk+ for the tip on hijacking the focus event.


Sun, 02 Mar 2003 07:57:29 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/messagewin.c

	Make the messages window remember the list items last visited even if the window
	is closed.

	Bug reported by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sun, 02 Mar 2003 07:55:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Change player list colour scheme to black-on-white to fit the new style.

	Bug reported by Mike Kaufman <kaufman@orion.physics.wisc.edu>.


Sun, 02 Mar 2003 07:26:14 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Correct the way how the total trade of trade routes is
	calculated. Previously the current tile_trade was used. Correct
	however is to use the estimated maximal tile_trade.

	Reported by Mateusz Stefek <matusik_s@o2.pl>. Patch from me.


Sun, 02 Mar 2003 07:22:47 -0800  rfalke:

	Changed paths:
	   M /trunk/common/aicore/cm.c

	Correct asserts which were off by one.

	Reported by Mateusz Stefek <matusik_s@o2.pl>. Patch from me.


Sat, 01 Mar 2003 17:36:33 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/menu.c

	Introduce a new government menu that allows direct selectiion of the
	government.

	Port of PR#2923 to gui-gtk by Arnstein Lindgard
	<Arnstein.Lindgard@c2i.net>.


Sat, 01 Mar 2003 13:03:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move center_tile_mapcanvas into mapview_common, and merge it with
	base_center_tile_mapcanvas.

	Issued as PR#2884.


Sat, 01 Mar 2003 06:44:01 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Fix for Despotism appearing twice in the government submenu (PR#2923).

	Patch by Arnstein Lindgard <arnstein.lindgard@c2i.net>.


Sat, 01 Mar 2003 04:11:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Allow the client to toggle the redrawing of city descriptions in
	refresh_tile_mapcanvas.  This is needed because the SDL client uses a
	separate buffer with anti-aliased text for these descriptions, so redrawing
	them is both unnecessary and looks ugly.

	Patch by Rafal Bursig as PR#3540, updated and with added comments by me.


Fri, 28 Feb 2003 04:51:01 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/optiondlg.c

	Fix for gui-sdl new flush code


Fri, 28 Feb 2003 04:20:43 -0800  raffaelo:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Fix for my yesterday night cvs activity with removing -g flag
	I wrote one space too far and corrupt configure.ac script
	Additional fix for non-gcc compilers.


Thu, 27 Feb 2003 18:08:08 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Fix for crash in overview window (PR#3512).

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 27 Feb 2003 15:32:04 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/mapview.c

	fix problem with struct Sprite

	patch by Raimar Falke with tiny changes by me


Thu, 27 Feb 2003 15:14:14 -0800  raffaelo:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/m4/debug.m4

	Removing -g flags when --enable-debug=no.

	Current --enable-debug=no use -O3 -fomit-frame-pointer flags where
	backtraces are useless/untrustworth and debugging is crippled.
	-g flag don't work as should but make binary size bigger (~5x).
	THIS CHANE MAKE DEBUG IMPOSIBLE WHEN USE --enable-debug=no.


Thu, 27 Feb 2003 14:56:50 -0800  per:

	Changed paths:
	   M /trunk/server/diplhand.c

	Bug: Two players open up a diplomacy dialog to a third player and
	suggest to give him the same tech before either has time to press
	Accept. When one pressed Accept, the diplomacy dialog of the other is
	not updated with the info that third player now has this tech, so when
	we give it to him again, it triggers an assert.

	Fix: We disregards such superfluous tech instead of doing a core dump.


Thu, 27 Feb 2003 14:28:41 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c

	When looking for a ferry, make sure we actually found one before comparing
	our position to theirs.  This prevents us from looking at invalid
	coordinates (which may happen to contain a different boat).

	This patch comprises the bugfix half of PR#3508; the debugging half is left
	out.


Thu, 27 Feb 2003 14:15:18 -0800  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	If the AI runs out of things to suggest for a human player to build,
	then the next algorithm to suggest something does not report its choice
	to the player. This fixes the problem.

	Bug reported by Kenn Munro. Patch by Raimar with changes by me.


Thu, 27 Feb 2003 14:14:37 -0800  glip:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c

	Actually set the destination in ai_unit_new_role, but if the passed
	destination is (-1, -1) (meaning "no destination") we set it to (0, 0), so
	we don'tbreak too much yet.  It helps to fix a couple of bugs where
	destination was set directlyand, as a consequence, ai_unit_new_role was
	trying to do things to the new destination thinking it's the old one.

	Patch by Jason D. Short.


Thu, 27 Feb 2003 14:09:10 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c

	Fix compiler warning.


Thu, 27 Feb 2003 12:05:25 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/repodlgs.c

	Fix for find city dlg.
	Fix for blinking unit in non-iso draw system.
	Enable non-iso draw system.


Thu, 27 Feb 2003 07:58:27 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 27 Feb 2003 02:11:10 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/BUGS

	Replace http://www.freeciv.org/cgi-bin/bugs with
	http://rt.freeciv.org/.

	Patch from Christian Knoke <chrisk@enter.de>.


Thu, 27 Feb 2003 00:47:31 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/sdl-client.m4

	When checking for the SDL_ttf library, make sure the
	TTF_RenderUNICODE_Blended_Shaded function is available; older versions of
	the library which do not contain this function will not suffice.

	Patch by Rafal Bursig as PR#3499.


Thu, 27 Feb 2003 00:39:11 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update email address of Juhani Heino.


Thu, 27 Feb 2003 00:19:14 -0800  rfalke:

	Changed paths:
	   M /trunk/m4/debug.m4

	Pass "-O3 -fomit-frame-pointer" to the compiler if "--enable-debug=no"
	is passed to configure.

	Patch from Rafal Bursig with changed from me.


Wed, 26 Feb 2003 17:23:54 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/mapview.c

	Fix for non-iso draw system


Wed, 26 Feb 2003 16:31:11 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move put_one_tile into mapview_common.  Three new GUI functions are
	introduced: gui_put_sprite_full, gui_put_rectangle, and gui_put_line.

	Issued as PR#3017.


Wed, 26 Feb 2003 15:49:49 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h

	New nation selection dialog. Fixes (PR#3024) crash.

	Bug reported by Kenn Munro <kenn@cyberbeach.net>.


Wed, 26 Feb 2003 15:40:31 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Added padding around GtkDialog.


Wed, 26 Feb 2003 11:00:37 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/gui_main.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapview_common.h

	Move the variabled which hold the current size of the mapview canvas
	from the GUIs into common code (mapview_canvas.*). To avoid noise in
	the code the old variable use is still possible because of a define.

	Patch by Jason Short.


Wed, 26 Feb 2003 07:01:00 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/messagewin.c

	Fix for draw log/msg dlg.


Tue, 25 Feb 2003 17:02:17 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/po/pl.po

	Fix for Black color problem with indexed png.
	Fix for CPU usage by Net Thread.
	Fix for Units Info Window draw.
	Some clean


Mon, 24 Feb 2003 05:46:27 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h

	Remove some icc warnings ( sorry not all )


Mon, 24 Feb 2003 02:45:29 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 23 Feb 2003 22:21:38 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sun, 23 Feb 2003 19:17:54 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Added 'const' to variable declaration to silence compiler warnings.

	Bug reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 23 Feb 2003 18:33:04 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	This patch:
	  * changes 'popup_message_dialog'.
	  * fixes bugs in the diplomat and caravan dialogs and ports them to GTK+ 2.0.
	  * makes a bunch of dialogs unmodal.
	  * adds a scrollbar to the player dialog.
	  * makes the input dialog popup centered on its parent instead of under the
	    mouse.
	  * changes the parent of the CMA add and delete dialogs be the city window
	    instead of the toplevel window.
	  * cleanups some code in the goto/airlift dialog.

	Patch filed under (PR#1551).

	Caravan dialog bug reported by Kenn Munro <kenn@cyberbeach.net>.


Sun, 23 Feb 2003 18:22:35 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Fix for external GTK+ RC file loading bug (PR#3511).

	Bug reported by One <aws9a@virginia.edu>.


Sun, 23 Feb 2003 12:18:55 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/finddlg.h
	   M /trunk/client/gui-sdl/mapview.c

	2 Small build fixes
	( still new flush code is needed )


Sun, 23 Feb 2003 09:08:39 -0800  kauf:

	Changed paths:
	   M /trunk/common/log.c
	   M /trunk/utility/log.c

	add an fflush after the freelog fprintf.


Sun, 23 Feb 2003 06:11:15 -0800  jdorje:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/gui-gtk/Makefile.am
	   A /trunk/client/gui-gtk/finddlg.h
	   A /trunk/client/gui-gtk/inteldlg.h
	   A /trunk/client/gui-gtk/messagedlg.h
	   A /trunk/client/gui-gtk/ratesdlg.h
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   A /trunk/client/gui-gtk-2.0/finddlg.h
	   A /trunk/client/gui-gtk-2.0/inteldlg.h
	   A /trunk/client/gui-gtk-2.0/messagedlg.h
	   A /trunk/client/gui-gtk-2.0/ratesdlg.h
	   A /trunk/client/gui-mui/finddlg.h
	   A /trunk/client/gui-mui/inteldlg.h
	   A /trunk/client/gui-mui/messagedlg.h
	   A /trunk/client/gui-mui/ratesdlg.h
	   M /trunk/client/gui-sdl/Makefile.am
	   A /trunk/client/gui-sdl/finddlg.h
	   A /trunk/client/gui-sdl/inteldlg.h
	   A /trunk/client/gui-sdl/messagedlg.h
	   A /trunk/client/gui-sdl/ratesdlg.h
	   M /trunk/client/gui-stub/Makefile.am
	   A /trunk/client/gui-stub/finddlg.h
	   A /trunk/client/gui-stub/inteldlg.h
	   A /trunk/client/gui-stub/messagedlg.h
	   A /trunk/client/gui-stub/ratesdlg.h
	   M /trunk/client/gui-win32/Makefile.am
	   A /trunk/client/gui-win32/finddlg.h
	   A /trunk/client/gui-win32/inteldlg.h
	   A /trunk/client/gui-win32/messagedlg.h
	   A /trunk/client/gui-win32/ratesdlg.h
	   M /trunk/client/gui-xaw/Makefile.am
	   A /trunk/client/gui-xaw/finddlg.h
	   A /trunk/client/gui-xaw/inteldlg.h
	   A /trunk/client/gui-xaw/messagedlg.h
	   A /trunk/client/gui-xaw/ratesdlg.h
	   M /trunk/client/include/Makefile.am
	   D /trunk/client/include/finddlg.h
	   A /trunk/client/include/finddlg_g.h
	   D /trunk/client/include/inteldlg.h
	   A /trunk/client/include/inteldlg_g.h
	   D /trunk/client/include/messagedlg.h
	   A /trunk/client/include/messagedlg_g.h
	   D /trunk/client/include/ratesdlg.h
	   A /trunk/client/include/ratesdlg_g.h

	Rename several files from client/include/xxx.h to client/include/xxx_g.h.
	Add client/gui-yyy/xxx.h, which includes client/include/xxx_g.h.  In
	future, all headers in client/include should follow this standard.

	Problem reported by Rafal Bursig as PR#3478.  Patch by Raimar Falke, with
	MUI distribution added by me.


Sun, 23 Feb 2003 04:47:35 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	Introduce an 'away' mode.  When a player enters /away from the chatline,
	they toggle away mode.  In this AI mode, the ai will run the player's
	civilization but will be unable to make big changes.

	Patch by Per Mathisen as PR#3402.


Sat, 22 Feb 2003 11:35:14 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	New style un-modal unit selection dialog (PR#2970).


Sat, 22 Feb 2003 05:22:32 -0800  rfalke:

	Changed paths:
	   M /trunk/client/civclient.c

	Set unused fields to 0 in packet_unit_info before it is sent to the
	server.

	Patch from Jason Short.


Sat, 22 Feb 2003 05:15:30 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapview_common.h

	Move the map_view_x0/map_view_y0 variables from the GUIs into common
	code (mapview_canvas.map_x0/map_y0). To avoid noise in the code the
	old variable use is still possible because of a define.

	Patch by Jason Short.


Sat, 22 Feb 2003 02:31:09 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_string.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/unistring.c
	   M /trunk/client/gui-sdl/unistring.h

	Uploading first CVS virus...


Sat, 22 Feb 2003 01:13:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	In the city dialog, show the surplus (net) production in its proper place
	(instead of erronously showing the total production there).

	Reported by Kenn Munro <kenn@cyberbeach.net> as PR#3472.  Patch by me.


Sat, 22 Feb 2003 01:09:47 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-win32/cityrep.c

	Rename cityrep_buy() as cityrep_do_buy(), to avoid conflicting with the
	name of a common function.

	Issued as PR#3488.


Fri, 21 Feb 2003 18:48:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c

	Add a new GUI function prepare_show_city_descriptions.  This function is
	called at the beginning of show_city_descriptions, and may be used by the
	GUI to clear the city description buffer - if a separate city description
	buffer is used.

	Patch by Rafal Bursig and myself as PR#3423; function name by Raimar Falke.


Fri, 21 Feb 2003 14:30:41 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated  (fixed research dialog in win32)


Fri, 21 Feb 2003 05:23:09 -0800  glip:

	Changed paths:
	   M /trunk/common/Makefile.am
	   A /trunk/common/pqueue.c
	   A /trunk/common/pqueue.h
	   M /trunk/server/airgoto.c
	   A /trunk/utility/pqueue.c
	   A /trunk/utility/pqueue.h

	Separate the priority queue implementation (as a heap) from server/airgoto.c
	into pqueue.[ch] pending introduction of the new path-finding which also
	uses priority queue.

	Patch by Per I. Mathisen and Co.


Thu, 20 Feb 2003 19:40:06 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	This make bigger Mess that before.
	Sorry SDLClient still not work :(


Thu, 20 Feb 2003 15:14:33 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/graphics.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Replace the canvas_t type with a struct canvas which should in the
	long run hold all state (position, dimension, backing store,...) about
	the map canvas and so making it accessible to the common code.

	Add a gui-dependent struct canvas_store which is opaque in the common
	code.

	Patch by Jason Short.


Thu, 20 Feb 2003 15:03:04 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Check if the used nation is in the class and so can be disabled.

	Reported by Thomas Strub <ue80@stud.uni-karlsruhe.de> as
	PR#3476. Patch from me.


Thu, 20 Feb 2003 15:00:55 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c

	Don't update techs of a player if the client gets a player_info about
	a disconnected player. This is necessary since it is possible that the
	disconnected player didn't choose the nation yet and so didn't got its
	tech initialized.

	Part of PR#3476.


Thu, 20 Feb 2003 14:49:42 -0800  rfalke:

	Changed paths:
	   M /trunk/common/tech.c

	Ensure via assert that the player always knows A_NONE.

	Part of PR#3476.


Thu, 20 Feb 2003 14:02:29 -0800  per:

	Changed paths:
	   M /trunk/client/packhand.c

	Ensure that city occupied flag is set when creating new games and adding
	new units to cities.

	Bug reported by Thomas Strub <ue80@stud.uni-karlsruhe.de>. Fix by
	Raimar Falke. This closes PR#3475.


Thu, 20 Feb 2003 13:58:14 -0800  per:

	Changed paths:
	   M /trunk/client/control.c

	Fix bug that happens when you right click a unit in the city dialog,
	change is not visible.

	Bug reported by Christian Knoke. Fix by Arnstein Lindgard
	<arnstein.lindgard@c2i.net>


Thu, 20 Feb 2003 01:45:22 -0800  rfalke:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c

	Rename map_inx to map_pos_to_index.

	Patch from Jason Short.


Wed, 19 Feb 2003 15:51:20 -0800  per:

	Changed paths:
	   M /trunk/common/map.h

	Fix typo in map macro.

	Bug symptom found by me, bug cause found by Greg and one-line bug cure
	provided by Jason. This closes PR#3444.


Wed, 19 Feb 2003 15:46:16 -0800  jdorje:

	Changed paths:
	   M /trunk/client/messagewin_common.c

	In the messagewin dialog, don't popup cities that we don't own.  This
	prevents those dialogs from showing completely bogus information (with
	an associated failed assertion).

	Bug reported by Kenn Munro <kenn@cyberbeach.net> as PR#3380.  Patch by me.


Wed, 19 Feb 2003 15:03:39 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/chatline.h
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/connectdlg.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/finddlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/messagewin.c
	   M /trunk/client/gui-sdl/messagewin.h
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	New Buffer Code + Mess, sabotage, virus, backdoors and time waste.

	This code make SDLClient NOT WORKING until commit of:
	 - new flush code;
	 - clear_city_descr code;
	 - finddlg.h and finddlg_g.h files problem;

	Additional all users must patch SDL_ttf lib with patch Blended_Shaded.diff.

	All Kammikadze users I say : GOOD LUCK :)


Tue, 18 Feb 2003 10:10:15 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unittools.c

	Correct the conditions for sending a unit_info to the client. Units
	can now sneak in and out of a city unnoticed if they move from the
	city straight into the FoW or unknown.

	Reported by Kenn Munro <kenn@cyberbeach.net> as PR#2789. Patch from
	Gregory Berkolaiko.


Mon, 17 Feb 2003 22:58:29 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Mon, 17 Feb 2003 14:49:28 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/unit.h
	   M /trunk/doc/README.AI
	   M /trunk/server/autoattack.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Revert PR#3013 and PR#3455; the original patch is not yet ready.


Mon, 17 Feb 2003 14:09:44 -0800  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix loading savegames bug that was introduced with recent goto patch.
	Closes issue #3455.

	Patch by Jason Short.


Mon, 17 Feb 2003 13:55:09 -0800  tg:

	Changed paths:
	   M /trunk/po/hu.po

	update


Mon, 17 Feb 2003 05:27:14 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 17 Feb 2003 05:11:01 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Mon, 17 Feb 2003 04:54:23 -0800  glip:

	Changed paths:
	   M /trunk/common/map.h

	Introduce index_to_map_pos macro which inverts the action of map_inx:
	extracts the map coordinates from the index.
	Also added are macros CHECK_INDEX (similar to CHECK_MAP_POS)
	and MAX_MAP_INDEX for sanity checking and allocations.

	Patch by Jason D. Short and myself (PR#3444).


Mon, 17 Feb 2003 04:46:43 -0800  glip:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c

	Clean up adjust_terrain_param which converts terrain parameters from the
	server into percents for the map generators (PR#2748).

	Patch by Karen Yeats.


Mon, 17 Feb 2003 00:38:36 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/unit.h
	   M /trunk/doc/README.AI
	   M /trunk/server/autoattack.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Implement a new goto structure for units; now a NULL goto destination
	indicates there is no goto target rather than using the old method of
	(0,0) which was both buggy and unsafe under an isometric map.  Unit goto
	destinations are no longer sent to the client; since the client is unable
	to determine 'air' and 'connect' goto information for itself, this means
	those goto types will not by shown to the user.  Finally, the patch makes
	a strict separation between which AI unit roles have to have goto targets
	and which cannot.

	Patch by Per Mathisen as PR#3013, with cruft removed by me.


Sun, 16 Feb 2003 18:11:27 -0800  jdorje:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/doc/HACKING
	   M /trunk/doc/TODO
	   M /trunk/doc/nl/TODO.nl
	   M /trunk/server/barbarian.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/sanitycheck.c

	Rename is_real_tile as is_real_map_pos.  Replace some
	"assert(is_real_tile(x, y))" with "CHECK_MAP_POS(x, y)".

	Patch by Raimar Falke as PR#1227 with doc updates by me.


Sun, 16 Feb 2003 09:04:14 -0800  glip:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/utility/shared.c

	Add a comment to the function die().

	Patch by Jason D. Short.


Sat, 15 Feb 2003 12:26:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-xaw/cityrep.c

	Introduce a function cityrep_buy() to be called by the GUI when a player
	tries to buy production through the city report.  This function will buy
	the production or give an appropriate error message.  Coinage is now
	handled correctly.

	Coinage bug reported by Christian Knoke <chrisk@enter.de> as PR#3396.
	Patch by Raimar Falke.


Sat, 15 Feb 2003 08:09:36 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets.c
	   M /trunk/server/report.c

	Fix two signedness issues:
	 - the return type of dio_input_remaining is size_t so the comparison
	 with -1 is useless
	 - the return type of my_snprintf is int and not size_t


Sat, 15 Feb 2003 07:35:02 -0800  rfalke:

	Changed paths:
	   M /trunk/common/inputfile.c
	   M /trunk/common/player.h
	   M /trunk/utility/inputfile.c

	Stricter syntax:
	 - remove trailing "," in enum
	 - change "struct {...} static x;" to "static struct {...} x;"


Sat, 15 Feb 2003 07:16:00 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/server/citytools.c

	Replace 3 calls of strdup with mystrdup.


Fri, 14 Feb 2003 23:23:47 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Change some debugging output lines from LOG_NORMAL to LOG_DEBUG.

	Issued as PR#3400.


Fri, 14 Feb 2003 23:19:24 -0800  jdorje:

	Changed paths:
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.h

	Change the equiv_range field of struct impr_type into an impr_range enum.
	It was always treated like this enum anyway, it just had the wrong type.

	Patch by Mike Kaufman and Raimar Falke as PR#3413.


Fri, 14 Feb 2003 09:43:56 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Remove space in text to ease translation and to make it conforming to
	the other texts.

	Reported by Andreas Røsdal <andrearo@stud.ntnu.no> as PR#3416.


Fri, 14 Feb 2003 09:16:23 -0800  rfalke:

	Changed paths:
	   M /trunk/client/audio_sdl.c
	   M /trunk/client/gui-sdl/graphics.c

	Add SDL_INIT_NOPARACHUTE to SDL_Init calls to get core dumps from SDL
	instead of getting "SDL parachute deployed".

	Patch from me in PR#3409.


Fri, 14 Feb 2003 08:51:42 -0800  rfalke:

	Changed paths:
	   M /trunk/server/citytools.c

	Also give the client knowledge about the tile of the city if the
	client knows the city on top of it. This is necessary to give the
	client the continent id of the city.

	Patch from me in PR#2223.


Fri, 14 Feb 2003 08:43:14 -0800  rfalke:

	Changed paths:
	   M /trunk/client/attribute.c

	Remove the guard about insufficient space and documents the way to
	query the size of an attribute.

	Patch from me in PR#1217.


Fri, 14 Feb 2003 06:11:11 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Fri, 14 Feb 2003 01:30:29 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/Makefile.am.sh

	Tell make where to install the nation files.

	Patch by Reinier Post as an addendum to PR#2922.


Fri, 14 Feb 2003 01:22:05 -0800  akel:

	Changed paths:
	   M /trunk/po/et.po

	corrections


Thu, 13 Feb 2003 22:40:47 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Thu, 13 Feb 2003 10:33:22 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 13 Feb 2003 09:59:23 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/dialogs.c

	Remove compiler warnings.

	Patch from Jason Short as PR#3401.


Thu, 13 Feb 2003 09:03:56 -0800  rfalke:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h

	Replace warmap's the 2D arrays (indexed by x and y) by a 1D array
	(indexed by map_inx). This is a preparation step for iso maps.

	Patch from Jason Dorje Short <vze49r5w@verizon.net>.


Wed, 12 Feb 2003 22:47:42 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Wed, 12 Feb 2003 16:48:45 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h

	Provide a new revolution interface that allows you to choose your target
	government when you initiate the revolt (or any time during anarchy), thus
	avoiding a popup dialog at the end.  A new common function,
	set_government_choice, is introduced and can be used by GUIs that want to
	use this type of functionality.

	Patch by Vasco Alexandre Da Silva Costa and myself as PR#2923.


Wed, 12 Feb 2003 14:49:52 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gui_main.c

	Remove activate_unit(), since it is no longer necessary after the fast
	focus patch committed earlier.

	Patch by Arnstein Lindgard <Arnstein.Lindgard@c2i.net>


Wed, 12 Feb 2003 14:24:43 -0800  per:

	Changed paths:
	   M /trunk/data/default/buildings.ruleset

	Fix commit blooper.


Wed, 12 Feb 2003 14:22:35 -0800  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/climisc.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/player.c
	   M /trunk/common/tech.c
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	Reimplement improvement equivalence and replication. Remove old
	update_all_effects in favour of gen effects code.

	Patch by Mike Kaufman with logging, comment and style change by me.


Wed, 12 Feb 2003 13:38:03 -0800  per:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix bug that would activate, not fortify non-active units selected for
	fortification in city dialog.

	When unloading a ship, client no longer focuses on each unit rapidly,
	just one.

	When a sentry is awakened, and you have 'wakeup_focus' turned on, the
	map will recenter regardless of 'auto_center_on_unit' (it may be an
	emergency).

	Patch by Arnstein Lindgard <arnstein.lindgard@c2i.net> with style
	changes by me. Bug reported by Christian Knoke <ChrisK@enter.de>.


Wed, 12 Feb 2003 13:15:50 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Fix two bugs in explorer code that didn't properly update unit info in
	client, and that could crash because improper checking for dead units.

	Patch by Gregory Berkolaiko. This closes #3395.


Wed, 12 Feb 2003 11:06:40 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/m4/debug.m4

	When compiling with gcc, use "-Wall -Wpointer-arith -Wcast-align
	-Wmissing-prototypes -Wmissing-declarations".  Also add "-Werror" if
	debugging is enabled.

	Patch by Raimar Falke as an addendum to PR#3026.


Wed, 12 Feb 2003 10:56:18 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gotodlg.c

	Fix a compiler warning.

	Issues as PR#3026.


Wed, 12 Feb 2003 10:38:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/common/capstr.c

	Use the nation class and legend information to make a more featureful
	nation selection dialog.  Also, fix the capstring so that this
	functionality is used.

	Patch by Raimar Falke with help from myself and Vasco as PR#2841, with
	style changes by me.


Tue, 11 Feb 2003 17:42:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c

	Set the coordinates of the PACKET_TURN_DONE packet to (-1,-1).  Although
	these values are presumably never used, it is more correct and safer to
	specify explicitly that there is no location associated with this packet.

	Issued as PR#3027.


Tue, 11 Feb 2003 14:01:43 -0800  asf:

	Changed paths:
	   A /trunk/doc/fr/BUGS.fr

	*** empty log message ***


Mon, 10 Feb 2003 17:16:55 -0800  pagnin:

	Changed paths:
	   M /trunk/po/da.po

	Updated da.po, file supplied by Keld Jørn Simonsen <keld@dkuug.dk>
	with update made by me.


Mon, 10 Feb 2003 17:16:24 -0800  kauf:

	Changed paths:
	   M /trunk/data/nation
	   M /trunk/data/nation/.cvsignore

	add Makefile.am


Mon, 10 Feb 2003 17:15:00 -0800  kauf:

	Changed paths:
	   M /trunk/server/cityturn.c

	change freelog for 'Ignored prodneed' from LOG_VERBOSE to LOG_DEBUG


Mon, 10 Feb 2003 14:49:28 -0800  jdorje:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Fix an incorrect string literal newline continuation, and simultaneously
	remove an incorrect sentence of the helpdata that is unnecessarily
	ruleset-specific.

	Patch by Davide Pagnin as an addendum to PR#3359.


Mon, 10 Feb 2003 14:04:43 -0800  jdorje:

	Changed paths:
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset

	Don't put trailing whitespace after a line-continuation (\) of a string
	literal; this confuses gettext.

	Patch by Davide Pagnin as PR#3359 with changes by me.


Mon, 10 Feb 2003 13:51:53 -0800  jdorje:

	Changed paths:
	   M /trunk/data/nation/danish.ruleset

	Make the Danish nation's legend a pure ASCII string.  This is needed since
	this string is translated.

	Patch by Davide Pagnin as PR#3358.


Mon, 10 Feb 2003 13:43:43 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/climap.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	This patch moves the management of continents back to the server. What
	continent a tile belongs to is no longer considered cheat information,
	and trade routes and effects are resolved from the server's omniscient
	perspective.

	Patch by Mike Kaufman


Mon, 10 Feb 2003 12:43:13 -0800  rfalke:

	Changed paths:
	   D /trunk/CHANGES

	Really remove the file.


Mon, 10 Feb 2003 12:24:39 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Remove compiler warnings:
	 - add two "static"
	 - initialize four variables


Mon, 10 Feb 2003 11:30:53 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h
	   M /trunk/server/unittools.c

	New smarter explorer code.  The explorer will try to follow the shore to
	discover the shape of the continent(s).  The ai_manage_explorer is
	streamlined, using new explorer_desirable function where the attractiveness
	of a tile is evaluated.

	Patch by Cameron Morland, tortured by Karen Yeats and me.


Mon, 10 Feb 2003 09:29:41 -0800  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/ruleset.c

	Waste cleanup. Add descriptions, add defaults explicitly, set
	appropriate civ2 values, and rename max_distance_cap to
	corruption_max_distance_cap.

	Patch by Davide Pagnin <nightmare@freeciv.it> with slight changes by me.


Mon, 10 Feb 2003 08:33:50 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 09 Feb 2003 02:18:19 -0800  pagnin:

	Changed paths:
	   M /trunk/m4/sdl-client.m4

	When disable-nls switch is selected via configure, the sdl client won't
	compile if iconv library has a non standard path. (PR#3031)
	Reported by Bernd Korz <bernd.korz@insidebeos.de>.
	Patch by Jason Dorje Short.


Sat, 08 Feb 2003 14:52:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c

	Draw city descriptions to the map buffer before flushing them to the
	display.  This allows the GUI code to more complex buffering systems,
	as well as giving generally better drawing behavior.

	Issued as PR#2986.


Sat, 08 Feb 2003 12:19:36 -0800  glip:

	Changed paths:
	   M /trunk/server/gotohand.c

	Fix PR#3010.  The initialization of the local warmap pointer is moved to
	after thepoint where the memory it shouldbe pointing at isallocated.

	Patch by Jason Short.


Sat, 08 Feb 2003 10:37:36 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/BUGS

	Update BUGS: remove the CMA savegame byteorder bug; add a comment about
	getting core dumps with GTK; give extra explanation about core files.

	Patch by Raimar Falke as PR#2971.


Sat, 08 Feb 2003 03:21:46 -0800  jdorje:

	Changed paths:
	   M /trunk/amiga/smakefile
	   M /trunk/amiga/vmakefile
	   M /trunk/common/hash.c
	   M /trunk/server/plrhand.c
	   M /trunk/utility/hash.c

	Correct the spelling of dependent (from dependant) in several places.

	Patch by Raimar Falke as PR#3019.


Sat, 08 Feb 2003 02:33:43 -0800  jdorje:

	Changed paths:
	   M /trunk/Makefile.am
	   A /trunk/m4/no-client.m4
	   M /trunk/m4/win32-client.m4

	Move the FC_NO_CLIENT macro from win32-client.m4 into its own file.

	Issued as PR#2979.


Fri, 07 Feb 2003 13:54:40 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c

	When quitidle (the server's -q option) gets activated, make sure to leave
	the packet-sniffing loop so that the game can actually restart.

	Bug reported by Reinier Post and others as PR#3009.  Patch by Per Mathisen.


Fri, 07 Feb 2003 00:35:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Add a new GUI function gui_put_sprite(), which is used in place of
	gui_map_put_black_tile_iso().  The function draws all or part of a sprite
	onto a (theoretically) arbitrary canvas.

	Issued as PR#2941.


Thu, 06 Feb 2003 16:31:30 -0800  pagnin:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_iconv.h
	   D /trunk/m4/codeset.m4
	   A /trunk/m4/locale.m4
	   M /trunk/m4/sdl-client.m4

	Fix PR#2559, where gui-sdl client has problems to properly display fonts.
	There is a workaround against SDL_ttf not checking for endianness of
	the machine and a guessing of the local encoding.
	Bug reported by Bernd Korz <bernd.korz@insidebeos.de>.
	Patch by Jason Dorje Short and me.


Thu, 06 Feb 2003 14:02:50 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c

	On startup, assert that the number of city report columns is correct.

	Issued as PR#2992.


Tue, 04 Feb 2003 23:23:48 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climap.c
	   M /trunk/client/climap.h
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/actions.c

	Replace the key_move_xxx (where xxx is one of the 8 directions) with a
	single function, key_unit_move.  This function takes as a parameter the
	GUI direction in which the unit moves.  It converts this GUI direction
	into a map direction (taking is_isometric into account) when moving the
	unit.

	Issued as PR#2608.


Tue, 04 Feb 2003 23:19:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	When a required sprite is missing, don't just assert.  Instead, give a
	(possibly) useful error message, and exit gracefully.

	Issued as PR#2967.


Tue, 04 Feb 2003 15:12:31 -0800  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	The server will no longer be queried about unit focus issues. The client
	can now handle this on its own, thus reducing network traffic and lag.

	Patch by Arnstein Lindgard <Arnstein.Lindgard@c2i.net>


Tue, 04 Feb 2003 14:13:28 -0800  per:

	Changed paths:
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/government.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/history/governments.ruleset
	   M /trunk/server/ruleset.c

	I made a grievous mistake and committed the wrong version of the waste
	patch. This fixes things.


Tue, 04 Feb 2003 13:05:47 -0800  per:

	Changed paths:
	   M /trunk/client/cityrepdata.c

	Add waste column to city report as well.

	Patch by Jason Short


Tue, 04 Feb 2003 09:07:44 -0800  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/government.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/data/civ1/governments.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/civ2/governments.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/default/governments.ruleset
	   M /trunk/data/helpdata.txt
	   M /trunk/server/citytools.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c

	Implement waste (that's corruption for shields in civ terminology).
	Default ruleset does not implement waste yet, but the civ1 and civ2
	ones do.

	Patch by Raahul Kumar <raahul_da_man@yahoo.com> with changes by me.


Tue, 04 Feb 2003 02:49:22 -0800  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po to 2940t+13f+87u+19o.


Tue, 04 Feb 2003 00:24:42 -0800  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po to 2937t+13f+90u+19o.


Mon, 03 Feb 2003 23:19:02 -0800  ama:

	Changed paths:
	   M /trunk/doc/ja/BUGS.ja

	Sync with 1.15.


Mon, 03 Feb 2003 21:59:36 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h

	Fix for multiple history reports won't close bug (PR#2839).

	This fix allows any number of non-modal history reports to be open at the same
	time.


Mon, 03 Feb 2003 21:56:45 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	PR#2970:

	* Changes to the city dialog destruction handling.
	* Made the unit eventboxes buttons.
	* Added tooltips to the units.
	* Stopped using popup_message_dialog for the unit commands.
	  now a popup menu is used instead.
	* The change dialog is now non-modal.


Mon, 03 Feb 2003 04:29:55 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Change the iso-view drawing code so that mines are drawn on top of
	(rail)roads and specials.

	Patch by Rafal Bursig as PR#2964 with style changes by me.


Mon, 03 Feb 2003 01:45:10 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 02 Feb 2003 23:51:50 -0800  esr:

	Changed paths:
	   M /trunk/doc/BUGS

	Science dialog is non-modal now, so one bug can go away.


Sun, 02 Feb 2003 23:40:20 -0800  esr:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Typo fixes and minor improvements for various help entries.


Sun, 02 Feb 2003 23:20:19 -0800  esr:

	Changed paths:
	   M /trunk/data/default/units.ruleset
	   M /trunk/data/history/units.ruleset

	Pikemen getting a bonus against Elephants is (a) correct both in strict
	Civ2 and historically, and (b) won't mess with play balance much, as
	Elephant usage tends to peak well before Pikemen become common.  So
	set this flag in all three variants.


Sun, 02 Feb 2003 18:06:16 -0800  esr:

	Changed paths:
	   M /trunk/data/graphics/trident/tiles/unit.auto_attack.png
	   M /trunk/data/graphics/trident/tiles/unit.auto_explore.png
	   M /trunk/data/graphics/trident/tiles/unit.auto_settler.png
	   M /trunk/data/graphics/trident/tiles/unit.connect.png

	Size corrections on files moved from auto_ll.


Sun, 02 Feb 2003 18:01:08 -0800  esr:

	Changed paths:
	   M /trunk/data/graphics/isotrident/cities/cd.city.png
	   M /trunk/data/graphics/isotrident/cities/cd.city_wall.png
	   M /trunk/data/graphics/isotrident/cities/cd.occupied.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_0.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_0_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_10.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_10_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_5.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_5_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.classical_occupied.png
	   M /trunk/data/graphics/isotrident/cities/city.disorder.png
	   M /trunk/data/graphics/isotrident/cities/city.european_0.png
	   M /trunk/data/graphics/isotrident/cities/city.european_0_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.european_10.png
	   M /trunk/data/graphics/isotrident/cities/city.european_10_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.european_5.png
	   M /trunk/data/graphics/isotrident/cities/city.european_5_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.european_occupied.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_0.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_0_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_10.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_10_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_5.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_5_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.industrial_occupied.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_0.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_0_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_10.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_10_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_5.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_5_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.modern_occupied.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_0.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_0_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_10.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_10_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_5.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_5_wall.png
	   M /trunk/data/graphics/isotrident/cities/city.postmodern_occupied.png
	   M /trunk/data/graphics/isotrident/cities/tx.airbase.png
	   M /trunk/data/graphics/isotrident/cities/tx.airbase_full.png
	   M /trunk/data/graphics/isotrident/cities/tx.fortress.png
	   M /trunk/data/graphics/isotrident/cities/tx.fortress_back.png
	   M /trunk/data/graphics/isotrident/flags/f.arab.png
	   M /trunk/data/graphics/isotrident/flags/f.argentina.png
	   M /trunk/data/graphics/isotrident/flags/f.armenia.png
	   M /trunk/data/graphics/isotrident/flags/f.australia.png
	   M /trunk/data/graphics/isotrident/flags/f.austria.png
	   M /trunk/data/graphics/isotrident/flags/f.azerbaijan.png
	   M /trunk/data/graphics/isotrident/flags/f.barbarian.png
	   M /trunk/data/graphics/isotrident/flags/f.bavarian.png
	   M /trunk/data/graphics/isotrident/flags/f.belgium.png
	   M /trunk/data/graphics/isotrident/flags/f.boer.png
	   M /trunk/data/graphics/isotrident/flags/f.brasil.png
	   M /trunk/data/graphics/isotrident/flags/f.bulgaria.png
	   M /trunk/data/graphics/isotrident/flags/f.canada.png
	   M /trunk/data/graphics/isotrident/flags/f.catalan.png
	   M /trunk/data/graphics/isotrident/flags/f.cheyenne.png
	   M /trunk/data/graphics/isotrident/flags/f.chile.png
	   M /trunk/data/graphics/isotrident/flags/f.china.png
	   M /trunk/data/graphics/isotrident/flags/f.cornwall.png
	   M /trunk/data/graphics/isotrident/flags/f.croatia.png
	   M /trunk/data/graphics/isotrident/flags/f.czech.png
	   M /trunk/data/graphics/isotrident/flags/f.denmark.png
	   M /trunk/data/graphics/isotrident/flags/f.dunedain.png
	   M /trunk/data/graphics/isotrident/flags/f.egypt.png
	   M /trunk/data/graphics/isotrident/flags/f.england.png
	   M /trunk/data/graphics/isotrident/flags/f.estonia.png
	   M /trunk/data/graphics/isotrident/flags/f.europe.png
	   M /trunk/data/graphics/isotrident/flags/f.finland.png
	   M /trunk/data/graphics/isotrident/flags/f.france.png
	   M /trunk/data/graphics/isotrident/flags/f.germany.png
	   M /trunk/data/graphics/isotrident/flags/f.greece.png
	   M /trunk/data/graphics/isotrident/flags/f.greenland.png
	   M /trunk/data/graphics/isotrident/flags/f.holland.png
	   M /trunk/data/graphics/isotrident/flags/f.hungary.png
	   M /trunk/data/graphics/isotrident/flags/f.iceland.png
	   M /trunk/data/graphics/isotrident/flags/f.india.png
	   M /trunk/data/graphics/isotrident/flags/f.iran.png
	   M /trunk/data/graphics/isotrident/flags/f.iraq_old.png
	   M /trunk/data/graphics/isotrident/flags/f.ireland.png
	   M /trunk/data/graphics/isotrident/flags/f.israel.png
	   M /trunk/data/graphics/isotrident/flags/f.italy.png
	   M /trunk/data/graphics/isotrident/flags/f.japan.png
	   M /trunk/data/graphics/isotrident/flags/f.kenya.png
	   M /trunk/data/graphics/isotrident/flags/f.korea.png
	   M /trunk/data/graphics/isotrident/flags/f.krev.png
	   M /trunk/data/graphics/isotrident/flags/f.latvia.png
	   M /trunk/data/graphics/isotrident/flags/f.lithuania.png
	   M /trunk/data/graphics/isotrident/flags/f.macedonia.png
	   M /trunk/data/graphics/isotrident/flags/f.mexico.png
	   M /trunk/data/graphics/isotrident/flags/f.mongolia.png
	   M /trunk/data/graphics/isotrident/flags/f.mordor.png
	   M /trunk/data/graphics/isotrident/flags/f.nato.png
	   M /trunk/data/graphics/isotrident/flags/f.netherlands.png
	   M /trunk/data/graphics/isotrident/flags/f.norway.png
	   M /trunk/data/graphics/isotrident/flags/f.olympic.png
	   M /trunk/data/graphics/isotrident/flags/f.pakistan.png
	   M /trunk/data/graphics/isotrident/flags/f.peru.png
	   M /trunk/data/graphics/isotrident/flags/f.philippines.png
	   M /trunk/data/graphics/isotrident/flags/f.poland.png
	   M /trunk/data/graphics/isotrident/flags/f.portugal.png
	   M /trunk/data/graphics/isotrident/flags/f.rome.png
	   M /trunk/data/graphics/isotrident/flags/f.russia.png
	   M /trunk/data/graphics/isotrident/flags/f.rwanda.png
	   M /trunk/data/graphics/isotrident/flags/f.scotland.png
	   M /trunk/data/graphics/isotrident/flags/f.serbia.png
	   M /trunk/data/graphics/isotrident/flags/f.silesia.png
	   M /trunk/data/graphics/isotrident/flags/f.singapore.png
	   M /trunk/data/graphics/isotrident/flags/f.slovenia.png
	   M /trunk/data/graphics/isotrident/flags/f.south_africa.png
	   M /trunk/data/graphics/isotrident/flags/f.soviet.png
	   M /trunk/data/graphics/isotrident/flags/f.spain.png
	   M /trunk/data/graphics/isotrident/flags/f.sweden.png
	   M /trunk/data/graphics/isotrident/flags/f.syria.png
	   M /trunk/data/graphics/isotrident/flags/f.thailand.png
	   M /trunk/data/graphics/isotrident/flags/f.tunisia.png
	   M /trunk/data/graphics/isotrident/flags/f.turkey.png
	   M /trunk/data/graphics/isotrident/flags/f.ukraine.png
	   M /trunk/data/graphics/isotrident/flags/f.united_kingdom.png
	   M /trunk/data/graphics/isotrident/flags/f.united_nations.png
	   M /trunk/data/graphics/isotrident/flags/f.unknown.png
	   M /trunk/data/graphics/isotrident/flags/f.usa.png
	   M /trunk/data/graphics/isotrident/flags/f.vietnam.png
	   M /trunk/data/graphics/isotrident/flags/f.wales.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_0.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_0_wall.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_10.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_10_wall.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_5.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_5_wall.png
	   M /trunk/data/graphics/isotrident/morecities/city.asian_occupied.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_0.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_0_wall.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_10.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_10_wall.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_5.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_5_wall.png
	   M /trunk/data/graphics/isotrident/morecities/city.tropical_occupied.png
	   M /trunk/data/graphics/isotrident/nuke/explode.iso_nuke.png
	   M /trunk/data/graphics/isotrident/small/citizen.angry_0.png
	   M /trunk/data/graphics/isotrident/small/citizen.angry_1.png
	   M /trunk/data/graphics/isotrident/small/citizen.content_0.png
	   M /trunk/data/graphics/isotrident/small/citizen.content_1.png
	   M /trunk/data/graphics/isotrident/small/citizen.entertainer.png
	   M /trunk/data/graphics/isotrident/small/citizen.happy_0.png
	   M /trunk/data/graphics/isotrident/small/citizen.happy_1.png
	   M /trunk/data/graphics/isotrident/small/citizen.scientist.png
	   M /trunk/data/graphics/isotrident/small/citizen.tax_collector.png
	   M /trunk/data/graphics/isotrident/small/citizen.unhappy_0.png
	   M /trunk/data/graphics/isotrident/small/citizen.unhappy_1.png
	   M /trunk/data/graphics/isotrident/small/ev.aqueduct.png
	   M /trunk/data/graphics/isotrident/small/ev.aqueductbuilding.png
	   M /trunk/data/graphics/isotrident/small/ev.citybuild.png
	   M /trunk/data/graphics/isotrident/small/ev.citymaygrow.png
	   M /trunk/data/graphics/isotrident/small/ev.citynuked.png
	   M /trunk/data/graphics/isotrident/small/ev.diplomated.png
	   M /trunk/data/graphics/isotrident/small/ev.diplomatmine.png
	   M /trunk/data/graphics/isotrident/small/ev.famine.png
	   M /trunk/data/graphics/isotrident/small/ev.faminefeared.png
	   M /trunk/data/graphics/isotrident/small/ev.firstcontact.png
	   M /trunk/data/graphics/isotrident/small/ev.granthrottle.png
	   M /trunk/data/graphics/isotrident/small/ev.growth.png
	   M /trunk/data/graphics/isotrident/small/ev.hutbarbarians.png
	   M /trunk/data/graphics/isotrident/small/ev.hutcity.png
	   M /trunk/data/graphics/isotrident/small/ev.hutcowardlybarbs.png
	   M /trunk/data/graphics/isotrident/small/ev.hutnomads.png
	   M /trunk/data/graphics/isotrident/small/ev.nuke.png
	   M /trunk/data/graphics/isotrident/small/ev.pollution.png
	   M /trunk/data/graphics/isotrident/small/ev.wonderbuilt.png
	   M /trunk/data/graphics/isotrident/small/ev.wonderobsolete.png
	   M /trunk/data/graphics/isotrident/small/ev.wonderstart.png
	   M /trunk/data/graphics/isotrident/small/ev.wonderstopped.png
	   M /trunk/data/graphics/isotrident/small/ev.wonderwillbebuilt.png
	   M /trunk/data/graphics/isotrident/small/gov.anarchy.png
	   M /trunk/data/graphics/isotrident/small/gov.communism.png
	   M /trunk/data/graphics/isotrident/small/gov.democracy.png
	   M /trunk/data/graphics/isotrident/small/gov.despotism.png
	   M /trunk/data/graphics/isotrident/small/gov.fundamentalism.png
	   M /trunk/data/graphics/isotrident/small/gov.monarchy.png
	   M /trunk/data/graphics/isotrident/small/gov.republic.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_0.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_1.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_2.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_3.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_4.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_5.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_6.png
	   M /trunk/data/graphics/isotrident/small/s.cooling_flake_7.png
	   M /trunk/data/graphics/isotrident/small/s.right_arrow.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_0.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_1.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_2.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_3.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_4.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_5.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_6.png
	   M /trunk/data/graphics/isotrident/small/s.science_bulb_7.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_0.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_1.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_2.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_3.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_4.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_5.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_6.png
	   M /trunk/data/graphics/isotrident/small/s.warming_sun_7.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_e.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_isolated.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_n.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_ne.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_nw.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_s.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_se.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_sw.png
	   M /trunk/data/graphics/isotrident/terrain1/r.rail_w.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_e.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_isolated.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_n.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_ne.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_nw.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_s.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_se.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_sw.png
	   M /trunk/data/graphics/isotrident/terrain1/r.road_w.png
	   M /trunk/data/graphics/isotrident/terrain1/t.arctic1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.black_tile.png
	   M /trunk/data/graphics/isotrident/terrain1/t.coast_color.png
	   M /trunk/data/graphics/isotrident/terrain1/t.desert1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.desert2.png
	   M /trunk/data/graphics/isotrident/terrain1/t.dither_tile.png
	   M /trunk/data/graphics/isotrident/terrain1/t.forest1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.forest2.png
	   M /trunk/data/graphics/isotrident/terrain1/t.grassland1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.grassland2.png
	   M /trunk/data/graphics/isotrident/terrain1/t.hills1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.hills2.png
	   M /trunk/data/graphics/isotrident/terrain1/t.jungle1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.mountains1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.mountains2.png
	   M /trunk/data/graphics/isotrident/terrain1/t.ocean1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.plains1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.plains2.png
	   M /trunk/data/graphics/isotrident/terrain1/t.swamp1.png
	   M /trunk/data/graphics/isotrident/terrain1/t.tundra1.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.arctic_ivory.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.arctic_oil.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.buffalo.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.coal.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.fish.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.forest_game.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.fruit.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.furs.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.gems.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.gold.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.grassland_resources.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.horses.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.iron.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.oasis.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.oil.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.peat.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.pheasant.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.river_resources.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.seals.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.silk.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.spice.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.tundra_game.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.whales.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.wheat.png
	   M /trunk/data/graphics/isotrident/terrain1/ts.wine.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.fallout.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.farmland.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.fog.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.irrigation.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.mine.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.oil_mine.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.pollution.png
	   M /trunk/data/graphics/isotrident/terrain1/tx.village.png
	   M /trunk/data/graphics/isotrident/terrain1/user.attention.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d2.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d3.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d4.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d5.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d6.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d7.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l2.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l3.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l4.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l5.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l6.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l7.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r2.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r3.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r4.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r5.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r6.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r7.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u2.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u3.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u4.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u5.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u6.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u7.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_e.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_n.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_s.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_w.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e1w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e0w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e0w1.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e1w0.png
	   M /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e1w1.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_0.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_1.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_10.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_2.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_20.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_3.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_30.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_4.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_40.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_5.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_50.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_6.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_60.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_7.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_70.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_8.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_80.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_9.png
	   M /trunk/data/graphics/isotrident/tiles/city.size_90.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_0.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_1.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_2.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_3.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_4.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_5.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_6.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_7.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_8.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_food_9.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_0.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_1.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_2.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_3.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_4.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_5.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_6.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_7.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_8.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_shields_9.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_0.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_1.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_2.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_3.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_4.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_5.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_6.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_7.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_8.png
	   M /trunk/data/graphics/isotrident/tiles/city.t_trade_9.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_00.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_01.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_02.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_10.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_11.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_12.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_20.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_21.png
	   M /trunk/data/graphics/isotrident/tiles/explode.nuke_22.png
	   M /trunk/data/graphics/isotrident/tiles/unit.airbase.png
	   M /trunk/data/graphics/isotrident/tiles/unit.auto_attack.png
	   M /trunk/data/graphics/isotrident/tiles/unit.auto_explore.png
	   M /trunk/data/graphics/isotrident/tiles/unit.auto_settler.png
	   M /trunk/data/graphics/isotrident/tiles/unit.connect.png
	   M /trunk/data/graphics/isotrident/tiles/unit.fallout.png
	   M /trunk/data/graphics/isotrident/tiles/unit.fortified.png
	   M /trunk/data/graphics/isotrident/tiles/unit.fortifying.png
	   M /trunk/data/graphics/isotrident/tiles/unit.fortress.png
	   M /trunk/data/graphics/isotrident/tiles/unit.goto.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_0.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_10.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_100.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_20.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_30.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_40.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_50.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_60.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_70.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_80.png
	   M /trunk/data/graphics/isotrident/tiles/unit.hp_90.png
	   M /trunk/data/graphics/isotrident/tiles/unit.irrigate.png
	   M /trunk/data/graphics/isotrident/tiles/unit.mine.png
	   M /trunk/data/graphics/isotrident/tiles/unit.patrol.png
	   M /trunk/data/graphics/isotrident/tiles/unit.pillage.png
	   M /trunk/data/graphics/isotrident/tiles/unit.pollution.png
	   M /trunk/data/graphics/isotrident/tiles/unit.road.png
	   M /trunk/data/graphics/isotrident/tiles/unit.sentry.png
	   M /trunk/data/graphics/isotrident/tiles/unit.stack.png
	   M /trunk/data/graphics/isotrident/tiles/unit.transform.png
	   M /trunk/data/graphics/isotrident/tiles/upkeep.food.png
	   M /trunk/data/graphics/isotrident/tiles/upkeep.food2.png
	   M /trunk/data/graphics/isotrident/tiles/upkeep.shield.png
	   M /trunk/data/graphics/isotrident/tiles/upkeep.unhappy.png
	   M /trunk/data/graphics/isotrident/tiles/upkeep.unhappy2.png
	   M /trunk/data/graphics/isotrident/units/u.aegis_cruiser.png
	   M /trunk/data/graphics/isotrident/units/u.alpine_troops.png
	   M /trunk/data/graphics/isotrident/units/u.archers.png
	   M /trunk/data/graphics/isotrident/units/u.armor.png
	   M /trunk/data/graphics/isotrident/units/u.artillery.png
	   M /trunk/data/graphics/isotrident/units/u.awacs.png
	   M /trunk/data/graphics/isotrident/units/u.barbarian_leader.png
	   M /trunk/data/graphics/isotrident/units/u.battleship.png
	   M /trunk/data/graphics/isotrident/units/u.bomber.png
	   M /trunk/data/graphics/isotrident/units/u.cannon.png
	   M /trunk/data/graphics/isotrident/units/u.caravan.png
	   M /trunk/data/graphics/isotrident/units/u.caravel.png
	   M /trunk/data/graphics/isotrident/units/u.carrier.png
	   M /trunk/data/graphics/isotrident/units/u.catapult.png
	   M /trunk/data/graphics/isotrident/units/u.cavalry.png
	   M /trunk/data/graphics/isotrident/units/u.chariot.png
	   M /trunk/data/graphics/isotrident/units/u.cruise_missile.png
	   M /trunk/data/graphics/isotrident/units/u.cruiser.png
	   M /trunk/data/graphics/isotrident/units/u.crusaders.png
	   M /trunk/data/graphics/isotrident/units/u.destroyer.png
	   M /trunk/data/graphics/isotrident/units/u.diplomat.png
	   M /trunk/data/graphics/isotrident/units/u.dragoons.png
	   M /trunk/data/graphics/isotrident/units/u.elephants.png
	   M /trunk/data/graphics/isotrident/units/u.engineers.png
	   M /trunk/data/graphics/isotrident/units/u.explorer.png
	   M /trunk/data/graphics/isotrident/units/u.fanatics.png
	   M /trunk/data/graphics/isotrident/units/u.fighter.png
	   M /trunk/data/graphics/isotrident/units/u.freight.png
	   M /trunk/data/graphics/isotrident/units/u.frigate.png
	   M /trunk/data/graphics/isotrident/units/u.galleon.png
	   M /trunk/data/graphics/isotrident/units/u.helicopter.png
	   M /trunk/data/graphics/isotrident/units/u.horsemen.png
	   M /trunk/data/graphics/isotrident/units/u.howitzer.png
	   M /trunk/data/graphics/isotrident/units/u.ironclad.png
	   M /trunk/data/graphics/isotrident/units/u.knights.png
	   M /trunk/data/graphics/isotrident/units/u.legion.png
	   M /trunk/data/graphics/isotrident/units/u.marines.png
	   M /trunk/data/graphics/isotrident/units/u.mech_inf.png
	   M /trunk/data/graphics/isotrident/units/u.musketeers.png
	   M /trunk/data/graphics/isotrident/units/u.nuclear.png
	   M /trunk/data/graphics/isotrident/units/u.paratroopers.png
	   M /trunk/data/graphics/isotrident/units/u.partisan.png
	   M /trunk/data/graphics/isotrident/units/u.phalanx.png
	   M /trunk/data/graphics/isotrident/units/u.pikemen.png
	   M /trunk/data/graphics/isotrident/units/u.riflemen.png
	   M /trunk/data/graphics/isotrident/units/u.settlers.png
	   M /trunk/data/graphics/isotrident/units/u.spy.png
	   M /trunk/data/graphics/isotrident/units/u.stealth_bomber.png
	   M /trunk/data/graphics/isotrident/units/u.stealth_fighter.png
	   M /trunk/data/graphics/isotrident/units/u.submarine.png
	   M /trunk/data/graphics/isotrident/units/u.transport.png
	   M /trunk/data/graphics/isotrident/units/u.trireme.png
	   M /trunk/data/graphics/isotrident/units/u.warriors.png
	   M /trunk/data/graphics/misc/buildings/b.airport.png
	   M /trunk/data/graphics/misc/buildings/b.apollo_program.png
	   M /trunk/data/graphics/misc/buildings/b.aqueduct.png
	   M /trunk/data/graphics/misc/buildings/b.asmiths_trading_co.png
	   M /trunk/data/graphics/misc/buildings/b.bank.png
	   M /trunk/data/graphics/misc/buildings/b.barracks.png
	   M /trunk/data/graphics/misc/buildings/b.capitalization.png
	   M /trunk/data/graphics/misc/buildings/b.cathedral.png
	   M /trunk/data/graphics/misc/buildings/b.city_walls.png
	   M /trunk/data/graphics/misc/buildings/b.coastal_defense.png
	   M /trunk/data/graphics/misc/buildings/b.colosseum.png
	   M /trunk/data/graphics/misc/buildings/b.colossus.png
	   M /trunk/data/graphics/misc/buildings/b.copernicus_observatory.png
	   M /trunk/data/graphics/misc/buildings/b.courthouse.png
	   M /trunk/data/graphics/misc/buildings/b.cure_for_cancer.png
	   M /trunk/data/graphics/misc/buildings/b.darwins_voyage.png
	   M /trunk/data/graphics/misc/buildings/b.eiffel_tower.png
	   M /trunk/data/graphics/misc/buildings/b.factory.png
	   M /trunk/data/graphics/misc/buildings/b.granary.png
	   M /trunk/data/graphics/misc/buildings/b.great_library.png
	   M /trunk/data/graphics/misc/buildings/b.great_wall.png
	   M /trunk/data/graphics/misc/buildings/b.hanging_gardens.png
	   M /trunk/data/graphics/misc/buildings/b.harbour.png
	   M /trunk/data/graphics/misc/buildings/b.hoover_dam.png
	   M /trunk/data/graphics/misc/buildings/b.hydro_plant.png
	   M /trunk/data/graphics/misc/buildings/b.isaac_newtons_college.png
	   M /trunk/data/graphics/misc/buildings/b.js_bachs_cathedral.png
	   M /trunk/data/graphics/misc/buildings/b.king_richards_crusade.png
	   M /trunk/data/graphics/misc/buildings/b.leonardos_workshop.png
	   M /trunk/data/graphics/misc/buildings/b.library.png
	   M /trunk/data/graphics/misc/buildings/b.lighthouse.png
	   M /trunk/data/graphics/misc/buildings/b.magellans_expedition.png
	   M /trunk/data/graphics/misc/buildings/b.manhattan_project.png
	   M /trunk/data/graphics/misc/buildings/b.marco_polos_embassy.png
	   M /trunk/data/graphics/misc/buildings/b.marketplace.png
	   M /trunk/data/graphics/misc/buildings/b.mass_transit.png
	   M /trunk/data/graphics/misc/buildings/b.mfg_plant.png
	   M /trunk/data/graphics/misc/buildings/b.michelangelos_chapel.png
	   M /trunk/data/graphics/misc/buildings/b.nuclear_plant.png
	   M /trunk/data/graphics/misc/buildings/b.offshore_platform.png
	   M /trunk/data/graphics/misc/buildings/b.oracle.png
	   M /trunk/data/graphics/misc/buildings/b.palace.png
	   M /trunk/data/graphics/misc/buildings/b.police_station.png
	   M /trunk/data/graphics/misc/buildings/b.port_facility.png
	   M /trunk/data/graphics/misc/buildings/b.power_plant.png
	   M /trunk/data/graphics/misc/buildings/b.pyramids.png
	   M /trunk/data/graphics/misc/buildings/b.recycling_center.png
	   M /trunk/data/graphics/misc/buildings/b.research_lab.png
	   M /trunk/data/graphics/misc/buildings/b.sam_battery.png
	   M /trunk/data/graphics/misc/buildings/b.sdi_defense.png
	   M /trunk/data/graphics/misc/buildings/b.seti_program.png
	   M /trunk/data/graphics/misc/buildings/b.sewer_system.png
	   M /trunk/data/graphics/misc/buildings/b.shakespeares_theatre.png
	   M /trunk/data/graphics/misc/buildings/b.solar_plant.png
	   M /trunk/data/graphics/misc/buildings/b.space_component.png
	   M /trunk/data/graphics/misc/buildings/b.space_modules.png
	   M /trunk/data/graphics/misc/buildings/b.space_structural.png
	   M /trunk/data/graphics/misc/buildings/b.statue_of_liberty.png
	   M /trunk/data/graphics/misc/buildings/b.stock_exchange.png
	   M /trunk/data/graphics/misc/buildings/b.sun_tzus_war_academy.png
	   M /trunk/data/graphics/misc/buildings/b.super_highways.png
	   M /trunk/data/graphics/misc/buildings/b.supermarket.png
	   M /trunk/data/graphics/misc/buildings/b.temple.png
	   M /trunk/data/graphics/misc/buildings/b.united_nations.png
	   M /trunk/data/graphics/misc/buildings/b.university.png
	   M /trunk/data/graphics/misc/buildings/b.womens_suffrage.png
	   M /trunk/data/graphics/misc/chiefs/cd.occupied.png
	   M /trunk/data/graphics/misc/chiefs/city.classical_occupied.png
	   M /trunk/data/graphics/misc/chiefs/city.european_occupied.png
	   M /trunk/data/graphics/misc/chiefs/city.industrial_occupied.png
	   M /trunk/data/graphics/misc/chiefs/city.modern_occupied.png
	   M /trunk/data/graphics/misc/chiefs/city.postmodern_occupied.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_0.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_10.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_100.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_20.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_30.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_40.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_50.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_60.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_70.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_80.png
	   M /trunk/data/graphics/misc/chiefs/unit.hp_90.png
	   M /trunk/data/graphics/misc/shields/f.arab.png
	   M /trunk/data/graphics/misc/shields/f.argentina.png
	   M /trunk/data/graphics/misc/shields/f.armenia.png
	   M /trunk/data/graphics/misc/shields/f.australia.png
	   M /trunk/data/graphics/misc/shields/f.austria.png
	   M /trunk/data/graphics/misc/shields/f.azerbaijan.png
	   M /trunk/data/graphics/misc/shields/f.barbarian.png
	   M /trunk/data/graphics/misc/shields/f.bavarian.png
	   M /trunk/data/graphics/misc/shields/f.belgium.png
	   M /trunk/data/graphics/misc/shields/f.boer.png
	   M /trunk/data/graphics/misc/shields/f.brasil.png
	   M /trunk/data/graphics/misc/shields/f.bulgaria.png
	   M /trunk/data/graphics/misc/shields/f.canada.png
	   M /trunk/data/graphics/misc/shields/f.catalan.png
	   M /trunk/data/graphics/misc/shields/f.cheyenne.png
	   M /trunk/data/graphics/misc/shields/f.chile.png
	   M /trunk/data/graphics/misc/shields/f.china.png
	   M /trunk/data/graphics/misc/shields/f.cornwall.png
	   M /trunk/data/graphics/misc/shields/f.croatia.png
	   M /trunk/data/graphics/misc/shields/f.czech.png
	   M /trunk/data/graphics/misc/shields/f.denmark.png
	   M /trunk/data/graphics/misc/shields/f.dunedain.png
	   M /trunk/data/graphics/misc/shields/f.egypt.png
	   M /trunk/data/graphics/misc/shields/f.england.png
	   M /trunk/data/graphics/misc/shields/f.estonia.png
	   M /trunk/data/graphics/misc/shields/f.europe.png
	   M /trunk/data/graphics/misc/shields/f.finland.png
	   M /trunk/data/graphics/misc/shields/f.france.png
	   M /trunk/data/graphics/misc/shields/f.germany.png
	   M /trunk/data/graphics/misc/shields/f.greece.png
	   M /trunk/data/graphics/misc/shields/f.greenland.png
	   M /trunk/data/graphics/misc/shields/f.holland.png
	   M /trunk/data/graphics/misc/shields/f.hungary.png
	   M /trunk/data/graphics/misc/shields/f.iceland.png
	   M /trunk/data/graphics/misc/shields/f.india.png
	   M /trunk/data/graphics/misc/shields/f.iran.png
	   M /trunk/data/graphics/misc/shields/f.iraq_old.png
	   M /trunk/data/graphics/misc/shields/f.ireland.png
	   M /trunk/data/graphics/misc/shields/f.israel.png
	   M /trunk/data/graphics/misc/shields/f.italy.png
	   M /trunk/data/graphics/misc/shields/f.japan.png
	   M /trunk/data/graphics/misc/shields/f.kenya.png
	   M /trunk/data/graphics/misc/shields/f.korea.png
	   M /trunk/data/graphics/misc/shields/f.krev.png
	   M /trunk/data/graphics/misc/shields/f.latvia.png
	   M /trunk/data/graphics/misc/shields/f.lithuania.png
	   M /trunk/data/graphics/misc/shields/f.macedonia.png
	   M /trunk/data/graphics/misc/shields/f.mexico.png
	   M /trunk/data/graphics/misc/shields/f.mongolia.png
	   M /trunk/data/graphics/misc/shields/f.mordor.png
	   M /trunk/data/graphics/misc/shields/f.nato.png
	   M /trunk/data/graphics/misc/shields/f.netherlands.png
	   M /trunk/data/graphics/misc/shields/f.norway.png
	   M /trunk/data/graphics/misc/shields/f.olympic.png
	   M /trunk/data/graphics/misc/shields/f.pakistan.png
	   M /trunk/data/graphics/misc/shields/f.peru.png
	   M /trunk/data/graphics/misc/shields/f.philippines.png
	   M /trunk/data/graphics/misc/shields/f.poland.png
	   M /trunk/data/graphics/misc/shields/f.portugal.png
	   M /trunk/data/graphics/misc/shields/f.rome.png
	   M /trunk/data/graphics/misc/shields/f.russia.png
	   M /trunk/data/graphics/misc/shields/f.rwanda.png
	   M /trunk/data/graphics/misc/shields/f.scotland.png
	   M /trunk/data/graphics/misc/shields/f.serbia.png
	   M /trunk/data/graphics/misc/shields/f.silesia.png
	   M /trunk/data/graphics/misc/shields/f.singapore.png
	   M /trunk/data/graphics/misc/shields/f.slovenia.png
	   M /trunk/data/graphics/misc/shields/f.south_africa.png
	   M /trunk/data/graphics/misc/shields/f.soviet.png
	   M /trunk/data/graphics/misc/shields/f.spain.png
	   M /trunk/data/graphics/misc/shields/f.sweden.png
	   M /trunk/data/graphics/misc/shields/f.syria.png
	   M /trunk/data/graphics/misc/shields/f.thailand.png
	   M /trunk/data/graphics/misc/shields/f.tunisia.png
	   M /trunk/data/graphics/misc/shields/f.turkey.png
	   M /trunk/data/graphics/misc/shields/f.ukraine.png
	   M /trunk/data/graphics/misc/shields/f.united_kingdom.png
	   M /trunk/data/graphics/misc/shields/f.united_nations.png
	   M /trunk/data/graphics/misc/shields/f.unknown.png
	   M /trunk/data/graphics/misc/shields/f.usa.png
	   M /trunk/data/graphics/misc/shields/f.vietnam.png
	   M /trunk/data/graphics/misc/shields/f.wales.png
	   M /trunk/data/graphics/misc/small/citizen.angry_0.png
	   M /trunk/data/graphics/misc/small/citizen.angry_1.png
	   M /trunk/data/graphics/misc/small/citizen.content_0.png
	   M /trunk/data/graphics/misc/small/citizen.content_1.png
	   M /trunk/data/graphics/misc/small/citizen.entertainer.png
	   M /trunk/data/graphics/misc/small/citizen.happy_0.png
	   M /trunk/data/graphics/misc/small/citizen.happy_1.png
	   M /trunk/data/graphics/misc/small/citizen.scientist.png
	   M /trunk/data/graphics/misc/small/citizen.tax_collector.png
	   M /trunk/data/graphics/misc/small/citizen.unhappy_0.png
	   M /trunk/data/graphics/misc/small/citizen.unhappy_1.png
	   M /trunk/data/graphics/misc/small/gov.anarchy.png
	   M /trunk/data/graphics/misc/small/gov.communism.png
	   M /trunk/data/graphics/misc/small/gov.democracy.png
	   M /trunk/data/graphics/misc/small/gov.despotism.png
	   M /trunk/data/graphics/misc/small/gov.fundamentalism.png
	   M /trunk/data/graphics/misc/small/gov.monarchy.png
	   M /trunk/data/graphics/misc/small/gov.republic.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_0.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_1.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_2.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_3.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_4.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_5.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_6.png
	   M /trunk/data/graphics/misc/small/s.cooling_flake_7.png
	   M /trunk/data/graphics/misc/small/s.right_arrow.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_0.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_1.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_2.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_3.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_4.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_5.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_6.png
	   M /trunk/data/graphics/misc/small/s.science_bulb_7.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_0.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_1.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_2.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_3.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_4.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_5.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_6.png
	   M /trunk/data/graphics/misc/small/s.warming_sun_7.png
	   M /trunk/data/graphics/misc/space/spaceship.fuel.png
	   M /trunk/data/graphics/misc/space/spaceship.habitation.png
	   M /trunk/data/graphics/misc/space/spaceship.life_support.png
	   M /trunk/data/graphics/misc/space/spaceship.propulsion.png
	   M /trunk/data/graphics/misc/space/spaceship.solar_panels.png
	   M /trunk/data/graphics/misc/space/spaceship.structural.png
	   M /trunk/data/graphics/misc/treaty/treaty.agree_thumb_up.png
	   M /trunk/data/graphics/misc/treaty/treaty.disagree_thumb_down.png
	   M /trunk/data/graphics/trident/cities/cd.city.png
	   M /trunk/data/graphics/trident/cities/cd.city_wall.png
	   M /trunk/data/graphics/trident/cities/cd.occupied.png
	   M /trunk/data/graphics/trident/cities/city.asian_0.png
	   M /trunk/data/graphics/trident/cities/city.asian_10.png
	   M /trunk/data/graphics/trident/cities/city.asian_5.png
	   M /trunk/data/graphics/trident/cities/city.asian_occupied.png
	   M /trunk/data/graphics/trident/cities/city.asian_wall.png
	   M /trunk/data/graphics/trident/cities/city.classical_0.png
	   M /trunk/data/graphics/trident/cities/city.classical_10.png
	   M /trunk/data/graphics/trident/cities/city.classical_5.png
	   M /trunk/data/graphics/trident/cities/city.classical_occupied.png
	   M /trunk/data/graphics/trident/cities/city.classical_wall.png
	   M /trunk/data/graphics/trident/cities/city.disorder.png
	   M /trunk/data/graphics/trident/cities/city.european_0.png
	   M /trunk/data/graphics/trident/cities/city.european_10.png
	   M /trunk/data/graphics/trident/cities/city.european_5.png
	   M /trunk/data/graphics/trident/cities/city.european_occupied.png
	   M /trunk/data/graphics/trident/cities/city.european_wall.png
	   M /trunk/data/graphics/trident/cities/city.industrial_0.png
	   M /trunk/data/graphics/trident/cities/city.industrial_10.png
	   M /trunk/data/graphics/trident/cities/city.industrial_5.png
	   M /trunk/data/graphics/trident/cities/city.industrial_occupied.png
	   M /trunk/data/graphics/trident/cities/city.industrial_wall.png
	   M /trunk/data/graphics/trident/cities/city.modern_0.png
	   M /trunk/data/graphics/trident/cities/city.modern_10.png
	   M /trunk/data/graphics/trident/cities/city.modern_5.png
	   M /trunk/data/graphics/trident/cities/city.modern_occupied.png
	   M /trunk/data/graphics/trident/cities/city.modern_wall.png
	   M /trunk/data/graphics/trident/cities/city.postmodern_0.png
	   M /trunk/data/graphics/trident/cities/city.postmodern_10.png
	   M /trunk/data/graphics/trident/cities/city.postmodern_5.png
	   M /trunk/data/graphics/trident/cities/city.postmodern_occupied.png
	   M /trunk/data/graphics/trident/cities/city.postmodern_wall.png
	   M /trunk/data/graphics/trident/cities/city.tropical_0.png
	   M /trunk/data/graphics/trident/cities/city.tropical_10.png
	   M /trunk/data/graphics/trident/cities/city.tropical_5.png
	   M /trunk/data/graphics/trident/cities/city.tropical_occupied.png
	   M /trunk/data/graphics/trident/cities/city.tropical_wall.png
	   M /trunk/data/graphics/trident/explosions/explode.unit_0.png
	   M /trunk/data/graphics/trident/explosions/explode.unit_1.png
	   M /trunk/data/graphics/trident/explosions/explode.unit_2.png
	   M /trunk/data/graphics/trident/explosions/explode.unit_3.png
	   M /trunk/data/graphics/trident/explosions/explode.unit_4.png
	   M /trunk/data/graphics/trident/flags/f.arab.png
	   M /trunk/data/graphics/trident/flags/f.argentina.png
	   M /trunk/data/graphics/trident/flags/f.armenia.png
	   M /trunk/data/graphics/trident/flags/f.australia.png
	   M /trunk/data/graphics/trident/flags/f.austria.png
	   M /trunk/data/graphics/trident/flags/f.azerbaijan.png
	   M /trunk/data/graphics/trident/flags/f.barbarian.png
	   M /trunk/data/graphics/trident/flags/f.bavarian.png
	   M /trunk/data/graphics/trident/flags/f.belgium.png
	   M /trunk/data/graphics/trident/flags/f.boer.png
	   M /trunk/data/graphics/trident/flags/f.brasil.png
	   M /trunk/data/graphics/trident/flags/f.bulgaria.png
	   M /trunk/data/graphics/trident/flags/f.canada.png
	   M /trunk/data/graphics/trident/flags/f.catalan.png
	   M /trunk/data/graphics/trident/flags/f.cheyenne.png
	   M /trunk/data/graphics/trident/flags/f.chile.png
	   M /trunk/data/graphics/trident/flags/f.china.png
	   M /trunk/data/graphics/trident/flags/f.cornwall.png
	   M /trunk/data/graphics/trident/flags/f.croatia.png
	   M /trunk/data/graphics/trident/flags/f.czech.png
	   M /trunk/data/graphics/trident/flags/f.denmark.png
	   M /trunk/data/graphics/trident/flags/f.dunedain.png
	   M /trunk/data/graphics/trident/flags/f.egypt.png
	   M /trunk/data/graphics/trident/flags/f.england.png
	   M /trunk/data/graphics/trident/flags/f.estonia.png
	   M /trunk/data/graphics/trident/flags/f.europe.png
	   M /trunk/data/graphics/trident/flags/f.finland.png
	   M /trunk/data/graphics/trident/flags/f.france.png
	   M /trunk/data/graphics/trident/flags/f.germany.png
	   M /trunk/data/graphics/trident/flags/f.greece.png
	   M /trunk/data/graphics/trident/flags/f.greenland.png
	   M /trunk/data/graphics/trident/flags/f.holland.png
	   M /trunk/data/graphics/trident/flags/f.hungary.png
	   M /trunk/data/graphics/trident/flags/f.iceland.png
	   M /trunk/data/graphics/trident/flags/f.india.png
	   M /trunk/data/graphics/trident/flags/f.iran.png
	   M /trunk/data/graphics/trident/flags/f.iraq_old.png
	   M /trunk/data/graphics/trident/flags/f.ireland.png
	   M /trunk/data/graphics/trident/flags/f.israel.png
	   M /trunk/data/graphics/trident/flags/f.italy.png
	   M /trunk/data/graphics/trident/flags/f.japan.png
	   M /trunk/data/graphics/trident/flags/f.kenya.png
	   M /trunk/data/graphics/trident/flags/f.korea.png
	   M /trunk/data/graphics/trident/flags/f.krev.png
	   M /trunk/data/graphics/trident/flags/f.latvia.png
	   M /trunk/data/graphics/trident/flags/f.lithuania.png
	   M /trunk/data/graphics/trident/flags/f.macedonia.png
	   M /trunk/data/graphics/trident/flags/f.mexico.png
	   M /trunk/data/graphics/trident/flags/f.mongolia.png
	   M /trunk/data/graphics/trident/flags/f.mordor.png
	   M /trunk/data/graphics/trident/flags/f.nato.png
	   M /trunk/data/graphics/trident/flags/f.netherlands.png
	   M /trunk/data/graphics/trident/flags/f.norway.png
	   M /trunk/data/graphics/trident/flags/f.olympic.png
	   M /trunk/data/graphics/trident/flags/f.pakistan.png
	   M /trunk/data/graphics/trident/flags/f.peru.png
	   M /trunk/data/graphics/trident/flags/f.philippines.png
	   M /trunk/data/graphics/trident/flags/f.poland.png
	   M /trunk/data/graphics/trident/flags/f.portugal.png
	   M /trunk/data/graphics/trident/flags/f.rome.png
	   M /trunk/data/graphics/trident/flags/f.russia.png
	   M /trunk/data/graphics/trident/flags/f.rwanda.png
	   M /trunk/data/graphics/trident/flags/f.scotland.png
	   M /trunk/data/graphics/trident/flags/f.serbia.png
	   M /trunk/data/graphics/trident/flags/f.silesia.png
	   M /trunk/data/graphics/trident/flags/f.singapore.png
	   M /trunk/data/graphics/trident/flags/f.slovenia.png
	   M /trunk/data/graphics/trident/flags/f.south_africa.png
	   M /trunk/data/graphics/trident/flags/f.soviet.png
	   M /trunk/data/graphics/trident/flags/f.spain.png
	   M /trunk/data/graphics/trident/flags/f.sweden.png
	   M /trunk/data/graphics/trident/flags/f.syria.png
	   M /trunk/data/graphics/trident/flags/f.thailand.png
	   M /trunk/data/graphics/trident/flags/f.tunisia.png
	   M /trunk/data/graphics/trident/flags/f.turkey.png
	   M /trunk/data/graphics/trident/flags/f.ukraine.png
	   M /trunk/data/graphics/trident/flags/f.united_kingdom.png
	   M /trunk/data/graphics/trident/flags/f.united_nations.png
	   M /trunk/data/graphics/trident/flags/f.unknown.png
	   M /trunk/data/graphics/trident/flags/f.usa.png
	   M /trunk/data/graphics/trident/flags/f.vietnam.png
	   M /trunk/data/graphics/trident/flags/f.wales.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n0s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s0e0w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_n1s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_ne.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_nw.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_se.png
	   M /trunk/data/graphics/trident/roads/r.c_rail_sw.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n0s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s0e0w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.c_road_n1s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n0s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s0e0w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_rail_n1s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n0s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s0e0w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s0e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s0e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s0e1w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s1e0w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s1e0w1.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s1e1w0.png
	   M /trunk/data/graphics/trident/roads/r.d_road_n1s1e1w1.png
	   M /trunk/data/graphics/trident/roads/r.rail_isolated.png
	   M /trunk/data/graphics/trident/roads/r.road_isolated.png
	   M /trunk/data/graphics/trident/tiles/city.size_0.png
	   M /trunk/data/graphics/trident/tiles/city.size_1.png
	   M /trunk/data/graphics/trident/tiles/city.size_10.png
	   M /trunk/data/graphics/trident/tiles/city.size_2.png
	   M /trunk/data/graphics/trident/tiles/city.size_20.png
	   M /trunk/data/graphics/trident/tiles/city.size_3.png
	   M /trunk/data/graphics/trident/tiles/city.size_30.png
	   M /trunk/data/graphics/trident/tiles/city.size_4.png
	   M /trunk/data/graphics/trident/tiles/city.size_40.png
	   M /trunk/data/graphics/trident/tiles/city.size_5.png
	   M /trunk/data/graphics/trident/tiles/city.size_50.png
	   M /trunk/data/graphics/trident/tiles/city.size_6.png
	   M /trunk/data/graphics/trident/tiles/city.size_60.png
	   M /trunk/data/graphics/trident/tiles/city.size_7.png
	   M /trunk/data/graphics/trident/tiles/city.size_70.png
	   M /trunk/data/graphics/trident/tiles/city.size_8.png
	   M /trunk/data/graphics/trident/tiles/city.size_80.png
	   M /trunk/data/graphics/trident/tiles/city.size_9.png
	   M /trunk/data/graphics/trident/tiles/city.size_90.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_0.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_1.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_2.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_3.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_4.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_5.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_6.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_7.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_8.png
	   M /trunk/data/graphics/trident/tiles/city.t_food_9.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_0.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_1.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_2.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_3.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_4.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_5.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_6.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_7.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_8.png
	   M /trunk/data/graphics/trident/tiles/city.t_shields_9.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_0.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_1.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_2.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_3.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_4.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_5.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_6.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_7.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_8.png
	   M /trunk/data/graphics/trident/tiles/city.t_trade_9.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_00.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_01.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_02.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_10.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_11.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_12.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_20.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_21.png
	   M /trunk/data/graphics/trident/tiles/explode.nuke_22.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.arctic_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.desert_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.forest_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.grassland_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.hills_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.jungle_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.mountains_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.ocean_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.plains_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.swamp_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.t_river_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/t.tundra_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/ts.arctic_ivory.png
	   M /trunk/data/graphics/trident/tiles/ts.arctic_oil.png
	   M /trunk/data/graphics/trident/tiles/ts.buffalo.png
	   M /trunk/data/graphics/trident/tiles/ts.coal.png
	   M /trunk/data/graphics/trident/tiles/ts.fish.png
	   M /trunk/data/graphics/trident/tiles/ts.forest_game.png
	   M /trunk/data/graphics/trident/tiles/ts.fruit.png
	   M /trunk/data/graphics/trident/tiles/ts.furs.png
	   M /trunk/data/graphics/trident/tiles/ts.gems.png
	   M /trunk/data/graphics/trident/tiles/ts.gold.png
	   M /trunk/data/graphics/trident/tiles/ts.grassland_resources.png
	   M /trunk/data/graphics/trident/tiles/ts.horses.png
	   M /trunk/data/graphics/trident/tiles/ts.iron.png
	   M /trunk/data/graphics/trident/tiles/ts.oasis.png
	   M /trunk/data/graphics/trident/tiles/ts.oil.png
	   M /trunk/data/graphics/trident/tiles/ts.peat.png
	   M /trunk/data/graphics/trident/tiles/ts.pheasant.png
	   M /trunk/data/graphics/trident/tiles/ts.river_resources.png
	   M /trunk/data/graphics/trident/tiles/ts.seals.png
	   M /trunk/data/graphics/trident/tiles/ts.silk.png
	   M /trunk/data/graphics/trident/tiles/ts.spice.png
	   M /trunk/data/graphics/trident/tiles/ts.tundra_game.png
	   M /trunk/data/graphics/trident/tiles/ts.whales.png
	   M /trunk/data/graphics/trident/tiles/ts.wheat.png
	   M /trunk/data/graphics/trident/tiles/ts.wine.png
	   M /trunk/data/graphics/trident/tiles/tx.airbase.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.denmark_00.png
	   M /trunk/data/graphics/trident/tiles/tx.denmark_01.png
	   M /trunk/data/graphics/trident/tiles/tx.denmark_02.png
	   M /trunk/data/graphics/trident/tiles/tx.denmark_10.png
	   M /trunk/data/graphics/trident/tiles/tx.denmark_11.png
	   M /trunk/data/graphics/trident/tiles/tx.denmark_12.png
	   M /trunk/data/graphics/trident/tiles/tx.fallout.png
	   M /trunk/data/graphics/trident/tiles/tx.farmland.png
	   M /trunk/data/graphics/trident/tiles/tx.fog.png
	   M /trunk/data/graphics/trident/tiles/tx.fortress.png
	   M /trunk/data/graphics/trident/tiles/tx.irrigation.png
	   M /trunk/data/graphics/trident/tiles/tx.mine.png
	   M /trunk/data/graphics/trident/tiles/tx.oil_mine.png
	   M /trunk/data/graphics/trident/tiles/tx.pollution.png
	   M /trunk/data/graphics/trident/tiles/tx.river_outlet_e.png
	   M /trunk/data/graphics/trident/tiles/tx.river_outlet_n.png
	   M /trunk/data/graphics/trident/tiles/tx.river_outlet_s.png
	   M /trunk/data/graphics/trident/tiles/tx.river_outlet_w.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e0w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e0w1.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e1w0.png
	   M /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e1w1.png
	   M /trunk/data/graphics/trident/tiles/tx.village.png
	   M /trunk/data/graphics/trident/tiles/unit.airbase.png
	   M /trunk/data/graphics/trident/tiles/unit.auto_attack.png
	   M /trunk/data/graphics/trident/tiles/unit.auto_explore.png
	   M /trunk/data/graphics/trident/tiles/unit.auto_settler.png
	   M /trunk/data/graphics/trident/tiles/unit.connect.png
	   M /trunk/data/graphics/trident/tiles/unit.fallout.png
	   M /trunk/data/graphics/trident/tiles/unit.fortified.png
	   M /trunk/data/graphics/trident/tiles/unit.fortifying.png
	   M /trunk/data/graphics/trident/tiles/unit.fortress.png
	   M /trunk/data/graphics/trident/tiles/unit.goto.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_0.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_10.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_100.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_20.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_30.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_40.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_50.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_60.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_70.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_80.png
	   M /trunk/data/graphics/trident/tiles/unit.hp_90.png
	   M /trunk/data/graphics/trident/tiles/unit.irrigate.png
	   M /trunk/data/graphics/trident/tiles/unit.mine.png
	   M /trunk/data/graphics/trident/tiles/unit.patrol.png
	   M /trunk/data/graphics/trident/tiles/unit.pillage.png
	   M /trunk/data/graphics/trident/tiles/unit.pollution.png
	   M /trunk/data/graphics/trident/tiles/unit.road.png
	   M /trunk/data/graphics/trident/tiles/unit.sentry.png
	   M /trunk/data/graphics/trident/tiles/unit.stack.png
	   M /trunk/data/graphics/trident/tiles/unit.transform.png
	   M /trunk/data/graphics/trident/tiles/upkeep.food.png
	   M /trunk/data/graphics/trident/tiles/upkeep.food2.png
	   M /trunk/data/graphics/trident/tiles/upkeep.shield.png
	   M /trunk/data/graphics/trident/tiles/upkeep.unhappy.png
	   M /trunk/data/graphics/trident/tiles/upkeep.unhappy2.png
	   M /trunk/data/graphics/trident/tiles/user.attention.png
	   M /trunk/data/graphics/trident/units/u.aegis_cruiser.png
	   M /trunk/data/graphics/trident/units/u.alpine_troops.png
	   M /trunk/data/graphics/trident/units/u.archers.png
	   M /trunk/data/graphics/trident/units/u.armor.png
	   M /trunk/data/graphics/trident/units/u.artillery.png
	   M /trunk/data/graphics/trident/units/u.awacs.png
	   M /trunk/data/graphics/trident/units/u.barbarian_leader.png
	   M /trunk/data/graphics/trident/units/u.battleship.png
	   M /trunk/data/graphics/trident/units/u.bomber.png
	   M /trunk/data/graphics/trident/units/u.cannon.png
	   M /trunk/data/graphics/trident/units/u.caravan.png
	   M /trunk/data/graphics/trident/units/u.caravel.png
	   M /trunk/data/graphics/trident/units/u.carrier.png
	   M /trunk/data/graphics/trident/units/u.catapult.png
	   M /trunk/data/graphics/trident/units/u.cavalry.png
	   M /trunk/data/graphics/trident/units/u.chariot.png
	   M /trunk/data/graphics/trident/units/u.cruise_missile.png
	   M /trunk/data/graphics/trident/units/u.cruiser.png
	   M /trunk/data/graphics/trident/units/u.crusaders.png
	   M /trunk/data/graphics/trident/units/u.destroyer.png
	   M /trunk/data/graphics/trident/units/u.diplomat.png
	   M /trunk/data/graphics/trident/units/u.dragoons.png
	   M /trunk/data/graphics/trident/units/u.elephants.png
	   M /trunk/data/graphics/trident/units/u.engineers.png
	   M /trunk/data/graphics/trident/units/u.explorer.png
	   M /trunk/data/graphics/trident/units/u.fanatics.png
	   M /trunk/data/graphics/trident/units/u.fighter.png
	   M /trunk/data/graphics/trident/units/u.freight.png
	   M /trunk/data/graphics/trident/units/u.frigate.png
	   M /trunk/data/graphics/trident/units/u.galleon.png
	   M /trunk/data/graphics/trident/units/u.helicopter.png
	   M /trunk/data/graphics/trident/units/u.horsemen.png
	   M /trunk/data/graphics/trident/units/u.howitzer.png
	   M /trunk/data/graphics/trident/units/u.ironclad.png
	   M /trunk/data/graphics/trident/units/u.knights.png
	   M /trunk/data/graphics/trident/units/u.legion.png
	   M /trunk/data/graphics/trident/units/u.marines.png
	   M /trunk/data/graphics/trident/units/u.mech_inf.png
	   M /trunk/data/graphics/trident/units/u.musketeers.png
	   M /trunk/data/graphics/trident/units/u.nuclear.png
	   M /trunk/data/graphics/trident/units/u.paratroopers.png
	   M /trunk/data/graphics/trident/units/u.partisan.png
	   M /trunk/data/graphics/trident/units/u.phalanx.png
	   M /trunk/data/graphics/trident/units/u.pikemen.png
	   M /trunk/data/graphics/trident/units/u.riflemen.png
	   M /trunk/data/graphics/trident/units/u.settlers.png
	   M /trunk/data/graphics/trident/units/u.spy.png
	   M /trunk/data/graphics/trident/units/u.stealth_bomber.png
	   M /trunk/data/graphics/trident/units/u.stealth_fighter.png
	   M /trunk/data/graphics/trident/units/u.submarine.png
	   M /trunk/data/graphics/trident/units/u.transport.png
	   M /trunk/data/graphics/trident/units/u.trireme.png
	   M /trunk/data/graphics/trident/units/u.warriors.png

	Corrected graphics.  There was an off-by-one error in my converter that
	made them a pixel smaller in each direction than they should have been.


Sun, 02 Feb 2003 16:49:04 -0800  esr:

	Changed paths:
	   M /trunk/data/civ2/units.ruleset

	Treat Elephants as a horse unit (e.g., Pikemen get a defensive bonus
	against them).


Sun, 02 Feb 2003 16:43:35 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/scottish.ruleset

	More Scottish history.


Sun, 02 Feb 2003 16:30:57 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/viking.ruleset

	Make AD explicit in a number of places, as requested by Raimar Falke.


Sun, 02 Feb 2003 12:49:19 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/mapview.c

	Small fix in Civ3 city style descriptions code.
	Fix for future win32 port.


Sun, 02 Feb 2003 09:09:05 -0800  ama:

	Changed paths:
	   M /trunk/doc/ja/README.ja

	Sync with 1.8.


Sun, 02 Feb 2003 09:06:04 -0800  ama:

	Changed paths:
	   M /trunk/doc/ja/BUGS.ja

	Sync with 1.14.


Sun, 02 Feb 2003 06:57:22 -0800  per:

	Changed paths:
	   M /trunk/ai/aiair.c

	Fix bug in aiair code, where wrong function was called with wrong
	parameters.


Sun, 02 Feb 2003 05:21:50 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/gotohand.h
	   M /trunk/server/settlers.c

	Replace warmap's the 2D arrays (indexed by x and y) by a 1D array
	(indexed by map_inx). This is a preparation step for iso maps.

	Patch from Jason Dorje Short <vze49r5w@verizon.net>.


Sun, 02 Feb 2003 04:37:52 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/README

	Capitalize "try" at the start of a sentence.


Sun, 02 Feb 2003 04:34:16 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/BUGS
	   M /trunk/doc/HACKING
	   M /trunk/doc/README

	Change the untranslated files in doc/ to reflect the offical spelling
	of GTK+, Xaw and GLib.

	Patch from Erik Sigra <freeciv@home.se> with changes from me.


Sun, 02 Feb 2003 02:16:03 -0800  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po to 2942t+16f+91u+6o.


Sat, 01 Feb 2003 22:45:39 -0800  esr:

	Changed paths:
	   A /trunk/data/graphics
	   A /trunk/data/graphics/isotrident
	   A /trunk/data/graphics/isotrident/cities
	   A /trunk/data/graphics/isotrident/cities/artists
	   A /trunk/data/graphics/isotrident/cities/cd.city.png
	   A /trunk/data/graphics/isotrident/cities/cd.city_wall.png
	   A /trunk/data/graphics/isotrident/cities/cd.occupied.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_0.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_0_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_10.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_10_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_5.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_5_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.classical_occupied.png
	   A /trunk/data/graphics/isotrident/cities/city.disorder.png
	   A /trunk/data/graphics/isotrident/cities/city.european_0.png
	   A /trunk/data/graphics/isotrident/cities/city.european_0_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.european_10.png
	   A /trunk/data/graphics/isotrident/cities/city.european_10_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.european_5.png
	   A /trunk/data/graphics/isotrident/cities/city.european_5_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.european_occupied.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_0.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_0_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_10.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_10_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_5.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_5_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.industrial_occupied.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_0.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_0_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_10.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_10_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_5.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_5_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.modern_occupied.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_0.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_0_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_10.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_10_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_5.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_5_wall.png
	   A /trunk/data/graphics/isotrident/cities/city.postmodern_occupied.png
	   A /trunk/data/graphics/isotrident/cities/tx.airbase.png
	   A /trunk/data/graphics/isotrident/cities/tx.airbase_full.png
	   A /trunk/data/graphics/isotrident/cities/tx.fortress.png
	   A /trunk/data/graphics/isotrident/cities/tx.fortress_back.png
	   A /trunk/data/graphics/isotrident/flags
	   A /trunk/data/graphics/isotrident/flags/artists
	   A /trunk/data/graphics/isotrident/flags/f.arab.png
	   A /trunk/data/graphics/isotrident/flags/f.argentina.png
	   A /trunk/data/graphics/isotrident/flags/f.armenia.png
	   A /trunk/data/graphics/isotrident/flags/f.australia.png
	   A /trunk/data/graphics/isotrident/flags/f.austria.png
	   A /trunk/data/graphics/isotrident/flags/f.azerbaijan.png
	   A /trunk/data/graphics/isotrident/flags/f.barbarian.png
	   A /trunk/data/graphics/isotrident/flags/f.bavarian.png
	   A /trunk/data/graphics/isotrident/flags/f.belgium.png
	   A /trunk/data/graphics/isotrident/flags/f.boer.png
	   A /trunk/data/graphics/isotrident/flags/f.brasil.png
	   A /trunk/data/graphics/isotrident/flags/f.bulgaria.png
	   A /trunk/data/graphics/isotrident/flags/f.canada.png
	   A /trunk/data/graphics/isotrident/flags/f.catalan.png
	   A /trunk/data/graphics/isotrident/flags/f.cheyenne.png
	   A /trunk/data/graphics/isotrident/flags/f.chile.png
	   A /trunk/data/graphics/isotrident/flags/f.china.png
	   A /trunk/data/graphics/isotrident/flags/f.cornwall.png
	   A /trunk/data/graphics/isotrident/flags/f.croatia.png
	   A /trunk/data/graphics/isotrident/flags/f.czech.png
	   A /trunk/data/graphics/isotrident/flags/f.denmark.png
	   A /trunk/data/graphics/isotrident/flags/f.dunedain.png
	   A /trunk/data/graphics/isotrident/flags/f.egypt.png
	   A /trunk/data/graphics/isotrident/flags/f.england.png
	   A /trunk/data/graphics/isotrident/flags/f.estonia.png
	   A /trunk/data/graphics/isotrident/flags/f.europe.png
	   A /trunk/data/graphics/isotrident/flags/f.finland.png
	   A /trunk/data/graphics/isotrident/flags/f.france.png
	   A /trunk/data/graphics/isotrident/flags/f.germany.png
	   A /trunk/data/graphics/isotrident/flags/f.greece.png
	   A /trunk/data/graphics/isotrident/flags/f.greenland.png
	   A /trunk/data/graphics/isotrident/flags/f.holland.png
	   A /trunk/data/graphics/isotrident/flags/f.hungary.png
	   A /trunk/data/graphics/isotrident/flags/f.iceland.png
	   A /trunk/data/graphics/isotrident/flags/f.india.png
	   A /trunk/data/graphics/isotrident/flags/f.iran.png
	   A /trunk/data/graphics/isotrident/flags/f.iraq_old.png
	   A /trunk/data/graphics/isotrident/flags/f.ireland.png
	   A /trunk/data/graphics/isotrident/flags/f.israel.png
	   A /trunk/data/graphics/isotrident/flags/f.italy.png
	   A /trunk/data/graphics/isotrident/flags/f.japan.png
	   A /trunk/data/graphics/isotrident/flags/f.kenya.png
	   A /trunk/data/graphics/isotrident/flags/f.korea.png
	   A /trunk/data/graphics/isotrident/flags/f.krev.png
	   A /trunk/data/graphics/isotrident/flags/f.latvia.png
	   A /trunk/data/graphics/isotrident/flags/f.lithuania.png
	   A /trunk/data/graphics/isotrident/flags/f.macedonia.png
	   A /trunk/data/graphics/isotrident/flags/f.mexico.png
	   A /trunk/data/graphics/isotrident/flags/f.mongolia.png
	   A /trunk/data/graphics/isotrident/flags/f.mordor.png
	   A /trunk/data/graphics/isotrident/flags/f.nato.png
	   A /trunk/data/graphics/isotrident/flags/f.netherlands.png
	   A /trunk/data/graphics/isotrident/flags/f.norway.png
	   A /trunk/data/graphics/isotrident/flags/f.olympic.png
	   A /trunk/data/graphics/isotrident/flags/f.pakistan.png
	   A /trunk/data/graphics/isotrident/flags/f.peru.png
	   A /trunk/data/graphics/isotrident/flags/f.philippines.png
	   A /trunk/data/graphics/isotrident/flags/f.poland.png
	   A /trunk/data/graphics/isotrident/flags/f.portugal.png
	   A /trunk/data/graphics/isotrident/flags/f.rome.png
	   A /trunk/data/graphics/isotrident/flags/f.russia.png
	   A /trunk/data/graphics/isotrident/flags/f.rwanda.png
	   A /trunk/data/graphics/isotrident/flags/f.scotland.png
	   A /trunk/data/graphics/isotrident/flags/f.serbia.png
	   A /trunk/data/graphics/isotrident/flags/f.silesia.png
	   A /trunk/data/graphics/isotrident/flags/f.singapore.png
	   A /trunk/data/graphics/isotrident/flags/f.slovenia.png
	   A /trunk/data/graphics/isotrident/flags/f.south_africa.png
	   A /trunk/data/graphics/isotrident/flags/f.soviet.png
	   A /trunk/data/graphics/isotrident/flags/f.spain.png
	   A /trunk/data/graphics/isotrident/flags/f.sweden.png
	   A /trunk/data/graphics/isotrident/flags/f.syria.png
	   A /trunk/data/graphics/isotrident/flags/f.thailand.png
	   A /trunk/data/graphics/isotrident/flags/f.tunisia.png
	   A /trunk/data/graphics/isotrident/flags/f.turkey.png
	   A /trunk/data/graphics/isotrident/flags/f.ukraine.png
	   A /trunk/data/graphics/isotrident/flags/f.united_kingdom.png
	   A /trunk/data/graphics/isotrident/flags/f.united_nations.png
	   A /trunk/data/graphics/isotrident/flags/f.unknown.png
	   A /trunk/data/graphics/isotrident/flags/f.usa.png
	   A /trunk/data/graphics/isotrident/flags/f.vietnam.png
	   A /trunk/data/graphics/isotrident/flags/f.wales.png
	   A /trunk/data/graphics/isotrident/morecities
	   A /trunk/data/graphics/isotrident/morecities/artists
	   A /trunk/data/graphics/isotrident/morecities/city.asian_0.png
	   A /trunk/data/graphics/isotrident/morecities/city.asian_0_wall.png
	   A /trunk/data/graphics/isotrident/morecities/city.asian_10.png
	   A /trunk/data/graphics/isotrident/morecities/city.asian_10_wall.png
	   A /trunk/data/graphics/isotrident/morecities/city.asian_5.png
	   A /trunk/data/graphics/isotrident/morecities/city.asian_5_wall.png
	   A /trunk/data/graphics/isotrident/morecities/city.asian_occupied.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_0.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_0_wall.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_10.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_10_wall.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_5.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_5_wall.png
	   A /trunk/data/graphics/isotrident/morecities/city.tropical_occupied.png
	   A /trunk/data/graphics/isotrident/nuke
	   A /trunk/data/graphics/isotrident/nuke/artists
	   A /trunk/data/graphics/isotrident/nuke/explode.iso_nuke.png
	   A /trunk/data/graphics/isotrident/small
	   A /trunk/data/graphics/isotrident/small/artists
	   A /trunk/data/graphics/isotrident/small/citizen.angry_0.png
	   A /trunk/data/graphics/isotrident/small/citizen.angry_1.png
	   A /trunk/data/graphics/isotrident/small/citizen.content_0.png
	   A /trunk/data/graphics/isotrident/small/citizen.content_1.png
	   A /trunk/data/graphics/isotrident/small/citizen.entertainer.png
	   A /trunk/data/graphics/isotrident/small/citizen.happy_0.png
	   A /trunk/data/graphics/isotrident/small/citizen.happy_1.png
	   A /trunk/data/graphics/isotrident/small/citizen.scientist.png
	   A /trunk/data/graphics/isotrident/small/citizen.tax_collector.png
	   A /trunk/data/graphics/isotrident/small/citizen.unhappy_0.png
	   A /trunk/data/graphics/isotrident/small/citizen.unhappy_1.png
	   A /trunk/data/graphics/isotrident/small/ev.aqueduct.png
	   A /trunk/data/graphics/isotrident/small/ev.aqueductbuilding.png
	   A /trunk/data/graphics/isotrident/small/ev.citybuild.png
	   A /trunk/data/graphics/isotrident/small/ev.citymaygrow.png
	   A /trunk/data/graphics/isotrident/small/ev.citynuked.png
	   A /trunk/data/graphics/isotrident/small/ev.diplomated.png
	   A /trunk/data/graphics/isotrident/small/ev.diplomatmine.png
	   A /trunk/data/graphics/isotrident/small/ev.famine.png
	   A /trunk/data/graphics/isotrident/small/ev.faminefeared.png
	   A /trunk/data/graphics/isotrident/small/ev.firstcontact.png
	   A /trunk/data/graphics/isotrident/small/ev.granthrottle.png
	   A /trunk/data/graphics/isotrident/small/ev.growth.png
	   A /trunk/data/graphics/isotrident/small/ev.hutbarbarians.png
	   A /trunk/data/graphics/isotrident/small/ev.hutcity.png
	   A /trunk/data/graphics/isotrident/small/ev.hutcowardlybarbs.png
	   A /trunk/data/graphics/isotrident/small/ev.hutnomads.png
	   A /trunk/data/graphics/isotrident/small/ev.nuke.png
	   A /trunk/data/graphics/isotrident/small/ev.pollution.png
	   A /trunk/data/graphics/isotrident/small/ev.wonderbuilt.png
	   A /trunk/data/graphics/isotrident/small/ev.wonderobsolete.png
	   A /trunk/data/graphics/isotrident/small/ev.wonderstart.png
	   A /trunk/data/graphics/isotrident/small/ev.wonderstopped.png
	   A /trunk/data/graphics/isotrident/small/ev.wonderwillbebuilt.png
	   A /trunk/data/graphics/isotrident/small/gov.anarchy.png
	   A /trunk/data/graphics/isotrident/small/gov.communism.png
	   A /trunk/data/graphics/isotrident/small/gov.democracy.png
	   A /trunk/data/graphics/isotrident/small/gov.despotism.png
	   A /trunk/data/graphics/isotrident/small/gov.fundamentalism.png
	   A /trunk/data/graphics/isotrident/small/gov.monarchy.png
	   A /trunk/data/graphics/isotrident/small/gov.republic.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_0.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_1.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_2.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_3.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_4.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_5.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_6.png
	   A /trunk/data/graphics/isotrident/small/s.cooling_flake_7.png
	   A /trunk/data/graphics/isotrident/small/s.right_arrow.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_0.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_1.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_2.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_3.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_4.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_5.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_6.png
	   A /trunk/data/graphics/isotrident/small/s.science_bulb_7.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_0.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_1.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_2.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_3.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_4.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_5.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_6.png
	   A /trunk/data/graphics/isotrident/small/s.warming_sun_7.png
	   A /trunk/data/graphics/isotrident/terrain1
	   A /trunk/data/graphics/isotrident/terrain1/artists
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_e.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_isolated.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_n.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_ne.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_nw.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_s.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_se.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_sw.png
	   A /trunk/data/graphics/isotrident/terrain1/r.rail_w.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_e.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_isolated.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_n.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_ne.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_nw.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_s.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_se.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_sw.png
	   A /trunk/data/graphics/isotrident/terrain1/r.road_w.png
	   A /trunk/data/graphics/isotrident/terrain1/t.arctic1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.black_tile.png
	   A /trunk/data/graphics/isotrident/terrain1/t.coast_color.png
	   A /trunk/data/graphics/isotrident/terrain1/t.desert1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.desert2.png
	   A /trunk/data/graphics/isotrident/terrain1/t.dither_tile.png
	   A /trunk/data/graphics/isotrident/terrain1/t.forest1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.forest2.png
	   A /trunk/data/graphics/isotrident/terrain1/t.grassland1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.grassland2.png
	   A /trunk/data/graphics/isotrident/terrain1/t.hills1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.hills2.png
	   A /trunk/data/graphics/isotrident/terrain1/t.jungle1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.mountains1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.mountains2.png
	   A /trunk/data/graphics/isotrident/terrain1/t.ocean1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.plains1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.plains2.png
	   A /trunk/data/graphics/isotrident/terrain1/t.swamp1.png
	   A /trunk/data/graphics/isotrident/terrain1/t.tundra1.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.arctic_ivory.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.arctic_oil.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.buffalo.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.coal.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.fish.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.forest_game.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.fruit.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.furs.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.gems.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.gold.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.grassland_resources.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.horses.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.iron.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.oasis.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.oil.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.peat.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.pheasant.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.river_resources.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.seals.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.silk.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.spice.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.tundra_game.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.whales.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.wheat.png
	   A /trunk/data/graphics/isotrident/terrain1/ts.wine.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.fallout.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.farmland.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.fog.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.irrigation.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.mine.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.oil_mine.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.pollution.png
	   A /trunk/data/graphics/isotrident/terrain1/tx.village.png
	   A /trunk/data/graphics/isotrident/terrain1/user.attention.png
	   A /trunk/data/graphics/isotrident/terrain2
	   A /trunk/data/graphics/isotrident/terrain2/artists
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d2.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d3.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d4.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d5.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d6.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_d7.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l2.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l3.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l4.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l5.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l6.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_l7.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r2.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r3.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r4.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r5.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r6.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_r7.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u2.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u3.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u4.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u5.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u6.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.coast_cape_u7.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_e.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_n.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_s.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.river_outlet_w.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n0s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_forest_n1s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n0s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_hill_n1s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n0s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_mountain_n1s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n0s1e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s0e1w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e0w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e0w1.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e1w0.png
	   A /trunk/data/graphics/isotrident/terrain2/tx.s_river_n1s1e1w1.png
	   A /trunk/data/graphics/isotrident/tiles
	   A /trunk/data/graphics/isotrident/tiles/artists
	   A /trunk/data/graphics/isotrident/tiles/city.size_0.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_1.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_10.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_2.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_20.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_3.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_30.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_4.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_40.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_5.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_50.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_6.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_60.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_7.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_70.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_8.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_80.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_9.png
	   A /trunk/data/graphics/isotrident/tiles/city.size_90.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_0.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_1.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_2.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_3.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_4.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_5.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_6.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_7.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_8.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_food_9.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_0.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_1.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_2.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_3.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_4.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_5.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_6.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_7.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_8.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_shields_9.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_0.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_1.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_2.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_3.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_4.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_5.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_6.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_7.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_8.png
	   A /trunk/data/graphics/isotrident/tiles/city.t_trade_9.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_00.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_01.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_02.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_10.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_11.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_12.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_20.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_21.png
	   A /trunk/data/graphics/isotrident/tiles/explode.nuke_22.png
	   A /trunk/data/graphics/isotrident/tiles/unit.airbase.png
	   A /trunk/data/graphics/isotrident/tiles/unit.auto_attack.png
	   A /trunk/data/graphics/isotrident/tiles/unit.auto_explore.png
	   A /trunk/data/graphics/isotrident/tiles/unit.auto_settler.png
	   A /trunk/data/graphics/isotrident/tiles/unit.connect.png
	   A /trunk/data/graphics/isotrident/tiles/unit.fallout.png
	   A /trunk/data/graphics/isotrident/tiles/unit.fortified.png
	   A /trunk/data/graphics/isotrident/tiles/unit.fortifying.png
	   A /trunk/data/graphics/isotrident/tiles/unit.fortress.png
	   A /trunk/data/graphics/isotrident/tiles/unit.goto.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_0.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_10.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_100.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_20.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_30.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_40.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_50.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_60.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_70.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_80.png
	   A /trunk/data/graphics/isotrident/tiles/unit.hp_90.png
	   A /trunk/data/graphics/isotrident/tiles/unit.irrigate.png
	   A /trunk/data/graphics/isotrident/tiles/unit.mine.png
	   A /trunk/data/graphics/isotrident/tiles/unit.patrol.png
	   A /trunk/data/graphics/isotrident/tiles/unit.pillage.png
	   A /trunk/data/graphics/isotrident/tiles/unit.pollution.png
	   A /trunk/data/graphics/isotrident/tiles/unit.road.png
	   A /trunk/data/graphics/isotrident/tiles/unit.sentry.png
	   A /trunk/data/graphics/isotrident/tiles/unit.stack.png
	   A /trunk/data/graphics/isotrident/tiles/unit.transform.png
	   A /trunk/data/graphics/isotrident/tiles/upkeep.food.png
	   A /trunk/data/graphics/isotrident/tiles/upkeep.food2.png
	   A /trunk/data/graphics/isotrident/tiles/upkeep.shield.png
	   A /trunk/data/graphics/isotrident/tiles/upkeep.unhappy.png
	   A /trunk/data/graphics/isotrident/tiles/upkeep.unhappy2.png
	   A /trunk/data/graphics/isotrident/units
	   A /trunk/data/graphics/isotrident/units/artists
	   A /trunk/data/graphics/isotrident/units/u.aegis_cruiser.png
	   A /trunk/data/graphics/isotrident/units/u.alpine_troops.png
	   A /trunk/data/graphics/isotrident/units/u.archers.png
	   A /trunk/data/graphics/isotrident/units/u.armor.png
	   A /trunk/data/graphics/isotrident/units/u.artillery.png
	   A /trunk/data/graphics/isotrident/units/u.awacs.png
	   A /trunk/data/graphics/isotrident/units/u.barbarian_leader.png
	   A /trunk/data/graphics/isotrident/units/u.battleship.png
	   A /trunk/data/graphics/isotrident/units/u.bomber.png
	   A /trunk/data/graphics/isotrident/units/u.cannon.png
	   A /trunk/data/graphics/isotrident/units/u.caravan.png
	   A /trunk/data/graphics/isotrident/units/u.caravel.png
	   A /trunk/data/graphics/isotrident/units/u.carrier.png
	   A /trunk/data/graphics/isotrident/units/u.catapult.png
	   A /trunk/data/graphics/isotrident/units/u.cavalry.png
	   A /trunk/data/graphics/isotrident/units/u.chariot.png
	   A /trunk/data/graphics/isotrident/units/u.cruise_missile.png
	   A /trunk/data/graphics/isotrident/units/u.cruiser.png
	   A /trunk/data/graphics/isotrident/units/u.crusaders.png
	   A /trunk/data/graphics/isotrident/units/u.destroyer.png
	   A /trunk/data/graphics/isotrident/units/u.diplomat.png
	   A /trunk/data/graphics/isotrident/units/u.dragoons.png
	   A /trunk/data/graphics/isotrident/units/u.elephants.png
	   A /trunk/data/graphics/isotrident/units/u.engineers.png
	   A /trunk/data/graphics/isotrident/units/u.explorer.png
	   A /trunk/data/graphics/isotrident/units/u.fanatics.png
	   A /trunk/data/graphics/isotrident/units/u.fighter.png
	   A /trunk/data/graphics/isotrident/units/u.freight.png
	   A /trunk/data/graphics/isotrident/units/u.frigate.png
	   A /trunk/data/graphics/isotrident/units/u.galleon.png
	   A /trunk/data/graphics/isotrident/units/u.helicopter.png
	   A /trunk/data/graphics/isotrident/units/u.horsemen.png
	   A /trunk/data/graphics/isotrident/units/u.howitzer.png
	   A /trunk/data/graphics/isotrident/units/u.ironclad.png
	   A /trunk/data/graphics/isotrident/units/u.knights.png
	   A /trunk/data/graphics/isotrident/units/u.legion.png
	   A /trunk/data/graphics/isotrident/units/u.marines.png
	   A /trunk/data/graphics/isotrident/units/u.mech_inf.png
	   A /trunk/data/graphics/isotrident/units/u.musketeers.png
	   A /trunk/data/graphics/isotrident/units/u.nuclear.png
	   A /trunk/data/graphics/isotrident/units/u.paratroopers.png
	   A /trunk/data/graphics/isotrident/units/u.partisan.png
	   A /trunk/data/graphics/isotrident/units/u.phalanx.png
	   A /trunk/data/graphics/isotrident/units/u.pikemen.png
	   A /trunk/data/graphics/isotrident/units/u.riflemen.png
	   A /trunk/data/graphics/isotrident/units/u.settlers.png
	   A /trunk/data/graphics/isotrident/units/u.spy.png
	   A /trunk/data/graphics/isotrident/units/u.stealth_bomber.png
	   A /trunk/data/graphics/isotrident/units/u.stealth_fighter.png
	   A /trunk/data/graphics/isotrident/units/u.submarine.png
	   A /trunk/data/graphics/isotrident/units/u.transport.png
	   A /trunk/data/graphics/isotrident/units/u.trireme.png
	   A /trunk/data/graphics/isotrident/units/u.warriors.png
	   A /trunk/data/graphics/misc
	   A /trunk/data/graphics/misc/buildings
	   A /trunk/data/graphics/misc/buildings/artists
	   A /trunk/data/graphics/misc/buildings/b.airport.png
	   A /trunk/data/graphics/misc/buildings/b.apollo_program.png
	   A /trunk/data/graphics/misc/buildings/b.aqueduct.png
	   A /trunk/data/graphics/misc/buildings/b.asmiths_trading_co.png
	   A /trunk/data/graphics/misc/buildings/b.bank.png
	   A /trunk/data/graphics/misc/buildings/b.barracks.png
	   A /trunk/data/graphics/misc/buildings/b.capitalization.png
	   A /trunk/data/graphics/misc/buildings/b.cathedral.png
	   A /trunk/data/graphics/misc/buildings/b.city_walls.png
	   A /trunk/data/graphics/misc/buildings/b.coastal_defense.png
	   A /trunk/data/graphics/misc/buildings/b.colosseum.png
	   A /trunk/data/graphics/misc/buildings/b.colossus.png
	   A /trunk/data/graphics/misc/buildings/b.copernicus_observatory.png
	   A /trunk/data/graphics/misc/buildings/b.courthouse.png
	   A /trunk/data/graphics/misc/buildings/b.cure_for_cancer.png
	   A /trunk/data/graphics/misc/buildings/b.darwins_voyage.png
	   A /trunk/data/graphics/misc/buildings/b.eiffel_tower.png
	   A /trunk/data/graphics/misc/buildings/b.factory.png
	   A /trunk/data/graphics/misc/buildings/b.granary.png
	   A /trunk/data/graphics/misc/buildings/b.great_library.png
	   A /trunk/data/graphics/misc/buildings/b.great_wall.png
	   A /trunk/data/graphics/misc/buildings/b.hanging_gardens.png
	   A /trunk/data/graphics/misc/buildings/b.harbour.png
	   A /trunk/data/graphics/misc/buildings/b.hoover_dam.png
	   A /trunk/data/graphics/misc/buildings/b.hydro_plant.png
	   A /trunk/data/graphics/misc/buildings/b.isaac_newtons_college.png
	   A /trunk/data/graphics/misc/buildings/b.js_bachs_cathedral.png
	   A /trunk/data/graphics/misc/buildings/b.king_richards_crusade.png
	   A /trunk/data/graphics/misc/buildings/b.leonardos_workshop.png
	   A /trunk/data/graphics/misc/buildings/b.library.png
	   A /trunk/data/graphics/misc/buildings/b.lighthouse.png
	   A /trunk/data/graphics/misc/buildings/b.magellans_expedition.png
	   A /trunk/data/graphics/misc/buildings/b.manhattan_project.png
	   A /trunk/data/graphics/misc/buildings/b.marco_polos_embassy.png
	   A /trunk/data/graphics/misc/buildings/b.marketplace.png
	   A /trunk/data/graphics/misc/buildings/b.mass_transit.png
	   A /trunk/data/graphics/misc/buildings/b.mfg_plant.png
	   A /trunk/data/graphics/misc/buildings/b.michelangelos_chapel.png
	   A /trunk/data/graphics/misc/buildings/b.nuclear_plant.png
	   A /trunk/data/graphics/misc/buildings/b.offshore_platform.png
	   A /trunk/data/graphics/misc/buildings/b.oracle.png
	   A /trunk/data/graphics/misc/buildings/b.palace.png
	   A /trunk/data/graphics/misc/buildings/b.police_station.png
	   A /trunk/data/graphics/misc/buildings/b.port_facility.png
	   A /trunk/data/graphics/misc/buildings/b.power_plant.png
	   A /trunk/data/graphics/misc/buildings/b.pyramids.png
	   A /trunk/data/graphics/misc/buildings/b.recycling_center.png
	   A /trunk/data/graphics/misc/buildings/b.research_lab.png
	   A /trunk/data/graphics/misc/buildings/b.sam_battery.png
	   A /trunk/data/graphics/misc/buildings/b.sdi_defense.png
	   A /trunk/data/graphics/misc/buildings/b.seti_program.png
	   A /trunk/data/graphics/misc/buildings/b.sewer_system.png
	   A /trunk/data/graphics/misc/buildings/b.shakespeares_theatre.png
	   A /trunk/data/graphics/misc/buildings/b.solar_plant.png
	   A /trunk/data/graphics/misc/buildings/b.space_component.png
	   A /trunk/data/graphics/misc/buildings/b.space_modules.png
	   A /trunk/data/graphics/misc/buildings/b.space_structural.png
	   A /trunk/data/graphics/misc/buildings/b.statue_of_liberty.png
	   A /trunk/data/graphics/misc/buildings/b.stock_exchange.png
	   A /trunk/data/graphics/misc/buildings/b.sun_tzus_war_academy.png
	   A /trunk/data/graphics/misc/buildings/b.super_highways.png
	   A /trunk/data/graphics/misc/buildings/b.supermarket.png
	   A /trunk/data/graphics/misc/buildings/b.temple.png
	   A /trunk/data/graphics/misc/buildings/b.united_nations.png
	   A /trunk/data/graphics/misc/buildings/b.university.png
	   A /trunk/data/graphics/misc/buildings/b.womens_suffrage.png
	   A /trunk/data/graphics/misc/chiefs
	   A /trunk/data/graphics/misc/chiefs/artists
	   A /trunk/data/graphics/misc/chiefs/cd.occupied.png
	   A /trunk/data/graphics/misc/chiefs/city.classical_occupied.png
	   A /trunk/data/graphics/misc/chiefs/city.european_occupied.png
	   A /trunk/data/graphics/misc/chiefs/city.industrial_occupied.png
	   A /trunk/data/graphics/misc/chiefs/city.modern_occupied.png
	   A /trunk/data/graphics/misc/chiefs/city.postmodern_occupied.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_0.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_10.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_100.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_20.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_30.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_40.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_50.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_60.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_70.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_80.png
	   A /trunk/data/graphics/misc/chiefs/unit.hp_90.png
	   A /trunk/data/graphics/misc/shields
	   A /trunk/data/graphics/misc/shields/artists
	   A /trunk/data/graphics/misc/shields/f.arab.png
	   A /trunk/data/graphics/misc/shields/f.argentina.png
	   A /trunk/data/graphics/misc/shields/f.armenia.png
	   A /trunk/data/graphics/misc/shields/f.australia.png
	   A /trunk/data/graphics/misc/shields/f.austria.png
	   A /trunk/data/graphics/misc/shields/f.azerbaijan.png
	   A /trunk/data/graphics/misc/shields/f.barbarian.png
	   A /trunk/data/graphics/misc/shields/f.bavarian.png
	   A /trunk/data/graphics/misc/shields/f.belgium.png
	   A /trunk/data/graphics/misc/shields/f.boer.png
	   A /trunk/data/graphics/misc/shields/f.brasil.png
	   A /trunk/data/graphics/misc/shields/f.bulgaria.png
	   A /trunk/data/graphics/misc/shields/f.canada.png
	   A /trunk/data/graphics/misc/shields/f.catalan.png
	   A /trunk/data/graphics/misc/shields/f.cheyenne.png
	   A /trunk/data/graphics/misc/shields/f.chile.png
	   A /trunk/data/graphics/misc/shields/f.china.png
	   A /trunk/data/graphics/misc/shields/f.cornwall.png
	   A /trunk/data/graphics/misc/shields/f.croatia.png
	   A /trunk/data/graphics/misc/shields/f.czech.png
	   A /trunk/data/graphics/misc/shields/f.denmark.png
	   A /trunk/data/graphics/misc/shields/f.dunedain.png
	   A /trunk/data/graphics/misc/shields/f.egypt.png
	   A /trunk/data/graphics/misc/shields/f.england.png
	   A /trunk/data/graphics/misc/shields/f.estonia.png
	   A /trunk/data/graphics/misc/shields/f.europe.png
	   A /trunk/data/graphics/misc/shields/f.finland.png
	   A /trunk/data/graphics/misc/shields/f.france.png
	   A /trunk/data/graphics/misc/shields/f.germany.png
	   A /trunk/data/graphics/misc/shields/f.greece.png
	   A /trunk/data/graphics/misc/shields/f.greenland.png
	   A /trunk/data/graphics/misc/shields/f.holland.png
	   A /trunk/data/graphics/misc/shields/f.hungary.png
	   A /trunk/data/graphics/misc/shields/f.iceland.png
	   A /trunk/data/graphics/misc/shields/f.india.png
	   A /trunk/data/graphics/misc/shields/f.iran.png
	   A /trunk/data/graphics/misc/shields/f.iraq_old.png
	   A /trunk/data/graphics/misc/shields/f.ireland.png
	   A /trunk/data/graphics/misc/shields/f.israel.png
	   A /trunk/data/graphics/misc/shields/f.italy.png
	   A /trunk/data/graphics/misc/shields/f.japan.png
	   A /trunk/data/graphics/misc/shields/f.kenya.png
	   A /trunk/data/graphics/misc/shields/f.korea.png
	   A /trunk/data/graphics/misc/shields/f.krev.png
	   A /trunk/data/graphics/misc/shields/f.latvia.png
	   A /trunk/data/graphics/misc/shields/f.lithuania.png
	   A /trunk/data/graphics/misc/shields/f.macedonia.png
	   A /trunk/data/graphics/misc/shields/f.mexico.png
	   A /trunk/data/graphics/misc/shields/f.mongolia.png
	   A /trunk/data/graphics/misc/shields/f.mordor.png
	   A /trunk/data/graphics/misc/shields/f.nato.png
	   A /trunk/data/graphics/misc/shields/f.netherlands.png
	   A /trunk/data/graphics/misc/shields/f.norway.png
	   A /trunk/data/graphics/misc/shields/f.olympic.png
	   A /trunk/data/graphics/misc/shields/f.pakistan.png
	   A /trunk/data/graphics/misc/shields/f.peru.png
	   A /trunk/data/graphics/misc/shields/f.philippines.png
	   A /trunk/data/graphics/misc/shields/f.poland.png
	   A /trunk/data/graphics/misc/shields/f.portugal.png
	   A /trunk/data/graphics/misc/shields/f.rome.png
	   A /trunk/data/graphics/misc/shields/f.russia.png
	   A /trunk/data/graphics/misc/shields/f.rwanda.png
	   A /trunk/data/graphics/misc/shields/f.scotland.png
	   A /trunk/data/graphics/misc/shields/f.serbia.png
	   A /trunk/data/graphics/misc/shields/f.silesia.png
	   A /trunk/data/graphics/misc/shields/f.singapore.png
	   A /trunk/data/graphics/misc/shields/f.slovenia.png
	   A /trunk/data/graphics/misc/shields/f.south_africa.png
	   A /trunk/data/graphics/misc/shields/f.soviet.png
	   A /trunk/data/graphics/misc/shields/f.spain.png
	   A /trunk/data/graphics/misc/shields/f.sweden.png
	   A /trunk/data/graphics/misc/shields/f.syria.png
	   A /trunk/data/graphics/misc/shields/f.thailand.png
	   A /trunk/data/graphics/misc/shields/f.tunisia.png
	   A /trunk/data/graphics/misc/shields/f.turkey.png
	   A /trunk/data/graphics/misc/shields/f.ukraine.png
	   A /trunk/data/graphics/misc/shields/f.united_kingdom.png
	   A /trunk/data/graphics/misc/shields/f.united_nations.png
	   A /trunk/data/graphics/misc/shields/f.unknown.png
	   A /trunk/data/graphics/misc/shields/f.usa.png
	   A /trunk/data/graphics/misc/shields/f.vietnam.png
	   A /trunk/data/graphics/misc/shields/f.wales.png
	   A /trunk/data/graphics/misc/small
	   A /trunk/data/graphics/misc/small/artists
	   A /trunk/data/graphics/misc/small/citizen.angry_0.png
	   A /trunk/data/graphics/misc/small/citizen.angry_1.png
	   A /trunk/data/graphics/misc/small/citizen.content_0.png
	   A /trunk/data/graphics/misc/small/citizen.content_1.png
	   A /trunk/data/graphics/misc/small/citizen.entertainer.png
	   A /trunk/data/graphics/misc/small/citizen.happy_0.png
	   A /trunk/data/graphics/misc/small/citizen.happy_1.png
	   A /trunk/data/graphics/misc/small/citizen.scientist.png
	   A /trunk/data/graphics/misc/small/citizen.tax_collector.png
	   A /trunk/data/graphics/misc/small/citizen.unhappy_0.png
	   A /trunk/data/graphics/misc/small/citizen.unhappy_1.png
	   A /trunk/data/graphics/misc/small/gov.anarchy.png
	   A /trunk/data/graphics/misc/small/gov.communism.png
	   A /trunk/data/graphics/misc/small/gov.democracy.png
	   A /trunk/data/graphics/misc/small/gov.despotism.png
	   A /trunk/data/graphics/misc/small/gov.fundamentalism.png
	   A /trunk/data/graphics/misc/small/gov.monarchy.png
	   A /trunk/data/graphics/misc/small/gov.republic.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_0.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_1.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_2.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_3.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_4.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_5.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_6.png
	   A /trunk/data/graphics/misc/small/s.cooling_flake_7.png
	   A /trunk/data/graphics/misc/small/s.right_arrow.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_0.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_1.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_2.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_3.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_4.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_5.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_6.png
	   A /trunk/data/graphics/misc/small/s.science_bulb_7.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_0.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_1.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_2.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_3.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_4.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_5.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_6.png
	   A /trunk/data/graphics/misc/small/s.warming_sun_7.png
	   A /trunk/data/graphics/misc/space
	   A /trunk/data/graphics/misc/space/artists
	   A /trunk/data/graphics/misc/space/spaceship.fuel.png
	   A /trunk/data/graphics/misc/space/spaceship.habitation.png
	   A /trunk/data/graphics/misc/space/spaceship.life_support.png
	   A /trunk/data/graphics/misc/space/spaceship.propulsion.png
	   A /trunk/data/graphics/misc/space/spaceship.solar_panels.png
	   A /trunk/data/graphics/misc/space/spaceship.structural.png
	   A /trunk/data/graphics/misc/treaty
	   A /trunk/data/graphics/misc/treaty/artists
	   A /trunk/data/graphics/misc/treaty/treaty.agree_thumb_up.png
	   A /trunk/data/graphics/misc/treaty/treaty.disagree_thumb_down.png
	   A /trunk/data/graphics/trident
	   A /trunk/data/graphics/trident/cities
	   A /trunk/data/graphics/trident/cities/artists
	   A /trunk/data/graphics/trident/cities/cd.city.png
	   A /trunk/data/graphics/trident/cities/cd.city_wall.png
	   A /trunk/data/graphics/trident/cities/cd.occupied.png
	   A /trunk/data/graphics/trident/cities/city.asian_0.png
	   A /trunk/data/graphics/trident/cities/city.asian_10.png
	   A /trunk/data/graphics/trident/cities/city.asian_5.png
	   A /trunk/data/graphics/trident/cities/city.asian_occupied.png
	   A /trunk/data/graphics/trident/cities/city.asian_wall.png
	   A /trunk/data/graphics/trident/cities/city.classical_0.png
	   A /trunk/data/graphics/trident/cities/city.classical_10.png
	   A /trunk/data/graphics/trident/cities/city.classical_5.png
	   A /trunk/data/graphics/trident/cities/city.classical_occupied.png
	   A /trunk/data/graphics/trident/cities/city.classical_wall.png
	   A /trunk/data/graphics/trident/cities/city.disorder.png
	   A /trunk/data/graphics/trident/cities/city.european_0.png
	   A /trunk/data/graphics/trident/cities/city.european_10.png
	   A /trunk/data/graphics/trident/cities/city.european_5.png
	   A /trunk/data/graphics/trident/cities/city.european_occupied.png
	   A /trunk/data/graphics/trident/cities/city.european_wall.png
	   A /trunk/data/graphics/trident/cities/city.industrial_0.png
	   A /trunk/data/graphics/trident/cities/city.industrial_10.png
	   A /trunk/data/graphics/trident/cities/city.industrial_5.png
	   A /trunk/data/graphics/trident/cities/city.industrial_occupied.png
	   A /trunk/data/graphics/trident/cities/city.industrial_wall.png
	   A /trunk/data/graphics/trident/cities/city.modern_0.png
	   A /trunk/data/graphics/trident/cities/city.modern_10.png
	   A /trunk/data/graphics/trident/cities/city.modern_5.png
	   A /trunk/data/graphics/trident/cities/city.modern_occupied.png
	   A /trunk/data/graphics/trident/cities/city.modern_wall.png
	   A /trunk/data/graphics/trident/cities/city.postmodern_0.png
	   A /trunk/data/graphics/trident/cities/city.postmodern_10.png
	   A /trunk/data/graphics/trident/cities/city.postmodern_5.png
	   A /trunk/data/graphics/trident/cities/city.postmodern_occupied.png
	   A /trunk/data/graphics/trident/cities/city.postmodern_wall.png
	   A /trunk/data/graphics/trident/cities/city.tropical_0.png
	   A /trunk/data/graphics/trident/cities/city.tropical_10.png
	   A /trunk/data/graphics/trident/cities/city.tropical_5.png
	   A /trunk/data/graphics/trident/cities/city.tropical_occupied.png
	   A /trunk/data/graphics/trident/cities/city.tropical_wall.png
	   A /trunk/data/graphics/trident/explosions
	   A /trunk/data/graphics/trident/explosions/artists
	   A /trunk/data/graphics/trident/explosions/explode.unit_0.png
	   A /trunk/data/graphics/trident/explosions/explode.unit_1.png
	   A /trunk/data/graphics/trident/explosions/explode.unit_2.png
	   A /trunk/data/graphics/trident/explosions/explode.unit_3.png
	   A /trunk/data/graphics/trident/explosions/explode.unit_4.png
	   A /trunk/data/graphics/trident/flags
	   A /trunk/data/graphics/trident/flags/artists
	   A /trunk/data/graphics/trident/flags/f.arab.png
	   A /trunk/data/graphics/trident/flags/f.argentina.png
	   A /trunk/data/graphics/trident/flags/f.armenia.png
	   A /trunk/data/graphics/trident/flags/f.australia.png
	   A /trunk/data/graphics/trident/flags/f.austria.png
	   A /trunk/data/graphics/trident/flags/f.azerbaijan.png
	   A /trunk/data/graphics/trident/flags/f.barbarian.png
	   A /trunk/data/graphics/trident/flags/f.bavarian.png
	   A /trunk/data/graphics/trident/flags/f.belgium.png
	   A /trunk/data/graphics/trident/flags/f.boer.png
	   A /trunk/data/graphics/trident/flags/f.brasil.png
	   A /trunk/data/graphics/trident/flags/f.bulgaria.png
	   A /trunk/data/graphics/trident/flags/f.canada.png
	   A /trunk/data/graphics/trident/flags/f.catalan.png
	   A /trunk/data/graphics/trident/flags/f.cheyenne.png
	   A /trunk/data/graphics/trident/flags/f.chile.png
	   A /trunk/data/graphics/trident/flags/f.china.png
	   A /trunk/data/graphics/trident/flags/f.cornwall.png
	   A /trunk/data/graphics/trident/flags/f.croatia.png
	   A /trunk/data/graphics/trident/flags/f.czech.png
	   A /trunk/data/graphics/trident/flags/f.denmark.png
	   A /trunk/data/graphics/trident/flags/f.dunedain.png
	   A /trunk/data/graphics/trident/flags/f.egypt.png
	   A /trunk/data/graphics/trident/flags/f.england.png
	   A /trunk/data/graphics/trident/flags/f.estonia.png
	   A /trunk/data/graphics/trident/flags/f.europe.png
	   A /trunk/data/graphics/trident/flags/f.finland.png
	   A /trunk/data/graphics/trident/flags/f.france.png
	   A /trunk/data/graphics/trident/flags/f.germany.png
	   A /trunk/data/graphics/trident/flags/f.greece.png
	   A /trunk/data/graphics/trident/flags/f.greenland.png
	   A /trunk/data/graphics/trident/flags/f.holland.png
	   A /trunk/data/graphics/trident/flags/f.hungary.png
	   A /trunk/data/graphics/trident/flags/f.iceland.png
	   A /trunk/data/graphics/trident/flags/f.india.png
	   A /trunk/data/graphics/trident/flags/f.iran.png
	   A /trunk/data/graphics/trident/flags/f.iraq_old.png
	   A /trunk/data/graphics/trident/flags/f.ireland.png
	   A /trunk/data/graphics/trident/flags/f.israel.png
	   A /trunk/data/graphics/trident/flags/f.italy.png
	   A /trunk/data/graphics/trident/flags/f.japan.png
	   A /trunk/data/graphics/trident/flags/f.kenya.png
	   A /trunk/data/graphics/trident/flags/f.korea.png
	   A /trunk/data/graphics/trident/flags/f.krev.png
	   A /trunk/data/graphics/trident/flags/f.latvia.png
	   A /trunk/data/graphics/trident/flags/f.lithuania.png
	   A /trunk/data/graphics/trident/flags/f.macedonia.png
	   A /trunk/data/graphics/trident/flags/f.mexico.png
	   A /trunk/data/graphics/trident/flags/f.mongolia.png
	   A /trunk/data/graphics/trident/flags/f.mordor.png
	   A /trunk/data/graphics/trident/flags/f.nato.png
	   A /trunk/data/graphics/trident/flags/f.netherlands.png
	   A /trunk/data/graphics/trident/flags/f.norway.png
	   A /trunk/data/graphics/trident/flags/f.olympic.png
	   A /trunk/data/graphics/trident/flags/f.pakistan.png
	   A /trunk/data/graphics/trident/flags/f.peru.png
	   A /trunk/data/graphics/trident/flags/f.philippines.png
	   A /trunk/data/graphics/trident/flags/f.poland.png
	   A /trunk/data/graphics/trident/flags/f.portugal.png
	   A /trunk/data/graphics/trident/flags/f.rome.png
	   A /trunk/data/graphics/trident/flags/f.russia.png
	   A /trunk/data/graphics/trident/flags/f.rwanda.png
	   A /trunk/data/graphics/trident/flags/f.scotland.png
	   A /trunk/data/graphics/trident/flags/f.serbia.png
	   A /trunk/data/graphics/trident/flags/f.silesia.png
	   A /trunk/data/graphics/trident/flags/f.singapore.png
	   A /trunk/data/graphics/trident/flags/f.slovenia.png
	   A /trunk/data/graphics/trident/flags/f.south_africa.png
	   A /trunk/data/graphics/trident/flags/f.soviet.png
	   A /trunk/data/graphics/trident/flags/f.spain.png
	   A /trunk/data/graphics/trident/flags/f.sweden.png
	   A /trunk/data/graphics/trident/flags/f.syria.png
	   A /trunk/data/graphics/trident/flags/f.thailand.png
	   A /trunk/data/graphics/trident/flags/f.tunisia.png
	   A /trunk/data/graphics/trident/flags/f.turkey.png
	   A /trunk/data/graphics/trident/flags/f.ukraine.png
	   A /trunk/data/graphics/trident/flags/f.united_kingdom.png
	   A /trunk/data/graphics/trident/flags/f.united_nations.png
	   A /trunk/data/graphics/trident/flags/f.unknown.png
	   A /trunk/data/graphics/trident/flags/f.usa.png
	   A /trunk/data/graphics/trident/flags/f.vietnam.png
	   A /trunk/data/graphics/trident/flags/f.wales.png
	   A /trunk/data/graphics/trident/roads
	   A /trunk/data/graphics/trident/roads/artists
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n0s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s0e0w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_n1s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_ne.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_nw.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_se.png
	   A /trunk/data/graphics/trident/roads/r.c_rail_sw.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n0s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s0e0w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.c_road_n1s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n0s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s0e0w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_rail_n1s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n0s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s0e0w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s0e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s0e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s0e1w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s1e0w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s1e0w1.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s1e1w0.png
	   A /trunk/data/graphics/trident/roads/r.d_road_n1s1e1w1.png
	   A /trunk/data/graphics/trident/roads/r.rail_isolated.png
	   A /trunk/data/graphics/trident/roads/r.road_isolated.png
	   A /trunk/data/graphics/trident/tiles
	   A /trunk/data/graphics/trident/tiles/artists
	   A /trunk/data/graphics/trident/tiles/city.size_0.png
	   A /trunk/data/graphics/trident/tiles/city.size_1.png
	   A /trunk/data/graphics/trident/tiles/city.size_10.png
	   A /trunk/data/graphics/trident/tiles/city.size_2.png
	   A /trunk/data/graphics/trident/tiles/city.size_20.png
	   A /trunk/data/graphics/trident/tiles/city.size_3.png
	   A /trunk/data/graphics/trident/tiles/city.size_30.png
	   A /trunk/data/graphics/trident/tiles/city.size_4.png
	   A /trunk/data/graphics/trident/tiles/city.size_40.png
	   A /trunk/data/graphics/trident/tiles/city.size_5.png
	   A /trunk/data/graphics/trident/tiles/city.size_50.png
	   A /trunk/data/graphics/trident/tiles/city.size_6.png
	   A /trunk/data/graphics/trident/tiles/city.size_60.png
	   A /trunk/data/graphics/trident/tiles/city.size_7.png
	   A /trunk/data/graphics/trident/tiles/city.size_70.png
	   A /trunk/data/graphics/trident/tiles/city.size_8.png
	   A /trunk/data/graphics/trident/tiles/city.size_80.png
	   A /trunk/data/graphics/trident/tiles/city.size_9.png
	   A /trunk/data/graphics/trident/tiles/city.size_90.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_0.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_1.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_2.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_3.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_4.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_5.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_6.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_7.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_8.png
	   A /trunk/data/graphics/trident/tiles/city.t_food_9.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_0.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_1.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_2.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_3.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_4.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_5.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_6.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_7.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_8.png
	   A /trunk/data/graphics/trident/tiles/city.t_shields_9.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_0.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_1.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_2.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_3.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_4.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_5.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_6.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_7.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_8.png
	   A /trunk/data/graphics/trident/tiles/city.t_trade_9.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_00.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_01.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_02.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_10.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_11.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_12.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_20.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_21.png
	   A /trunk/data/graphics/trident/tiles/explode.nuke_22.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.arctic_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.desert_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.forest_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.grassland_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.hills_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.jungle_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.mountains_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.ocean_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.plains_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.swamp_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.t_river_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/t.tundra_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/ts.arctic_ivory.png
	   A /trunk/data/graphics/trident/tiles/ts.arctic_oil.png
	   A /trunk/data/graphics/trident/tiles/ts.buffalo.png
	   A /trunk/data/graphics/trident/tiles/ts.coal.png
	   A /trunk/data/graphics/trident/tiles/ts.fish.png
	   A /trunk/data/graphics/trident/tiles/ts.forest_game.png
	   A /trunk/data/graphics/trident/tiles/ts.fruit.png
	   A /trunk/data/graphics/trident/tiles/ts.furs.png
	   A /trunk/data/graphics/trident/tiles/ts.gems.png
	   A /trunk/data/graphics/trident/tiles/ts.gold.png
	   A /trunk/data/graphics/trident/tiles/ts.grassland_resources.png
	   A /trunk/data/graphics/trident/tiles/ts.horses.png
	   A /trunk/data/graphics/trident/tiles/ts.iron.png
	   A /trunk/data/graphics/trident/tiles/ts.oasis.png
	   A /trunk/data/graphics/trident/tiles/ts.oil.png
	   A /trunk/data/graphics/trident/tiles/ts.peat.png
	   A /trunk/data/graphics/trident/tiles/ts.pheasant.png
	   A /trunk/data/graphics/trident/tiles/ts.river_resources.png
	   A /trunk/data/graphics/trident/tiles/ts.seals.png
	   A /trunk/data/graphics/trident/tiles/ts.silk.png
	   A /trunk/data/graphics/trident/tiles/ts.spice.png
	   A /trunk/data/graphics/trident/tiles/ts.tundra_game.png
	   A /trunk/data/graphics/trident/tiles/ts.whales.png
	   A /trunk/data/graphics/trident/tiles/ts.wheat.png
	   A /trunk/data/graphics/trident/tiles/ts.wine.png
	   A /trunk/data/graphics/trident/tiles/tx.airbase.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.coast_cape_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.darkness_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.denmark_00.png
	   A /trunk/data/graphics/trident/tiles/tx.denmark_01.png
	   A /trunk/data/graphics/trident/tiles/tx.denmark_02.png
	   A /trunk/data/graphics/trident/tiles/tx.denmark_10.png
	   A /trunk/data/graphics/trident/tiles/tx.denmark_11.png
	   A /trunk/data/graphics/trident/tiles/tx.denmark_12.png
	   A /trunk/data/graphics/trident/tiles/tx.fallout.png
	   A /trunk/data/graphics/trident/tiles/tx.farmland.png
	   A /trunk/data/graphics/trident/tiles/tx.fog.png
	   A /trunk/data/graphics/trident/tiles/tx.fortress.png
	   A /trunk/data/graphics/trident/tiles/tx.irrigation.png
	   A /trunk/data/graphics/trident/tiles/tx.mine.png
	   A /trunk/data/graphics/trident/tiles/tx.oil_mine.png
	   A /trunk/data/graphics/trident/tiles/tx.pollution.png
	   A /trunk/data/graphics/trident/tiles/tx.river_outlet_e.png
	   A /trunk/data/graphics/trident/tiles/tx.river_outlet_n.png
	   A /trunk/data/graphics/trident/tiles/tx.river_outlet_s.png
	   A /trunk/data/graphics/trident/tiles/tx.river_outlet_w.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n0s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s0e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e0w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e0w1.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e1w0.png
	   A /trunk/data/graphics/trident/tiles/tx.s_river_n1s1e1w1.png
	   A /trunk/data/graphics/trident/tiles/tx.village.png
	   A /trunk/data/graphics/trident/tiles/unit.airbase.png
	   A /trunk/data/graphics/trident/tiles/unit.auto_attack.png
	   A /trunk/data/graphics/trident/tiles/unit.auto_explore.png
	   A /trunk/data/graphics/trident/tiles/unit.auto_settler.png
	   A /trunk/data/graphics/trident/tiles/unit.connect.png
	   A /trunk/data/graphics/trident/tiles/unit.fallout.png
	   A /trunk/data/graphics/trident/tiles/unit.fortified.png
	   A /trunk/data/graphics/trident/tiles/unit.fortifying.png
	   A /trunk/data/graphics/trident/tiles/unit.fortress.png
	   A /trunk/data/graphics/trident/tiles/unit.goto.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_0.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_10.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_100.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_20.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_30.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_40.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_50.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_60.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_70.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_80.png
	   A /trunk/data/graphics/trident/tiles/unit.hp_90.png
	   A /trunk/data/graphics/trident/tiles/unit.irrigate.png
	   A /trunk/data/graphics/trident/tiles/unit.mine.png
	   A /trunk/data/graphics/trident/tiles/unit.patrol.png
	   A /trunk/data/graphics/trident/tiles/unit.pillage.png
	   A /trunk/data/graphics/trident/tiles/unit.pollution.png
	   A /trunk/data/graphics/trident/tiles/unit.road.png
	   A /trunk/data/graphics/trident/tiles/unit.sentry.png
	   A /trunk/data/graphics/trident/tiles/unit.stack.png
	   A /trunk/data/graphics/trident/tiles/unit.transform.png
	   A /trunk/data/graphics/trident/tiles/upkeep.food.png
	   A /trunk/data/graphics/trident/tiles/upkeep.food2.png
	   A /trunk/data/graphics/trident/tiles/upkeep.shield.png
	   A /trunk/data/graphics/trident/tiles/upkeep.unhappy.png
	   A /trunk/data/graphics/trident/tiles/upkeep.unhappy2.png
	   A /trunk/data/graphics/trident/tiles/user.attention.png
	   A /trunk/data/graphics/trident/units
	   A /trunk/data/graphics/trident/units/artists
	   A /trunk/data/graphics/trident/units/u.aegis_cruiser.png
	   A /trunk/data/graphics/trident/units/u.alpine_troops.png
	   A /trunk/data/graphics/trident/units/u.archers.png
	   A /trunk/data/graphics/trident/units/u.armor.png
	   A /trunk/data/graphics/trident/units/u.artillery.png
	   A /trunk/data/graphics/trident/units/u.awacs.png
	   A /trunk/data/graphics/trident/units/u.barbarian_leader.png
	   A /trunk/data/graphics/trident/units/u.battleship.png
	   A /trunk/data/graphics/trident/units/u.bomber.png
	   A /trunk/data/graphics/trident/units/u.cannon.png
	   A /trunk/data/graphics/trident/units/u.caravan.png
	   A /trunk/data/graphics/trident/units/u.caravel.png
	   A /trunk/data/graphics/trident/units/u.carrier.png
	   A /trunk/data/graphics/trident/units/u.catapult.png
	   A /trunk/data/graphics/trident/units/u.cavalry.png
	   A /trunk/data/graphics/trident/units/u.chariot.png
	   A /trunk/data/graphics/trident/units/u.cruise_missile.png
	   A /trunk/data/graphics/trident/units/u.cruiser.png
	   A /trunk/data/graphics/trident/units/u.crusaders.png
	   A /trunk/data/graphics/trident/units/u.destroyer.png
	   A /trunk/data/graphics/trident/units/u.diplomat.png
	   A /trunk/data/graphics/trident/units/u.dragoons.png
	   A /trunk/data/graphics/trident/units/u.elephants.png
	   A /trunk/data/graphics/trident/units/u.engineers.png
	   A /trunk/data/graphics/trident/units/u.explorer.png
	   A /trunk/data/graphics/trident/units/u.fanatics.png
	   A /trunk/data/graphics/trident/units/u.fighter.png
	   A /trunk/data/graphics/trident/units/u.freight.png
	   A /trunk/data/graphics/trident/units/u.frigate.png
	   A /trunk/data/graphics/trident/units/u.galleon.png
	   A /trunk/data/graphics/trident/units/u.helicopter.png
	   A /trunk/data/graphics/trident/units/u.horsemen.png
	   A /trunk/data/graphics/trident/units/u.howitzer.png
	   A /trunk/data/graphics/trident/units/u.ironclad.png
	   A /trunk/data/graphics/trident/units/u.knights.png
	   A /trunk/data/graphics/trident/units/u.legion.png
	   A /trunk/data/graphics/trident/units/u.marines.png
	   A /trunk/data/graphics/trident/units/u.mech_inf.png
	   A /trunk/data/graphics/trident/units/u.musketeers.png
	   A /trunk/data/graphics/trident/units/u.nuclear.png
	   A /trunk/data/graphics/trident/units/u.paratroopers.png
	   A /trunk/data/graphics/trident/units/u.partisan.png
	   A /trunk/data/graphics/trident/units/u.phalanx.png
	   A /trunk/data/graphics/trident/units/u.pikemen.png
	   A /trunk/data/graphics/trident/units/u.riflemen.png
	   A /trunk/data/graphics/trident/units/u.settlers.png
	   A /trunk/data/graphics/trident/units/u.spy.png
	   A /trunk/data/graphics/trident/units/u.stealth_bomber.png
	   A /trunk/data/graphics/trident/units/u.stealth_fighter.png
	   A /trunk/data/graphics/trident/units/u.submarine.png
	   A /trunk/data/graphics/trident/units/u.transport.png
	   A /trunk/data/graphics/trident/units/u.trireme.png
	   A /trunk/data/graphics/trident/units/u.warriors.png

	Sprite tiles, one per file in the new organization.  Graphics directory
	is now fully populated and ready for testing.


Sat, 01 Feb 2003 16:15:53 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec
	   M /trunk/doc/README.graphics

	Remove the flags_are_transparent tilespec option, which is now used by
	default.  Note that having opaque flags is still quite possible, the only
	difference is some unnecessary drawing may be done.

	Patch by Eric S. Raymond <esr@thyrsus.com> as PR#2956 with style changes
	by me.


Sat, 01 Feb 2003 16:12:38 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gotodlg.c

	New non-modal goto dialog.


Sat, 01 Feb 2003 14:26:33 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Changed chatline colors to black-on-white.


Sat, 01 Feb 2003 07:01:15 -0800  asf:

	Changed paths:
	   A /trunk/doc/fr/BUGS

	*** empty log message ***


Sat, 01 Feb 2003 04:10:33 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/rc2c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.h

	New Dialogs (Steal Tech, Sabotage, Connect, Bribge, Incite Rev. , etc)
	Fix of Segfault in science dlg. when "None" goal is in use.


Fri, 31 Jan 2003 23:41:10 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c

	Make the science dialog non-modal when it pops up after discovery of a
	new technology.

	This fixes a bug reported by Kenn Munro <kenn@cyberbeach.net> as PR#2948.
	Patch by myself and Vasco.


Fri, 31 Jan 2003 18:17:07 -0800  esr:

	Changed paths:
	   D /trunk/data/nation/Makefile.am

	Makefile.am is now generated by autogen.sh


Fri, 31 Jan 2003 18:10:46 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/ruleset.c

	Add the ruleset-controlled ability to have a building present as the
	requirement for building a unit.  Using the impr_req field in
	units.ruleset means that unit type cannot be built in a city unless the
	city has the specified improvement already.  This adds a manditory
	capability since the clients need to know what can be built.

	Patch by Per Mathisen as PR#2930, with added comments by me.


Fri, 31 Jan 2003 17:40:38 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/Makefile.am.sh

	Typo fix in comment.


Fri, 31 Jan 2003 17:32:05 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inputdlg.c

	Make the input dialog non-modal.


Fri, 31 Jan 2003 16:11:08 -0800  vasc:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Move Awacs unit declaration to end of file to ensure compatibility with old
	savedgames.


Fri, 31 Jan 2003 15:31:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Remove useless separator in Game menu,
	Use gtk_item_factory_get_item since it is more appropriate than
	gtk_item_factory_get_widget.


Fri, 31 Jan 2003 15:29:21 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/finddlg.c

	Sort city list by name.


Fri, 31 Jan 2003 15:05:52 -0800  esr:

	Changed paths:
	   M /trunk/autogen.sh

	Generate a Makefile.am file for data/nation based on the contents of
	that directory, so as to avoid having to either hardwire in the list of
	nations or doing wildcarding that breaks `make distcheck'.  We do this
	just before calling automake.


Fri, 31 Jan 2003 14:56:56 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/Makefile.am
	   A /trunk/data/nation/Makefile.am.sh

	A script to autogenerate Makefile.am from the directory contents


Fri, 31 Jan 2003 12:22:10 -0800  asf:

	Changed paths:
	   M /trunk/po/fr.po

	maj du 31/01/2003


Fri, 31 Jan 2003 09:38:09 -0800  jdorje:

	Changed paths:
	   D /trunk/client/gui-beos

	Remove one additional file from gui-beos.


Fri, 31 Jan 2003 09:36:55 -0800  jdorje:

	Changed paths:
	   D /trunk/client/gui-beos/About.hpp
	   D /trunk/client/gui-beos/App.cpp
	   D /trunk/client/gui-beos/App.hpp
	   D /trunk/client/gui-beos/Backend.cpp
	   D /trunk/client/gui-beos/Backend.hpp
	   D /trunk/client/gui-beos/Defs.cpp
	   D /trunk/client/gui-beos/Defs.hpp
	   D /trunk/client/gui-beos/Freeciv.rsrc
	   D /trunk/client/gui-beos/InputView.cpp
	   D /trunk/client/gui-beos/InputView.hpp
	   D /trunk/client/gui-beos/MainWindow.cpp
	   D /trunk/client/gui-beos/MainWindow.hpp
	   D /trunk/client/gui-beos/Makefile
	   D /trunk/client/gui-beos/MapCanvas.cpp
	   D /trunk/client/gui-beos/MapCanvas.hpp
	   D /trunk/client/gui-beos/OutputView.cpp
	   D /trunk/client/gui-beos/OutputView.hpp
	   D /trunk/client/gui-beos/README.BeOS
	   D /trunk/client/gui-beos/README.design
	   D /trunk/client/gui-beos/README.todo
	   D /trunk/client/gui-beos/RadarView.cpp
	   D /trunk/client/gui-beos/RadarView.hpp
	   D /trunk/client/gui-beos/StatusView.cpp
	   D /trunk/client/gui-beos/StatusView.hpp
	   D /trunk/client/gui-beos/SummaryView.cpp
	   D /trunk/client/gui-beos/SummaryView.hpp
	   D /trunk/client/gui-beos/UnitInfoView.cpp
	   D /trunk/client/gui-beos/UnitInfoView.hpp
	   D /trunk/client/gui-beos/UnitsBelowView.cpp
	   D /trunk/client/gui-beos/UnitsBelowView.hpp
	   D /trunk/client/gui-beos/chatline.cpp
	   D /trunk/client/gui-beos/chatline.h
	   D /trunk/client/gui-beos/citydlg.cpp
	   D /trunk/client/gui-beos/citydlg.h
	   D /trunk/client/gui-beos/cityrep.cpp
	   D /trunk/client/gui-beos/cityrep.h
	   D /trunk/client/gui-beos/civ
	   D /trunk/client/gui-beos/colors.cpp
	   D /trunk/client/gui-beos/colors.hpp
	   D /trunk/client/gui-beos/connectdlg.cpp
	   D /trunk/client/gui-beos/connectdlg.hpp
	   D /trunk/client/gui-beos/dialogs.cpp
	   D /trunk/client/gui-beos/dialogs.h
	   D /trunk/client/gui-beos/diplodlg.cpp
	   D /trunk/client/gui-beos/diplodlg.h
	   D /trunk/client/gui-beos/finddlg.cpp
	   D /trunk/client/gui-beos/finddlg.hpp
	   D /trunk/client/gui-beos/gotodlg.cpp
	   D /trunk/client/gui-beos/gotodlg.h
	   D /trunk/client/gui-beos/graphics.cpp
	   D /trunk/client/gui-beos/graphics.hpp
	   D /trunk/client/gui-beos/gui_main.c
	   D /trunk/client/gui-beos/gui_main.h
	   D /trunk/client/gui-beos/helpdlg.cpp
	   D /trunk/client/gui-beos/helpdlg.hpp
	   D /trunk/client/gui-beos/inteldlg.cpp
	   D /trunk/client/gui-beos/lib
	   D /trunk/client/gui-beos/mapctrl.cpp
	   D /trunk/client/gui-beos/mapctrl.h
	   D /trunk/client/gui-beos/mapview.cpp
	   D /trunk/client/gui-beos/mapview.h
	   D /trunk/client/gui-beos/menu.cpp
	   D /trunk/client/gui-beos/menu.hpp
	   D /trunk/client/gui-beos/messagedlg.cpp
	   D /trunk/client/gui-beos/messagedlg.hpp
	   D /trunk/client/gui-beos/messagewin.cpp
	   D /trunk/client/gui-beos/messagewin.h
	   D /trunk/client/gui-beos/optiondlg.cpp
	   D /trunk/client/gui-beos/optiondlg.hpp
	   D /trunk/client/gui-beos/plrdlg.cpp
	   D /trunk/client/gui-beos/plrdlg.h
	   D /trunk/client/gui-beos/ratesdlg.cpp
	   D /trunk/client/gui-beos/ratesdlg.hpp
	   D /trunk/client/gui-beos/repodlgs.cpp
	   D /trunk/client/gui-beos/repodlgs.h
	   D /trunk/client/gui-beos/spaceshipdlg.cpp
	   D /trunk/client/gui-beos/spaceshipdlg.h
	   D /trunk/client/gui-beos/wldlg.cpp
	   D /trunk/client/gui-beos/wldlg.hpp

	Remove "unused" gui-beos sources.  They can be revived later, but it is
	probably more productive to work on an SDL client instead.


Fri, 31 Jan 2003 09:29:06 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/mapview.c

	Avoid a compiler warning from a badly-formed C comment.


Fri, 31 Jan 2003 03:17:56 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/Makefile.am

	Change Makefile.am so it doesn't have to list the nation files explicitly.
	Instead, use $(shell ls -1 *.ruleset) to make the generated Makefile
	compute the list dynamically.


Fri, 31 Jan 2003 02:20:36 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/bavarian.ruleset

	Christian Knoke corrects leader names for historical Bavaria.  Closes PR#2952.


Fri, 31 Jan 2003 01:49:03 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Fri, 31 Jan 2003 01:17:22 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Fri, 31 Jan 2003 01:09:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/mapview_common.c

	Introduce a localized hack to redraw city descriptions when
	refresh_tile_mapcanvas() is called.

	Issued as PR#2709.


Fri, 31 Jan 2003 00:39:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/ruleset.c

	Read the nation class and legend data from the ruleset, and pass it along
	to the client.  No GUI makes use of this data yet.

	Patch by Raimar Falke as part of PR#2841, with changes by me.


Thu, 30 Jan 2003 23:42:29 -0800  esr:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/server/savegame.c

	Use untranslated name to designate nations in savefiles.  That way you
	won't lose if you restart a game under a different localization than
	you saved it.  Fixes a bug reported Fri, 31 Jan 2003 01:32:43 -0500
	by mateusz stefek.


Thu, 30 Jan 2003 20:27:37 -0800  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Merge translation from TS1_14 branch.
	Update ja.po to 2905t+52f+92u+6o.


Thu, 30 Jan 2003 19:32:46 -0800  ama:

	Changed paths:
	   M /trunk/doc/ja/README.ja

	Sync with 1.6.


Thu, 30 Jan 2003 16:58:48 -0800  jdorje:

	Changed paths:
	   M /trunk/server/cityturn.c

	When building coinage, you get coins for your previously accumulated
	shield stock at a 1:1 ratio.

	Report and patch by Thomas Strub <ue80@stud.uni-karlsruhe.de> as PR#2918,
	with an added comment by me.


Thu, 30 Jan 2003 16:32:05 -0800  ama:

	Changed paths:
	   M /trunk/doc/ja/NEWS.ja

	Sync with 1.42.


Thu, 30 Jan 2003 16:24:47 -0800  ama:

	Changed paths:
	   M /trunk/doc/ja/BUGS.ja

	Sync with 1.13.


Thu, 30 Jan 2003 12:07:27 -0800  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Ensure that you don't mistakenly upgrade a unit while trying to
	automatically upgrade barracks (for unusual rulesets). Improve some
	checks and comments. Changes lifted from techs restrictions patch.


Thu, 30 Jan 2003 12:02:26 -0800  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Don't crash clients if there is no non-obsolete L_FIRSTBUILD unit to be
	built for new cities. Changes lifted from techs restrictions patch.


Thu, 30 Jan 2003 11:53:50 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c

	Further cleanup of kill_something_with() and process_attacker_want().
	Lifted from my techs restrictions patch. Biggest change is that the
	latter is passed a full ai_choice struct, which means it can recommend
	something other than units to be built.


Thu, 30 Jan 2003 11:31:27 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Don't crash if we can't produce settlers or workers. Changes lifted
	from restrict techs by nation patch.


Thu, 30 Jan 2003 11:30:22 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Cleanup of kill_something_with(). Remove duplicated calculations.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Thu, 30 Jan 2003 11:26:08 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.c
	   M /trunk/server/ruleset.c

	Replace the way never-obsoleted improvements are flagged from A_NONE
	to A_LAST. This allows to remove the special case for A_NONE. It is
	also semantically more correct since A_NONE is known at the start of
	the game and so also a lot of improvements would be obsolete at the
	start of the game.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net> as PR#2815
	with changes from me.


Thu, 30 Jan 2003 11:09:26 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_mem.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/repodlgs.c

	Part of PR#2937 ( and only GET_SURF and GET_SPRI )
	Correct __extension__ calls.


Thu, 30 Jan 2003 10:40:53 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   D /trunk/data/misc/techs.png
	   D /trunk/data/misc/techs.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Remove the technology graphics, since they are not licenced properly.


Thu, 30 Jan 2003 10:30:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't require tech graphics to be present, and don't load a graphics for
	A_NONE.

	Issued as PR#2579.


Thu, 30 Jan 2003 04:19:15 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/optiondlg.c

	Ops ... fix for togle_fullscreen ( yesterday patch ).
	Some clean map event handler.


Wed, 29 Jan 2003 18:00:25 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c

	Fixs for 2910,2935 and some others bugs.


Wed, 29 Jan 2003 16:05:54 -0800  esr:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/arab.ruleset
	   M /trunk/data/nation/argentine.ruleset
	   M /trunk/data/nation/australian.ruleset
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/bavarian.ruleset
	   M /trunk/data/nation/boer.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/canadian.ruleset
	   M /trunk/data/nation/carthaginian.ruleset
	   M /trunk/data/nation/catalan.ruleset
	   M /trunk/data/nation/chilean.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/cornish.ruleset
	   M /trunk/data/nation/croatian.ruleset
	   M /trunk/data/nation/czech.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/dutch.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/estonian.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/finnish.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/german.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/hungarian.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/israeli.ruleset
	   M /trunk/data/nation/italian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/latvian.ruleset
	   M /trunk/data/nation/lithuanian.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/persian.ruleset
	   M /trunk/data/nation/polish.ruleset
	   M /trunk/data/nation/portuguese.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/russian.ruleset
	   M /trunk/data/nation/scottish.ruleset
	   M /trunk/data/nation/serbian.ruleset
	   M /trunk/data/nation/silesian.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/sioux.ruleset
	   M /trunk/data/nation/slovenian.ruleset
	   M /trunk/data/nation/spanish.ruleset
	   M /trunk/data/nation/swedish.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/turk.ruleset
	   M /trunk/data/nation/ukrainian.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/welsh.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Class-legend update to nation rulesets.


Wed, 29 Jan 2003 14:57:46 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c

	Move put_one_tile_iso() into mapview_common.  Add two new GUI functions,
	gui_map_put_tile_iso and gui_map_put_black_tile_iso, that it calls.

	Issued as PR#2874; names by Mike Kaufman.


Wed, 29 Jan 2003 09:14:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/mapview.c

	Call update_map_canvas_visible() instead of queue_mapview_update(), because
	the latter function has had its parameters changed.

	Issued as PR#2928.


Wed, 29 Jan 2003 01:39:38 -0800  esr:

	Changed paths:
	   M /trunk/server/plrhand.c

	Relax an overzealous assert; resolves ticket 2929.


Tue, 28 Jan 2003 21:55:49 -0800  esr:

	Changed paths:
	   M /trunk/server/savegame.c

	Avoid losing when an old-style savefile contains a barbarian nation.


Tue, 28 Jan 2003 21:10:50 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/client/clinet.c
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-mui/gamedlgs.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/messagedlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gui_stuff.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/common/connection.c
	   M /trunk/common/game.c
	   M /trunk/common/government.c
	   M /trunk/common/hash.c
	   M /trunk/common/rand.c
	   M /trunk/server/handchat.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/unithand.c
	   M /trunk/utility/hash.c
	   M /trunk/utility/rand.c

	Change many uses of the prefix operator (e.g., ++a) to use the postfix
	operator instead (e.g., a++).

	Patch by Raimar Falke as PR#2745.


Tue, 28 Jan 2003 21:00:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Provide two new functions get_citydlg_canvas_width and
	get_citydlg_canvas_height that return the width and height of the dialog's
	mapview canvas.  This hides both the is_isometric check and the actual
	dimensions of the city map from the GUI.

	Issued as PR#2890.


Tue, 28 Jan 2003 20:49:32 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/messagewin.c

	Introduce a hack to avoid an Xaw segfault when the message window tries to
	scroll before it has been fully realized.

	Bug report and patch by Olaf Buddenhagen <olafBuddenhagen@web.de> as
	PR#2794, with style and comment changes by me.


Tue, 28 Jan 2003 17:46:05 -0800  esr:

	Changed paths:
	   M /trunk/data/default/nations.ruleset

	Order dependency is gone, thanks to a recent change in savegame/loadgame.


Tue, 28 Jan 2003 17:37:29 -0800  esr:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix savegame and loadgame code so that the dependency on the order of
	nations in data/default/nations.ruleset is eliminated.  Player nations
	are now stored by name, as a "nation" attribute, rather than only by
	numeric nation index saved as a "race" attribute.

	Code to interpret the "race" attribute is still present, runs if no
	"nation" attribute is found, and indirects through a namelist derived
	from the order of nations in the 1.14.0 nations ruleset. Thus this
	change does not break reading old savefiles.

	Savefiles written by the new savegame() may even be readable by older
	versions, because the numeric index is still saved as "race".  The
	nation assignments in the resulting save may be scrambled when reread,
	though.


Tue, 28 Jan 2003 04:02:06 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Mon, 27 Jan 2003 22:58:00 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po updated


Mon, 27 Jan 2003 17:50:14 -0800  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Add the AWACS unit to the default ruleset.

	Patch by Josh Cogliati <jjc@honors.montana.edu> with changes by me.
	Graphics drawn by Paul Zastoupil <paul@zastoupil.org>


Mon, 27 Jan 2003 16:40:42 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c

	Add chance for unit to win information to map tile info popup (PR#2911).

	Patch by Andreas Røsdal <andrearo@stud.ntnu.no> with some changes by me.


Mon, 27 Jan 2003 16:28:05 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h

	PR#2567: Remove get_citizen_pixmap().

	Patch by Jason Short <jdorje@users.sourceforge.net>.


Mon, 27 Jan 2003 16:18:16 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h

	PR#2716: Remove get_citizen_pixmap().

	Patch by Jason Short <jdorje@users.sourceforge.net>.


Mon, 27 Jan 2003 15:35:31 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/units.png
	   M /trunk/data/isotrident/units.spec
	   M /trunk/data/trident/units.png
	   M /trunk/data/trident/units.spec

	Add AWACS graphic to trident and isotrident unit sets.

	Sprite by Paul Zastoupil; see PR#2416.


Mon, 27 Jan 2003 14:53:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/server/srv_main.c

	Remove the function get_nation_leader_names, introducing get_nation_leaders
	in its place.  This function is far more efficient (O(1) instead of O(n)).
	It also allows direct lookups of leader sex in some places, instead of
	calling get_nation_leader_sex (which is also O(n)).

	Issued as PR#2801.


Mon, 27 Jan 2003 14:27:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c

	Remove single_tile_pixmap_width and single_tile_pixmap_height from GTK,
	GTK-2.0, and XAW clients.  Previously these values were always equal to
	UNIT_TILE_WIDTH/UNIT_TILE_HEIGHT, and were used inconsistently (or not at
	all).

	Patch issued as an addendum to PR#2533.


Mon, 27 Jan 2003 14:00:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/packhand.c

	Fix [un]queue_mapview_update so that we don't necessarily do a full
	update_map_canvas_visible if only an update_city_descriptions is needed.

	Issued as PR#2583.


Mon, 27 Jan 2003 11:40:36 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c

	Teaches AI how to use air transportation of units through Airports. We
	attempt to find units in cities that don't do anything useful, and
	transport them to hot zones. We only build Airport if we have lots of
	surplus shields, though, so this effect won't be seen much in default
	ruleset.

	Removed default danger for palace kludge, since this made the AI
	flip-flop units back and forth. Not a good idea in the first place,
	since the rest of the code doesn't understand this danger, and moves
	the units away once they are sent there.


Mon, 27 Jan 2003 11:34:53 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Avoid doing unnecessary tests for each unit moved as part of a
	transport's movement. Now the wakeup of sentries and first contact is
	checked when move is completed instead of for each transported unit
	moved along with a moving transport.


Mon, 27 Jan 2003 11:30:32 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Give better AI city production fallbacks. Now try to build caravans,
	then capitalization, then settlers, in that order. (In default ruleset
	settlers will obviously never be produced as a fallback.)

	Patch by Thomas Strub <ue80@rz.uni-karlsruhe.de> with changes by me.


Mon, 27 Jan 2003 11:19:04 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix comment. Patch by Thomas Strub <ue80@rz.uni-karlsruhe.de>


Mon, 27 Jan 2003 03:37:21 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po
	Fixed PR##2886.


Sun, 26 Jan 2003 11:35:56 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	updated


Sun, 26 Jan 2003 10:32:47 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/client/agents/cma_core.c

	Change some "assert(p)" to "assert(p != NULL)" to facilitate compilation
	on 64-bit machines.

	Patch by Davide Pagnin as PR#2909.


Sun, 26 Jan 2003 10:31:06 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapctrl.c

	Add chance for unit to win information to map tile info popup (PR#2911).

	Patch by Andreas Røsdal <andrearo@stud.ntnu.no> with some changes by me.


Sun, 26 Jan 2003 03:39:52 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	New header, small corrections, still 2 strings untranslated


Sat, 25 Jan 2003 10:36:40 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_tilespec.c

	Remove an unused variable.


Fri, 24 Jan 2003 14:51:49 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/CodingStyle
	   M /trunk/doc/HACKING

	Document the need to '#include <config.h>' in every .c file.  Also fix
	an incorrect file name reference.

	Issued as PR#2847.


Fri, 24 Jan 2003 13:21:42 -0800  jdorje:

	Changed paths:
	   M /trunk/amiga/amigaclient.c
	   M /trunk/amiga/amigaserver.c
	   M /trunk/amiga/gettext.c
	   M /trunk/amiga/vsnprintf.c
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/gui_dither.c
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_zoom.c
	   M /trunk/client/gui-sdl/unistring.c

	Add '#include <config.h>' in all remaining files that need it.

	Reported by Raimar Falke.  Patch by me as PR#2846.


Thu, 23 Jan 2003 16:51:02 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/dialogs.h
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/repodlgs.c

	some cleans & fixs.
	New Dialogs.


Thu, 23 Jan 2003 16:32:18 -0800  per:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiunit.c

	Add stricter unit aliveness checks in air and diplomat code that will be
	needed for AI autoattack code later on.


Thu, 23 Jan 2003 16:26:35 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c

	Clean up bodyguard code.


Thu, 23 Jan 2003 14:15:42 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated again


Thu, 23 Jan 2003 14:04:45 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 23 Jan 2003 13:39:32 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/chatline.c
	   M /trunk/client/gui-win32/chatline.h
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/connectdlg.h
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/dialogs.h
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/gui_main.h
	   M /trunk/client/gui-win32/gui_stuff.c
	   M /trunk/client/gui-win32/gui_stuff.h
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapctrl.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/menu.h
	   M /trunk/client/gui-win32/messagewin.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-win32/plrdlg.c

	fix some compiler warnings. Patch by Jason Dorje Short


Thu, 23 Jan 2003 09:06:50 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Prefer the postfix operator to the prefix operator if either can be used.

	Patch by Raimar Falke and myself.


Wed, 22 Jan 2003 18:00:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/diplodlg.c

	Avoid a compiler warning when compiling the SDL client.


Wed, 22 Jan 2003 11:55:08 -0800  per:

	Changed paths:
	   M /trunk/client/attribute.c
	   M /trunk/common/player.c
	   M /trunk/common/tech.c

	Remove some compile warnings.

	Patch by Jason Short


Tue, 21 Jan 2003 12:25:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/data/trident_shields.tilespec

	Add a roadstyle tileset variable that indicates whether the tileset uses
	the style 0 (the old iso-style roads) or style 1 (the old non-iso-style
	roads) method of drawing road and rail sprites.  This allows any tileset
	to use either style.

	Issued as PR#2682.


Tue, 21 Jan 2003 11:41:53 -0800  jdorje:

	Changed paths:
	   M /trunk/data/trident_shields.tilespec

	Bring trident_shields tileset up-to-date with trident and isotrident.


Tue, 21 Jan 2003 11:20:05 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c

	Avoid a recursive loop in auto-exploring, when the explorer is interrupted
	and the called function can only start exploring again.  The fix moves the
	call to ai_manage_explorer up higher into handle_unit_info, so that
	immediate auto-exploring must be specifically initiated rather than being
	the default.

	Initially reported as PR#2631 by Gregory Berkolaiko.  Patch by Per
	Mathisen with added comments by me.


Tue, 21 Jan 2003 08:17:26 -0800  akel:

	Changed paths:
	   M /trunk/po/et.po

	update


Tue, 21 Jan 2003 07:49:16 -0800  akel:

	Changed paths:
	   M /trunk/po/et.po

	Updated Estonian translation


Mon, 20 Jan 2003 07:44:28 -0800  per:

	Changed paths:
	   M /trunk/common/inputfile.c
	   M /trunk/common/inputfile.h
	   M /trunk/common/registry.c
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/inputfile.h
	   M /trunk/utility/registry.c

	Stop non-savegame files being loaded as if they were savegames from
	crashing the server. Malformed savegames may still crash the server in
	some cases. Also adds readline support for loading savegames from within
	the server.

	Patch by Mike Kaufman


Sun, 19 Jan 2003 12:05:54 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/repodlgs.c

	small fix in research dlg.


Sun, 19 Jan 2003 03:39:47 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/optiondlg.c

	Hey.. lets move all code to common part
	and leave in GUI side only putpixel(...)


Sat, 18 Jan 2003 10:58:26 -0800  sebauer:

	Changed paths:
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.c

	City descriptions work again properly.
	Problems with scrollbars in new freeciv fixed (seems that map.xsize is initialized later now)


Fri, 17 Jan 2003 12:20:57 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move update_map_canvas() into mapview_common.c.  Add three new GUI
	functions to be called from this function: put_one_tile, put_one_tile_iso,
	and flush_mapcanvas.

	Issued as PR#2509.


Fri, 17 Jan 2003 08:33:51 -0800  andi:

	Changed paths:
	   M /trunk/client/audio_winmm.c

	the init function was uninitialized


Fri, 17 Jan 2003 01:15:41 -0800  per:

	Changed paths:
	   M /trunk/client/packhand.c

	Ensure that menues are updated after turn done so that new unit orders
	are available.

	Bug reported and patch written by Mike Kaufman
	<kaufman@orion.physics.wisc.edu>


Fri, 17 Jan 2003 00:57:31 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Ensure that units that attack (and hence abort a goto) lose the goto
	activity.

	Bug reported by Erik Johansson <admerik@uajms.edu.bo>


Thu, 16 Jan 2003 19:17:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-xaw/citydlg.c

	Provide a function activate_all_units() in citydlg_common to activate all
	units on a given tile.  Call this function when the user chooses "activate
	all units" in a city dialog.

	Issued as PR#2614.


Thu, 16 Jan 2003 15:17:46 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Check that we really can move into empty enemy city before we try to do
	so - don't assume it.


Thu, 16 Jan 2003 15:16:12 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Add check for non-hostile city on target tile in
	can_unit_attack_unit_at_tile(), and move the same check in
	handle_unit_move_request() above this call so that message reporting
	will still work. This fixes a bug that can happen in AI code when a
	friendly city harbours an enemy unit.


Thu, 16 Jan 2003 15:06:25 -0800  per:

	Changed paths:
	   M /trunk/server/maphand.c

	You may now withdraw vision from dead players if you wish.

	Reported by Christian Knoke <chrisk@enter.de>


Thu, 16 Jan 2003 14:54:23 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Ships now lose movement points when they are attacked and lose
	hitpoints.

	Patch by Thomas Strub <ue80@rz.uni-karlsruhe.de> with changes by me.


Thu, 16 Jan 2003 14:14:13 -0800  per:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/gtk2-client.m4

	Move autoconf detection of gtk2 client into its own file, and
	clean it up a bit.

	Patch by Jason Short


Thu, 16 Jan 2003 13:04:25 -0800  jdorje:

	Changed paths:
	   M /trunk/client/control.c

	When changing the focus unit, start the unit blinking from scratch by
	resetting the is_shown flag.

	Issued as PR#2602.


Thu, 16 Jan 2003 12:59:59 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	While running configure, check for zlib before checking for libpng.  Also
	link against zlib when checking for libpng.

	Reported by Anthony Stuckey.  Patch by me as PR#2820.


Thu, 16 Jan 2003 10:23:36 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/citytools.c
	   M /trunk/server/savegame.c

	Remove an unused variable, turn_changed_target, from the city structure.
	This means it no longer needs to be sent to the client.

	Patch from Joona Kiiski <zamar@kiiski.kortex.jyu.fi> as PR#2824 with
	style and comment changes by me.


Wed, 15 Jan 2003 12:19:36 -0800  sebauer:

	Changed paths:
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapclass.h
	   M /trunk/client/gui-mui/mapview.c

	Reimplmented city describtion.
	Fixed bug in function used by unit movement.


Wed, 15 Jan 2003 11:44:18 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Tue, 14 Jan 2003 20:36:50 -0800  jdorje:

	Changed paths:
	   M /trunk/server/savegame.c

	When loading a savegame, correctly interpret the "tech_goal" or
	"researching" tech.

	This fixes a bug in PR#2787.


Tue, 14 Jan 2003 18:35:04 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-sdl/colors.h
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/optiondlg.c

	Drawing coast terrain fix - should work.
	( Fog of War is still buggy and expensive, very expensive :( ).
	Some other code clean and fixing.


Tue, 14 Jan 2003 14:24:07 -0800  jdorje:

	Changed paths:
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	Cleanup to unit_upgrade_price().

	Patch by Erik Sigra as PR#2609 with style changes and added comments by me.


Tue, 14 Jan 2003 06:13:41 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	changed kosciol into swiatynia


Mon, 13 Jan 2003 19:55:12 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Add city style names to GTK+ 1.2 and pictures to GTK+ 2.0 (PR#2810).

	Patch by Frédéric Rodrigo <f.rodrigo@tuxfamily.or with changes by me.


Mon, 13 Jan 2003 15:27:12 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advattitude.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advforeign.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advscience.c
	   M /trunk/ai/advtrade.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-sdl/repodlgs.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c

	Add new tech choices A_UNSET and A_FUTURE (replacing the use of A_NONE for
	both purposes), as well as a query function ai_wants_no_science().

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> as PR#2787 with style
	changes by me.


Mon, 13 Jan 2003 13:24:05 -0800  jdorje:

	Changed paths:
	   M /trunk/acconfig.old
	   M /trunk/m4/debug.m4

	Put DEBUG and NDEBUG into config.h, rather than having them be enabled as
	a part of CFLAGS.  This means it is no longer necessary to "make clean"
	after changing these settings.

	Patch from Raimar Falke and myself as PR#2746.


Mon, 13 Jan 2003 09:37:42 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Another use for the safe unit iterator, file was forgotten in previous
	commit.


Mon, 13 Jan 2003 08:18:58 -0800  per:

	Changed paths:
	   M /trunk/doc/Makefile.am

	Add INSTALL.Cygwin to EXTRA_DIST


Mon, 13 Jan 2003 07:35:29 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Clean up dist_nearest_city(), making it gen topology safe and removing
	arbitrary max distance.

	Patch by Jason Dorje Short <vze49r5w@verizon.net>


Sun, 12 Jan 2003 15:31:22 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Fix for Popup items with slash won't translate (PR#2403).

	Bug reported by the Finnish translation team.
	Cause tracked by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sun, 12 Jan 2003 14:36:24 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.h
	   M /trunk/server/unittools.c

	Add missing updates for PR#2721, closing this issue.


Sun, 12 Jan 2003 14:24:04 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Rename CAN_OCCUPY macro to COULD_OCCUPY


Sun, 12 Jan 2003 14:18:37 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Ensure that AI ferries don't pick up allied units, since we don't really
	know how to handle them. Fixes second half of PR#2721. No behaviour
	changes (also applies to the other #2721 commit).


Sun, 12 Jan 2003 13:58:34 -0800  per:

	Changed paths:
	   M /trunk/INSTALL
	   A /trunk/doc/INSTALL.Cygwin

	Add INSTALL.Cygwin (see S1_14 commit message)


Sun, 12 Jan 2003 13:24:44 -0800  per:

	Changed paths:
	   M /trunk/doc/BUGS

	Update URL to bugtracker.


Sun, 12 Jan 2003 10:04:08 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/data/nation/american.ruleset
	   M /trunk/server/ruleset.c

	Remove the hard-coded limit on the number of leaders that a nation can
	have.  Allocate space for the leaders on-demand, so as not to take up large
	quantities of unused memory.  There is still a limit of MAX_NUM_ITEMS
	(currently 200) leaders imposed by the network code.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> as PR#2598 with changes by
	me.


Sat, 11 Jan 2003 10:21:45 -0800  sebauer:

	Changed paths:
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.c

	Unit move smootly again on the amiga client


Sat, 11 Jan 2003 09:48:20 -0800  sebauer:

	Changed paths:
	   A /trunk/amiga/declgate.h
	   A /trunk/amiga/myregargs.h
	   M /trunk/client/gui-mui/historystringclass.c
	   M /trunk/client/gui-mui/muistuff.h

	Historystring class is more dynaical now. Macros for the MorphOS port added.
	Patch by Ilkka Lehtoranta <ilkleht@isoveli.org> with minor modications by me.


Sat, 11 Jan 2003 09:11:12 -0800  sebauer:

	Changed paths:
	   M /trunk/client/gui-mui/messagewin.c

	Message window is operational again.


Sat, 11 Jan 2003 08:41:44 -0800  sebauer:

	Changed paths:
	   M /trunk/client/audio_amiga.c

	Amiga audio now uses datatypes to play sounds.
	Patch submitted by Ilkka Lehtoranta <ilkleht@isoveli.org>


Sat, 11 Jan 2003 08:24:42 -0800  sebauer:

	Changed paths:
	   M /trunk/amiga/smakefile
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapclass.h
	   M /trunk/client/gui-mui/mapview.c

	Amiga version compiles and works mostly again


Fri, 10 Jan 2003 18:49:10 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/packhand.c

	Remove some moree explicit checks for T_OCEAN tiles, replacing them with
	wrappers.  This is helpful in having more than one type of "ocean"
	terrain.

	Patch by Cameron Morland <cameron@morland.ca> as an addendum to PR#2741
	with style changes by me.


Fri, 10 Jan 2003 02:03:39 -0800  rfalke:

	Changed paths:
	   M /trunk/data/nation/silesian.ruleset

	Add natural city names to the Silesian nation. Change a tech_goal.

	Patch from Mateusz Stefek <matusik_s@o2.pl>.


Fri, 10 Jan 2003 01:47:08 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c

	Also update the unit-info-label (and so the unit-pix-label) also if
	the unit moves _from_ the map position where the focus unit is.

	Reported by Thomas Strub <ue80@rz.uni-karlsruhe.de> as
	(PR#2625). Patch from me.


Fri, 10 Jan 2003 01:38:20 -0800  rfalke:

	Changed paths:
	   M /trunk/server/plrhand.c

	The previous commit stated that "get_invention(x, A_NONE) is always
	TECH_KNOWN". This wasn't true for other players at the client. This is
	fixed now.


Thu, 09 Jan 2003 11:21:18 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapctrl.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.h
	   M /trunk/client/gui-mui/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.h
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/mapctrl_common.h

	Move update_line() into mapctrl_common.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 09 Jan 2003 08:03:43 -0800  rfalke:

	Changed paths:
	   M /trunk/common/government.c
	   M /trunk/common/tech.c

	Remove useless tests for A_NONE since get_invention(x, A_NONE) is
	always TECH_KNOWN.


Thu, 09 Jan 2003 01:42:36 -0800  rfalke:

	Changed paths:
	   M /trunk/m4/gtk-client.m4

	Set the client variable if the gtk client was detected.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 08 Jan 2003 18:36:38 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/goto.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/terrain.h
	   M /trunk/common/unit.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove some explicit checks for T_OCEAN tiles, replacing them with
	wrappers.  This is helpful in having more than one type of "ocean"
	terrain.

	Patch by Cameron Morland <cameron@morland.ca> as PR#2741 with style
	changes by me.


Wed, 08 Jan 2003 12:23:30 -0800  rfalke:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/gtk-client.m4

	Unifiy the testing for the dependencies of the GTK1 client by moving
	the code into a separate file.

	From Jason Dorje Short <jdorje@users.sourceforge.net> with a change
	from me.


Wed, 08 Jan 2003 10:18:50 -0800  chris:

	Changed paths:
	   M /trunk/po/de.po

	updated new strings; corrections by Raimar Falke <rf13@inf.tu-dresden.de> and Frank Osterfeld <frank.osterfeld@dorninger.de>


Wed, 08 Jan 2003 04:24:05 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Tue, 07 Jan 2003 14:10:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/mapctrl.c

	Avoid a segfault in the XAW client when trying to goto to an unreal tile.
	The fix also works in isometric view.

	Reported by William Fletcher <wfletcher@ananzi.co.za>.  Patch by Raimar
	Falke <rf13@inf.tu-dresden.de> as PR#2753.


Tue, 07 Jan 2003 03:16:46 -0800  rfalke:

	Changed paths:
	   M /trunk/diff_ignore

	Add *.png files.


Mon, 06 Jan 2003 02:48:55 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 05 Jan 2003 16:39:02 -0800  per:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/common/combat.c

	Add better error reporting and an assert in get_defender().

	Add macro CHECK_UNIT() for better error catching under
	--enable-debug=yes. Use this on non-virtual units to ensure their
	sanity.

	Sprinkle AI code with said macro.


Sun, 05 Jan 2003 15:28:28 -0800  kauf:

	Changed paths:
	   A /trunk/doc/README.effects

	move effects documentation from buildings.ruleset into a new file
	  doc/README.effects.
	change the "Building" range to "Local" range.
	change some effect ranges in the building.rulesets to something more sane.


Sun, 05 Jan 2003 15:24:52 -0800  kauf:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c

	remove all of the old general effects code with the exception of
	struct impr_effect which is needed to make space parts work.


Sun, 05 Jan 2003 15:19:18 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_id.h
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_tilespec.c
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/mapview.h
	   M /trunk/client/gui-sdl/optiondlg.c

	Small map drawing stabilization ( work again with new draw method )
	but is buggy ( Coast terrain and Fog of War is buggy ).
	Some code clean and fixing. To work need lastest "theme" dir from test-cvs.
	Little ask to all testers, please send me client timing output with yours cpu.


Sun, 05 Jan 2003 15:16:53 -0800  kauf:

	Changed paths:
	   M /trunk/common/improvement.c
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/doc/Makefile.am

	move effects documentation from buildings.ruleset into a new file
	  doc/README.effects.
	change the "Building" range to "Local" range.
	change some effect ranges in the building.rulesets to something more sane.


Sun, 05 Jan 2003 12:51:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-xaw/plrdlg.c

	Provide two new client query functions, can_meet_with_player() and
	can_intel_with_player().  Call these functions from the GUI code to tell
	whether to enable or disable certain buttons.

	Patch by Per I. Mathisen <per@leftist.net> with style changes and added
	#includes by me.


Sun, 05 Jan 2003 12:22:52 -0800  jdorje:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h

	Add a location description line to the unit description, something like
	"in London", "near Oslo" or "far from Paris".  Also move unit_description()
	from common/ into client/, and add several helper functions that can be
	used by GUIs to retreive location descriptions for use elsewhere.

	Patch by Stepan Roh <stepan@srnet.cz> as PR#2690 with style changes by me.


Sun, 05 Jan 2003 07:53:07 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Fix bug in allied victory condition: We would not trigger the win
	condition if there were dead players which weren't allied up. Of course,
	the win condition should be "are all _alive_ players allied".

	Patch by Thomas Strub <ue80@rz.uni-karlsruhe.de> with changes by me.


Sun, 05 Jan 2003 07:34:07 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/Makefile.am
	   A /trunk/client/climap.c
	   A /trunk/client/climap.h
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/aicore/cm.c
	   M /trunk/common/city.c
	   M /trunk/common/improvement.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/gamehand.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Make trade routes and wonder effects depend on clients' idea of
	continents instead of the omniscient server's. This enables the client
	to keep a consistent account of such effects.

	Lots of code moved around. Continent functions from client and server
	have been mostly merged and put into common/map.c.

	WARNING: The code handling generalised improvements and Island-wide
	effects will be broken until generalised effects replaces it.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu>


Sat, 04 Jan 2003 23:08:49 -0800  sebauer:

	Changed paths:
	   M /trunk/client/gui-mui/plrdlg.c

	Removed a comparision


Fri, 03 Jan 2003 03:55:45 -0800  jdorje:

	Changed paths:
	   M /trunk/client/audio_sdl.c
	   M /trunk/client/gui-sdl/graphics.c

	Don't call SDL_Init more than once. The two places where it may be called
	(gui-sdl and sdl_audio) each check to see if the other has already taken
	care of it, and if so just init the subsystem.  A similar thing works for
	SDL_Quit.

	Patch by Rafal Bursig <bursig@poczta.fm> as PR#2700.


Fri, 03 Jan 2003 00:58:48 -0800  jdorje:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/capstr.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/tech.h
	   M /trunk/data/default/buildings.ruleset
	   M /trunk/data/default/techs.ruleset
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/buildings.png
	   A /trunk/data/misc/buildings.spec
	   A /trunk/data/misc/techs.png
	   A /trunk/data/misc/techs.spec
	   M /trunk/data/trident.tilespec
	   M /trunk/server/ruleset.c

	Provide graphics for technologies (advances) and improvements (buildings).
	The name of the sprite to use is specified in the ruleset at the server
	side, then sent to the client where it is loaded from the tileset.  Only
	the SDL client uses the graphics at this time.

	Issued as PR#2437.  Patch by Rafal Bursig <bursig@poczta.fm> with style
	and comment changes by me. Improvement graphics by Tim F. Smith
	<yoohootim@hotmail.com> (as part of the Hires Civ2 modpack). Tech graphics
	by Rafal Bursig.  Tileset specfiles by Rafal Bursig and myself.


Thu, 02 Jan 2003 09:26:58 -0800  kauf:

	Changed paths:
	   M /trunk/client/mapview_common.h

	add a 'struct unit;' declaration.


Thu, 02 Jan 2003 04:52:48 -0800  glip:

	Changed paths:
	   M /trunk/ai/aitools.c

	Fix division by zero bug in military_amortize.


Thu, 02 Jan 2003 03:59:29 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Rewrite military_amortize function and move it to ai/aitools.c
	This fixes overflow in old military_amortize (PR#2650) and also makes
	the function itself easier to understand.  Also change the signature of
	create_unit_virtual, which now assigns a homecity to the proposed unit.

	Patch by Per I. Mathisen <per@leftist.net>, original bug report by me.


Wed, 01 Jan 2003 19:02:16 -0800  jdorje:

	Changed paths:
	   M /trunk/server/unithand.c
	   M /trunk/server/unithand.h

	Cleanup to handle_upgrade_unittype_request().

	Patch by Erik Sigra <freeciv@home.se> as PR#2566 with style changes and
	added comments by me.


Wed, 01 Jan 2003 17:35:30 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Avoid segfaulting when "civclient -t isotrident" is used with the XAW
	client.  This also correctly initializes the "current tileset" option
	string even when --tiles is not specified.

	Issued as PR#2679.


Wed, 01 Jan 2003 13:16:44 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c

	Fixed main map focus problems on GTK+ 2.0 (PR#2613).

	Bug reported by Nir Peled <Techdeck@Techdeck.org>.


Wed, 01 Jan 2003 03:51:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/gotodlg.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/packhand.c

	Introduce two new functions, can_client_issue_orders() and
	can_client_change_view(), that should be queried before allowing the user
	to take these actions. Add a lot of queries to these functions, in place
	of manual checks of the client state and in other places where no check was
	done. Remove kludge whereby CLIENT_GAME_OVER_STATE was ignored.

	Patch by Davide Pagnin <nightmare@freeciv.it> as PR#1883.  This is also
	likely to fix PR#533 and PR#2071.


Tue, 31 Dec 2002 10:15:49 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h

	Add functions turns_to_enemy_city and turns_to_enemy_unit to estimate the
	time needed to reach the enemy city/unit, possibly with the aid of
	ferryboats.  Also add the function best_role_unit_for_player to get the
	best ferry type available to a player.

	Patch was improved following useful suggestions from Raahul Kumar, Per
	Mathisen and Mike Kaufman.


Tue, 31 Dec 2002 09:18:49 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Clean up ai_manage_units.  No change of behaviour.

	Patch by Per I. Mathisen <per@leftist.net>


Tue, 31 Dec 2002 03:02:44 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	Admins upated.
	Now de.po and the German docs will be maintained
	by Christian Knoke <chrisk@enter.de>.


Mon, 30 Dec 2002 19:57:46 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Some city dialog changes:
	  - Make modal city dialogs truly modal instead of using insensitivity hack.
	  - Use gtk_window_present instead of gdk_window_raise. This fixes a window
	    focus problem.
	  - Center city dialog on mouse instead of positioning relative to parent.


Mon, 30 Dec 2002 19:32:18 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Swap dialog button order to comply with GTK+ 2.0 right-to-left style.


Mon, 30 Dec 2002 15:22:44 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/graphics.c

	Ops.. One patch to far (small fix)


Mon, 30 Dec 2002 13:40:50 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/gui-sdl/README.SDLClient
	   M /trunk/client/gui-sdl/chatline.c
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/citydlg.h
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/connectdlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/graphics.h
	   M /trunk/client/gui-sdl/gui_iconv.c
	   M /trunk/client/gui-sdl/gui_main.c
	   M /trunk/client/gui-sdl/gui_main.h
	   M /trunk/client/gui-sdl/gui_mem.h
	   M /trunk/client/gui-sdl/gui_string.c
	   M /trunk/client/gui-sdl/gui_stuff.c
	   M /trunk/client/gui-sdl/gui_stuff.h
	   A /trunk/client/gui-sdl/gui_tilespec.c
	   A /trunk/client/gui-sdl/gui_tilespec.h
	   M /trunk/client/gui-sdl/mapctrl.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-sdl/menu.c
	   M /trunk/client/gui-sdl/optiondlg.c
	   M /trunk/client/gui-sdl/repodlgs.c

	Code clean and compiles fixes , large part of PR#2582 ( but not all ).
	SDLClient still need tech_imprv graphic (PR#2437) patch
	to build without error.


Mon, 30 Dec 2002 12:57:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a bug in isometric-view drawing that caused roads to sometimes be
	drawn over rails.

	Originally reported by Rafal Bursig <bursig@poczta.fm>.  Issued as PR#2610.


Mon, 30 Dec 2002 11:56:02 -0800  andi:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/win32-client.m4

	Modularized check for win32 client
	Patch by Jason Dorje Short


Mon, 30 Dec 2002 07:36:03 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/citydlg.h
	   M /trunk/client/gui-win32/mapview.c

	some more tileset change fixes


Sun, 29 Dec 2002 18:32:02 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.h
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	New intl_slist function. No more memory leaks.


Sun, 29 Dec 2002 10:39:09 -0800  kauf:

	Changed paths:
	   M /trunk/ai/aidiplomat.c

	add #include config.h this fixes 2593

	Patch by Jason Short


Sun, 29 Dec 2002 08:31:31 -0800  jdorje:

	Changed paths:
	   M /trunk/server/citytools.c

	Initialize ai.already_considered_for_diplomat when creating a new city.

	Reported as PR#2666.  Patch by Per I. Mathisen <per@leftist.net>.


Sat, 28 Dec 2002 12:37:48 -0800  kauf:

	Changed paths:
	   M /trunk/common/netintf.h
	   M /trunk/utility/netintf.h

	make Solaris compile cleanly

	Patch by Per


Sat, 28 Dec 2002 12:36:18 -0800  kauf:

	Changed paths:
	   M /trunk/ai/aidata.c

	fix obvious bug:

	MAX_NUM_PLAYERS * MAX_NUM_BARBARIANS ->
	MAX_NUM_PLAYERS + MAX_NUM_BARBARIANS

	Patch by Per


Wed, 25 Dec 2002 05:17:44 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h

	Additional cleanup of find_something_to_kill.  In particular, removed
	a couple of excessive ai_fuzzys and also removed assumption that enemy
	will build a wall before we get to their city.

	Patch by Per I. Mathisen <per@leftist.net>


Tue, 24 Dec 2002 14:42:49 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c

	Renamed some function calls and variable declarations:
	  struct cma_parameter -> struct cm_parameter.
	  struct cma_result -> struct cm_result.
	  cma_are_parameter_equal() -> cm_are_parameter_equal().
	  cma_query_result() -> cm_query_result().
	  cma_get_stat_name() -> cm_get_stat_name().

	This allows one to compile the GTK+ 2.0 client once again after the changes
	made by splitting the calculations part of the CMA into general city
	management code on December the 21st.


Tue, 24 Dec 2002 14:35:46 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Port buy and unit upgrade dialogs to GTK+ 2.0.
	Remove unused entries from the struct city dialog declaration.


Tue, 24 Dec 2002 14:28:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Minor cosmetic changes.
	Decrease city name and city production font size a bit to look better when
	using XFT.


Tue, 24 Dec 2002 14:26:31 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/repodlgs.c

	Eliminate an unnecessary variable and change a g_signal_connect_swapped call
	to g_signal_connect.


Tue, 24 Dec 2002 14:24:44 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Center notify goto dialog on parent instead of centering on the mouse.


Tue, 24 Dec 2002 14:22:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/inteldlg.c

	Port inteligence dialog to GTK+ 2.0.


Tue, 24 Dec 2002 14:19:51 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Shrink fonts a bit to look better when using XFT.


Tue, 24 Dec 2002 11:40:36 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Cleanup of find_something_to_kill.  Savegames identical.


Tue, 24 Dec 2002 11:38:50 -0800  glip:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Cleanup of kill_something_with.  Also removed unreachable code from
	process_attacker_want and made sure an error message is printed if this
	place is ever reached.


Tue, 24 Dec 2002 10:25:52 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Revert a change from previous commit where it was claimed
	"a bug in ai_military_attack where condition triggering ai_unit_attack
	was inverted".  The condition was ok and is restored.  The cleanup stays
	in.


Tue, 24 Dec 2002 10:08:36 -0800  glip:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c

	Fix a bug in ai_military_attack where condition triggering ai_unit_attack
	was inverted.  Do some additional cleanup: make ai_unit_attack and
	ai_military_rmapage return bool (FALSE if the unit been KIA).

	Ref: (PR#2633) and (PR#2634)
	Reported and fixed by Per I. Mathisen <per@leftist.org>.  Cleanup by me.


Mon, 23 Dec 2002 10:09:58 -0800  glip:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aihand.c

	This patch should improve AI's evaluation of Democracy and Communism, and
	handling of Democracy. Most importantly, it moves changing taxes _after_
	changing government. Also adds the possibility of rather detailed view on
	exactly what you get with the various governments - change #undef ANALYSE
	to #define ANALYSE to see this data.

	Patch by Per I. Mathisen <per@leftist.net>, weights adjustments by
	Thomas Strub <ue80@rz.uni-karlsruhe.de> and an ai_eval_calc_city tweak by
	me.


Sun, 22 Dec 2002 13:11:34 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	makes it compile again with gcc-2.95


Sun, 22 Dec 2002 11:40:19 -0800  glip:

	Changed paths:
	   M /trunk/common/aicore
	   A /trunk/common/aicore/.cvsignore

	Add .cvsignore file to the (relatively) new directory.


Sun, 22 Dec 2002 10:55:23 -0800  kauf:

	Changed paths:
	   M /trunk/client/agents/cma_core.h
	   M /trunk/common/aicore/Makefile.am
	   M /trunk/common/aicore/cm.c

	Fix additional compile problems in cm_core -> cm rename.


Sun, 22 Dec 2002 10:14:43 -0800  glip:

	Changed paths:
	   M /trunk/ai/aiair.c

	Use unit_type_iterate when we do unit type iterate.


Sun, 22 Dec 2002 10:02:16 -0800  glip:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Amendment to the CodingStyle to outlaw "if(" in favour of "if (".  This
	agrees with "indent -kr".


Sun, 22 Dec 2002 09:59:11 -0800  glip:

	Changed paths:
	   A /trunk/common/aicore/cm.c
	   A /trunk/common/aicore/cm.h
	   D /trunk/common/aicore/cm_core.c
	   D /trunk/common/aicore/cm_core.h

	Rename cm_core.[ch] to just cm.[ch], since the "core" bit is already
	reflected in the directory name.


Sun, 22 Dec 2002 05:45:35 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	remove some warnings


Sun, 22 Dec 2002 05:40:55 -0800  andi:

	Changed paths:
	   M /trunk/common/aicore/Makefile.am

	make freeciv compile again


Sun, 22 Dec 2002 05:12:09 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/mapview.c

	first part of supporting runtime tileset switching


Sun, 22 Dec 2002 05:08:57 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/optiondlg.c

	Fix several bugs in the local options dialog. Reported by various


Sat, 21 Dec 2002 06:19:06 -0800  per:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/agents/Makefile.am
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/agents/cma_fec.h
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/Makefile.am
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/Makefile.am
	   M /trunk/client/gui-sdl/Makefile.am
	   M /trunk/client/options.c
	   M /trunk/common/Makefile.am
	   A /trunk/common/aicore
	   A /trunk/common/aicore/Makefile.am
	   A /trunk/common/aicore/cm_core.c
	   A /trunk/common/aicore/cm_core.h
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Splitting out the calculations part of CMA into general city management
	code. Create new directory and library in common/aicore/.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> with adaptions by me.


Sat, 21 Dec 2002 03:56:44 -0800  per:

	Changed paths:
	   M /trunk/doc/README.AI

	Remove comment about AI not being able to go to Democracy or
	Fundamentalism.


Sat, 21 Dec 2002 03:44:00 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aidata.h
	   M /trunk/ai/aihand.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitools.c

	Rewrite of the AI's research and evaluation of governments. The code
	dealing directly with this is simpler, yet it properly evaluates all
	governments (even modpack ones) by calculating the exact benefits
	derived from each. We amortize research want for governments based on
	tech tree distance and want is relative to benefit.

	This less hard-coded approach has two disadvantages: The AI can get
	distracted from getting to Republic in some cases by excessive want
	for other techs, and the tech dialog will often show intermediary techs
	to Republic instead of Republic as tech goal.


Sat, 21 Dec 2002 03:33:06 -0800  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Reorganize ai_gothere(), sprinkle it with luminous comments and fix
	another goto bug that I created there in a previous commit.


Sat, 21 Dec 2002 03:00:21 -0800  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Further settlers.c cleanup, and also fix an embarrasing bug that crept
	into the previous cleanup which prevented most cities from being
	established where they should due to lack of saved goto destinations.


Sat, 21 Dec 2002 01:59:39 -0800  per:

	Changed paths:
	   M /trunk/common/city.h

	Clean up some citymap iterators. Remove city_radius_iterate, which was
	never used and would never have worked. map_city_radius_iterate now
	merely calls city_map_checked_iterate with two arguments less.

	Patch by Jason Short <jdorje@users.sourceforge.net> and Gregory
	Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Sat, 21 Dec 2002 01:50:16 -0800  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Clean up activity and goto handling in settlers code.  Remove
	auto_settler_do_goto(), and instead use the new AI goto wrappers.


Sat, 21 Dec 2002 01:45:42 -0800  per:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/stdinhand.c

	Fix bug in teams code that would core dump server because of division by
	zero if you created a team with one member which you later /remove'd
	from the game, leading to a zero member team. This patch disallows zero
	member teams and also ensures such teams do not take down the server.


Sat, 21 Dec 2002 01:39:23 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c

	Stop AI units from going idle every turn or every time we considering
	doing an action (like moving or attacking). Instead, only go idle when
	we really need to. Change all activity handling to use
	handle_unit_activity_request in ai/ code. Now AI units will fortify
	properly and stay fortified.


Fri, 20 Dec 2002 07:47:43 -0800  raffaelo:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c

	use of get_citizens_sprite(...) funct.


Fri, 20 Dec 2002 05:03:39 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Fri, 20 Dec 2002 04:28:45 -0800  rfalke:

	Changed paths:
	   M /trunk/data/helpdata.txt
	   M /trunk/data/nation/zulu.ruleset

	Fix syntax errors.

	Reported by Jason Short. Patch by me.


Fri, 20 Dec 2002 02:55:45 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	2 corrections by Frank Osterfeld <frank.osterfeld@dorninger.de>


Thu, 19 Dec 2002 06:54:29 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Thu, 19 Dec 2002 03:33:49 -0800  glip:

	Changed paths:
	   M /trunk/client/packhand.c

	Fix the bug where freshly upgraded unit could not use it's newly acquired
	abilities immediately.
	Issued as (PR#2606).

	Reported by Benoit Hudson <bh@techhouse.brown.edu>.
	Patch by Christian Knoke <chrisk@enter.de>.


Thu, 19 Dec 2002 03:16:43 -0800  glip:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/server/mapgen.c

	Add define CITY_TILES for the number of tiles a city can see/use.
	Use this define in various places.

	Patch by Karen Yeats <kayeats@student.math.uwaterloo.ca>


Wed, 18 Dec 2002 22:29:20 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c

	Fix a bug that could cause bizarre nation selection dialog behavior if
	the number of leaders in a nation was greater than the total number of
	nations.  Also remove dependence on MAX_NUM_NATIONS global definition.

	Issued as PR#2605.


Wed, 18 Dec 2002 14:00:01 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/gui-gtk/cityrep.c

	Provide a common function to compare two city report fields - it tries to
	guess whether to compare them as numbers or as text.  Using this compare
	function allows better (although not perfect) sorting of the city report
	fields.  Support for the GTK client is included.

	Issued as PR#949; bug reported by many.  Patch by Raimar Falke
	<rf13@inf.tu-dresden.de>, Christian Knoke <chrisk@enter.de>, and myself.


Wed, 18 Dec 2002 11:46:04 -0800  kauf:

	Changed paths:
	   M /trunk/INSTALL

	Update for GTK+-2.0 client

	Patch by Vasco Alexandre Da Silva Costa <vasc@rnl.ist.utl.pt>


Wed, 18 Dec 2002 11:05:22 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/client/civclient.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/netintf.c
	   M /trunk/common/shared.h
	   M /trunk/server/airgoto.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/report.c
	   M /trunk/utility/netintf.c
	   M /trunk/utility/shared.h

	Various cleanups:
	 - ignore return values explicitly by casting the value to void
	 - replace "0" with "FALSE"
	 - change comparisons to yield boolean values
	 - change return type of is_stack_vulnerable from int to bool
	 - initialize all fields in GEN_OPTION_TERMINATOR
	 - use booleans where it is appropriate in the client options
	 load/save code
	 - check result of fwrite
	 - remove useless floor(int) calls


Wed, 18 Dec 2002 09:36:20 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aiair.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aidiplomat.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/client/tilespec.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/combat.c
	   M /trunk/common/combat.h
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/genlist.c
	   M /trunk/common/genlist.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/inputfile.c
	   M /trunk/common/inputfile.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/sbuffer.c
	   M /trunk/common/sbuffer.h
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/barbarian.c
	   M /trunk/server/barbarian.h
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h
	   M /trunk/server/console.c
	   M /trunk/server/console.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/report.c
	   M /trunk/server/report.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/ruleset.h
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unithand.h
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h
	   M /trunk/utility/genlist.c
	   M /trunk/utility/genlist.h
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/inputfile.h
	   M /trunk/utility/sbuffer.c
	   M /trunk/utility/sbuffer.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Make functions static which are used only in their file.


Wed, 18 Dec 2002 08:14:14 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Removing ifdef'ed obsolete code


Wed, 18 Dec 2002 07:59:28 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move move_unit_map_canvas from the various mapview.c files into
	mapview_common.c. The new move_unit_map_canvas needs GUI-specific
	support in form of the new function draw_unit_animation_frame.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Wed, 18 Dec 2002 05:24:08 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-sdl/colors.c
	   M /trunk/client/gui-win32/colors.c
	   M /trunk/client/gui-xaw/colors.c
	   M /trunk/client/include/colors_g.h

	Remove unused function color_error.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>. Patch
	from Jason Dorje Short <jdorje@users.sourceforge.net> with changed
	from me.


Wed, 18 Dec 2002 05:08:13 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-beos/Defs.hpp
	   M /trunk/client/gui-beos/MainWindow.cpp
	   M /trunk/client/gui-beos/helpdlg.cpp
	   M /trunk/client/include/helpdlg_g.h

	Remove the unused function popup_help_dialog.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>. Patch
	from me.


Tue, 17 Dec 2002 22:43:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/data/trident/roads.png
	   M /trunk/data/trident/roads.spec

	When drawing diagonal roads and rails, draw "corner" road/rail sprites on
	the corners of the tiles the transport is passing between.  This prevents a
	discontinuity in the transport graphics.  Support for corner rails for the
	trident tileset is included.

	Bug reported as PR#2408 by Peter Cook <freeciv@maubp.freeserve.co.uk>.
	Patch by Thue Janus Kristensen <thue@diku.dk> and myself.  Trident graphics
	by Thue Janus Kristensen.


Tue, 17 Dec 2002 17:09:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Don't crash if the user tries to use a non-isometric tileset when using
	a client that supports only isometric mode.

	Issued as PR#2554.


Tue, 17 Dec 2002 14:41:04 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/colors.c
	   M /trunk/client/gui-xaw/colors.h
	   M /trunk/client/gui-xaw/graphics.c

	Move XAW color allocation into colors.c, clean it up somewhat, and remove
	the use of a private colormap when we run out of colors (instead we just
	allocate best-match colors from the current colormap).

	Patch by Vasco Alexandre Da Silva Costa <vasc@rnl.ist.utl.pt> as PR#2484,
	with style and comment changes by me.


Tue, 17 Dec 2002 14:40:57 -0800  rfalke:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Fix syntax errors. Limit the american leaders to 16.

	Reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 17 Dec 2002 13:32:19 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Tue, 17 Dec 2002 12:10:19 -0800  rfalke:

	Changed paths:
	   M /trunk/data/nation/american.ruleset
	   M /trunk/data/nation/babylonian.ruleset
	   M /trunk/data/nation/barbarian.ruleset
	   M /trunk/data/nation/danish.ruleset
	   M /trunk/data/nation/egyptian.ruleset
	   M /trunk/data/nation/english.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/french.ruleset
	   M /trunk/data/nation/greek.ruleset
	   M /trunk/data/nation/irish.ruleset
	   M /trunk/data/nation/roman.ruleset
	   M /trunk/data/nation/viking.ruleset
	   M /trunk/data/nation/zulu.ruleset

	Add leaders.

	Patch from Eric S. Raymond <esr@snark.thyrsus.com>.


Tue, 17 Dec 2002 12:04:07 -0800  rfalke:

	Changed paths:
	   M /trunk/data/nation/filipino.ruleset

	The file was set to size 0 by the previous commit. Restore it with the
	city_style set to Asian.


Tue, 17 Dec 2002 11:55:34 -0800  rfalke:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Add hint where to find the buy button.

	Patch from Eric S. Raymond <esr@snark.thyrsus.com>.


Tue, 17 Dec 2002 11:54:29 -0800  rfalke:

	Changed paths:
	   M /trunk/data/default/nations.ruleset

	Remove old comment referring to the 64 nations limit.

	Patch from Eric S. Raymond <esr@snark.thyrsus.com>.


Tue, 17 Dec 2002 08:04:44 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advattitude.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advforeign.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advscience.c
	   M /trunk/ai/advtrade.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aitech.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/settlers.c

	Initialize all members of struct ai_choice by using init_choice.

	Initialize two variables to remove the dependency on unset memory.

	Reported as 2518 by Mike Kaufman
	<kaufman@orion.physics.wisc.edu>. Patch from Per I. Mathisen
	<per@leftist.net> with changes from me.


Tue, 17 Dec 2002 07:56:57 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	rättelse


Tue, 17 Dec 2002 07:14:48 -0800  rfalke:

	Changed paths:
	   M /trunk/server/civserver.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h

	Cleanup the exit handling of the server:
	 - add a new function server_quit which is the only exit point for
	 non-failure server exits
	 - make quit_game static
	 - add some documentation


Tue, 17 Dec 2002 06:57:54 -0800  rfalke:

	Changed paths:
	   M /trunk/server/citytools.c

	Move a call of maybe_make_first_contact up to get the correct tile
	status.

	Reported as PR#2467 by Christian Knoke <chrisk@enter.de>. Patch from
	me.


Mon, 16 Dec 2002 22:14:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cma_fe.c

	Prevent a crash when you close the city dialog while the "add new preset"
	CMA button is open.

	Reported as PR#2578.  Patch by Raimar Falke.


Mon, 16 Dec 2002 16:50:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/data/isotrident.tilespec
	   M /trunk/data/trident.tilespec
	   M /trunk/doc/README.graphics

	If a tileset sets tilespec.is_mountainous to TRUE, then blend hills and
	mountains together.  Set is_mountainous for trident and isotrident to
	FALSE.  Add documentation for this and other options.

	Issued as PR#2378.  Patch by Rafal Bursig <bursig@poczta.fm> and myself.


Mon, 16 Dec 2002 14:45:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Add a function build_tile_data to the tilespec code, and call this
	function in place of identical code in fill_tile_sprite_array and
	fill_tile_sprite_array_iso.

	Issued as PR#2531.


Mon, 16 Dec 2002 11:36:54 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/README.graphics

	Document the new flexiblity related to citizen type sprites.

	Patch from Jason Short <jdorje@users.sourceforge.net>.


Mon, 16 Dec 2002 10:45:22 -0800  techdeck:

	Changed paths:
	   M /trunk/po/he_IL.po

	Update he_IL.po file


Mon, 16 Dec 2002 09:03:27 -0800  rfalke:

	Changed paths:
	   M /trunk/server/plrhand.c

	Change the event-type of a message from E_NOEVENT to
	E_ENEMY_DIPLOMAT_THEFT.

	Report and patch from Christian Knoke <chrisk@enter.de>.


Sun, 15 Dec 2002 21:35:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/packhand.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h

	Display the expected income for this turn instead of the actual income
	from last turn as the "Net Income" on the nation popup.

	Reported as PR#2430 by Christian Knoke <chrisk@enter.de>.  Patch by me.


Sun, 15 Dec 2002 19:26:22 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	rättelse


Sun, 15 Dec 2002 19:13:26 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	rättelse


Sun, 15 Dec 2002 18:57:58 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	rättelse


Sun, 15 Dec 2002 18:43:31 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	rättelse


Sun, 15 Dec 2002 16:38:10 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Cleanup.


Sun, 15 Dec 2002 14:43:47 -0800  rfalke:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-xaw/citydlg.c

	Create a new function get_city_citizen_types which fills an array of
	enum citizen_type with the values for a city. This was previously done
	with almost identical code in all GUIs.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net> with
	changes from me.


Sun, 15 Dec 2002 13:51:51 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	Do not export the nuke_children function.


Sun, 15 Dec 2002 13:46:19 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	New GTK+ 2.0 popup_notify_goto_dialog.

	Simplified popdown_all_game_dialogs function. It will now close all toplevel
	windows.


Sun, 15 Dec 2002 12:58:00 -0800  vasc:

	Changed paths:
	   M /trunk/po/pt.po

	Updated Portuguese translation.


Sun, 15 Dec 2002 11:26:37 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.h
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	New GTK+ 2.0 input dialog. This also fixes the bug when creating a new CMA
	entry.


Sun, 15 Dec 2002 11:17:30 -0800  vasc:

	Changed paths:
	   M /trunk/configure.in

	Forgot to add he_IL to ALL_LINGUAS also in configure.in.


Sun, 15 Dec 2002 10:55:00 -0800  vasc:

	Changed paths:
	   M /trunk/configure.ac
	   A /trunk/po/he_IL.po

	Added Hebrew .po file.

	Translations by Nir Peled <Techdeck@Techdeck.org>.


Sat, 14 Dec 2002 16:38:23 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.h
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/messagewin.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.h
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.h

	Implement popdown_all_game_dialogs for the GTK+ 2.0 client.  This prevents
	unstable behavior from players trying to use these dialogs after
	disconnecting.

	Issued as PR#2441.

	Based on the GTK+ 1.2 patch by Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 14 Dec 2002 02:26:43 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/m4/sdl-client.m4

	Check for -lbind in the server.  Check for -lsocket, -lbind, and iconv
	libraries when compiling the SDL client.  This improves compilation on
	BeOS and probably other systems.

	Reported by Bernd Korz <bernd.korz@insidebeos.de> PR#2541.


Fri, 13 Dec 2002 17:29:32 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c

	Change an erronous use of T_LAST_CITIZEN into CITIZEN_LAST.

	Fixes a bug introduced by the application of PR#2516.


Fri, 13 Dec 2002 17:13:17 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/dialogs.c

	Change some "int" to "bool".  This also prevents a compiler warning.

	Issued as PR#2562.


Fri, 13 Dec 2002 11:15:13 -0800  rfalke:

	Changed paths:
	   M /trunk/client/citydlg_common.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-sdl/mapview.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Add enum citizen_type to provide a symbol for the various citizen
	types (instead of using 0,1,2 and so on). This enum is currently used
	for code related to get_citizen_sprite.

	Add the ability for the tileset to specify multiple sprites for the
	various citizen types. Previously only one sprite was allowed for the
	specialists and two (male, female) for the other 4 citizen types.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net> with
	style changes from me.


Fri, 13 Dec 2002 10:10:34 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Make sure that the parent isn't destroyed under our feets. A reference
	prevents this.

	Reported as PR#2534 by Michael Lucas
	<mwlucas@blackhelicopters.org>. Patch from Raimar Falke
	<rf13@inf.tu-dresden.de>.


Thu, 12 Dec 2002 13:02:39 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Re-initialize single_tile_pixmap data when changing the tileset, so that
	animations will work properly.

	Issued as PR#2532.


Thu, 12 Dec 2002 06:52:35 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Thu, 12 Dec 2002 01:19:44 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/repodlgs.c

	Put some more Polish texts into English.

	Patch by Mateusz Stefek with changes from me.


Wed, 11 Dec 2002 19:05:00 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/cma_fe.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/gui_main.c

	Some trivial compile fixes for gui-sdl.


Wed, 11 Dec 2002 11:37:07 -0800  jdorje:

	Changed paths:
	   M /trunk/client/options.c

	Fix a compile warning (that only shows up with --disable-nls).

	Issued as PR#2542.


Wed, 11 Dec 2002 09:06:56 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Wed, 11 Dec 2002 07:29:25 -0800  rfalke:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Spelling fix.

	Reported by Erik Sigra <sigra@home.se>.


Wed, 11 Dec 2002 02:39:43 -0800  jdorje:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/hash.c
	   M /trunk/common/idex.c
	   M /trunk/common/inputfile.c
	   M /trunk/common/ioz.c
	   M /trunk/common/mem.c
	   M /trunk/common/nation.c
	   M /trunk/common/packets.c
	   M /trunk/common/player.c
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/common/tech.c
	   M /trunk/common/unit.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/utility/hash.c
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/ioz.c
	   M /trunk/utility/mem.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Replace fatal-code-error handling (typically abort or assert+exit) with a
	function die() that logs the error, (sometimes) dumps core, and then exits.
	Fatal-user-error cases are unchanged.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> as PR#2333.


Tue, 10 Dec 2002 05:02:08 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Tue, 10 Dec 2002 03:08:57 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 09 Dec 2002 15:48:27 -0800  jdorje:

	Changed paths:
	   M /trunk/server/srv_main.c

	Mark some server-generated messages for translation.  This should mean
	all such messages are now translated.

	Patch by Christian Knoke <chrisk@enter.de> as PR#2505.


Mon, 09 Dec 2002 14:49:33 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix bug in ai_military_findvictim() where patt is made NULL by
	get_attacker() and then is attempted made use of.

	Patch by Jordi Negrevernis i Font <jorneg@retemail.es>


Mon, 09 Dec 2002 09:46:48 -0800  jdorje:

	Changed paths:
	   M /trunk/common/shared.h
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/utility/shared.h

	When defining the bool type and TRUE and FALSE values, if stdbool.h is
	present use that file instead of implementing this ourselves.  If __BEOS__
	is defined, use a special BeOS header file to get the typedef, thus fixing
	a compile error on BeOS.

	Reported as PR#2461 by Bernd Korz.  Patch by Raimar Falke and myself.


Mon, 09 Dec 2002 07:51:42 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix typo


Mon, 09 Dec 2002 07:47:48 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Previous commit to break infinite loops in ai_unit_rampage() gave false
	positives in cases of railroading into empty cities and huts. Now fixed.


Sun, 08 Dec 2002 17:50:09 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c

	Fix cause of infinite loops happening in ai_unit_rampage(): A unit in
	sentry activity attempts to move into hut or empty city. This sets units
	to correct activity when attempting move or attack.


Sun, 08 Dec 2002 16:32:12 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Abort possibly infinite loop in ai_unit_rampage() when we are unable to
	move or attack our target.

	Patch by Jordi Negrevernis i Font <jorneg@retemail.es> with changes by
	me.


Sun, 08 Dec 2002 16:23:49 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/common/unit.h

	Make AI units return to heal when badly damaged (less than 25% hp).

	Patch by Jordi Negrevernis i Font <jorneg@retemail.es> with changes by
	me.


Sun, 08 Dec 2002 15:51:31 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated (21 untranslated)


Sun, 08 Dec 2002 15:42:37 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/stdinhand.c

	Style and general cleanup for AI code. No behaviour changes.


Sun, 08 Dec 2002 14:55:24 -0800  vasc:

	Changed paths:
	   M /trunk/client/clinet.c
	   M /trunk/common/ioz.h
	   M /trunk/common/netintf.c
	   M /trunk/common/netintf.h
	   M /trunk/server/meta.c
	   M /trunk/utility/ioz.h
	   M /trunk/utility/netintf.c
	   M /trunk/utility/netintf.h

	Renamed fc_lookup_host to net_lookup_service.
	net_lookup_service fills in all the service information (hostname:port) so
	there is less code duplication.
	Added new my_querysocket function to common/netintf.c.

	Thanks go to Raimar Falke <rf13@inf.tu-dresden.de> for some pertinent
	suggestions.


Sun, 08 Dec 2002 05:57:25 -0800  per:

	Changed paths:
	   M /trunk/doc/README.AI

	Add info on 'experimental' difficulty level and remove wishlist items that have
	been fixed or implemented.


Sun, 08 Dec 2002 03:31:12 -0800  rfalke:

	Changed paths:
	   M /trunk/server/savegame.c

	Save the attributes under a different name. The new attribute format
	(introduced with dataio 2002-09-19) can't be read by an old client. If
	we save the new attributes under a different name the old server won't
	load the new attributes.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from Raimar Falke
	<rf13@inf.tu-dresden.de>.


Sun, 08 Dec 2002 02:43:10 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unittools.c

	Update the occupied flag if the last defender of a city is destroyed.

	Reported as 2392 and 2493 by me and Christian Knoke
	<chrisk@enter.de>. Patch from me.


Sat, 07 Dec 2002 06:41:23 -0800  glip:

	Changed paths:
	   M /trunk/server/mapgen.c

	For map generators 0, 1 and 5 improve the starter position allocation.
	It is now more fair and more stable.

	Patch by Karen Yeats <kayeats@uwaterloo.ca> with approved changes from
	myself.


Sat, 07 Dec 2002 01:59:18 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/graphics.h
	   M /trunk/client/gui-win32/graphics.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Move identical get_citizen_sprite from mapview.c into tilespec.c.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 06 Dec 2002 14:25:12 -0800  rfalke:

	Changed paths:
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/mapview_common.c

	Move the handling of double drawn segments from
	mapview.c:(un)draw_segment to goto.c:{increment,decrement}_drawn. This
	allows to make increment_drawn and decrement_drawn static.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net> with
	changes from me.


Fri, 06 Dec 2002 13:45:41 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c

	Swap the order of some buttons to obey the GTK+ 2.0 style guide.


Fri, 06 Dec 2002 11:12:51 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl/citydlg.c
	   M /trunk/client/gui-sdl/dialogs.c
	   M /trunk/client/gui-sdl/graphics.c
	   M /trunk/client/gui-sdl/gui_main.c

	Put many of the game texts for the SDL-client into English.

	Patch by Mateusz Stefek <matusik_s@o2.pl> with style changes from me.


Fri, 06 Dec 2002 07:13:32 -0800  rfalke:

	Changed paths:
	   M /trunk/common/inputfile.c
	   M /trunk/common/inputfile.h
	   M /trunk/common/ioz.c
	   M /trunk/common/ioz.h
	   M /trunk/common/registry.c
	   M /trunk/common/registry.h
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/inputfile.h
	   M /trunk/utility/ioz.c
	   M /trunk/utility/ioz.h
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h

	Rename foobar_fromFile to foobar_from_file and foobar_fromFP to
	foobar_from_stream because the old version violates the style guide.

	Change FILE to fz_FILE. Because we use fz_FILE internally anyway.

	Unify inf_from_file with inf_from_stream.


Fri, 06 Dec 2002 06:55:48 -0800  rfalke:

	Changed paths:
	   M /trunk/common/rand.c
	   M /trunk/utility/rand.c

	Remove the special case of myrand(0). myrand(0) and myrand(1) now
	always return 0.

	Patch from Cameron Morland <cameron@morland.ca> and me.


Thu, 05 Dec 2002 19:47:09 -0800  kauf:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/city.h

	Improvements that depend on being adjacent to ocean tiles are sold if the
	city housing them becomes landlocked. Previously, the improvements types
	were hardcoded. Now we pay attention to the specification in
	buildings.ruleset.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> with some changes by me.


Thu, 05 Dec 2002 18:41:40 -0800  kauf:

	Changed paths:
	   M /trunk/server/unittools.c

	Improvements that depend on being adjacent to ocean tiles are sold if the
	city housing them becomes landlocked. Previously, the improvements types
	were hardcoded. Now we pay attention to the specification in
	buildings.ruleset.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> with some changes by me.


Thu, 05 Dec 2002 14:22:34 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c

	Fix a bug that prevented angry citizens from being shown in the main
	panel of the city dialog window in gui-gtk and gui-gtk-2.0.

	Issued as PR#2489.


Thu, 05 Dec 2002 12:26:39 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/helpdlg.c

	resize the help dialog properly
	bug reported by Raimar Falke


Wed, 04 Dec 2002 09:47:48 -0800  per:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/unittools.c

	Fix problem where city info is not properly updated when a worker is
	displaced by hostile units. update_city_tile_status_map() now returns a
	bool to indicate such situations.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>
	Reported by Kenn Munro <kenn@cyberbeach.net>


Wed, 04 Dec 2002 05:34:27 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/server/citytools.c
	   M /trunk/server/settlers.c

	Replace use of can_unit_move_to_tile with use of could_unit_move_to_tile
	so that we don't have to be in idle activity mode before we consider
	moving. Also clean up and simplify could_unit_move_to_tile a little.


Tue, 03 Dec 2002 09:53:59 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/gtkpixcomm.c

	The pixcomm mask wasn't updated correctly.

	This fixes PR#2393.


Tue, 03 Dec 2002 08:00:58 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aidiplomat.h

	Add missing includes.


Mon, 02 Dec 2002 23:50:27 -0800  egbert:

	Changed paths:
	   M /trunk/doc/de/BUGS.de

	updated by Christian Knoke <chrisk@enter.de>


Mon, 02 Dec 2002 14:48:13 -0800  per:

	Changed paths:
	   M /trunk/ai/aidiplomat.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c

	Wrap the use of do_unit_goto() in the AI code behind two new goto
	functions: ai_unit_goto() for short-term gotos (one turn horizon)
	and ai_unit_gothere() for doing multi-turn missions.


Mon, 02 Dec 2002 10:25:41 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aiair.h
	   M /trunk/server/unittools.h

	Make the declaration and definition of some functions equal.


Mon, 02 Dec 2002 10:08:16 -0800  rfalke:

	Changed paths:
	   M /trunk/common/inputfile.h
	   M /trunk/utility/inputfile.h

	Add missing prototype.


Mon, 02 Dec 2002 09:55:00 -0800  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update doc/PEOPLE


Mon, 02 Dec 2002 00:47:03 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-sdl
	   A /trunk/client/gui-sdl/.cvsignore
	   M /trunk/client/gui-sdl/Makefile.am
	   A /trunk/client/gui-sdl/README.SDLClient
	   A /trunk/client/gui-sdl/chatline.c
	   A /trunk/client/gui-sdl/chatline.h
	   A /trunk/client/gui-sdl/citydlg.c
	   A /trunk/client/gui-sdl/citydlg.h
	   A /trunk/client/gui-sdl/cityrep.c
	   A /trunk/client/gui-sdl/cityrep.h
	   A /trunk/client/gui-sdl/cma_fe.c
	   A /trunk/client/gui-sdl/cma_fe.h
	   A /trunk/client/gui-sdl/colors.c
	   A /trunk/client/gui-sdl/colors.h
	   A /trunk/client/gui-sdl/connectdlg.c
	   A /trunk/client/gui-sdl/connectdlg.h
	   A /trunk/client/gui-sdl/dialogs.c
	   A /trunk/client/gui-sdl/dialogs.h
	   A /trunk/client/gui-sdl/diplodlg.c
	   A /trunk/client/gui-sdl/diplodlg.h
	   A /trunk/client/gui-sdl/finddlg.c
	   A /trunk/client/gui-sdl/gotodlg.c
	   A /trunk/client/gui-sdl/gotodlg.h
	   A /trunk/client/gui-sdl/graphics.c
	   A /trunk/client/gui-sdl/graphics.h
	   A /trunk/client/gui-sdl/gui_dither.c
	   A /trunk/client/gui-sdl/gui_dither.h
	   A /trunk/client/gui-sdl/gui_iconv.c
	   A /trunk/client/gui-sdl/gui_iconv.h
	   A /trunk/client/gui-sdl/gui_id.h
	   A /trunk/client/gui-sdl/gui_main.c
	   A /trunk/client/gui-sdl/gui_main.h
	   A /trunk/client/gui-sdl/gui_mem.h
	   A /trunk/client/gui-sdl/gui_string.c
	   A /trunk/client/gui-sdl/gui_string.h
	   A /trunk/client/gui-sdl/gui_stuff.c
	   A /trunk/client/gui-sdl/gui_stuff.h
	   A /trunk/client/gui-sdl/gui_zoom.c
	   A /trunk/client/gui-sdl/gui_zoom.h
	   A /trunk/client/gui-sdl/happiness.c
	   A /trunk/client/gui-sdl/happiness.h
	   A /trunk/client/gui-sdl/helpdlg.c
	   A /trunk/client/gui-sdl/helpdlg.h
	   A /trunk/client/gui-sdl/inputdlg.c
	   A /trunk/client/gui-sdl/inputdlg.h
	   A /trunk/client/gui-sdl/inteldlg.c
	   A /trunk/client/gui-sdl/mapctrl.c
	   A /trunk/client/gui-sdl/mapctrl.h
	   A /trunk/client/gui-sdl/mapview.c
	   A /trunk/client/gui-sdl/mapview.h
	   A /trunk/client/gui-sdl/menu.c
	   A /trunk/client/gui-sdl/menu.h
	   A /trunk/client/gui-sdl/messagedlg.c
	   A /trunk/client/gui-sdl/messagewin.c
	   A /trunk/client/gui-sdl/messagewin.h
	   A /trunk/client/gui-sdl/optiondlg.c
	   A /trunk/client/gui-sdl/optiondlg.h
	   A /trunk/client/gui-sdl/plrdlg.c
	   A /trunk/client/gui-sdl/plrdlg.h
	   A /trunk/client/gui-sdl/rc2c
	   A /trunk/client/gui-sdl/repodlgs.c
	   A /trunk/client/gui-sdl/repodlgs.h
	   A /trunk/client/gui-sdl/resources.c
	   A /trunk/client/gui-sdl/resources.h
	   A /trunk/client/gui-sdl/spaceshipdlg.c
	   A /trunk/client/gui-sdl/spaceshipdlg.h
	   A /trunk/client/gui-sdl/unistring.c
	   A /trunk/client/gui-sdl/unistring.h
	   A /trunk/client/gui-sdl/wldlg.c
	   A /trunk/client/gui-sdl/wldlg.h

	Commit the current code for the SDL client.  This code will not compile,
	nor will it run until the graphics are also added.  Thus this is just a
	first step.

	All code by Rafal Burseg <bursig@poczta.fm> with modifications by myself
	and Per.


Sun, 01 Dec 2002 14:49:25 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cityrep.h
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/dialogs.h
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk/messagewin.h
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/plrdlg.h
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/repodlgs.h

	Implement popdown_all_game_dialogs for the GTK+-1.2 client.  This prevents
	unstable behavior from players trying to use these dialogs after
	disconnecting.

	Issued as PR#2440.


Sun, 01 Dec 2002 14:43:24 -0800  jdorje:

	Changed paths:
	   M /trunk/m4/sdl-client.m4

	Fix several problems in detection of SDL libraries: don't permanently
	redefine $LIBS, and make sure to use appropriate $CFLAGS and $CPPFLAGS
	when checking for libraries.

	Patch by Per I. Mathisen <per@leftist.net> as an addendum to PR#2450.


Sat, 30 Nov 2002 13:24:56 -0800  per:

	Changed paths:
	   A /trunk/m4/sdl-client.m4

	Forgot one file in previous commit.


Sat, 30 Nov 2002 12:42:01 -0800  per:

	Changed paths:
	   M /trunk/Makefile.am
	   M /trunk/client/Makefile.am
	   A /trunk/client/gui-sdl
	   A /trunk/client/gui-sdl/Makefile.am
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Add compile support for a new client: gui-sdl

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net> and
	Rafał Bursig <bursig@poczta.fm>


Sat, 30 Nov 2002 12:06:49 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.h
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Fix several bugs in gui-gtk-2.0 when switching tilesets.  This includes
	resizing the city dialogs and resizing/reallocating the unit pixmap
	table.

	Issued as PR#2418.


Sat, 30 Nov 2002 12:04:19 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_main.h
	   M /trunk/client/gui-gtk/mapview.c

	Resize and reallocate the unit pixmaps when switching tilesets.

	Issued as PR#2410.


Sat, 30 Nov 2002 11:27:37 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/chatline.c
	   M /trunk/client/gui-stub/chatline.h
	   M /trunk/client/gui-stub/citydlg.c
	   M /trunk/client/gui-stub/citydlg.h
	   M /trunk/client/gui-stub/cityrep.c
	   M /trunk/client/gui-stub/cityrep.h
	   M /trunk/client/gui-stub/colors.c
	   M /trunk/client/gui-stub/colors.h
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-stub/connectdlg.h
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/dialogs.h
	   M /trunk/client/gui-stub/diplodlg.c
	   M /trunk/client/gui-stub/diplodlg.h
	   M /trunk/client/gui-stub/finddlg.c
	   M /trunk/client/gui-stub/gotodlg.c
	   M /trunk/client/gui-stub/gotodlg.h
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-stub/graphics.h
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-stub/gui_main.h
	   M /trunk/client/gui-stub/helpdlg.c
	   M /trunk/client/gui-stub/helpdlg.h
	   M /trunk/client/gui-stub/inteldlg.c
	   M /trunk/client/gui-stub/mapctrl.c
	   M /trunk/client/gui-stub/mapctrl.h
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-stub/mapview.h
	   M /trunk/client/gui-stub/menu.c
	   M /trunk/client/gui-stub/menu.h
	   M /trunk/client/gui-stub/messagedlg.c
	   M /trunk/client/gui-stub/messagewin.c
	   M /trunk/client/gui-stub/messagewin.h
	   M /trunk/client/gui-stub/plrdlg.c
	   M /trunk/client/gui-stub/plrdlg.h
	   M /trunk/client/gui-stub/ratesdlg.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-stub/repodlgs.h
	   M /trunk/client/gui-stub/spaceshipdlg.c
	   M /trunk/client/gui-stub/spaceshipdlg.h
	   M /trunk/client/gui-stub/wldlg.c
	   M /trunk/client/gui-stub/wldlg.h

	Clean up/rewrite most of gui-stub.  File header comments are added,
	function header comments are added, dead functions are removed, and some
	demo code is added.

	Issued as PR#2454.


Sat, 30 Nov 2002 10:39:24 -0800  vasc:

	Changed paths:
	   M /trunk/common/inputfile.c
	   M /trunk/common/inputfile.h
	   M /trunk/common/ioz.c
	   M /trunk/common/ioz.h
	   M /trunk/common/registry.c
	   M /trunk/common/registry.h
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/inputfile.h
	   M /trunk/utility/ioz.c
	   M /trunk/utility/ioz.h
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h

	Add support for reading INI files from FILE pointers.


Fri, 29 Nov 2002 12:11:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/cityrep.h
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/messagewin.c
	   M /trunk/client/gui-xaw/messagewin.h
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/gui-xaw/plrdlg.h
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.h

	Implement popdown_all_game_dialogs for the XAW client.  This prevents
	unstable behavior from players trying to use these dialogs after
	disconnecting.

	Issued as PR#2444.


Fri, 29 Nov 2002 02:28:46 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-stub/citydlg.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/helpdlg.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-stub/messagewin.c

	Bring gui-stub up to date with the other sources. It now compiles
	again.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 29 Nov 2002 02:01:58 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapclass.h
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move undraw_segment into mapview_common.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 29 Nov 2002 01:38:15 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gui_main.c

	rename popdown_everything to popdown_all_game_dialogs


Fri, 29 Nov 2002 01:33:08 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move tile_visible_and_not_on_border_mapcanvas into mapview_common.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 28 Nov 2002 11:09:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/include/dialogs_g.h

	Provide a new GUI function popdown_all_game_dialogs.  This is called on
	client disconnection so that unsafe dialogs do not remain open.  It must
	be implemented on a per-GUI basis to fix PR#533.


Wed, 27 Nov 2002 10:36:37 -0800  rfalke:

	Changed paths:
	   M /trunk/server/report.c

	Enlarge the valid scorelog line length from 64 to 80. This is needed
	to cope with the comment.

	Reported by Per I. Mathisen <per@leftist.net>. Fix from me.


Wed, 27 Nov 2002 01:06:14 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/messagewin.c

	resize the listbox so that long messages fit into it.
	Bug reported by Raimar Falke and Christian Knoke


Wed, 27 Nov 2002 00:45:59 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/gui_main.h

	Choose a fixed width font for the notify dialog
	Bug reported by Raimar Falke


Tue, 26 Nov 2002 06:27:48 -0800  pagnin:

	Changed paths:
	   M /trunk/po/da.po

	da.po update supply by Keld Jørn Simonsen <keld@dkuug.dk>


Tue, 26 Nov 2002 04:24:56 -0800  per:

	Changed paths:
	   M /trunk/server/ruleset.c

	Remove backwards compatibility with F_SUBMARINE flag. Not used since
	version 1.10.0.

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>


Tue, 26 Nov 2002 04:01:11 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/graphics.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/mapview_common.h

	Move enum draw_part and enum draw_type from the various mapview.c into
	mapview_common.h. Add docu.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net> with
	changes from me.


Tue, 26 Nov 2002 02:44:09 -0800  rfalke:

	Changed paths:
	   M /trunk/m4/debug.m4

	Remove superfluous adding of "-g" to CFLAGS. This is already done by
	AC_PROG_CC and AC_PROG_CC thinks that the user has supplied CFLAGS and
	so won't change it (it won't for example add -O2 for gcc).

	This fixes (PR#2387).


Mon, 25 Nov 2002 19:12:43 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated (21 unübersetzt)


Mon, 25 Nov 2002 17:19:03 -0800  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset

	Improve submarines. Decrease build cost from 60 to 50, increase attack
	power from 10 to 15 and increase move rate from 3 to 5.


Mon, 25 Nov 2002 13:07:42 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Made several changes to the players dialog:
		- Changed the colour style scheme. Hopefully no more problems.
		- Stopped using GtkTreeModelSort. It is bugged. This means the
		  update_players_dialog() algorithm had to be changed.
		- Don't allow sorting the boolean column.
		- Cleanup.

	Bugs reported by Jason Dorje Short <jdorje@users.sourceforge.net>.


Mon, 25 Nov 2002 11:18:09 -0800  glip:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   A /trunk/ai/aidiplomat.c
	   A /trunk/ai/aidiplomat.h
	   M /trunk/ai/aiunit.c
	   M /trunk/ai/aiunit.h
	   M /trunk/common/city.h
	   M /trunk/common/player.h
	   M /trunk/server/cityturn.c
	   M /trunk/server/stdinhand.c

	Enable AI build diplomats for both offence and defence.  Add H_DIPLOMAT
	handicap, so that easy and normal AI don't build offensive diplomats
	(diplomats built as a defence can still be released to attack).

	Patch by Per I.Mathisen <per@leftist.net>, with few changes by me.


Mon, 25 Nov 2002 09:52:00 -0800  pagnin:

	Changed paths:
	   M /trunk/po/da.po

	Updated da.po file.
	Updated .po file from: Keld Jørn Simonsen <keld@dkuug.dk>


Sun, 24 Nov 2002 18:54:01 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	New player dialog. This fixes #2382.


Sun, 24 Nov 2002 18:51:29 -0800  vasc:

	Changed paths:
	   M /trunk/data/freeciv.rc-2.0

	Remove extraneous padding.


Sun, 24 Nov 2002 17:15:57 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Sun, 24 Nov 2002 10:06:56 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 24 Nov 2002 03:43:41 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move show_city_descriptions into mapview_common. This function just
	loops over all tiles and calls the new GUI specific show_city_desc
	function if the tile has a city.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 23 Nov 2002 10:12:59 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-beos/mapview.cpp
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move tile_visible_mapcanvas() fromt he various mapview.c into
	mapview_common.c

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Sat, 23 Nov 2002 06:58:43 -0800  rfalke:

	Changed paths:
	   M /trunk/server/sernet.c

	Call rl_callback_handler_remove at exit.

	Reported by Davide Pagnin <nightmare@freeciv.it> as PR#1854. Patch
	from me.


Fri, 22 Nov 2002 18:55:42 -0800  per:

	Changed paths:
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c

	Make the city name popup and the city dialog popup when making new
	cities optional.

	Patch by Reinier Post <rp@win.tue.nl>


Fri, 22 Nov 2002 16:27:58 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Fri, 22 Nov 2002 15:19:47 -0800  per:

	Changed paths:
	   M /trunk/data/scenario/earth-160x90-v2.sav

	Fix version string in scenario.


Fri, 22 Nov 2002 10:52:13 -0800  rfalke:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/menu.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/packhand.c

	Show the number of turns a city need to growth (or shrink) after the
	city name. This behavior is controlled by a new option which is only
	available if the city names are drawn. Blocked growth and no food
	surplus is also displayed.

	The GTK, GTK2 and Xaw client are changed.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Fri, 22 Nov 2002 09:44:45 -0800  glip:

	Changed paths:
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unittools.c

	Create another handicap for easy AI: it gets very limited goodies from
	huts, only 25 gold or barbarians, if really unlucky.

	Idea by Per I. Mathisen, patch by Raahul Kumar <raahul_da_man@yahoo.com>.


Fri, 22 Nov 2002 00:25:27 -0800  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Thu, 21 Nov 2002 05:35:31 -0800  jdorje:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/mapview_common.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Rewrite canvas_pos_to_map_pos and canvas_pos_to_city_pos to be simpler and
	more correct.  Add extensive explanation of the math.

	Issued as PR#1180 with contributions by many.


Thu, 21 Nov 2002 00:19:26 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c

	Fix i18n problem with new city report columns.

	Reported by Mateusz Stefek <matusik_s@o2.pl> as PR#2373.


Wed, 20 Nov 2002 18:26:48 -0800  jdorje:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix several bugs in tileset switching:
	  - Free sprite and city style data before loading a new tileset.
	  - Check the client state before reassembling the sprite data and before
	    redrawing.

	Issued as PR#2363.


Tue, 19 Nov 2002 19:41:21 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c

	Use XGrabServer/XUngrabServer to lock the server display while allocating
	best-match colors.  Clean up other parts of PNG loading to make them
	faster.

	Patch by Vasco Alexandre Da Silva Costa as PR#2340.


Tue, 19 Nov 2002 15:04:28 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/options.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Fix bug that causes civclient's -t option not to work.  This is done by
	introducing yet another string that holds the name of the current tileset.

	Issued as PR#2360.


Tue, 19 Nov 2002 12:13:39 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move get_center_tile_mapcanvas() from the various mapview.c files into
	mapview_common.c.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Tue, 19 Nov 2002 08:11:42 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move update_map_canvas_visible from the various mapview.c files into
	mapview_common.c. This requires to make show_city_descriptions public.

	Patch from Jason Dorje Short <vze49r5w@verizon.net>.


Tue, 19 Nov 2002 05:35:31 -0800  per:

	Changed paths:
	   M /trunk/common/city.h
	   M /trunk/server/citytools.c
	   M /trunk/server/savegame.c

	Remove unused variable pcity->ai.ai_role


Tue, 19 Nov 2002 05:34:31 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Add default danger to the city with the AI's palace as long as that city
	is larger than 1 so that it will protect it better.


Tue, 19 Nov 2002 05:31:07 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Remove special case for buying settler production, added by me, which
	was thought to help AI expand faster but which harmed it by making it
	acquire Republic later.


Tue, 19 Nov 2002 03:46:21 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Mon, 18 Nov 2002 11:51:41 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident.tilespec

	Here's the rest of the morecities patch.  This didn't get committed the
	first time, although I can't see anything I did wrong.


Mon, 18 Nov 2002 11:46:26 -0800  jdorje:

	Changed paths:
	   M /trunk/data/default/cities.ruleset
	   M /trunk/data/isotrident/Makefile.am
	   A /trunk/data/isotrident/morecities.png
	   A /trunk/data/isotrident/morecities.spec
	   M /trunk/data/nation/aztec.ruleset
	   M /trunk/data/nation/brazilian.ruleset
	   M /trunk/data/nation/chinese.ruleset
	   M /trunk/data/nation/dunedain.ruleset
	   M /trunk/data/nation/filipino.ruleset
	   M /trunk/data/nation/inca.ruleset
	   M /trunk/data/nation/indian.ruleset
	   M /trunk/data/nation/japanese.ruleset
	   M /trunk/data/nation/kenyan.ruleset
	   M /trunk/data/nation/korean.ruleset
	   M /trunk/data/nation/mongol.ruleset
	   M /trunk/data/nation/mordor.ruleset
	   M /trunk/data/nation/singaporean.ruleset
	   M /trunk/data/nation/thai.ruleset
	   M /trunk/data/nation/vietnamese.ruleset
	   M /trunk/data/nation/zulu.ruleset
	   M /trunk/data/trident/cities.png
	   M /trunk/data/trident/cities.spec

	Introduce two new city styles available from the beginning of the game:
	'Asian' and 'Tropical'.  Provide graphics for Trident and Isotrident
	tilesets to support these city styles.  Change many nations to use a
	more 'appropriate' city style.

	Graphics and patch by Daniel Speyer <dspeyer@wam.umd.edu>, with changes by
	me.


Mon, 18 Nov 2002 10:58:53 -0800  jdorje:

	Changed paths:
	   M /trunk/doc/BUGS
	   M /trunk/doc/HACKING
	   M /trunk/doc/README.graphics

	Update documentation to reflect the change from PNG to XPM.  Also clear
	up a comment about civ2 graphics.


Mon, 18 Nov 2002 05:01:17 -0800  per:

	Changed paths:
	   M /trunk/doc/BUGS

	Update doc/BUGS about bug that only affects gtk 1.2 client.

	As suggested by Jason Dorje Short <vze49r5w@verizon.net>


Mon, 18 Nov 2002 04:57:38 -0800  per:

	Changed paths:
	   M /trunk/server/savegame.c

	Save accurate information on research progress so that if you have just
	gotten a new tech, save the game, load it, you still don't lose tech
	points by changing to a new tech.

	Patch by Jason Dorje Short <vze49r5w@verizon.net>
	Reported by Christian Knoke <ChrisK@enter.de>


Mon, 18 Nov 2002 04:19:51 -0800  per:

	Changed paths:
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/unittools.c

	Fix bugs that happens when you paradrop on cities that you can't see,
	cities in no contact state and generally clean up paradrop code. If
	you paradrop on empty cities that you are not at war with, your
	paratrooper will now die.

	Patch by me and Davide Pagnin <nightmare@freeciv.it>


Mon, 18 Nov 2002 03:50:36 -0800  per:

	Changed paths:
	   M /trunk/server/spacerace.c

	Add team winner gamelog entry also for spacerace victory.

	Patch originally by Davide Pagnin <pagnin@sssup.it>, adapted by me.


Mon, 18 Nov 2002 02:58:44 -0800  rfalke:

	Changed paths:
	   M /trunk/m4/sound.m4

	Fix a bug which included SDL even if the SDL-mixer failed.

	Reported by me. Patch from Per I. Mathisen <per@leftist.net>.


Sun, 17 Nov 2002 14:06:21 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-xaw/mapview.c

	Fixed refresh bug in the Xaw client.

	Bug reported by Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 17 Nov 2002 11:22:24 -0800  andi:

	Changed paths:
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/mapview.c

	minor fixes to make it compile again


Sun, 17 Nov 2002 11:18:13 -0800  andi:

	Changed paths:
	   M /trunk/m4/gettimeofday.m4

	make freeciv crosscompile for windows again
	temporary fix. You should better check if gettimeofday exists when crosscompiling
	make freeciv compile on windows again.
	Temporary fix.


Sat, 16 Nov 2002 23:41:06 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Sat, 16 Nov 2002 18:21:13 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/citydlg.h
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h
	   M /trunk/client/options.c
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h

	Allow tilesets to be changed at runtime.  This is done through the 'local
	options' dialog.  The old data is freed, and new data is read in.  Then
	the sprites are setup again, and things are redrawn.  The redrawing step
	may vary widely between GUIs; in gui-gtk it has been given some GUI
	support but in other frontends it will need some help from the user.

	Patch issued as PR#1930.


Sat, 16 Nov 2002 17:40:55 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Now the isotrident tiles have been fixed we can use dither_tile again.
	This closes #2259.

	Bug reported by Andreas Rosdal <andrearo@stud.ntnu.no>.
	Problem tracked by John Bauman <baumans@ptdprolog.net>.


Sat, 16 Nov 2002 17:35:17 -0800  vasc:

	Changed paths:
	   M /trunk/data/isotrident/terrain2.png

	Covered holes in ocean and coastal squares.


Sat, 16 Nov 2002 17:34:36 -0800  vasc:

	Changed paths:
	   M /trunk/data/isotrident/terrain1.png

	Removed excess pixels in edge mask.


Sat, 16 Nov 2002 14:39:08 -0800  vasc:

	Changed paths:
	   M /trunk/data/isotrident/terrain1.png

	Covered holes in terrain squares.


Sat, 16 Nov 2002 06:35:15 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Fri, 15 Nov 2002 18:12:38 -0800  jdorje:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/server/civserver.c

	Don't check if the program is being run as root (which is disallowed) until
	after the command-line options have been parsed.  This allows things like
	"civserver --version" to work as root.

	Reported as PR#424 by gkoopman@xs4all.nl.  Patch by me.


Fri, 15 Nov 2002 15:40:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c

	Fix several compile errors in the GTK-2.0 client.

	Problems introduced by PR#2322.  Reported by the compiler as PR#2351.


Fri, 15 Nov 2002 14:15:01 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/aiair.h
	   M /trunk/ai/aidata.h
	   M /trunk/ai/ailog.h
	   M /trunk/ai/aitools.h
	   M /trunk/client/climisc.h
	   M /trunk/client/messagewin_common.h
	   M /trunk/server/airgoto.h

	Add declarations and includes necessary to be able to compile the
	header files independently.


Fri, 15 Nov 2002 13:24:30 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/spaceshipdlg.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-win32/spaceshipdlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/diptreaty.c
	   M /trunk/common/diptreaty.h
	   M /trunk/common/speclist.h
	   M /trunk/common/speclist_c.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/worklist.h
	   M /trunk/server/diplhand.c
	   M /trunk/utility/speclist.h
	   M /trunk/utility/speclist_c.h

	Convert genlist users to speclist. Speclist provides a typesafe
	interface and has a nice iterate macro.

	The possibility to declare the speclist function static was introduced
	to use the the same SPECLIST_TAGs multiple times. This gives a
	dialog_list in every dialog and so nearly identical source code for
	various dialogs.


Fri, 15 Nov 2002 10:47:24 -0800  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Fri, 15 Nov 2002 01:54:31 -0800  rfalke:

	Changed paths:
	   M /trunk/client/civclient.c

	Add the command line option "--" to separate the freeciv options from
	the GUI specific options.

	Reported by Raimar Falke <rf13@inf.tu-dresden.de>. Patch from Jason
	Dorje Short <jdorje@users.sourceforge.net>.


Fri, 15 Nov 2002 01:24:52 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/mapview.h
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.h
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-mui/mapview.h
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/mapview.h
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/mapview.h
	   M /trunk/client/mapview_common.c
	   M /trunk/client/mapview_common.h

	Move get_canvas_xy and get_map_xy from the various mapview.c files
	into mapview_common.c and unify the code. canvas_pos_to_map_pos and
	map_pos_to_canvas_pos doesn't need to be exported any longer.

	Patch from Jason Dorje Short <jdorje@users.sourceforge.net>.


Thu, 14 Nov 2002 11:12:18 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/diplodlg.c

	Cancel the meeting if the player closes the window with the
	close-button (X).

	Reported by Milan Krstic <mkrle@sezampro.yu>. Patch from me.


Thu, 14 Nov 2002 11:06:32 -0800  jdorje:

	Changed paths:
	   M /trunk/configure.ac

	Fix the use of AC_DEFINE for the HAVE_GETTIMEOFDAY macro.

	Reported as PR#2332 and PR#2334.  This is a fix from PR#2305.


Thu, 14 Nov 2002 01:45:18 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/mapview_g.h

	Add function get_mapview_dimensions which returns the map position of
	the top-left tile and the width and height of the map canvas. This
	information wasn't available to the common code in mapview_common
	previously.


Thu, 14 Nov 2002 01:28:31 -0800  rfalke:

	Changed paths:
	   M /trunk/acconfig.old
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/gettimeofday.m4

	Replace the static check for gettimeofday at configure time with a
	stricter runtime check. This check tests if the time returned by
	gettimeofday is monotonic and doesn't jump forward by a huge amount.


Thu, 14 Nov 2002 01:22:10 -0800  rfalke:

	Changed paths:
	   M /trunk/client/audio.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-win32/chatline.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/client/gui-xaw/wldlg.c
	   M /trunk/client/options.h
	   M /trunk/common/connection.h
	   M /trunk/common/support.c
	   M /trunk/server/citytools.c
	   M /trunk/utility/support.c

	Remove double includes of the same file.


Thu, 14 Nov 2002 01:15:05 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advattitude.c
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advforeign.c
	   M /trunk/ai/advisland.c
	   M /trunk/ai/advleader.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advscience.c
	   M /trunk/ai/advspace.c
	   M /trunk/ai/advtrade.c
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aihand.c
	   M /trunk/ai/ailog.c
	   M /trunk/ai/aitech.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/agents/agents.c
	   M /trunk/client/chatline_common.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/clinet.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-beos/App.cpp
	   M /trunk/client/gui-beos/Backend.cpp
	   M /trunk/client/gui-beos/Defs.cpp
	   M /trunk/client/gui-beos/InputView.cpp
	   M /trunk/client/gui-beos/MainWindow.cpp
	   M /trunk/client/gui-beos/MapCanvas.cpp
	   M /trunk/client/gui-beos/OutputView.cpp
	   M /trunk/client/gui-beos/RadarView.cpp
	   M /trunk/client/gui-beos/StatusView.cpp
	   M /trunk/client/gui-beos/SummaryView.cpp
	   M /trunk/client/gui-beos/UnitInfoView.cpp
	   M /trunk/client/gui-beos/UnitsBelowView.cpp
	   M /trunk/client/gui-beos/chatline.cpp
	   M /trunk/client/gui-beos/citydlg.cpp
	   M /trunk/client/gui-beos/cityrep.cpp
	   M /trunk/client/gui-beos/colors.cpp
	   M /trunk/client/gui-beos/connectdlg.cpp
	   M /trunk/client/gui-beos/dialogs.cpp
	   M /trunk/client/gui-beos/diplodlg.cpp
	   M /trunk/client/gui-beos/finddlg.cpp
	   M /trunk/client/gui-beos/gotodlg.cpp
	   M /trunk/client/gui-beos/graphics.cpp
	   M /trunk/client/gui-beos/gui_main.c
	   M /trunk/client/gui-beos/helpdlg.cpp
	   M /trunk/client/gui-beos/inteldlg.cpp
	   M /trunk/client/gui-beos/mapctrl.cpp
	   M /trunk/client/gui-beos/mapview.cpp
	   M /trunk/client/gui-beos/menu.cpp
	   M /trunk/client/gui-beos/messagedlg.cpp
	   M /trunk/client/gui-beos/messagewin.cpp
	   M /trunk/client/gui-beos/optiondlg.cpp
	   M /trunk/client/gui-beos/plrdlg.cpp
	   M /trunk/client/gui-beos/ratesdlg.cpp
	   M /trunk/client/gui-beos/repodlgs.cpp
	   M /trunk/client/gui-beos/spaceshipdlg.cpp
	   M /trunk/client/gui-beos/wldlg.cpp
	   M /trunk/client/gui-gtk/chatline.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/colors.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/finddlg.c
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk/gotodlg.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/gtkpixcomm.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_stuff.c
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/inputdlg.c
	   M /trunk/client/gui-gtk/inteldlg.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk/menu.c
	   M /trunk/client/gui-gtk/messagedlg.c
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/resources.c
	   M /trunk/client/gui-gtk/spaceshipdlg.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-gtk-2.0/chatline.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/colors.c
	   M /trunk/client/gui-gtk-2.0/connectdlg.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/diplodlg.c
	   M /trunk/client/gui-gtk-2.0/finddlg.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gotodlg.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_stuff.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/client/gui-gtk-2.0/helpdlg.c
	   M /trunk/client/gui-gtk-2.0/inputdlg.c
	   M /trunk/client/gui-gtk-2.0/inteldlg.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-gtk-2.0/menu.c
	   M /trunk/client/gui-gtk-2.0/messagedlg.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/resources.c
	   M /trunk/client/gui-gtk-2.0/spaceshipdlg.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c
	   M /trunk/client/gui-mui/autogroupclass.c
	   M /trunk/client/gui-mui/chatline.c
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-mui/colors.c
	   M /trunk/client/gui-mui/colortextclass.c
	   M /trunk/client/gui-mui/connectdlg.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-mui/diplodlg.c
	   M /trunk/client/gui-mui/finddlg.c
	   M /trunk/client/gui-mui/gamedlgs.c
	   M /trunk/client/gui-mui/gotodlg.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/helpdlg.c
	   M /trunk/client/gui-mui/historystringclass.c
	   M /trunk/client/gui-mui/inputdlg.c
	   M /trunk/client/gui-mui/inteldlg.c
	   M /trunk/client/gui-mui/mapclass.c
	   M /trunk/client/gui-mui/mapctrl.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-mui/messagedlg.c
	   M /trunk/client/gui-mui/messagewin.c
	   M /trunk/client/gui-mui/muistuff.c
	   M /trunk/client/gui-mui/objecttreeclass.c
	   M /trunk/client/gui-mui/overviewclass.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-mui/repodlgs.c
	   M /trunk/client/gui-mui/scrollbuttonclass.c
	   M /trunk/client/gui-mui/spaceshipdlg.c
	   M /trunk/client/gui-mui/transparentstringclass.c
	   M /trunk/client/gui-mui/wldlg.c
	   M /trunk/client/gui-mui/worklistclass.c
	   M /trunk/client/gui-stub/chatline.c
	   M /trunk/client/gui-stub/citydlg.c
	   M /trunk/client/gui-stub/cityrep.c
	   M /trunk/client/gui-stub/colors.c
	   M /trunk/client/gui-stub/connectdlg.c
	   M /trunk/client/gui-stub/dialogs.c
	   M /trunk/client/gui-stub/diplodlg.c
	   M /trunk/client/gui-stub/finddlg.c
	   M /trunk/client/gui-stub/gotodlg.c
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-stub/helpdlg.c
	   M /trunk/client/gui-stub/inteldlg.c
	   M /trunk/client/gui-stub/mapctrl.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-stub/menu.c
	   M /trunk/client/gui-stub/messagedlg.c
	   M /trunk/client/gui-stub/messagewin.c
	   M /trunk/client/gui-stub/plrdlg.c
	   M /trunk/client/gui-stub/ratesdlg.c
	   M /trunk/client/gui-stub/repodlgs.c
	   M /trunk/client/gui-stub/spaceshipdlg.c
	   M /trunk/client/gui-stub/wldlg.c
	   M /trunk/client/gui-win32/chatline.c
	   M /trunk/client/gui-win32/citydlg.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-win32/colors.c
	   M /trunk/client/gui-win32/connectdlg.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-win32/diplodlg.c
	   M /trunk/client/gui-win32/finddlg.c
	   M /trunk/client/gui-win32/gotodlg.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/gui_stuff.c
	   M /trunk/client/gui-win32/happiness.c
	   M /trunk/client/gui-win32/helpdlg.c
	   M /trunk/client/gui-win32/inputdlg.c
	   M /trunk/client/gui-win32/inteldlg.c
	   M /trunk/client/gui-win32/mapctrl.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-win32/menu.c
	   M /trunk/client/gui-win32/messagedlg.c
	   M /trunk/client/gui-win32/messagewin.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-win32/ratesdlg.c
	   M /trunk/client/gui-win32/repodlgs.c
	   M /trunk/client/gui-win32/spaceshipdlg.c
	   M /trunk/client/gui-win32/wldlg.c
	   M /trunk/client/gui-xaw/actions.c
	   M /trunk/client/gui-xaw/chatline.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/colors.c
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/diplodlg.c
	   M /trunk/client/gui-xaw/finddlg.c
	   M /trunk/client/gui-xaw/gotodlg.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/gui_stuff.c
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/gui-xaw/inputdlg.c
	   M /trunk/client/gui-xaw/inteldlg.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/gui-xaw/menu.c
	   M /trunk/client/gui-xaw/messagedlg.c
	   M /trunk/client/gui-xaw/messagewin.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/gui-xaw/plrdlg.c
	   M /trunk/client/gui-xaw/ratesdlg.c
	   M /trunk/client/gui-xaw/repodlgs.c
	   M /trunk/client/gui-xaw/resources.c
	   M /trunk/client/gui-xaw/spaceshipdlg.c
	   M /trunk/client/gui-xaw/wldlg.c
	   M /trunk/client/mapctrl_common.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/packhand.c
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/repodlgs_common.c
	   M /trunk/common/astring.c
	   M /trunk/common/capability.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/combat.c
	   M /trunk/common/connection.c
	   M /trunk/common/create_lsend.pl
	   M /trunk/common/diptreaty.c
	   M /trunk/common/fcintl.c
	   M /trunk/common/game.c
	   M /trunk/common/genlist.c
	   M /trunk/common/government.c
	   M /trunk/common/hash.c
	   M /trunk/common/idex.c
	   M /trunk/common/improvement.c
	   M /trunk/common/inputfile.c
	   M /trunk/common/log.c
	   M /trunk/common/map.c
	   M /trunk/common/nation.c
	   M /trunk/common/netintf.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/player.c
	   M /trunk/common/rand.c
	   M /trunk/common/registry.c
	   M /trunk/common/sbuffer.c
	   M /trunk/common/shared.c
	   M /trunk/common/spaceship.c
	   M /trunk/common/tech.c
	   M /trunk/common/unit.c
	   M /trunk/common/unittype.c
	   M /trunk/common/version.c
	   M /trunk/common/worklist.c
	   M /trunk/server/airgoto.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/civserver.c
	   M /trunk/server/console.c
	   M /trunk/server/diplhand.c
	   M /trunk/server/diplomats.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/handchat.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/settlers.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/utility/astring.c
	   M /trunk/utility/capability.c
	   M /trunk/utility/fcintl.c
	   M /trunk/utility/genlist.c
	   M /trunk/utility/hash.c
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/log.c
	   M /trunk/utility/netintf.h
	   M /trunk/utility/rand.c
	   M /trunk/utility/registry.c
	   M /trunk/utility/sbuffer.c
	   M /trunk/utility/shared.c

	Include config.h in every source (*.c) file. This ensures that every
	time config.h has changed all necessary files are recompiled. Here all
	necessary files are all files. This is needed since the effects of
	config.h changes are hard to predict.

	Patch from Jason Dorje Short <vze49r5w@verizon.net>.


Thu, 14 Nov 2002 01:01:17 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Wed, 13 Nov 2002 21:13:16 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.h

	Set the number of city report columns to the correct value of 32.

	This is a correction from PR#737.


Wed, 13 Nov 2002 19:39:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/gui-gtk/cityrep.c

	Add 16 new possible city report columns.  Change the GTK client's city
	report so that when editing the list of columns used the choices are put
	into two columns.

	Patch by Tuomas Airaksinen <tuomas.airaksinen@pp.inet.fi> as PR#737, with
	changes by me.


Wed, 13 Nov 2002 14:06:49 -0800  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Wed, 13 Nov 2002 11:44:25 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-mui/dialogs.c
	   M /trunk/client/gui-win32/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Rename get_sane_name to is_sane_name. Change return type from char *
	to bool.


Wed, 13 Nov 2002 11:19:43 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Provide PNG support for gui-xaw.  This GUI will now refuse to load XPM
	graphics, but will instead only load PNG graphics using libpng and libz.


Wed, 13 Nov 2002 05:21:17 -0800  thue:

	Changed paths:
	   M /trunk/server/unithand.c

	Make server compile.

	Bug reported by gcc


Tue, 12 Nov 2002 16:20:57 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Allow for possibility of ending the game by a draw.

	Patch by Jason Dorje Short <vze49r5w@verizon.net>


Tue, 12 Nov 2002 16:06:49 -0800  per:

	Changed paths:
	   M /trunk/server/barbarian.c
	   M /trunk/server/barbarian.h
	   M /trunk/server/unittools.c

	Remove some unused parameters.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>
	Reported by Sylvain Tricot <sylvaintricot@free.fr>


Tue, 12 Nov 2002 15:19:43 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Add possibility for callbacks in local options dialog.

	Patch by Jason Dorje Short <vze49r5w@verizon.net>


Tue, 12 Nov 2002 13:57:17 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Ensure that the AI doesn't disband units without good reason. It used to
	build a unit and then figure it didn't need it, and disband.

	Bug reported by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Tue, 12 Nov 2002 13:47:39 -0800  per:

	Changed paths:
	   M /trunk/server/unithand.c

	Ensure units set to ai control revert to human control again when idled.

	Patch by Gregory.Berkolaiko@strath.ac.uk


Tue, 12 Nov 2002 12:54:05 -0800  jdorje:

	Changed paths:
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c

	When the game is over and all players have left, civserver will start a
	new game and wait for new connections instead of exiting.  The behavior
	may not be entirely error-free yet, most likely due to bugs elsewhere in
	the code.

	Patch by Per Mathisen.


Tue, 12 Nov 2002 07:43:55 -0800  per:

	Changed paths:
	   M /trunk/client/tilespec.c

	Make client display X for autoexplorer again.

	Kludge by Gregory.Berkolaiko@strath.ac.uk


Tue, 12 Nov 2002 07:38:53 -0800  per:

	Changed paths:
	   M /trunk/client/options.c

	Change AI auto end turn mode to off by default.


Mon, 11 Nov 2002 21:56:04 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Mon, 11 Nov 2002 05:13:14 -0800  sigra:

	Changed paths:
	   M /trunk/doc/sv/BUGS.sv
	   M /trunk/doc/sv/CodingStyle.sv
	   M /trunk/doc/sv/README.sv

	update


Mon, 11 Nov 2002 03:34:41 -0800  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 11 Nov 2002 03:12:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-stub/graphics.c

	Change the stub function gfx_fileextensions() to return PNG as the
	default graphics file type.  Add a header comment for this function.


Mon, 11 Nov 2002 02:00:48 -0800  rfalke:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/client/plrdlg_common.c
	   M /trunk/client/plrdlg_common.h
	   M /trunk/common/connection.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/po/POTFILES.in
	   M /trunk/server/sernet.c
	   M /trunk/server/sernet.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Add ping times. The ping times are collected via the existing
	PACKET_CONN_PING, PACKET_CONN_PONG packets. A new packet
	packet_ping_info is sent to the clients to inform them about the ping
	times of all used connections.

	A new server option has been added: pingtime. All clients are pinged
	at this inverval. This option also controls how often the ping times
	are send to the clients.

	Patch from Thomas Strub <ue80@rz.uni-karlsruhe.de> and me.


Sun, 10 Nov 2002 13:08:16 -0800  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Sat, 09 Nov 2002 14:41:39 -0800  kauf:

	Changed paths:
	   M /trunk/server/citytools.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	fix a bug where a core dump happens because player A transfers a city
	to player B but player C allied to A but not B has a unit in that city.

	Now those units are transferred to C's closest city, or destroyed if one
	not exist.

	Patch by Davide Pagnin


Fri, 08 Nov 2002 12:02:01 -0800  rfalke:

	Changed paths:
	   M /trunk/server/unittools.c

	Correct the condition for sending info about a unit.

	Reported by Per I. Mathisen <per@leftist.net>. Patch from Gregory
	Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>.


Thu, 07 Nov 2002 11:36:28 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-beos/graphics.cpp
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-mui/graphics.c
	   M /trunk/client/gui-stub/graphics.c
	   M /trunk/client/gui-win32/graphics.c
	   M /trunk/client/gui-xaw/graphics.c

	Add const to char pointers. The cases were hinted by the
	-Wwrite-string option of the gcc.


Thu, 07 Nov 2002 11:31:39 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Thu, 07 Nov 2002 11:21:12 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-xaw/graphics.c

	In gui-xaw, when cropping a sprite, if the sprite has no mask then don't
	try to crop one.  This prevents warnings from cropping a NULL mask (which
	happens when using PNG graphics files).


Thu, 07 Nov 2002 10:55:26 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/gamelog.c
	   M /trunk/server/gamelog.h
	   M /trunk/server/handchat.c
	   M /trunk/server/handchat.h
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Add teams.  A team is a group of players that start out allied, with
	shared vision and embassies, and fight together to achieve team
	victory with averaged individual scores. Team are controlled via the
	new server command "team". Teams can't change after the game has
	started.

	Patch from Per I. Mathisen <per@leftist.net>.


Thu, 07 Nov 2002 08:22:26 -0800  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update doc/PEOPLE. Swedish .po file is of course "sv" not "se"...


Thu, 07 Nov 2002 08:15:21 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/ailog.h
	   M /trunk/data/default/units.ruleset

	Cleanup of military_advisor_choose_build(). Now we do a more intelligent
	choice of bodyguards based on the L_DEFEND_GOOD role in rulesets.


Thu, 07 Nov 2002 08:04:55 -0800  rfalke:

	Changed paths:
	   M /trunk/ai/ailog.c
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/agents.h
	   M /trunk/client/audio.c
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/clinet.c
	   M /trunk/client/clinet.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/connectdlg.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/diplodlg.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/gtkpixcomm.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/gui_stuff.c
	   M /trunk/client/gui-gtk/gui_stuff.h
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/include/graphics_g.h
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c
	   M /trunk/common/inputfile.c
	   M /trunk/common/map.c
	   M /trunk/common/registry.c
	   M /trunk/common/registry.h
	   M /trunk/common/shared.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamelog.c
	   M /trunk/server/gamelog.h
	   M /trunk/server/meta.c
	   M /trunk/server/meta.h
	   M /trunk/server/report.c
	   M /trunk/server/report.h
	   M /trunk/server/ruleset.c
	   M /trunk/server/ruleset.h
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/inputfile.c
	   M /trunk/utility/registry.c
	   M /trunk/utility/registry.h
	   M /trunk/utility/shared.c

	Add const to char pointers. The cases were hinted by the
	-Wwrite-string option of the gcc.


Thu, 07 Nov 2002 07:45:06 -0800  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/client/tilespec.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/citytools.c
	   M /trunk/server/maphand.h
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Don't send info about units which are inside enemy cities but instead
	use the new occupied flag of packet_short_city_info. This removes an
	information leak to the clients.

	Reported by Gregory Berkolaiko
	<Gregory.Berkolaiko@strath.ac.uk>. Patch from me.


Thu, 07 Nov 2002 07:40:24 -0800  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aicity.h

	Move ai_choose_attacker*() to advmilitary and make them static.


Thu, 07 Nov 2002 07:32:39 -0800  rfalke:

	Changed paths:
	   M /trunk/common/game.h
	   A /trunk/doc/scorelog-v2
	   M /trunk/server/gamehand.c
	   M /trunk/server/report.c
	   M /trunk/server/savegame.c

	Change the format of the scorelog. Rewrite the scorelog generation.

	This change fixes three known shortcomings of the old format:
	 - there is no way to add players during a game
	 - there is no way to match a scorelog to a savegame
	 - the format uses years instead of turns

	The first is addressed by adding information when a player is added
	to the game and when a player is removed from the game.

	The second is addressed by adding an id to the savegame and to the
	scorelog. This id is generated at the start of the game. The id of the
	scorelog and the id of the savegame must match if you want to append
	data to a scorelog.

	The last issues is easy. Just replace the years with turns. The year
	information however is also given.

	For a description of the new format visit doc/scorelog-v2.


Thu, 07 Nov 2002 07:10:23 -0800  rfalke:

	Changed paths:
	   M /trunk/common/dataio.c

	Remove two asserts which trigger if a value which is neither 0 nor 1
	is used as a bool. These asserts allowed a very easy DOS attack.


Thu, 07 Nov 2002 07:04:18 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/include/cityicon.ico
	   M /trunk/client/include/drop_cursor.xbm
	   M /trunk/client/include/drop_cursor_mask.xbm
	   M /trunk/client/include/freeciv.ico
	   M /trunk/client/include/goto_cursor.xbm
	   M /trunk/client/include/goto_cursor_mask.xbm
	   M /trunk/client/include/nuke_cursor.xbm
	   M /trunk/client/include/nuke_cursor_mask.xbm

	Change the type of all *_bits arrays in the xbm files to "char". This
	matches the expected type of XCreateBitmapFromData and
	gdk_bitmap_create_from_data. Remove the casts which were added to the
	Xaw client.


Thu, 07 Nov 2002 07:01:31 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Reduce the want for coinage to least desired building and change several
	other production WAGs to higher than coinage.

	In short, almost everything now trumps coinage as a build alternative.


Thu, 07 Nov 2002 06:59:40 -0800  rfalke:

	Changed paths:
	   M /trunk/common/packets.c

	Fix a stupid bug which was created during the introduction of dataio:
	a too-short packet is signalled by a bit and not by a negative number
	of bytes remaining.


Thu, 07 Nov 2002 06:57:48 -0800  per:

	Changed paths:
	   M /trunk/server/gotohand.c

	Fix bug in goto_is_sane() which made ferries not return to their city of
	origin because they erronously thought a goto there wasn't sane.

	Fix by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Thu, 07 Nov 2002 06:56:15 -0800  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/inputdlg.c

	Add extra cast to cast from a void pointer to a function pointer.


Thu, 07 Nov 2002 06:01:02 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Stylistic touch up of srv_main() from server restart patch.


Thu, 07 Nov 2002 05:56:14 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Clean up end of turn activity handling which used to cause unnecessary
	many activity changes.


Thu, 07 Nov 2002 04:52:34 -0800  per:

	Changed paths:
	   M /trunk/common/nation.c
	   M /trunk/server/srv_main.c

	Add proper initialization of city names after a cleanup is called.


Thu, 07 Nov 2002 01:49:27 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Wed, 06 Nov 2002 16:31:18 -0800  jdorje:

	Changed paths:
	   M /trunk/data/isotrident/Makefile.am
	   A /trunk/data/isotrident/cities.png
	   D /trunk/data/isotrident/cities.xpm
	   A /trunk/data/isotrident/flags.png
	   D /trunk/data/isotrident/flags.xpm
	   A /trunk/data/isotrident/nuke.png
	   D /trunk/data/isotrident/nuke.xpm
	   A /trunk/data/isotrident/small.png
	   D /trunk/data/isotrident/small.xpm
	   A /trunk/data/isotrident/terrain1.png
	   D /trunk/data/isotrident/terrain1.xpm
	   A /trunk/data/isotrident/terrain2.png
	   D /trunk/data/isotrident/terrain2.xpm
	   A /trunk/data/isotrident/tiles.png
	   D /trunk/data/isotrident/tiles.xpm
	   A /trunk/data/isotrident/units.png
	   D /trunk/data/isotrident/units.xpm

	Replace XPM files in isotrident with (paletted) PNG files.  The new
	graphics were generated from the old using the GIMP to create an "optimal
	palette" with (up to) 256 colors.


Wed, 06 Nov 2002 14:41:58 -0800  per:

	Changed paths:
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h
	   M /trunk/common/packets.c

	Remove unused parameter to the worklist function in dataio code.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Wed, 06 Nov 2002 14:17:14 -0800  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	Wrap and clean up the handling of AI unit roles.


Wed, 06 Nov 2002 13:27:24 -0800  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Don't change activity count for activities where activity count is
	irrelevant.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> with changes by me.


Wed, 06 Nov 2002 12:22:19 -0800  jdorje:

	Changed paths:
	   M /trunk/data/misc/Makefile.am
	   A /trunk/data/misc/chiefs.png
	   D /trunk/data/misc/chiefs.xpm
	   A /trunk/data/misc/intro.png
	   D /trunk/data/misc/intro.xpm
	   A /trunk/data/misc/radar.png
	   D /trunk/data/misc/radar.xpm
	   A /trunk/data/misc/shields.png
	   D /trunk/data/misc/shields.xpm
	   A /trunk/data/misc/small.png
	   D /trunk/data/misc/small.xpm
	   A /trunk/data/misc/space.png
	   D /trunk/data/misc/space.xpm
	   A /trunk/data/misc/treaty.png
	   D /trunk/data/misc/treaty.xpm
	   M /trunk/data/trident/Makefile.am
	   A /trunk/data/trident/cities.png
	   D /trunk/data/trident/cities.xpm
	   A /trunk/data/trident/explosions.png
	   D /trunk/data/trident/explosions.xpm
	   A /trunk/data/trident/flags.png
	   D /trunk/data/trident/flags.xpm
	   A /trunk/data/trident/roads.png
	   D /trunk/data/trident/roads.xpm
	   A /trunk/data/trident/tiles.png
	   D /trunk/data/trident/tiles.xpm
	   A /trunk/data/trident/units.png
	   D /trunk/data/trident/units.xpm

	Replace XPM files in misc/ and trident/ with PNG files.


Wed, 06 Nov 2002 11:50:59 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.c

	In gui-gtk and gui-gtk-2.0, when cropping a sprite, if the sprite has no
	mask then don't try to crop one.  This prevents warnings from cropping
	a NULL mask (which happens when using PNG graphics files).  Also, drop
	ctor_sprite() in favor of ctor_sprite_mask() - the latter takes the place
	of the former if the mask is NULL.


Wed, 06 Nov 2002 02:23:58 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	In put_conv(), make sure to allocate space for the trailing \0; otherwise
	there is a guaranteed segfault.


Tue, 05 Nov 2002 21:15:05 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c

	In gui-gtk, cause the 'page up' and 'page down' buttons to page through
	the chat/game output text, when that widget has the focus.

	Patch by Janus N. Tondering <janus@bananus.dk>, with style fixes by me.


Tue, 05 Nov 2002 13:00:45 -0800  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Provide PNG support for the GTK and GTK-2.0 clients.  They will now load
	a PNG sprite file in preference to an XPM one.


Mon, 04 Nov 2002 05:03:21 -0800  glip:

	Changed paths:
	   M /trunk/server/settlers.c
	   M /trunk/server/stdinhand.c

	Remove ai_fuzzy from the decision-making wrt founding new cities by AI.
	Also expansionism of easy AI is lowered from 30 to 10 (to compensate for
	loss of fuzzyness).

	Patch by Per I. Mathisen <per@leftist.net>


Sun, 03 Nov 2002 15:22:44 -0800  kauf:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/unit.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/settlers.c
	   M /trunk/server/unittools.c

	cleanup, use correct enums instead of ints.

	Patch by Markus Linnala <maage@cs.tut.fi>


Sun, 03 Nov 2002 10:40:58 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/common/dataio.c
	   M /trunk/common/dataio.h

	Really call put_conv from inside dataio. (#2262)

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> with changes by me.


Sat, 02 Nov 2002 13:27:44 -0800  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Minor main map fixes.
	Commented out iso tile edge dithering since it seems to be bugged.
	Cleanup.


Sat, 02 Nov 2002 05:53:08 -0800  per:

	Changed paths:
	   M /trunk/server/gotohand.c

	Clean up and comment goto_is_sane().

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>
	Fixes bug reported by Sylvain Tricot <sylvaintricot@free.fr>


Sat, 02 Nov 2002 05:33:54 -0800  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/doc/README.rulesets
	   M /trunk/server/ruleset.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c

	Remove firepower_factor from rulesets. The hitpoints of Civ1 units
	are now accurate in the ruleset entries for these units.

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>


Sat, 02 Nov 2002 05:24:06 -0800  per:

	Changed paths:
	   M /trunk/doc/README

	Update doc/README for 1.14.0 release.

	Patch by Christian Knoke <chrisk@enter.de>


Sat, 02 Nov 2002 04:16:16 -0800  egbert:

	Changed paths:
	   M /trunk/doc/de/NEWS.de

	updated by Christian Knoke <chrisk@enter.de>


Sat, 02 Nov 2002 04:11:05 -0800  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update PEOPLE with German translators.


Fri, 01 Nov 2002 17:12:11 -0800  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update PEOPLE


Fri, 01 Nov 2002 16:42:56 -0800  per:

	Changed paths:
	   M /trunk/server/srv_main.c

	Remove ancient Mac beta notice.


Fri, 01 Nov 2002 11:51:23 -0800  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Remove excess logging, cosmetic cleanup


Fri, 01 Nov 2002 11:46:44 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Remove stupid #ifdef DEBUGed logging code


Fri, 01 Nov 2002 11:44:20 -0800  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c

	Further cosmetic fixes of AI code. Add and change several comments.
	Change stay_and_defend_city() to stay_and_defend() and also add
	theoretical possibility of staying and defending an allied city
	(removed check against this).


Fri, 01 Nov 2002 11:21:09 -0800  per:

	Changed paths:
	   M /trunk/ai/aiair.c
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h

	Cosmetic fixes for AI code. Remove some excess bodyguard logging.


Fri, 01 Nov 2002 11:10:48 -0800  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Remove obsolete comment.


Fri, 01 Nov 2002 10:11:42 -0800  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/agents/cma_fec.h
	   M /trunk/client/audio.c
	   M /trunk/client/audio.h
	   M /trunk/client/gui-mui/citydlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Remove declarations of pointers as consts.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Fri, 01 Nov 2002 09:59:44 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix bugs that occur when a player is split after a civil war.

	Patch by Davide Pagnin <nightmare@freeciv.it>


Fri, 01 Nov 2002 09:51:13 -0800  per:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/control.h
	   M /trunk/client/packhand.c
	   M /trunk/server/unithand.c

	Fix the auto end turn when done moving option in the case where you have
	only AI controlled units in action. Also ensures punit->ai.control
	is set correctly for exploring units (this was not previously done).

	Bug reported by Alex <opi@gmx.at>


Fri, 01 Nov 2002 09:40:46 -0800  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/advmilitary.c
	   A /trunk/ai/aiair.c
	   A /trunk/ai/aiair.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/common/player.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/data/default/techs.ruleset
	   M /trunk/server/Makefile.am
	   A /trunk/server/airgoto.c
	   A /trunk/server/airgoto.h
	   M /trunk/server/gotohand.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unittools.c
	   M /trunk/server/unittools.h

	Add AI support for flying units.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Fri, 01 Nov 2002 08:38:57 -0800  rfalke:

	Changed paths:
	   M /trunk/client/mapctrl_common.c

	The function get_turn_done_button_state not only control the state of
	the button but also if the client is able to send PACKET_TURN_DONE at
	all. While it is valid to disable the button if
	(game.player_ptr->ai.control && !ai_manual_turn_done) is true it won't
	allow the sending of the PACKET_TURN_DONE via user_ended_turn().

	Patch from Per I. Mathisen <per@leftist.net>.


Thu, 31 Oct 2002 03:19:45 -0800  per:

	Changed paths:
	   M /trunk/Makefile.am
	   D /trunk/acconfig.h
	   A /trunk/acconfig.old
	   M /trunk/autogen.sh

	Rename acconfig.h to acconfig.old to prevent warnings in distributions
	using new version of autoconf.


Wed, 30 Oct 2002 14:34:03 -0800  jdorje:

	Changed paths:
	   M /trunk/common/connection.h
	   M /trunk/common/player.h
	   M /trunk/server/maphand.c

	Update the location of doc/HACKING (formerly freeciv_hackers_guide.txt) in
	three places.


Wed, 30 Oct 2002 13:33:15 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Remove another log.h warning


Wed, 30 Oct 2002 13:19:41 -0800  rfalke:

	Changed paths:
	   M /trunk/server/settlers.c

	Add the variable best_moves to get the correct values for the final
	freelog.

	Move variables into the nested square_iterate loop.

	Patch from Per I. Mathisen <per@leftist.net> and me.


Wed, 30 Oct 2002 13:15:58 -0800  per:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cma_fe.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c

	Remove log.h warning


Tue, 29 Oct 2002 10:50:06 -0800  per:

	Changed paths:
	   M /trunk/ai/ailog.c
	   M /trunk/common/log.c
	   M /trunk/common/log.h
	   M /trunk/common/shared.c
	   M /trunk/utility/log.c
	   M /trunk/utility/log.h
	   M /trunk/utility/shared.c

	Rename log_level to fc_log_level and add sys/types.h to platforms that
	may need it. This helps compilation on MacOSX.

	Patch by Max Berger <max.berger@xslt.de>


Mon, 28 Oct 2002 19:56:12 -0800  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated.
	"Riflery" and "Milling" untranslated. Descriptions needed.
	TIA


Mon, 28 Oct 2002 09:47:33 -0800  per:

	Changed paths:
	   M /trunk/doc/BUGS
	   M /trunk/doc/README.AI

	Update BUGS and README.AI

	Fixes suggested by Anthony J. Stuckey <astuckey@imsa.edu>


Mon, 28 Oct 2002 09:06:12 -0800  per:

	Changed paths:
	   M /trunk/ai/aiunit.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/cityturn.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/savegame.c
	   M /trunk/server/unithand.c

	Move incite modifiers into city_incite_cost() and remove
	pcity->incite_revolt_cost. Now always call city_incite_cost() for this
	information.

	Taken from patch by Thomas Strub <ue80@rz.uni-karlsruhe.de>


Mon, 28 Oct 2002 08:49:31 -0800  per:

	Changed paths:
	   M /trunk/server/plrhand.c
	   M /trunk/server/report.c

	Fix bug in tech code which happens when you set techlevel=50 and
	choose_goal_tech() returns zero, at which point a division by zero
	happens in report.c

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Sun, 27 Oct 2002 14:42:18 -0800  pagnin:

	Changed paths:
	   M /trunk/common/packets.c

	A core happens when a connection is closed after the client has joined
	and before send_attribute_block is called.
	Patch from Raimar Falke <rf13@inf.tu-dresden.de>.


Sun, 27 Oct 2002 13:05:16 -0800  kauf:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	reinitialize is_name_unique so that you don't get a blank
	drop-down box when starting a new game.

	Reported by Thomas Strub <ue80@rz.uni-karlsruhe.de>


Sat, 26 Oct 2002 13:11:46 -0700  pagnin:

	Changed paths:
	   M /trunk/po/et.po

	Restore a sane et.po file.


Sat, 26 Oct 2002 12:59:57 -0700  pagnin:

	Changed paths:
	   M /trunk/po/it.po

	it.po updated


Thu, 24 Oct 2002 14:59:22 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 24 Oct 2002 14:53:59 -0700  tg:

	Changed paths:
	   M /trunk/po/hu.po

	update for version 1.14.0


Wed, 23 Oct 2002 13:23:20 -0700  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Wed, 23 Oct 2002 02:16:43 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	rättelse


Mon, 21 Oct 2002 08:35:55 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Sun, 20 Oct 2002 13:26:02 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	New popup_bribe_dialog, popup_incite_dialog, popup_government_dialog.
	New popup_unit_select_dialog.
	Cleanup.


Sun, 20 Oct 2002 10:10:22 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Fri, 18 Oct 2002 21:16:16 -0700  kauf:

	Changed paths:
	   M /trunk/common/improvement.h

	tidy up comments to make more readable.


Fri, 18 Oct 2002 21:02:07 -0700  kauf:

	Changed paths:
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/packets.h

	remove typedefs

	Eff_Range_id -> enum effect_range
	Eff_Type_id -> enum effect_type

	Patch by Per and changes from me.


Fri, 18 Oct 2002 19:36:08 -0700  kauf:

	Changed paths:
	   M /trunk/common/support.c
	   M /trunk/utility/support.c

	correct the comment to myusleep


Fri, 18 Oct 2002 18:48:52 -0700  kauf:

	Changed paths:
	   M /trunk/data/Freeciv

	update the version to 1.14.1-devel


Fri, 18 Oct 2002 02:58:49 -0700  glip:

	Changed paths:
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c

	Reset game.turn_start (the timeout timer) just before the game starts, so
	that the time spent selecting nation etc is not counted towards the first
	turn.  Fixes (PR#2169).

	Bugreport and patch by Thomas Strub <ue80@rz.uni-karlsruhe.de> with added
	comments.


Thu, 17 Oct 2002 04:20:50 -0700  glip:

	Changed paths:
	   M /trunk/common/map.h

	Change MAPSTEP macro to allow src and dest variables to be the same, as in
	MAPSTEP(x, y, x, y, DIR_HELL).

	Idea by Jason Short <jdorje@users.sourceforge.net>.  Patch by Gregory
	Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>.  Changes by Raimar Falke
	<rf13@inf.tu-dresden.de>.  That makes 3 developers per 9 lines of change.


Thu, 17 Oct 2002 01:35:32 -0700  rfalke:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c

	Remove redeclarations of is_server (is declared in common/game.h).


Thu, 17 Oct 2002 00:18:39 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Wed, 16 Oct 2002 18:48:21 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Wed, 16 Oct 2002 16:03:19 -0700  pagnin:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Fix PR#2089 related to History ruleset lacks i18n.
	Patch submitted by Christian Knoke <chrisk@enter.de>


Wed, 16 Oct 2002 15:26:46 -0700  pagnin:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Fix PR#1691 related to a combat example in helpdata.txt.
	Bug reported by mateusz stefek <matusik_s@o2.pl>.
	Patch by Raimar Falke with changes by me.


Wed, 16 Oct 2002 11:40:54 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	When changing default cmdlevel, change firstlevel as well.
	Previously it was only set the first time, which might lead to
	security issues.

	Patch by Davide Pagnin <nightmare@freeciv.it>


Wed, 16 Oct 2002 10:39:10 -0700  rfalke:

	Changed paths:
	   M /trunk/server/gotohand.c

	Removed unused struct stack_element.

	Reported by STyx <sylvaintricot@free.fr>. Patch from me.


Wed, 16 Oct 2002 03:42:00 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Tue, 15 Oct 2002 17:10:40 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/dialogs.c

	head BRANCH: Port new GTK+ nations dialog.

	Patch by John Bauman <baumans@ptdprolog.net> which minor changes by me.


Tue, 15 Oct 2002 16:50:54 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c

	Significant cleanup to ecomomy dialog improvement selection callback
	functions.  Now the "sell obsolete" button will only be enabled when
	a sellable improvement is obsolete.  Also the code is more resiliant in
	general.

	See PR#2132 for previous discussion on this.


Tue, 15 Oct 2002 15:08:28 -0700  pagnin:

	Changed paths:
	   M /trunk/client/gui-gtk/gui_main.c

	Fix PR#1961 related to turn done button not blinking properly
	in the gtk-client. Bug reported by Christian Knoke <chrisk@enter.de>.
	Patch from Raimar Falke.


Tue, 15 Oct 2002 13:37:23 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Add donations, update name


Tue, 15 Oct 2002 13:28:41 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/repodlgs.c
	   M /trunk/client/gui-xaw/repodlgs.c

	Add missing braces in economy dialog. Bug and fix reported
	by Sylvain Tricot <sylvaintricot@free.fr>


Tue, 15 Oct 2002 09:53:44 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/gui_main.c

	Don't use hardcoded fontsizes.


Mon, 14 Oct 2002 17:41:48 -0700  jdorje:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h

	Rename 'enum stat' as 'enum cma_stat' since 'stat' conflicts with a system
	type ('struct stat') on OpenVMS.

	Reported by Robert Alan Byer <byer@mail.ourservers.net>.  Patch by
	Davide Pagnin.


Sun, 13 Oct 2002 16:23:31 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/colors.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/graphics.c
	   M /trunk/client/gui-gtk-2.0/graphics.h
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Sync with GTK+ client.


Sun, 13 Oct 2002 14:54:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/mapview.c

	Sync with GTK+ client.


Sun, 13 Oct 2002 14:45:24 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/menu.c

	Sync with GTK+ client.


Sun, 13 Oct 2002 14:41:27 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/connectdlg.c

	Renamed button on connection dialog from "Jump To" to "Connect".


Fri, 11 Oct 2002 17:33:00 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po.


Fri, 11 Oct 2002 16:45:46 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Update more version info


Fri, 11 Oct 2002 16:37:00 -0700  per:

	Changed paths:
	   M /trunk/common/version.h

	Update version information for main branch


Fri, 11 Oct 2002 16:24:46 -0700  per:

	Changed paths:
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po

	Update translation files


Fri, 11 Oct 2002 15:24:11 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update doc/PEOPLE


Fri, 11 Oct 2002 15:11:04 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix some issues with recently committed spy on server commands fix patch.


Fri, 11 Oct 2002 14:50:33 -0700  per:

	Changed paths:
	   M /trunk/NEWS

	Updating NEWS


Fri, 11 Oct 2002 09:40:46 -0700  pagnin:

	Changed paths:
	   M /trunk/po/it.po

	it.po updated


Fri, 11 Oct 2002 00:53:04 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po
	Removed large trailing comment (old stuff).


Thu, 10 Oct 2002 14:25:39 -0700  asf:

	Changed paths:
	   M /trunk/po/fr.po

	mise a jour du 10 oct 2002


Thu, 10 Oct 2002 14:16:12 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	updated


Thu, 10 Oct 2002 07:38:04 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated (error in previous commit)


Thu, 10 Oct 2002 07:34:39 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 10 Oct 2002 03:23:09 -0700  per:

	Changed paths:
	   A /trunk/missing

	Readding 'missing' with a newer version, as SunOS did not seem capable of
	autogenerating it.


Thu, 10 Oct 2002 01:59:49 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 09 Oct 2002 13:54:21 -0700  jdorje:

	Changed paths:
	   M /trunk/common/Makefile.am
	   D /trunk/common/attribute.h
	   M /trunk/common/ioz.h
	   M /trunk/common/log.h
	   M /trunk/common/registry.h
	   M /trunk/common/shared.h
	   M /trunk/common/support.h
	   M /trunk/server/console.h
	   M /trunk/server/gamelog.h
	   M /trunk/server/plrhand.h
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/ioz.h
	   M /trunk/utility/log.h
	   M /trunk/utility/registry.h
	   M /trunk/utility/shared.h
	   M /trunk/utility/support.h

	Moved the contents of common/attribute.h into common/shared.h.  Removed
	the file common/attribute.h - this fixes a conflict with
	client/attribute.h that prevents compilation on some platforms.  Removed
	all applicable '#include "attribute.h"' lines and added
	'#include "shared.h"' where necessary.

	Reported by Robert Alan Byer <byer@mail.ourservers.net>.  Identified by
	Mike Kaufman.  Patch by Davide Pagnin and myself.


Wed, 09 Oct 2002 13:46:50 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Wed, 09 Oct 2002 12:32:22 -0700  pagnin:

	Changed paths:
	   M /trunk/po/it.po

	it.po updated


Wed, 09 Oct 2002 12:28:02 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Wed, 09 Oct 2002 10:26:42 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix compilation blooper.


Wed, 09 Oct 2002 09:37:06 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Wed, 09 Oct 2002 09:12:17 -0700  per:

	Changed paths:
	   M /trunk/server/report.c

	Fix a division by zero that happens if we request a score report while a
	player is researching a known tech.


Wed, 09 Oct 2002 09:02:37 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix reporting on server cmdline bug in spy on server commands patch.

	Patch by Reinier Post <rp@win.tue.nl>


Wed, 09 Oct 2002 08:34:45 -0700  per:

	Changed paths:
	   D /trunk/missing

	Removing 'missing' script, which is an autogenerated file that should not
	be in cvs in the first place. This way an up to date version will be
	installed on people's computers, avoiding a frequent and stupid warning.


Wed, 09 Oct 2002 07:55:27 -0700  per:

	Changed paths:
	   M /trunk/po/Makefile.in.in
	   M /trunk/po/da.po
	   M /trunk/po/de.po
	   M /trunk/po/en_GB.po
	   M /trunk/po/es.po
	   M /trunk/po/et.po
	   M /trunk/po/fi.po
	   M /trunk/po/fr.po
	   M /trunk/po/hu.po
	   M /trunk/po/it.po
	   M /trunk/po/ja.po
	   M /trunk/po/nl.po
	   M /trunk/po/no.po
	   M /trunk/po/pl.po
	   M /trunk/po/pt.po
	   M /trunk/po/pt_BR.po
	   M /trunk/po/ro.po
	   M /trunk/po/ru.po
	   M /trunk/po/sv.po

	Change to more strict checking of translations (msgfmt -c), and update .po
	files for release. Warning: This is a very large diff.


Wed, 09 Oct 2002 07:10:17 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix bug in notify_embassies() which would make a player receive some
	messages twice.

	Reported by Davide Pagnin <nightmare@freeciv.it>


Wed, 09 Oct 2002 07:03:33 -0700  per:

	Changed paths:
	   M /trunk/doc/BUGS

	Add to doc/BUGS: If you hit ctrl-c in the client while using the esd sound
	plugin, the currently looping sound may not be properly aborted.


Wed, 09 Oct 2002 06:39:47 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c

	Add kludge to turn CMA off after game ends to avoid unnecessary cores.

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>


Wed, 09 Oct 2002 06:32:32 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	I18n a forgotten piece of text. Patch by Christian Knoke <chrisk@enter.de>


Wed, 09 Oct 2002 06:31:09 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/common/dataio.c
	   M /trunk/common/packets.c

	Fix 64bit warnings

	Patch by Davide Pagnin <nightmare@freeciv.it>


Wed, 09 Oct 2002 06:23:25 -0700  per:

	Changed paths:
	   M /trunk/client/repodlgs_common.c

	Correctly show expenses under Anarchy due to building upkeep (zero).

	Patch by Jason Short <jdorje@users.sourceforge.net>


Tue, 08 Oct 2002 13:56:18 -0700  tg:

	Changed paths:
	   M /trunk/po/hu.po

	update


Mon, 07 Oct 2002 10:26:21 -0700  per:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/doc/PEOPLE

	Merge capabilities in preparation for release branch.


Mon, 07 Oct 2002 10:08:25 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c

	Fix for mice with mouse wheel.

	Patch by mateusz stefek <matusik_s@o2.pl> and Jason Short
	<jdorje@users.sourceforge.net>


Mon, 07 Oct 2002 09:46:16 -0700  per:

	Changed paths:
	   M /trunk/doc/BUGS

	Update doc/BUGS


Mon, 07 Oct 2002 07:03:22 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Mon, 07 Oct 2002 03:55:26 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 07 Oct 2002 03:46:14 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	update


Sun, 06 Oct 2002 10:57:03 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sun, 06 Oct 2002 10:03:41 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Sun, 06 Oct 2002 08:41:23 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated: "msgfmt -c" compatible


Sun, 06 Oct 2002 02:59:34 -0700  pagnin:

	Changed paths:
	   M /trunk/data/history/Makefile.am

	Correction to install data path for history ruleset.

	Patch by Mateusz Stefek <matusik_s@o2.pl>. Fixes PR#2134


Sun, 06 Oct 2002 02:49:55 -0700  pagnin:

	Changed paths:
	   M /trunk/po/it.po

	Updated it.po for 1.14.0 Release


Fri, 04 Oct 2002 15:18:08 -0700  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	Igh. Unbreaking CVS.


Fri, 04 Oct 2002 12:47:04 -0700  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	Update for the new release coming up.


Thu, 03 Oct 2002 14:34:38 -0700  kauf:

	Changed paths:
	   M /trunk/server/report.c
	   M /trunk/server/report.h
	   M /trunk/server/stdinhand.c

	do input checking for the option strings of 'set allowconnect'
	and 'set demography'. resolves PR#624

	Patch by Jason Short


Wed, 02 Oct 2002 22:19:25 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	Typo corrected by Jens Seidel <tux-master@web.de>


Wed, 02 Oct 2002 10:00:03 -0700  jdorje:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/dataio.c

	Allow bitstrings of up to 64k length to be sent over the network.  Add
	better error handling in the (inconceivable) case where this limit is
	exceeded.  Add a manditory capability since this breaks network
	compatability.

	This was PR#2115.


Wed, 02 Oct 2002 08:01:44 -0700  jdorje:

	Changed paths:
	   M /trunk/Makefile.am

	Fix the list of m4 macro files in EXTRA_DIST.  This should allow
	"make dist" and friends to work.

	This fixes PR#2124, reported by me.  Patch by Per I. Mathisen
	<per@leftist.net>.


Tue, 01 Oct 2002 00:51:12 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 30 Sep 2002 12:12:27 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Mon, 30 Sep 2002 08:27:46 -0700  jdorje:

	Changed paths:
	   M /trunk/common/dataio.c

	Avoid a math error and failed assertion when dio_put_bit_string is called
	with an empty string.  Change the assertion to check the correct value
	(the number of bits, not the number of bytes) in any case.

	Bug reported by Thomas Strub <ue80@rz.uni-karlsruhe.de>.  Patch by me.


Mon, 30 Sep 2002 06:08:56 -0700  per:

	Changed paths:
	   M /trunk/server/autoattack.c
	   M /trunk/server/console.c

	Fix various compile warnings.

	Patch by Jason Short <jdorje@users.sourceforge.net>


Sun, 29 Sep 2002 23:04:00 -0700  ornil:

	Changed paths:
	   M /trunk/po/ru.po

	Updated ru.po. Has almost all translations (except some help) for
	version 1.13.0.


Sun, 29 Sep 2002 20:18:20 -0700  jdorje:

	Changed paths:
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Remove a spurious semicolon from a macro, thus eliminating a warning when
	compiling with Sun CC.

	This fixes part of PR#2046, reported by Reinier Post <rp@win.tue.nl>.
	Patch by me.


Sun, 29 Sep 2002 15:59:57 -0700  kauf:

	Changed paths:
	   M /trunk/client/agents/agents.c

	don't free the cma presets on disconnect. This currently leaves the
	memory dangling on client exit, but it's better than losing your
	presets on reconnect.


Sun, 29 Sep 2002 13:50:56 -0700  tg:

	Changed paths:
	   M /trunk/po/hu.po

	Update.
	Translation state: 2752 translated, 2 fuzzy, 183 untranslated.


Sun, 29 Sep 2002 13:24:06 -0700  kauf:

	Changed paths:
	   M /trunk/server/mapgen.c

	reinitialize the forests variable, so generating a second map
	(like in civworld) won't yield massive deforestation.

	Reported by Pete Stewart <stwrtpj@earthlink.net>
	Fix by Karen Yeats <kayeats@uwaterloo.ca>


Sun, 29 Sep 2002 11:56:54 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Fix bug in CMA where variables were not properly reset.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu>


Sun, 29 Sep 2002 11:37:04 -0700  per:

	Changed paths:
	   M /trunk/server/gamelog.h

	Forgot one file from previous commit.


Sun, 29 Sep 2002 11:33:12 -0700  per:

	Changed paths:
	   M /trunk/server/gamelog.c

	Add the "aigamelog" patch to cvs. This is already in use on civserver.
	Also fixed some style issues.


Sat, 28 Sep 2002 16:00:51 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Cleanup of enemies_at(), which had the very dubious assumption that a
	city was always dangerous, which in turn led to quite unoptimal behaviour
	and even goto flip flops in some cases. Also add a handicap for easy
	AI that prevents it from accurately estimating the strength of the enemy
	by making use of AI omniscience.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Sat, 28 Sep 2002 14:58:16 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/aicity.c
	   A /trunk/ai/ailog.c
	   A /trunk/ai/ailog.h
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/common/capstr.c
	   M /trunk/common/log.c
	   M /trunk/common/log.h
	   M /trunk/utility/log.c
	   M /trunk/utility/log.h

	Make the new AI logging macros into proper functions for greater
	portability.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu> and changes by me.


Sat, 28 Sep 2002 13:18:04 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Sat, 28 Sep 2002 07:13:33 -0700  kauf:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	reinitialize cma caches to NULL after free() so that
	client doesn't freeze on quit.


Sat, 28 Sep 2002 06:52:51 -0700  glip:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c

	Remove an unused variable.
	Patch by Jason Dorje Short <jdorje@users.sf.net>.


Sat, 28 Sep 2002 01:02:06 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Fri, 27 Sep 2002 20:33:09 -0700  kauf:

	Changed paths:
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/graphics.h

	revamp choose nation dialog: add flags to make dialog look pretty.
	major style cleanup.

	Patch by Daniel Speyer <dspeyer@wam.umd.edu> with some fixes and cleanup by me.


Fri, 27 Sep 2002 18:36:24 -0700  kauf:

	Changed paths:
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/agents.h
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/agents/cma_fec.h
	   M /trunk/client/attribute.c
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/goto.c
	   M /trunk/client/goto.h
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/colors.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/client/gui-gtk/wldlg.h
	   M /trunk/client/helpdata.c
	   M /trunk/client/helpdata.h
	   M /trunk/client/include/colors_g.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/game.c
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c
	   M /trunk/server/srv_main.h
	   M /trunk/server/stdinhand.c

	Cleanup some memory handling routines.
	add cmafec_free(), client_game_init(), client_game_free()
	free_client_goto(), free_color_system(), close_worklist_editor()
	tilespec_free_tiles(), server_game_free()

	Patch by Raimar with some changes by me.


Fri, 27 Sep 2002 08:47:00 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/gtkpixcomm.c
	   M /trunk/client/gui-gtk-2.0/repodlgs.c
	   M /trunk/client/gui-gtk-2.0/wldlg.c

	Avoid a number of compiler errors when compiling the GTK2 client:
	  - Label some functions static.
	  - #if 0...#endif around an unused function.
	  - Reorder switch statement so "default" case comes last.
	  - Comment out a (currently) unused variable.


Fri, 27 Sep 2002 08:00:45 -0700  jdorje:

	Changed paths:
	   M /trunk/client/messagewin_common.c

	Avoid a segfault when the user tries to "popup city" for a city event
	when the city has been destroyed.  Now the "popup city" button will still
	be active, but clicking on it will only recenter the mapview (at most).

	This fixes PR#1951, reported by Christian Knoke <chrisk@enter.de>.  Patch
	by me.


Fri, 27 Sep 2002 05:32:48 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aidata.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/common/unit.c
	   M /trunk/server/autoattack.c
	   M /trunk/server/barbarian.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/console.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/mapgen.c
	   M /trunk/server/meta.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/settlers.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c
	   M /trunk/server/unittools.c
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Code cleanup. Ignore unused return values, bool cleanup, remove unreachable code,
	add static, add missing elements and make bv_check_mask portable (remove use of
	char to int cast).

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Fri, 27 Sep 2002 05:07:10 -0700  per:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Update CodingStyle to current best practice.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Thu, 26 Sep 2002 08:55:42 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/messagedlg.c

	The message options dialog fits now on 1024x768 again.
	Bug reported by
	Gianmario Scotti <gianmario.scotti@nokia.com>


Thu, 26 Sep 2002 04:26:53 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 26 Sep 2002 01:51:02 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Wed, 25 Sep 2002 13:24:53 -0700  jdorje:

	Changed paths:
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/cityrepdata.h
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-mui/cityrep.c
	   M /trunk/client/gui-win32/cityrep.c
	   M /trunk/client/gui-xaw/cityrep.c

	Add translation qualifiers for many of the titles in the city report
	dialog.  This allows easier translation of the titles, and in some
	languages more accurate translation of some titles.  The titles are now
	translated with Q_(), which is done once on startup.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as PR#2043, with style changes
	from me.


Wed, 25 Sep 2002 03:37:02 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Fix the recently added limit to settler placements so that it actually
	works. Forgot to multiply by FOOD_WEIGHTING.

	Bug reported by Thomas Strub <ue80@rz.uni-karlsruhe.de>


Tue, 24 Sep 2002 23:49:17 -0700  egbert:

	Changed paths:
	   M /trunk/doc/de/INSTALL.de

	INSTALL.de updated by Jens Georg <mail@jensgeorg.de>


Tue, 24 Sep 2002 18:03:47 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	Stop units with zero attack strength from attacking. This fixes PR#2025.


Tue, 24 Sep 2002 17:58:12 -0700  per:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/city.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Change the way specialists are taken from citizens. Previously specialists
	simply reduced the number of citizens, which usually meant any one
	additional specialist reduced the number of unhappy people by one, while
	now they are taken from the ranks of content citizens if possible. Also
	made angrycitizen option into a bool instead of an int, and made it true by
	default. This has little or no effect on the current set of rulesets, since
	the government options regarding the number content citizens are much too
	nice.

	Thanks to Davide Pagnin <nightmare@freeciv.it>, Raahul Kumar
	<raahul_da_man@yahoo.com> and Ross W. Wetmore <rwetmore@sympatico.ca> for
	comments, ideas and previous patches in this area.


Tue, 24 Sep 2002 17:45:10 -0700  per:

	Changed paths:
	   M /trunk/server/cityturn.c

	Fix style issues and add some comments to city_incite_cost()


Tue, 24 Sep 2002 15:38:33 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Remove broken and braindead default danger code, which would make the AI
	make rather bad decisions in several cases.


Tue, 24 Sep 2002 15:36:23 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Fix the calculation of Courthouse benefit. Used to calculate benefit
	using a value that was already adjusted because of corruption, so the
	real value of the Courthouse wasn't taken into account. New algorithm is:

	        values[id] = (pcity->corruption * TRADE_WEIGHTING) / 2;


Tue, 24 Sep 2002 01:47:34 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 23 Sep 2002 17:49:18 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix bug in attack code which would make units flip-flop on their attack
	duties. Also fixed case where units stuck in a ferry would try again and
	again to attack or goto their target. Lastly, improved logging in this
	area of the code.


Mon, 23 Sep 2002 17:40:41 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Mon, 23 Sep 2002 15:47:11 -0700  per:

	Changed paths:
	   M /trunk/client/packhand.c
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/server/maphand.c
	   M /trunk/server/maphand.h
	   M /trunk/server/unittools.c

	Fix bugs in partially invisible unit code.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Mon, 23 Sep 2002 15:21:53 -0700  per:

	Changed paths:
	   M /trunk/common/game.h

	Change default techlevel from 3 to 0. This is the same default as has
	been in use on civserver for a long time.


Mon, 23 Sep 2002 15:16:33 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Stop the AI from building cities in places where it is unlikely that it
	can build settlers later on (city center has less than two food). This
	stop some pathological behaviour, although the solution is non-optimal.


Mon, 23 Sep 2002 13:32:17 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix that freezes AI transports because they attempt to pick up units
	that are not in the coastline, and fail to generate a valid goto to
	them. This could lead to entire clusters of transport queueing up
	waiting for a non-coastal unit that that wasn't moving since it didn't
	have a transport... Also add better logging facilities in ferry code.


Mon, 23 Sep 2002 10:45:36 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix bug that prevented units from being landed from ferries properly
	when it was erronously thought possible to attack an adjacent city
	instead.


Mon, 23 Sep 2002 10:03:46 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix log message


Mon, 23 Sep 2002 09:39:14 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Remove bug in spend gold function that stopped AI from selling not
	needed explorers.


Mon, 23 Sep 2002 08:00:56 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Remove long dead building evaluation AI code in server.


Mon, 23 Sep 2002 04:19:47 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 22 Sep 2002 12:21:30 -0700  jdorje:

	Changed paths:
	   M /trunk/common/log.c
	   M /trunk/server/diplhand.c
	   M /trunk/utility/log.c

	Use the PL_() macro several times in two places: in vreal_freelog and in
	handle_diplomacy_accept_treaty.

	Patch by Mateusz Stefek <matusik_s@o2.pl> as PR#2042, with style changes
	by me.


Sun, 22 Sep 2002 00:11:13 -0700  jdorje:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Rename set_put_conv_callback() and set_iget_conv_callback() as their new
	dio_***() equivalents.  Rename iget_conv() as get_conv() for consistency.
	Add #include for DIO header file.

	This fixes PR#2072, reported by Egbert Hinzen <egbert@hinzen-koeln.de>.
	Patch by me.


Sat, 21 Sep 2002 02:46:49 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Thu, 19 Sep 2002 15:36:42 -0700  rfalke:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Add the check_city function. In addition to the start of handle_city
	this function need to be called after every opportunity of receiving
	packets (wait_for_requests). These packets may change the current city
	status in unknown ways (remove city, city was taken over by enemy, CMA
	attributes are removed for this city,...). Only if check_city returns
	TRUE after such a packet-receiving we are interested in optimizing
	this city.

	Reported by Jussi Asp <Jussi.Asp@uta.fi>. Patch from me.


Thu, 19 Sep 2002 14:27:28 -0700  rfalke:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/climisc.h
	   M /trunk/client/packhand.c

	Change the type of the argument of client_remove_unit from unit_id to
	struct unit *. This makes client_remove_unit similar to
	client_remove_city. Add a test to handle_remove_unit to ensure that
	client_remove_unit and agents_unit_remove are only called for units
	which the knows about.

	Reported by Per I. Mathisen <per@leftist.net>. Patch from me.


Thu, 19 Sep 2002 14:19:56 -0700  rfalke:

	Changed paths:
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/agents.h
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_fec.c

	Change the type of the parameter of the unit/city_callbacks in struct
	agent from object-pointer to id. This is necessary since it is
	possible that the object is no longer existing at the time the call is
	dispatched. The agents have now to check if the object exists.


Thu, 19 Sep 2002 10:15:04 -0700  rfalke:

	Changed paths:
	   M /trunk/common/city.c

	Change the way the trade is distributed among science, tax and
	luxury. The old version allowed exploiting (it allowed a tech output
	of 2 if trade is 2 and max rates=60% by setting the rates to
	20/20/60). The new version is a modified Hare/Niemeyer algorithm.

	Patch by Thomas Strub <ue80@rz.uni-karlsruhe.de> with changes from me.


Thu, 19 Sep 2002 08:36:41 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Thu, 19 Sep 2002 07:58:01 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Thu, 19 Sep 2002 07:39:39 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/agents/cma_core.h
	   M /trunk/client/agents/cma_fec.c
	   M /trunk/client/attribute.c
	   M /trunk/common/Makefile.am
	   A /trunk/common/dataio.c
	   A /trunk/common/dataio.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/doc/HACKING
	   M /trunk/server/meta.c

	Add new network layer called "dataio" to provide endian and intsize
	portability safe functions both for network and savegames. Also cleans
	up packets.c nicely.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Thu, 19 Sep 2002 07:16:32 -0700  per:

	Changed paths:
	   M /trunk/data/default/units.ruleset
	   M /trunk/server/ruleset.c

	Correct misleading comment in default units.ruleset, and add check to
	ensure nobody follows my insane advice (to set firepower to zero).

	Patch by Davide Pagnin <nightmare@freeciv.it>


Thu, 19 Sep 2002 07:09:31 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Allow other players to spy on your server commands. This has
	long been in use on civserver.

	Patch by Reinier Post <rp@win.tue.nl>


Wed, 18 Sep 2002 06:41:24 -0700  tg:

	Changed paths:
	   M /trunk/po/hu.po

	update


Tue, 17 Sep 2002 06:09:47 -0700  andi:

	Changed paths:
	   M /trunk/client/clinet.c

	corrected os reporting on win9X, winme and winxp
	Patch by  Vasco Alexandre Da Silva Costa <vasc@rnl.ist.utl.pt>


Sat, 14 Sep 2002 09:51:02 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aitools.c

	Change "assert(pointer)" to "assert(pointer != NULL)" to make 64bit
	compilers happy.

	Reported by Davide Pagnin <nightmare@freeciv.it>. Patch from me.


Fri, 13 Sep 2002 03:04:02 -0700  andi:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/utility/shared.c

	dont't use fopen() in datafilename() to check whether the file/directory exists.
	Some platforms do always return NULL when opening a directory using fopen().
	So now stat() is used instead


Thu, 12 Sep 2002 12:40:07 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aiunit.c
	   M /trunk/server/settlers.c

	Change "assert(pointer)" to "assert(pointer != NULL)" to make 64bit
	compilers happy.

	Reported by Davide Pagnin <nightmare@freeciv.it>. Patch from me.


Thu, 12 Sep 2002 12:33:05 -0700  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Thu, 12 Sep 2002 10:52:53 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Wed, 11 Sep 2002 11:49:13 -0700  rfalke:

	Changed paths:
	   M /trunk/server/srv_main.c

	Wrap the data which is send if a game starts with PACKET_FREEZE_HINT
	and PACKET_THAW_HINT. doc/HACKING mentions this but by error it wasn't
	implement yet.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.


Wed, 11 Sep 2002 10:04:43 -0700  rfalke:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aiunit.c
	   M /trunk/client/climisc.c
	   M /trunk/client/control.c
	   M /trunk/client/goto.c
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk-2.0/mapctrl.c
	   M /trunk/client/gui-mui/mapctrl.c
	   M /trunk/client/gui-xaw/mapctrl.c
	   M /trunk/client/packhand.c
	   M /trunk/common/city.c
	   M /trunk/common/map.c
	   M /trunk/server/autoattack.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/sanitycheck.c
	   M /trunk/server/unithand.c

	Replace "(x1 == x2 && y1 == y2)" with "same_pos(x1, y1, x2, y2)".

	Patch from Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk> with
	changes from me.


Wed, 11 Sep 2002 04:23:37 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/diplodlg.c

	Players weren't able to give money away (in the diplomacy meeting)

	Bug reported by Martin McMahon <martin.mcmahon@ukonline.co.uk>


Wed, 11 Sep 2002 01:01:25 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po; plenty of spelling fixes.
	Thanks to Jelle Pelfrene <beregond@penguins.org>


Tue, 10 Sep 2002 07:01:09 -0700  rfalke:

	Changed paths:
	   M /trunk/client/agents/agents.c
	   M /trunk/client/agents/agents.h
	   M /trunk/client/civclient.c
	   M /trunk/client/climisc.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/doc/HACKING
	   M /trunk/server/srv_main.c

	Add two new packets PACKET_FREEZE_HINT and PACKET_THAW_HINT and a new
	mandatory capability. This solves the show-map-at-end-of-game and the
	chatline-is-dead-during-pregame bugs.

	From doc/HACKING:
	  The PACKET_FREEZE_HINT and PACKET_THAW_HINT packets serve two
	  purposes:

	   - Packets send between these two packets may contain multiple
	   information packets which may cause multiple updates of some GUI
	   items. PACKET_FREEZE_HINT and PACKET_THAW_HINT can now be used to
	   freeze the GUI at the time PACKET_FREEZE_HINT is received and only
	   update the GUI after the PACKET_THAW_HINT packet is received.

	   - Packets send between these two packets may contain contradicting
	   information which may confuse a client-side AI (agents for
	   example). So any updates send between these two packets are only
	   processed after the PACKET_THAW_HINT packet is received.

	  The following areas are wrapped by PACKET_FREEZE_HINT and
	  PACKET_THAW_HINT:

	   - the data send if a new game starts
	   - the data send to a reconnecting player
	   - the end turn activities

	Reported by various. Patch from me.


Tue, 10 Sep 2002 06:46:08 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-win32/cityrep.c

	Remove the artificial limit of 200 selected cities at a given time by
	allocating dynamically the memory.

	Reported by Stuart Yeates <s.yeates@cs.waikato.ac.nz> and Thomas Strub
	<ue80@rz.uni-karlsruhe.de>. Patch from me.


Tue, 10 Sep 2002 06:30:56 -0700  rfalke:

	Changed paths:
	   M /trunk/client/tilespec.c
	   M /trunk/common/map.c
	   M /trunk/common/map.h

	Convert DIR_CW and DIR_CCW from macros to functions. This code isn't
	performance critical and there is no need to use macros. This also
	fixes compiler (sun cc and gcc3) warnings about division by zero.

	Reported by Jason Dorje Short <vze49r5w@verizon.net> and Davide Pagnin
	<nightmare@freeciv.it>. Patch from me.


Mon, 09 Sep 2002 05:08:49 -0700  akel:

	Changed paths:
	   M /trunk/po/et.po

	*** empty log message ***


Mon, 09 Sep 2002 04:21:13 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Sat, 07 Sep 2002 02:46:40 -0700  rfalke:

	Changed paths:
	   M /trunk/client/tilespec.c

	Fix a segfault when a client which doesn't support iso-tilesets are
	started with an iso-tileset.

	Patch from Jason Dorje Short <vze49r5w@verizon.net>.


Fri, 06 Sep 2002 12:38:01 -0700  rfalke:

	Changed paths:
	   M /trunk/common/packets.h

	Increase the maximal size of an attribute block from 64k to 256k. A
	city under CMA control takes about 144 bytes. So the old limit was
	exceeded by 455 cities.

	Reported by Stuart Yeates <s.yeates@cs.waikato.ac.nz>.


Fri, 06 Sep 2002 12:14:14 -0700  rfalke:

	Changed paths:
	   M /trunk/common/city.h

	Double the maximal size of a city from 50 to 100.

	Reported by Tom Goulet <tomg@em.ca>.


Fri, 06 Sep 2002 12:07:34 -0700  rfalke:

	Changed paths:
	   M /trunk/client/agents/cma_core.c

	Remove an assert which depends on MAX_CITY_SIZE. It is obsolete since
	the cache got dynamically sized in revision 1.20.


Fri, 06 Sep 2002 11:55:21 -0700  rfalke:

	Changed paths:
	   A /trunk/doc/fr/README.cma.fr

	Add a French translation of the README.cma file.

	Translation by jnc <sitro@nerim.net> and Genevieve Gracian
	<ggracian@free.fr>.


Fri, 06 Sep 2002 03:42:55 -0700  rfalke:

	Changed paths:
	   M /trunk/server/gotohand.c

	Replace "(x1 == x2 && y1 == y2)" with "same_pos(x1, y1, x2, y2)".

	Patch from Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk> with
	changes from me.


Wed, 04 Sep 2002 14:15:57 -0700  siruohom:

	Changed paths:
	   M /trunk/po/fi.po

	An update to be less buggy and more compliant with the latest stable
	version. <sini.ruohomaa@iki.fi>


Wed, 04 Sep 2002 02:56:25 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Cosmetic cleanup of process_attacker_want()

	Lifted from patch by Ross W. Wetmore <rwetmore@sympatico.ca>


Wed, 04 Sep 2002 02:51:01 -0700  per:

	Changed paths:
	   M /trunk/common/city.h

	File diff missing in previous commit.


Tue, 03 Sep 2002 17:06:37 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c

	Cleanup of ai_eval_buildings(). Also reduced some military building WAGs
	while doubling want for Courthouse (not that they are built anyway). Most
	significant change is probably the reduced want for capitalization.

	Patch by Ross W. Wetmore <rwetmore@sympatico.ca> with changes by me.


Tue, 03 Sep 2002 16:18:23 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	This is a cleanup of assess_danger()
	 - Conditional logic rewrapped to make code more readable.
	 - Wrapped up the convoluted military building want algorithms into a
	more consise form, and put it into a separate function. Used the more
	sophisticated wall algorithm also for coastal, sam and sdi.
	 - Fixed case where less dangerous situation would result in lower want
	for city walls than a slightly more dangerous situation (danger >
	defense, for high values of each, would give less want than the default
	want in danger situation). Now gives AI slightly more wall want in some
	cases.
	 - Gave big cities and our capital some default danger.


Tue, 03 Sep 2002 15:00:07 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c

	AI military cleanup, in particular ai_military_attack()


Tue, 03 Sep 2002 14:08:34 -0700  per:

	Changed paths:
	   M /trunk/server/gotohand.c

	Fix bug in air goto.

	Solution by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>,
	implementation idea by Jason Short <jdorje@users.sourceforge.net>, and
	implementation by me... this was a one-liner :)


Tue, 03 Sep 2002 08:20:05 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Mon, 02 Sep 2002 09:40:17 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c

	Fix insidious bug in trireme upgrade special code.


Mon, 02 Sep 2002 08:09:18 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix yet another bug in autoexplore code introduced by yours truly.


Sun, 01 Sep 2002 19:19:54 -0700  per:

	Changed paths:
	   M /trunk/client/agents/cma_core.c
	   M /trunk/client/audio_esd.c
	   M /trunk/client/audio_none.c
	   M /trunk/client/audio_sdl.c
	   M /trunk/common/capstr.c
	   M /trunk/server/citytools.c
	   M /trunk/server/gamehand.c
	   M /trunk/server/report.c
	   M /trunk/server/ruleset.c

	Initialize uninitialized variables and declare functions properly. Now
	we can compile using gcc with -Wall -Werror -Wpointer-arith -Wcast-align
	-Wstrict-prototypes -Wmissing-prototypes -Wnested-externs, and please
	keep it that way :)

	Patch by Sami Liedes, Raimar Falke and myself.


Sun, 01 Sep 2002 15:44:58 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 01 Sep 2002 13:44:57 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c

	Fix bug in recently committed AI patch that made the AI favour non-land
	defenders sometimes. Now we omit air units from consideration, and also
	value movement of defenders much less (as intended).

	Bug reported by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Sun, 01 Sep 2002 13:36:44 -0700  per:

	Changed paths:
	   M /trunk/po/sv.po

	Added fuzzy attribute to an entry in this translation that prevented
	freeciv from compiling. This is hack. Translator please fix properly.


Sun, 01 Sep 2002 13:27:06 -0700  per:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Fix small i18n bug.

	Patch by Mateusz Stefek <matusik_s@o2.pl>


Sun, 01 Sep 2002 12:46:14 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/server/autoattack.c

	Fix bug in autoattack code. Also set LOG_BUY to LOG_DEBUG by default.


Sun, 01 Sep 2002 08:23:52 -0700  asf:

	Changed paths:
	   M /trunk/po/fr.po

	*** empty log message ***


Sun, 01 Sep 2002 02:30:43 -0700  sigra:

	Changed paths:
	   M /trunk/po/sv.po

	update


Sat, 31 Aug 2002 20:43:48 -0700  kauf:

	Changed paths:
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c

	Make certain the connections are associated with the correct player on
	game load. Connections without a valid username (not associated with
	a player) on game start are booted.

	Reported by Christian Knoke


Sat, 31 Aug 2002 09:04:59 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aitools.h

	Clean up of ai_new_spend_gold(), which has been renamed to
	ai_spend_gold():
	 - It used to only upgrade units similar to what it wanted to build or
	on that unit's upgrade track. Now it upgrades any unit in cities with
	highest want that are in danger.
	 - I removed some crutch logic that would remove errors created
	elsewhere in the code (yeah, start switching production in the function
	where you try to buy stuff, that's consistent!). This could mean reduced
	performance by the AI, but what the #"=¤)(, this cleanup is necessary!
	The code should now be readable and can be improved further by anyone.
	 - The AI will no longer raise taxes to buy wonders and buildings.
	 - The AI will raise taxes for settlers up until it has 8 cities, and a
	big bad settler bug was removed which made the AI not buy settlers as
	early as it should. The AI will not buy settlers after its 25th city.
	 - The AI will no longer raise taxes when not needing it.
	 - The AI will now disband homecity units that remain in its cities when
	there is no danger and the enemy has not begun sailing yet, mercilessly.
	It does this to increase production.
	 - I believe I have fixed the "AI will get stuck in taxmen mode" problem.
	 - I believe the AI now is slightly faster in the beginning of the game.
	 - The AI will now also upgrade civilian units.


Sat, 31 Aug 2002 08:50:03 -0700  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po to 2838t+2f+98u+32o.


Sat, 31 Aug 2002 08:41:36 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Cleanup of reinforcements calculations in AI code.

	Patch by Ross W. Wetmore <rwetmore@sympatico.ca> with changes by me.


Sat, 31 Aug 2002 08:36:33 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Changes to process_defender_want()
	 - Now also considers air and helicopter units as defenders. Since the
	previous fix to unit_desirability() reduces the want for helis and few
	aircraft are worth building as defenders (none) anyway, this won't have
	much effect.
	 - F_FIELDUNIT can now be built as defenders. There is no reason why this
	should be impossible, only reduce the weight for it to represent the risk
	(increased unhappiness). The comment preceding this conditional was wrong
	about the effects of the flag as well.

	Patch inspired by corecleanups patch by Ross W. Wetmore
	<rwetmore@sympatico.ca>


Sat, 31 Aug 2002 02:03:13 -0700  ama:

	Changed paths:
	   M /trunk/doc/ja/BUGS.ja

	Sync with 1.7.


Fri, 30 Aug 2002 22:53:43 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Fri, 30 Aug 2002 19:24:34 -0700  per:

	Changed paths:
	   M /trunk/server/unittools.c

	can_unit_attack_tile(punit, x, y) now handles the case where (x, y) does
	not contain an enemy unit.


Fri, 30 Aug 2002 19:21:45 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Cleanup of assess_defense_* functions.

	Taken from atch by Ross W. Wetmore <rwetmore@sympatico.ca> with changes.


Fri, 30 Aug 2002 19:09:38 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/advmilitary.h
	   M /trunk/ai/aicity.c
	   M /trunk/ai/aiunit.c

	Split unit_desirability into ai_unit_attack_desirability and
	ai_unit_defence_desirability, and add weights for several new flags.
	Also add some weight to movement and attack power in defence, and
	defence power in attack to distinguish from otherwise similar units.
	Reduced extreme weight on F_IGTER for attackers, but it is still very
	highly valued.


Fri, 30 Aug 2002 18:54:13 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c

	No longer perceive allied units as a threat to our settlers.

	Patch by Mateusz Stefek <matusik_s@o2.pl>


Thu, 29 Aug 2002 11:45:02 -0700  per:

	Changed paths:
	   M /trunk/server/citytools.c

	Properly initialize pcity->ai.urgency and pcity->ai.grave_danger when
	creating a new city. Also, setting pcity->ai.danger to -1 is unwarranted.
	Now properly set to zero instead.


Wed, 28 Aug 2002 06:55:34 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Tue, 27 Aug 2002 21:56:15 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated (de.po is now 'msgfmt -c' conform).
	'citizen' jetzt einheitlich mit 'Bürger' �bersetzt.


Tue, 27 Aug 2002 15:03:29 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/happiness.c
	   M /trunk/client/gui-gtk-2.0/happiness.c
	   M /trunk/common/log.c
	   M /trunk/server/stdinhand.c
	   M /trunk/utility/log.c

	Fix a few translation issues in the code.

	Patch by Mateusz Stefek <matusik_s@o2.pl>


Tue, 27 Aug 2002 14:15:40 -0700  per:

	Changed paths:
	   M /trunk/client/gui-gtk/mapctrl.c
	   M /trunk/client/gui-gtk/mapctrl.h

	Ensure that the tile info mouseover popup doesn't get clipped by the
	screen boundaries. Adds new function popupinfo_positioning_callback() to
	find correct place to put such popups.

	Patch by Christian Knoke <chrisk@enter.de>


Tue, 27 Aug 2002 14:00:36 -0700  per:

	Changed paths:
	   M /trunk/client/cityrepdata.c

	Add size column to city report by default, as suggested by Christian
	Knoke <chrisk@enter.de>


Tue, 27 Aug 2002 12:27:20 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Tue, 27 Aug 2002 12:12:59 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated, bugreport from Gaute B Strokkenes


Mon, 26 Aug 2002 11:52:13 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Mon, 26 Aug 2002 06:00:29 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Sun, 25 Aug 2002 11:22:12 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix bug which would make AI explorers freeze on the map when nothing
	remained to explore, created by yours truly. Instead, they will now
	go home.


Sun, 25 Aug 2002 06:34:58 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/server/gotohand.c

	Adds new logging macros and levels to the AI code. Use the CITY_LOG, UNIT_LOG,
	GOTO_LOG and BODYGUARD_LOG macros for these respective uses. Set log levels
	in ai/aitools.h and recompile to watch a specific part of the AI code.

	Note that GOTO_LOG can be used where the unit parameter may be NULL or even a
	dangling pointer, as long as the result parameter is properly set. It will only log
	a situation of it is anomalous.

	Also adds extra checking to autoexplorer code and fixes bug that caused
	autoexplorers not go back into a city to bolster defenses when done exploring.


Sun, 25 Aug 2002 04:36:54 -0700  per:

	Changed paths:
	   M /trunk/ai/Makefile.am
	   M /trunk/ai/advdomestic.c
	   A /trunk/ai/aidata.c
	   A /trunk/ai/aidata.h
	   M /trunk/ai/aiunit.c
	   M /trunk/common/player.h
	   M /trunk/server/plrhand.c
	   M /trunk/server/settlers.c
	   M /trunk/server/srv_main.c

	This patch moves ai_eval_* building evaluation code into its own file,
	generalises it, moves its variables out of common code and into a new
	AI-only data framework, fixes a possible memory corruption bug that
	might be present in ai_eval_* code, adds check to shortcut explorer AI
	code when there is nothing to explore, and adds statistical code to
	prevent too many worker (cheap, only F_SETTLERS) units from being built
	in rulesets where this is an option.

	AI-only data should be moved into and added in aidata.h whenever
	possible.


Sun, 25 Aug 2002 04:21:02 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/server/gamehand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c

	Generalised calendar patch reversed. Generalised calendars will be
	implemented in a different way instead.


Sat, 24 Aug 2002 07:37:50 -0700  rfalke:

	Changed paths:
	   M /trunk/client/Makefile.am
	   M /trunk/client/agents/agents.c
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/control.c
	   M /trunk/client/gui-beos/gui_main.c
	   M /trunk/client/gui-beos/mapview.cpp
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-mui/mapview.c
	   M /trunk/client/gui-stub/gui_main.c
	   M /trunk/client/gui-stub/mapview.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-win32/mapview.c
	   M /trunk/client/gui-xaw/gui_main.c
	   M /trunk/client/gui-xaw/mapview.c
	   M /trunk/client/include/gui_main_g.h
	   M /trunk/client/include/mapctrl_g.h
	   M /trunk/client/include/mapview_g.h
	   A /trunk/client/mapctrl_common.c
	   A /trunk/client/mapctrl_common.h
	   M /trunk/client/packhand.c

	Fix the famous turn-done-bug (turn done button isn't disabled after
	the button is pressed).

	The fix moves all logic related to the turn done button state to a new
	function update_turn_done_button_state. The state can also be queried
	via the new function get_turn_done_button_state. The
	enable_turn_done_button function was removed.

	Change the signature of update_turn_done_button from "int do_restore"
	to "bool do_restore".

	Reported by various. Patch from me.


Thu, 22 Aug 2002 20:52:12 -0700  vasc:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/utility/shared.c

	Fixed BV_CHECK_MASK implementation function.

	Patch by Mateusz Stefek <matusik_s@o2.pl>.


Thu, 22 Aug 2002 18:55:47 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	Corrections suggested by Davide Pagnin <nightmare@freeciv.it>


Wed, 21 Aug 2002 15:40:07 -0700  vasc:

	Changed paths:
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Added BV_CHECK_MASK macro. It enables to check if two bitvectors have
	common bits.

	Patch by Mateusz Stefek <matusik_s@o2.pl>.


Wed, 21 Aug 2002 15:19:27 -0700  per:

	Changed paths:
	   M /trunk/ai/aihand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/srv_main.c

	Reorganize some of the end of turn code so that we finish treating one
	part of the activities before starting on another. The reason for this
	is that effects from one type of activities will impact the activities
	of the next type, so finish each type separately.

	Patch by Thomas Strub <ue80@rz.uni-karlsruhe.de> and changes by me


Wed, 21 Aug 2002 14:32:17 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/messagewin_common.h

	Add 'visited' value to 'struct message' to store if a given message has been
	visited or not. This enables the state to be kept even if you close the
	message window.
	Fixed excessive allocation bug in add_notify_window().
	(PR#595)

	Patch by Christian Knoke <chrisk@enter.de>.


Wed, 21 Aug 2002 14:03:49 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c

	Added option to remove the map scrollbars in the GTK+ 2.0 client.

	Patch by John Bauman <baumans@ptdprolog.net>.


Wed, 21 Aug 2002 11:08:43 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Tue, 20 Aug 2002 17:43:44 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Add const to some char to allow running configure with -Werror

	Patch by Jason Short <vze2zq63@verizon.net>


Tue, 20 Aug 2002 10:14:59 -0700  italy:

	Changed paths:
	   M /trunk/po/it.po

	it.po updated.


Tue, 20 Aug 2002 04:08:05 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Mon, 19 Aug 2002 16:05:35 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/gui-gtk/mapview.c
	   M /trunk/client/gui-gtk-2.0/mapview.c
	   M /trunk/client/packhand.c
	   M /trunk/client/packhand.h
	   M /trunk/common/capstr.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/packets_lsend.c
	   M /trunk/common/packets_lsend.h
	   M /trunk/data/civ1/game.ruleset
	   M /trunk/data/civ2/game.ruleset
	   M /trunk/data/default/game.ruleset
	   M /trunk/server/gamehand.c
	   M /trunk/server/ruleset.c
	   M /trunk/server/savegame.c
	   M /trunk/server/spacerace.c
	   M /trunk/server/srv_main.c

	Adding generalised calendar. Calendars can now be changed by
	modifying game.ruleset, and calendars can be made to start with
	either a year or acquired technology, or year and required
	technology.

	The previously hardcoded linking of acquiring technology for spaceship
	components and calendars has been removed. Now you move into a special
	hardcoded 1 year calendar immediately upon launching your spacecraft
	instead.

	Patch by Andi Payn <paynfc@hotmail.com> and Ben
	Webb <ben@bellatrix.pcl.ox.ac.uk>


Mon, 19 Aug 2002 15:39:24 -0700  egbert:

	Changed paths:
	   M /trunk/po/POTFILES.in
	   M /trunk/po/de.po

	de.po updated
	Removed 2 (no longer supported) ruleset files from POTFILES.in
	to make it possible to generate freeciv.pot


Mon, 19 Aug 2002 14:05:01 -0700  per:

	Changed paths:
	   M /trunk/data/nation/Makefile.am

	Also update Makefile.am for removed nations.


Mon, 19 Aug 2002 13:53:36 -0700  per:

	Changed paths:
	   M /trunk/server/diplhand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/unittools.c

	Spellfix patch by Davide Pagnin <nightmare@freeciv.it>


Mon, 19 Aug 2002 11:29:22 -0700  gs234:

	Changed paths:
	   M /trunk/po/da.po

	* po/da.po: Trivial fix.


Mon, 19 Aug 2002 08:29:52 -0700  per:

	Changed paths:
	   M /trunk/data/default/nations.ruleset
	   D /trunk/data/nation/krevi.ruleset
	   D /trunk/data/nation/olympic.ruleset

	Remove commented out nations Krevi and Olympic (too few cities, and
	"Olympic" is a trademark we don't want to mess with).


Mon, 19 Aug 2002 05:44:00 -0700  italy:

	Changed paths:
	   M /trunk/po/it.po

	it.po updated.


Sat, 17 Aug 2002 02:02:56 -0700  per:

	Changed paths:
	   M /trunk/doc/PEOPLE

	Update PEOPLE with name of new Freeciv Manual maintainer.


Sat, 17 Aug 2002 02:00:52 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c

	Cleanup of AI bodyguard and unit role assignment code. No behaviour changes.


Sat, 17 Aug 2002 01:37:40 -0700  per:

	Changed paths:
	   M /trunk/server/gotohand.c

	Fix serious bug in goto code introduced by yours truly.


Sat, 17 Aug 2002 00:27:58 -0700  per:

	Changed paths:
	   M /trunk/po/POTFILES.in

	Remove rulesout from list of translated files.


Fri, 16 Aug 2002 13:47:19 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Fri, 16 Aug 2002 06:26:27 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/repodlgs.c

	Show the headers of the units report now when F2 is pressed.
	Bug reported by  J.K.Sun <jsun2@gte.net>


Fri, 16 Aug 2002 06:19:11 -0700  andi:

	Changed paths:
	   M /trunk/INSTALL

	Added a bit more documentation to the win32 build process


Thu, 15 Aug 2002 14:21:18 -0700  rfalke:

	Changed paths:
	   M /trunk/server/citytools.c

	Send city_info about the new capital to all players which see the
	capital if the player got a new palace via the savepalace option.

	Reported by Thomas Strub <ue80@rz.uni-karlsruhe.de>. Patch by me.


Thu, 15 Aug 2002 13:24:13 -0700  rfalke:

	Changed paths:
	   M /trunk/client/audio.c
	   M /trunk/client/audio.h
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c
	   M /trunk/client/tilespec.h
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h

	Add the ability to choose from a set of string options in the local
	options dialog. A new callback function p_string_vals was added to the
	client options to return this set.

	This new input method is currently used for the audio plugin, the
	soundset and the tileset. For the last two the new function
	datafilelist (in common/shared) was added.

	Backend code and Xaw frontend from Jason Short
	<jdorje@users.sourceforge.net>. Frontend for the GTK clients from
	Baumans <baumans@ptdprolog.net>. Win32 client by Andreas Kemnade
	<akemnade@informatik.uni-bremen.de>.


Thu, 15 Aug 2002 09:17:46 -0700  rfalke:

	Changed paths:
	   M /trunk/client/audio.c
	   M /trunk/client/options.c

	Sound spec-files now end with ".soundspec". You have to rename your
	foobar.spec to foobar.soundspec. Also available is a
	<ftp://ftp.freeciv.org/freeciv/contrib/sounds/sets/stdsounds2.tar.gz>
	with this change.

	Change strings to give a more consistent output.


Thu, 15 Aug 2002 02:56:01 -0700  rfalke:

	Changed paths:
	   M /trunk/server/console.c
	   M /trunk/server/console.h
	   M /trunk/server/stdinhand.c

	RFC-Style cleanup:
	 - remove unused function con_rfconly
	 - remove server command freestyle
	 - change server command rfcstyle to toggle the current style instead
	 of setting the rfc-style
	 - convert the C_* defines to a new enum rfc_status
	 - change "int i" or "int console_id" to "enum rfc_status rfc_status"

	Patch from Per I. Mathisen <per@leftist.net> and me.


Thu, 15 Aug 2002 02:25:49 -0700  rfalke:

	Changed paths:
	   M /trunk/server/Makefile.am
	   D /trunk/server/rulesout.c
	   D /trunk/server/rulesout.h
	   M /trunk/server/stdinhand.c

	Remove the "rulesout" server command and the relates files
	(server/rulesout.c, server/rulesout.h). The functionality of the
	rulesout command can and should be implemented in a separate program.

	Patch from Per I. Mathisen <per@leftist.net>.


Thu, 15 Aug 2002 01:50:26 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/common/log.h
	   M /trunk/server/console.c
	   M /trunk/server/console.h
	   M /trunk/utility/log.h

	Declare strings that are not to be changed as const for stricter type
	checking.

	Patch from Per I. Mathisen <per@leftist.net> with changes from me.


Thu, 15 Aug 2002 01:26:23 -0700  rfalke:

	Changed paths:
	   M /trunk/data/history/buildings.ruleset
	   M /trunk/data/history/techs.ruleset
	   M /trunk/data/history/units.ruleset

	Name changes (for history, logic and clarity)
	 * Swap "Map Making" with "Seafaring"
	 * Swap "Alphabet" with "Writing"
	 * Rename "Engineering" to "Milling"
	 * Rename "Conscription" to "Riflery"

	Army
	 * Chivalry requires Horseback Riding and Iron Working; Feudalism requires
	   Chivalry and Monarchy (Rational: if you ride a horse and wear iron
	   armor, you're a knight -- you don't need a bunch of serfs, but if there
	   aren't any knights, the serfs aren't going to serve their lords.  This
	   also puts legions before knights and phalanxes before pikemen)
	 * Gunpowder allows *canons*; Metalurgy allows muskets (historically,
	   canons came first)

	Navy
	 * Magnetism requires physics and *gunpowder* (the important difference
	   between a caravel and a frigate is the gun deck)
	 * Steam Engine requires magnetism and railroad (Historical and fixes
	   obsolecense) but allows both Ironclad and Transport (historical)
	 * Advanced navy totally reworked -- destroyer and cruiser come at
	   same time, just after submarine (roughly historical; IMO improves
	   gameplay)

	Other
	 * Construction requires masonry and *mathematics* (so canons require
	   catapults)
	 * Democracy requires Republic and Polytheism (historical: democracy
	   appeared very early; why polytheism? convenience, and all people are
	   equal only when compared to something vastly superhuman)
	 * Railroad requires *Metalurgy* and Bridge Building (gets timing about
	   right, makes some sense, and puts ironclads after musketeers)
	 * Riflery requires *economics* and metalurgy (compensate for movement
	   of democracy; also roughly historical)

	Patch from Daniel L Speyer <dspeyer@wam.umd.edu>


Tue, 13 Aug 2002 23:41:23 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Tue, 13 Aug 2002 19:28:49 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix problem where autoexploring units would stay frozen in place if some
	other part of the code fails to provide a good path.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Tue, 13 Aug 2002 19:19:33 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix yet another bug in the autoexplorer code, created by none other than yours truly.

	       /* ai_unit_move for AI players, handle_unit_move_request for humans */
	       if ((pplayer->ai.control && ai_unit_move(punit, best_x, best_y))
	-          || (handle_unit_move_request(punit, best_x, best_y, FALSE, FALSE))) {
	+          || (!pplayer->ai.control
	+              && handle_unit_move_request(punit, best_x, best_y, FALSE, FALSE))) {
	         x = punit->x;


Tue, 13 Aug 2002 18:45:00 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c
	   M /trunk/server/settlers.h
	   M /trunk/server/unittools.c

	Cleanup of autosettlers code. Also, now cities from huts are produced also at disadvantageous
	positions, not just favourable positions.


Tue, 13 Aug 2002 17:01:58 -0700  per:

	Changed paths:
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/unithand.c

	Add new feature to server: unique citynames.

	Activated through the "set citynames X" server option. If set to 0,
	there are no restrictions. If set to 1 (new default), city names have
	to be unique to a player. If set to 2 or 3, city names have to be
	globally unique. If set to 3, a player isn't allowed to use a default
	city name of another nations and it must also be globally unique.

	Patch by tkurppa <teemu@hoasnet.fi>


Tue, 13 Aug 2002 16:18:48 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h

	Added option to remove the map scrollbars in the GTK+ client (PR#1716).

	Based on a patch by Christian Knoke <chrisk@enter.de>.


Tue, 13 Aug 2002 16:15:33 -0700  per:

	Changed paths:
	   M /trunk/server/gotohand.c

	Fix bug in goto routine that sometimes reported GR_FAILED instead of
	GR_DIED and thus fooled the AI into believing its unit was still alive.

	Bug reported by Christian Knoke <chrisk@enter.de> among others.


Tue, 13 Aug 2002 15:13:32 -0700  per:

	Changed paths:
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Nail crossplatform bug in bitvector code.

	Fix by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>


Tue, 13 Aug 2002 12:28:00 -0700  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Update ja.po to 2841t+14f+95u+11o.


Mon, 12 Aug 2002 21:56:37 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	Changed to avoid the "is not a valid C format string" warnings.


Mon, 12 Aug 2002 14:42:56 -0700  per:

	Changed paths:
	   M /trunk/common/shared.h
	   M /trunk/utility/shared.h

	Fix serious bug in bitvector code.

	Reported by Jordi Negrevernis i Font <jorneg@retemail.es>, hunted down by me and slain by
	Raimar Falke <rf13@inf.tu-dresden.de>.


Mon, 12 Aug 2002 13:07:29 -0700  rfalke:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   M /trunk/data/Makefile.am
	   A /trunk/data/history
	   A /trunk/data/history/.cvsignore
	   A /trunk/data/history/Makefile.am
	   A /trunk/data/history/buildings.ruleset
	   A /trunk/data/history/game.ruleset
	   A /trunk/data/history/governments.ruleset
	   A /trunk/data/history/techs.ruleset
	   A /trunk/data/history/terrain.ruleset
	   A /trunk/data/history/units.ruleset
	   A /trunk/data/history.serv

	Add a "history" ruleset. This ruleset should mirror the real history
	of the past i.e. it should be historical correct. This may unbalance
	the game.

	The "history" ruleset starts as a copy of the "default" ruleset
	excluding cities.ruleset and nations.ruleset.

	With the addition of the "history" ruleset the "default" ruleset will
	be changed to be more balanced/fairer especially for multi-player
	games.


Mon, 12 Aug 2002 10:14:21 -0700  rfalke:

	Changed paths:
	   M /trunk/doc/CodingStyle

	Add a reference to configure.ac.

	Patch from Per I. Mathisen <per@leftist.net>.


Mon, 12 Aug 2002 05:16:01 -0700  ama:

	Changed paths:
	   M /trunk/po/ja.po

	Fix error with gettext 0.11.4.
	Reported by Gaute B Strokkenes <gs234@cam.ac.uk>


Mon, 12 Aug 2002 01:53:59 -0700  sebauer:

	Changed paths:
	   M /trunk/client/gui-mui/plrdlg.c

	Fixed a bug which prevented you to initiate a meeting request


Sun, 11 Aug 2002 09:07:57 -0700  gs234:

	Changed paths:
	   A /trunk/m4/codeset.m4
	   D /trunk/m4/glibc.m4
	   A /trunk/m4/glibc21.m4
	   A /trunk/m4/isc-posix.m4
	   D /trunk/m4/langinfo.m4
	   D /trunk/m4/posix.m4

	* m4/glibc.m4: Rename to...
	* m4/glibc21.m4: ...this.
	* m4/langinfo.m4: Rename to...
	* m4/codeset.m4: ...this.
	* m4/posix.m4: Rename to...
	* m4/isc-posix.m4: ...this.


Sun, 11 Aug 2002 06:11:48 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	pl.po update


Sun, 11 Aug 2002 03:03:27 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	Header replaced by a new one generated by msginit (gettext 1.11.5).
	Changed some of the new header lines.


Sat, 10 Aug 2002 17:13:57 -0700  miguell:

	Changed paths:
	   M /trunk/po/es.po

	Updated Spanish translation.


Sat, 10 Aug 2002 10:07:30 -0700  rfalke:

	Changed paths:
	   M /trunk/common/packets.c
	   M /trunk/server/cityhand.c
	   M /trunk/server/maphand.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/unithand.c

	Add array bounds checks. Add checks for packet input.

	Patch from Mateusz Stefek <matusik_s@o2.pl> with changes from me.


Sat, 10 Aug 2002 09:35:13 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/citydlg.c
	   M /trunk/client/gui-gtk-2.0/cityrep.c
	   M /trunk/client/gui-gtk-2.0/dialogs.c
	   M /trunk/client/gui-gtk-2.0/dialogs.h
	   M /trunk/client/gui-gtk-2.0/plrdlg.c

	Silence more compiler warnings.


Sat, 10 Aug 2002 09:34:07 -0700  vasc:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/helpdlg.c

	Add const qualifier to fix compile errors due to client header changes.

	Patch by Jens Georg <jgeorg@ldknet.org>.


Sat, 10 Aug 2002 03:28:44 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/repodlgs.c

	put the totals row in the unit dialog into the right order
	bug reported by Gianmario Scotti <gianmario.scotti@nokia.com>


Fri, 09 Aug 2002 04:33:46 -0700  per:

	Changed paths:
	   M /trunk/ai/aiunit.c

	Fix two bugs in explorer code.

	Bugs reported by Pieter J. Kersten <kersten@dia.eur.nl> and Christian
	Knoke <chrisk@enter.de>


Fri, 09 Aug 2002 00:49:58 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Fri, 09 Aug 2002 00:38:06 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/wldlg.c

	The column titles in the worklist are now in the correct order
	bug reported by Chris M <CBM2004@www.com>


Thu, 08 Aug 2002 15:10:20 -0700  per:

	Changed paths:
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-gtk-2.0/plrdlg.c
	   M /trunk/client/gui-mui/plrdlg.c
	   M /trunk/client/gui-win32/plrdlg.c
	   M /trunk/client/gui-xaw/plrdlg.c

	Disable meeting and intelligence with yourself.

	Bug reported by Christian Knoke <chrisk@enter.de>


Thu, 08 Aug 2002 15:06:47 -0700  per:

	Changed paths:
	   M /trunk/server/report.c

	Squish bug in ranking report.

	Reported and fixed by Christian Knoke <chrisk@enter.de>


Thu, 08 Aug 2002 13:25:37 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	Fixed several refresh problems in the citydlg
	Bug reported by Alex Volkov <volkoff@usa.net>
	J.K.Sun <jsun2@gte.net>


Thu, 08 Aug 2002 12:22:05 -0700  per:

	Changed paths:
	   M /trunk/ai/aitools.c
	   M /trunk/ai/aitools.h
	   M /trunk/ai/aiunit.c
	   M /trunk/server/gotohand.c
	   M /trunk/server/unithand.c

	Cleanup of AI movement and attack code. Moves much AI code out of the
	server and hides it behind a packet interface with much better sanity
	checking. Also fixes two AI bugs: Stops a case where invalid calls to
	handle_unit_move_request() would be generated in aiunit.c, and allow
	units to leave their bodyguards when they attack or want to gobble up
	empty cities.


Thu, 08 Aug 2002 00:51:09 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 07 Aug 2002 21:34:05 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Wed, 07 Aug 2002 14:39:00 -0700  per:

	Changed paths:
	   M /trunk/m4/debug.m4

	Move -g compiler flag from CPPFLAGS to CFLAGS in "some" debug mode. Thanks
	to Davide Pagnin for pointing this out.


Wed, 07 Aug 2002 14:38:05 -0700  per:

	Changed paths:
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	Add "experimental" difficulty in DEBUG mode. Repeat, you _must_ use
	"--enable-debug=yes" in order to get this feature. This is a convenience
	feature for testing out new AI code and checking if it is superior to
	old code. Use the H_EXPERIMENTAL handicap to protect new AI code from
	ordinary 'hard' players that you can pit your 'experimental' players
	against. Note that no code submitted for cvs inclusion can ever contain
	code with this handicap.


Wed, 07 Aug 2002 06:40:49 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/helpdlg.c

	s/char */const char */


Wed, 07 Aug 2002 06:03:58 -0700  rfalke:

	Changed paths:
	   M /trunk/client/packhand.c

	Delay the call to agents_processing_finished since the function may
	return too late (wait_till_request_got_processed).

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.


Wed, 07 Aug 2002 04:21:52 -0700  per:

	Changed paths:
	   M /trunk/client/citydlg_common.c
	   M /trunk/client/cityrepdata.c
	   M /trunk/client/climisc.c
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/dialogs.c
	   M /trunk/client/gui-gtk/graphics.c
	   M /trunk/client/gui-gtk/helpdlg.c
	   M /trunk/client/gui-gtk/plrdlg.c
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/cityrep.c
	   M /trunk/client/gui-xaw/dialogs.c
	   M /trunk/client/gui-xaw/dialogs.h
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_stuff.c
	   M /trunk/client/gui-xaw/gui_stuff.h
	   M /trunk/client/gui-xaw/helpdlg.c
	   M /trunk/client/helpdata.c
	   M /trunk/client/include/helpdlg_g.h
	   M /trunk/common/city.c
	   M /trunk/common/city.h
	   M /trunk/common/connection.c
	   M /trunk/common/connection.h
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/common/government.c
	   M /trunk/common/government.h
	   M /trunk/common/improvement.c
	   M /trunk/common/improvement.h
	   M /trunk/common/log.c
	   M /trunk/common/log.h
	   M /trunk/common/map.c
	   M /trunk/common/map.h
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/common/player.c
	   M /trunk/common/player.h
	   M /trunk/common/shared.c
	   M /trunk/common/shared.h
	   M /trunk/common/support.c
	   M /trunk/common/support.h
	   M /trunk/common/tech.c
	   M /trunk/common/tech.h
	   M /trunk/common/unit.c
	   M /trunk/common/unit.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/common/version.c
	   M /trunk/common/version.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/citytools.h
	   M /trunk/server/diplomats.c
	   M /trunk/server/report.c
	   M /trunk/server/unithand.c
	   M /trunk/utility/log.c
	   M /trunk/utility/log.h
	   M /trunk/utility/shared.c
	   M /trunk/utility/shared.h
	   M /trunk/utility/support.c
	   M /trunk/utility/support.h

	Declare strings that are not to be changed as const for stricter type
	checking.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>


Wed, 07 Aug 2002 03:42:17 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	AI cleanup

	Patch by Petr Baudis <pasky@pasky.ji.cz> (w/ some style changes by me)


Wed, 07 Aug 2002 02:22:37 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Wed, 07 Aug 2002 01:50:30 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Tue, 06 Aug 2002 15:27:05 -0700  per:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/common/game.c
	   M /trunk/common/map.c
	   M /trunk/common/nation.c
	   M /trunk/common/nation.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/plrhand.c
	   M /trunk/server/plrhand.h
	   M /trunk/server/savegame.c
	   M /trunk/server/sernet.c
	   M /trunk/server/srv_main.c
	   M /trunk/server/stdinhand.c
	   M /trunk/server/stdinhand.h

	Add a "load" savegame command to civserver, and also squish a few memory
	leaks.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu>


Tue, 06 Aug 2002 14:49:08 -0700  per:

	Changed paths:
	   M /trunk/data/civ1/buildings.ruleset
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/buildings.ruleset
	   M /trunk/data/civ2/units.ruleset

	Update comments in civ1 and civ2 rulesets.

	Patch by Davide Pagnin <nightmare@freeciv.it>


Tue, 06 Aug 2002 14:42:07 -0700  per:

	Changed paths:
	   M /trunk/common/capstr.c
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/common/shared.h
	   M /trunk/common/unittype.c
	   M /trunk/common/unittype.h
	   M /trunk/server/ruleset.c
	   M /trunk/utility/shared.h

	This patch expands unit flags and roles limit to 64 and adds the
	bitvector variable type.

	The bitvector types can be of any size. Define them with
	BV_DEFINE(type_name, size) before using type_name as a variable type. You
	can assign a bitvector of the same type to another and return them from
	functions (since they are structs).

	Manipulate bitvectors using the macros BV_CLR_ALL, BV_CLR, BV_SET and
	BV_ISSET (see common/shared.h). Push and receive them over the network
	with macros BV_PUT, BV_GET and BV_IGET (see common/packets.c).

	Patch by me, Vasco Alexandre Da Silva Costa <vasc@rnl.ist.utl.pt> and
	Raimar Falke <rf13@inf.tu-dresden.de>


Tue, 06 Aug 2002 06:21:08 -0700  rfalke:

	Changed paths:
	   M /trunk/data/helpdata.txt

	Update the administrators/maintainers.

	Patch from Christian Knoke <chrisk@enter.de> with format changes from me.


Tue, 06 Aug 2002 02:06:05 -0700  rfalke:

	Changed paths:
	   M /trunk/server/savegame.c

	Fix a stupid typo/thinko which prevents the buying in cities.

	Reported and patch by Christian Knoke <chrisk@enter.de>.


Mon, 05 Aug 2002 05:12:18 -0700  per:

	Changed paths:
	   M /trunk/server/plrhand.c

	Fix bug introduced with my ai eval of military buildings patch which
	happens when a player splits.

	Fix by Davide Pagnin.


Fri, 02 Aug 2002 23:40:24 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	update


Fri, 02 Aug 2002 21:49:14 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Thu, 01 Aug 2002 09:00:28 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	updated no.po


Thu, 01 Aug 2002 01:04:07 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	Updated no.po


Wed, 31 Jul 2002 10:46:47 -0700  sigra:

	Changed paths:
	   M /trunk/doc/sv/BUGS.sv
	   M /trunk/doc/sv/README.cma.sv
	   M /trunk/po/sv.po

	update


Tue, 30 Jul 2002 06:22:09 -0700  ama:

	Changed paths:
	   M /trunk/doc/ja/README.cma.ja

	Translate a little message.


Tue, 30 Jul 2002 06:13:13 -0700  ama:

	Changed paths:
	   M /trunk/doc/ja/README.cma.ja

	Full translation. Based on CVS-1.2.


Mon, 29 Jul 2002 14:53:16 -0700  matusik:

	Changed paths:
	   M /trunk/po/pl.po

	update


Mon, 29 Jul 2002 14:03:31 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Mon, 29 Jul 2002 06:13:43 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/citydlg.c
	   M /trunk/client/packhand.c
	   M /trunk/common/capstr.c
	   M /trunk/common/city.h
	   M /trunk/common/packets.c
	   M /trunk/common/packets.h
	   M /trunk/server/cityhand.c
	   M /trunk/server/citytools.c
	   M /trunk/server/cityturn.c
	   M /trunk/server/savegame.c

	Change type of pcity->did_buy to a real boolean. Add
	pcity->turn_founded to give a different error message and add a
	sorting of the cities in the city dialog.


Mon, 29 Jul 2002 05:53:49 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-xaw/citydlg.c
	   M /trunk/client/gui-xaw/graphics.c
	   M /trunk/client/gui-xaw/gui_main.c

	Cast the third argument of XCreateBitmapFromData to "char *".

	Patch from Davide Pagnin <nightmare@freeciv.it> with changes from me.


Mon, 29 Jul 2002 03:10:41 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 29 Jul 2002 02:57:47 -0700  rfalke:

	Changed paths:
	   M /trunk/client/helpdata.c

	Rewrite the output of the fuel warning. The new code doesn't use
	ordinal numerals anymore and also works with more than one (missile)
	carrier.

	Patch from SAWADA Katsuya <ama@petmail.net> and me.


Mon, 29 Jul 2002 02:28:21 -0700  rfalke:

	Changed paths:
	   M /trunk/common/unittype.c

	Add a qualifier for ", " which is needed for Japanese.

	Patch from SAWADA Katsuya <ama@petmail.net>.


Mon, 29 Jul 2002 01:51:00 -0700  rfalke:

	Changed paths:
	   M /trunk/server/gotohand.c

	Initialize all values with DONT_SELECT_ME_FITNESS instead of 0 since 0
	can be valid best_fitness value. Without this change every direction
	can be returned if best_fitness is 0.

	Reported by Jordi Negrevernis i Font <jorneg@retemail.es>. Patch from
	me.


Sun, 28 Jul 2002 23:07:49 -0700  gs234:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	* configure.ac, configure.in: Remove obsolete and broken workaround to
	  twiddle the options passed to msgmerge.


Sun, 28 Jul 2002 15:27:11 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-xaw/connectdlg.c
	   M /trunk/client/gui-xaw/gui_main.c

	Remove two casts and make try_to_autoconnect of the required type
	XtTimerCallbackProc.

	Reported by Davide Pagnin <nightmare@freeciv.it>. Patch from me.


Sun, 28 Jul 2002 12:26:56 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Sun, 28 Jul 2002 07:21:27 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/citydlg.c

	Display the upkeep costs of improvements now (like the gtk client does)


Sun, 28 Jul 2002 07:19:31 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/mapctrl.c

	use the middle mouse button now
	bug reported by Markus Schaber <markus.schaber@student.uni-ulm.de>


Sun, 28 Jul 2002 06:42:50 -0700  kauf:

	Changed paths:
	   M /trunk/doc/README.cma

	reference referred to non-existent file.

	Reported by SAWADA Katsuya <ama@petmail.net>


Sat, 27 Jul 2002 20:08:23 -0700  kauf:

	Changed paths:
	   M /trunk/common/map.h
	   M /trunk/server/mapgen.c
	   M /trunk/server/stdinhand.c

	add mapgenerator5:
	"Generator 5 makes earthlike worlds with one or more large continents and
	a scattering of smaller islands. It does so by dividing the world into
	blocks and on each block raising or lowering the corners, then the
	midpoints and middle and so on recursively."

	Patch by Karen Yeats <kayeats@uwaterloo.ca>


Sat, 27 Jul 2002 13:38:49 -0700  kauf:

	Changed paths:
	   M /trunk/server/stdinhand.c

	add /fix and /unfix commands. These [dis]allow people from
	modifying commands after the game starts.

	Patch by Reinier Post <reinpost@win.tue.nl>


Sat, 27 Jul 2002 10:16:37 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/inputdlg.c

	entering return in the input dialog now is the same as clicking on ok.
	bug reported by Daniel Herding <DHerding@gmx.de>


Sat, 27 Jul 2002 10:10:54 -0700  kauf:

	Changed paths:
	   M /trunk/server/srv_main.c

	The server doesn't save at the end of the game if game.save_nturns = 0.

	Reported by Christian Knoke <chrisk@enter.de>


Sat, 27 Jul 2002 09:57:27 -0700  kauf:

	Changed paths:
	   M /trunk/common/packets.c

	fold common code into four macros:
	SEND_PACKET_START(), SEND_PACKET_END,
	RECEIVE_PACKET_START(), RECEIVE_PACKET_END()

	Patch by Raimar False <rf13@inf.tu-dresden.de>


Sat, 27 Jul 2002 07:29:09 -0700  rfalke:

	Changed paths:
	   M /trunk/client/climisc.h

	Add missing include.

	Patch from Davide Pagnin <nightmare@freeciv.it>.


Sat, 27 Jul 2002 07:20:54 -0700  rfalke:

	Changed paths:
	   M /trunk/server/savegame.c

	64bit format fix.

	Patch from Davide Pagnin <nightmare@freeciv.it>.


Sat, 27 Jul 2002 07:14:23 -0700  rfalke:

	Changed paths:
	   M /trunk/client/tilespec.c

	Move calls to DIR_CW and DIR_CCW from the array declaration down to
	actual use. This is because the Tru64 Unix compiler doesn't understand
	the previous construct.

	Reported by Davide Pagnin <nightmare@freeciv.it>. Patch from me.


Fri, 26 Jul 2002 18:26:45 -0700  gs234:

	Changed paths:
	   M /trunk/INSTALL
	   M /trunk/configure.in

	* INSTALL: Update gettext instructions.
	* configure.in: Fix typo in last commit.


Fri, 26 Jul 2002 10:00:13 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated
	(includes a corecction by Raimar Falke <rf13@inf.tu-dresden.de>)


Thu, 25 Jul 2002 17:50:09 -0700  gs234:

	Changed paths:
	   M /trunk/autogen.sh
	   M /trunk/configure.ac
	   M /trunk/configure.in

	* autogen.sh, configure.ac, configure.in:  Check for xgettext and msgfmt
	  version 0.10.36, not 0.10.38.


Thu, 25 Jul 2002 08:40:22 -0700  rfalke:

	Changed paths:
	   M /trunk/client/messagewin_common.c

	Update the city_ok field of all messages every time a new message is
	added.

	Reported by Kenn Munro <kenn@cyberbeach.net>. Patch from me.


Thu, 25 Jul 2002 07:32:48 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Wed, 24 Jul 2002 10:27:24 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/helpdlg.c

	Qualify the period to enable the removal in the Japanese translation.

	Patch from SAWADA Katsuya <ama@petmail.net>.


Wed, 24 Jul 2002 08:58:09 -0700  rfalke:

	Changed paths:
	   M /trunk/server/plrhand.c

	Replace test for real map position with test for (-1, -1). Make the
	server state earlier.

	Patch from Jason Short <vze2zq63@verizon.net>.


Wed, 24 Jul 2002 06:07:38 -0700  akel:

	Changed paths:
	   M /trunk/po/et.po

	*** empty log message ***


Wed, 24 Jul 2002 03:41:57 -0700  rfalke:

	Changed paths:
	   M /trunk/client/audio_none.c
	   M /trunk/client/gui-gtk/cityrep.c
	   M /trunk/client/gui-gtk/cma_fe.c
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk/wldlg.c
	   M /trunk/common/improvement.c

	Remove obsolete log.h includes.

	Patch from Davide Pagnin <nightmare@freeciv.it>.


Wed, 24 Jul 2002 02:07:49 -0700  italy:

	Changed paths:
	   M /trunk/po/it.po

	it.po updated.


Tue, 23 Jul 2002 12:24:08 -0700  rfalke:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Remove the server commands "crash" and "log".

	Patch from Per I. Mathisen <per@leftist.net>.


Tue, 23 Jul 2002 12:01:18 -0700  rfalke:

	Changed paths:
	   M /trunk/data/civ1/units.ruleset
	   M /trunk/data/civ2/units.ruleset
	   M /trunk/data/default/units.ruleset
	   M /trunk/doc/README.rulesets
	   M /trunk/server/ruleset.c

	Remove max_hitpoints and max_firepower from the unit-rulesets. It was
	originally a hack do make adapting rulesets (mostly the civ1 one)
	easier.

	Patch from Raahul Kumar <raahul_da_man@yahoo.com> with changes from
	me.


Tue, 23 Jul 2002 10:25:12 -0700  rfalke:

	Changed paths:
	   M /trunk/common/map.h

	Enable the CHECK_MAP_POS sanity check only if DEBUG is defined.


Tue, 23 Jul 2002 04:41:27 -0700  akel:

	Changed paths:
	   M /trunk/po/et.po

	*** empty log message ***


Tue, 23 Jul 2002 04:05:22 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 23 Jul 2002 03:12:21 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated
	(includes corrections by Daniel Herding <DHerding@gmx.de>)


Tue, 23 Jul 2002 02:17:07 -0700  akel:

	Changed paths:
	   M /trunk/po/et.po

	*** empty log message ***


Mon, 22 Jul 2002 19:48:45 -0700  kauf:

	Changed paths:
	   M /trunk/client/audio.c
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-gtk/gamedlgs.c
	   M /trunk/client/gui-gtk-2.0/gamedlgs.c
	   M /trunk/client/gui-win32/optiondlg.c
	   M /trunk/client/gui-xaw/optiondlg.c
	   M /trunk/client/options.c
	   M /trunk/client/options.h
	   M /trunk/client/tilespec.c

	allow most commandline options to be saved as defaults in the
	civclientrc.

	Patch by John Bauman <baumans@ptdprolog.net>


Mon, 22 Jul 2002 17:38:34 -0700  gs234:

	Changed paths:
	   M /trunk/server/stdinhand.c

	* server/stdinhand.c: Tidy the description of the rapturedelay option.


Mon, 22 Jul 2002 14:58:11 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in
	   A /trunk/m4/debug.m4

	Concerning debug defaults: In a previous commit, I said I didn't change
	default settings. I lied. This change restores defaults and moves debug
	configure checking into its own macro file. You must rerun ./autogen.sh to
	see these changes, though.

	Thanks to Davide for spotting the error.


Mon, 22 Jul 2002 14:33:13 -0700  per:

	Changed paths:
	   M /trunk/configure.in

	Add .et language to configure.in also


Mon, 22 Jul 2002 14:26:21 -0700  per:

	Changed paths:
	   M /trunk/ai/aicity.c
	   M /trunk/server/srv_main.c

	Fix bug in previously committed ai eval of military buildings patch.

	Bug reported by Kenn Munro <kenn@cyberbeach.net>


Mon, 22 Jul 2002 14:19:01 -0700  vasc:

	Changed paths:
	   M /trunk/configure.ac

	Add "et" to ALL_LINGUAS.


Mon, 22 Jul 2002 06:49:10 -0700  akel:

	Changed paths:
	   M /trunk/po/et.po

	*** empty log message ***


Mon, 22 Jul 2002 06:34:40 -0700  akel:

	Changed paths:
	   A /trunk/po/et.po

	*** empty log message ***


Mon, 22 Jul 2002 04:40:40 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Mon, 22 Jul 2002 04:21:24 -0700  per:

	Changed paths:
	   M /trunk/data/civ2/governments.ruleset

	Update civ2 governments.ruleset to more accurately reflect civ2 behaviour
	regarding corruption and happiness (under deity difficulty where this is
	different). In general, citizens become more easily unhappy, while
	corruption under monarchy and republic get equal amount of corruption,
	and communism and fundamentalism get less.

	Patch by Davide Pagnin <nightmare@freeciv.it>


Sun, 21 Jul 2002 13:28:54 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Sun, 21 Jul 2002 10:52:58 -0700  andi:

	Changed paths:
	   M /trunk/client/gui-win32/chatline.c

	Don't cut the text in the chatline when the cursor is in the middle of the line
	and return is pressed.
	Bug reported by
	Daniel Herding <DHerding@gmx.de>


Sun, 21 Jul 2002 03:04:52 -0700  andreasr:

	Changed paths:
	   M /trunk/po/no.po

	no.po updated


Sat, 20 Jul 2002 17:48:40 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/ai/advdomestic.h
	   M /trunk/ai/aicity.c
	   M /trunk/common/player.h
	   M /trunk/server/stdinhand.c

	Calculate the AI's need for various military buildings, instead of
	assigning them fixed values.


Sat, 20 Jul 2002 16:16:09 -0700  gs234:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/messagewin.c

	* client/gui-gtk-2.0 (meswin_selection_callback,
	  meswin_row_activated_callback): Fix typo.


Sat, 20 Jul 2002 05:01:41 -0700  per:

	Changed paths:
	   M /trunk/common/player.c

	Change player_has_embassy to return TRUE also if we check ourselves,
	to mimic the behaviour of the other treaty check functions and basic
	sanity. Taken from active ai diplomats patch by me and Gregory.


Fri, 19 Jul 2002 12:11:21 -0700  gs234:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/doc/BUGS

	* client/gui-gtk-2.0/gui_main.c (ui_init):  Assume networking
	encoding is ISO-8859-1 when ASCII is given.

	* doc/BUG: Remove entry about font problems in C locale.


Fri, 19 Jul 2002 10:59:11 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Clean up autoconf handling of --enable-debug. Defaults not changed.


Fri, 19 Jul 2002 07:25:44 -0700  per:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Remove mui client from autoconf --enable-client help line, since
	mui does not use autoconf.


Fri, 19 Jul 2002 07:24:04 -0700  per:

	Changed paths:
	   M /trunk/server/settlers.c

	Ensure that autosettler code does not core if there are no
	F_SETTLER or F_CITIES type units in the game rules.


Fri, 19 Jul 2002 01:46:23 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Thu, 18 Jul 2002 12:20:54 -0700  rfalke:

	Changed paths:
	   M /trunk/client/citydlg_common.c

	Add missing gettext calls.

	Patch from Christian Knoke <chrisk@enter.de>.


Thu, 18 Jul 2002 06:53:56 -0700  rfalke:

	Changed paths:
	   M /trunk/client/messagewin_common.c

	size_t caused underflow. Revert back to int.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.


Thu, 18 Jul 2002 03:36:27 -0700  egbert:

	Changed paths:
	   M /trunk/po/de.po

	de.po updated


Thu, 18 Jul 2002 03:04:36 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Thu, 18 Jul 2002 02:42:29 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk/messagewin.c
	   M /trunk/client/gui-gtk-2.0/messagewin.c
	   M /trunk/client/gui-win32/messagewin.c
	   M /trunk/client/gui-xaw/messagewin.c
	   M /trunk/client/include/messagewin_g.h
	   M /trunk/client/messagewin_common.c
	   M /trunk/client/messagewin_common.h

	Move the management of the displayed messages from the various
	messagewin.cs to messagewin_common.c.


Thu, 18 Jul 2002 02:14:48 -0700  rfalke:

	Changed paths:
	   M /trunk/client/civclient.c
	   M /trunk/client/civclient.h
	   M /trunk/client/gui-gtk/gui_main.c
	   M /trunk/client/gui-gtk-2.0/gui_main.c
	   M /trunk/client/gui-mui/gui_main.c
	   M /trunk/client/gui-win32/gui_main.c
	   M /trunk/client/gui-xaw/gui_main.c

	Merge the almost identical copies of the timer callback into a new
	function real_timer_callback.


Thu, 18 Jul 2002 02:14:16 -0700  pjkersten:

	Changed paths:
	   M /trunk/doc/nl/BUGS.nl

	Updated BUGS.nl


Thu, 18 Jul 2002 01:58:59 -0700  rfalke:

	Changed paths:
	   M /trunk/server/unithand.c

	Stricter checking of incoming requests: the server requires now normal
	map positions instead of just real map positions.


Wed, 17 Jul 2002 04:40:35 -0700  per:

	Changed paths:
	   M /trunk/client/audio.c
	   M /trunk/client/civclient.c

	Change user feedback from audio subsystem to be more
	consistent and helpful.

	Patch by Davide Pagnin <nightmare@freeciv.it>


Wed, 17 Jul 2002 04:11:48 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 16 Jul 2002 09:04:56 -0700  per:

	Changed paths:
	   M /trunk/ai/advdomestic.c
	   M /trunk/common/unittype.c

	Ensure AI continues to work even if there is no help wonder type
	unit in the game rules. Move help wonder logic into separate function.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Tue, 16 Jul 2002 08:53:24 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c

	Clean up and remove potential bugs from AI unit want allocation.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>


Tue, 16 Jul 2002 07:57:01 -0700  rfalke:

	Changed paths:
	   M /trunk/server/stdinhand.c

	Exchange to order of notradesize and fulltradesize. This way saved
	settings can be read back in without an error.

	Patch from Christian Knoke <chrisk@enter.de>.


Tue, 16 Jul 2002 03:30:08 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po


Tue, 16 Jul 2002 03:02:28 -0700  pjkersten:

	Changed paths:
	   M /trunk/po/nl.po

	Updated nl.po
	Corrected missing newline. Should be in 1.13.0 too.


Tue, 16 Jul 2002 00:45:58 -0700  rfalke:

	Changed paths:
	   M /trunk/client/gui-gtk-2.0/graphics.c

	Remove obsolete include.

	Reported and patch by Gaute B Strokkenes <gs234@cam.ac.uk>.


Mon, 15 Jul 2002 13:59:44 -0700  rfalke:

	Changed paths:
	   M /trunk/client/control.c
	   M /trunk/client/tilespec.c

	Display the FOW (fog of war) in the overview map display.

	Patch from Jean-Francois Leveque <leveque@webmails.com>.


Mon, 15 Jul 2002 13:06:09 -0700  rfalke:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	List all client types which can be used as an argument for
	--enable-client.

	Reported by Drizzt. Patch from Per I. Mathisen
	<Per.Inge.Mathisen@idi.ntnu.no>.


Mon, 15 Jul 2002 12:31:02 -0700  rfalke:

	Changed paths:
	   M /trunk/common/city.c
	   M /trunk/common/game.c
	   M /trunk/common/game.h
	   M /trunk/server/savegame.c
	   M /trunk/server/stdinhand.c

	Add rapturedelay option. It sets number of turns between rapture
	effect. This will slow down the growing of rapturing cities.

	Patch from Karl-Ingo Friese <kif@informatik.uni- hannover.de>.


Mon, 15 Jul 2002 10:06:23 -0700  per:

	Changed paths:
	   M /trunk/ai/advmilitary.c
	   M /trunk/ai/aiunit.c
	   M /trunk/common/city.h
	   M /trunk/doc/TODO

	Cleanup of AI process_*_want. "will undoubtedly be forgotten after
	the release" ;)

	Patch by Petr Baudis <pasky@pasky.ji.cz> and Gregory Berkolaiko
	<Gregory.Berkolaiko@strath.ac.uk>


Mon, 15 Jul 2002 02:05:33 -0700  rfalke:

	Changed paths:
	   M /trunk/configure.ac
	   M /trunk/configure.in

	Bump version from 1.13.0 to 1.13.1-devel.


Sun, 14 Jul 2002 15:12:32 -0700  sebauer:

	Changed paths:
	   M /trunk/amiga
	   M /trunk/amiga/.cvsignore
	   M /trunk/amiga/ReadMe
	   M /trunk/amiga/smakefile

	Final Amiga Release preparation


Sun, 14 Jul 2002 12:57:19 -0700  rfalke:

	Changed paths:
	   M /trunk/common/version.h
	   M /trunk/data/Freeciv

	Bump version from 1.13.0 to 1.13.1-devel.


Sun, 14 Jul 2002 12:27:16 -0700  rfalke:

	Changed paths:
	   M /trunk/ChangeLog

	Final ChangeLog update for Version 1.13.0 release.


Sun Jul 14 14:50:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.ac, configure.in:

	Final source update for Version 1.13.0 release.  Set version to
	1.13.0.

Sun Jul 14 14:46:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv, po/da.po, po/de.po, po/en_GB.po,
	po/es.po, po/fi.po, po/fr.po, po/hu.po, po/it.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po,
	po/ru.po, po/sv.po:

	Final source update for Version 1.13.0 release.  Set version to
	1.13.0.

Sun Jul 14 14:36:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/Makefile.am:

	Add missing files.

Sun Jul 14 13:40:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/ruleset.c, server/sernet.c,
	server/unithand.c:

	Changed capability string to simply "+1.13 conn_info".  Removed
	all correspondingly obsoleted has_capability() calls.

Sun Jul 14 13:10:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/nl.po:

	Correct a fuzzy translation.

	Reported and fix by Davide Pagnin <nightmare@freeciv.it>.

Sun Jul 14 12:25:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/PEOPLE:

	Update email address of Moses Lei.

Sat Jul 13 20:20:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/PEOPLE:

	Correction wrt SUENAGA Yasuo.

Sat Jul 13 19:16:49 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* doc/PEOPLE:

	update my email address

Sat Jul 13 17:54:34 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/config.h, amiga/libintl.h:

	Forgot to commit these files

Sat Jul 13 17:03:00 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/it/HOWTOPLAY.it, doc/it/README.cma.it:

	Update for 1.13.0 release

Sat Jul 13 16:56:46 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/it/README.cma.it:

	updated for 1.13.0 release

Sat Jul 13 16:56:22 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/it/INSTALL.it:

	Update for 1.13.0 release

Sat Jul 13 16:48:13 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* doc/PEOPLE:

	Changing email address.

Sat Jul 13 16:17:54 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/pl.po:

	Update pl.po

	Patch from Mateusz Stefek <matusik_s@o2.pl>.

Sat Jul 13 16:15:39 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/it/README.it:

	Updated to the 1.13.0 Release

Sat Jul 13 16:07:44 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/isotrident/flags.spec, data/trident/flags.spec,
	doc/HACKING, doc/PEOPLE:

	Update email address of Reinier Post.

Sat Jul 13 15:33:50 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/hu.po:

	Correct the charset.

	Reported by Davide Pagnin <nightmare@freeciv.it>.

Sat Jul 13 15:10:47 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/PEOPLE:

	Update the email addresses of Miguel Farah and me.

Sat Jul 13 13:55:38 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	it.po updated

Sat Jul 13 13:33:08 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/cityrep.c,
	client/gui-win32/connectdlg.c, client/gui-win32/dialogs.c,
	client/gui-win32/diplodlg.c, client/gui-win32/finddlg.c,
	client/gui-win32/gotodlg.c, client/gui-win32/gui_main.c,
	client/gui-win32/gui_stuff.c, client/gui-win32/gui_stuff.h,
	client/gui-win32/helpdlg.c, client/gui-win32/inputdlg.c,
	client/gui-win32/inteldlg.c, client/gui-win32/mapctrl.c,
	client/gui-win32/messagedlg.c, client/gui-win32/messagewin.c,
	client/gui-win32/optiondlg.c, client/gui-win32/plrdlg.c,
	client/gui-win32/ratesdlg.c, client/gui-win32/repodlgs.c,
	client/gui-win32/spaceshipdlg.c, client/gui-win32/wldlg.c:

	added an extra argument to fcwin_create_layouted_window to be a
	able to specify where the parent window argument should be passed
	to.  This reduces problems like pushing windows behind the main
	window.

Sat Jul 13 08:44:35 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapctrl.c:

	don't wake up units when you click on a city Bug reported by
	Gianmario Scotti <gianmario.scotti@nokia.com>

Fri Jul 12 09:24:28 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/README_Japanese.ja:

	Special documentation for Japanese users.

Fri Jul 12 09:19:25 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/README.cma.ja:

	Initial partly translation. Based on CVS-1.1.

Fri Jul 12 06:38:26 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2831t+3f+95u.  Merge SUENAGA Yasuo's translation.

Thu Jul 11 19:15:45 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Jul 11 17:04:05 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c:

	Send the game info and the player info to the player if a new tech
	is gained. This enables the client to mark certain buildings
	obsolete.

	Reported by Kenn Munro <kenn@cyberbeach.net> as (PR#1700). Patch
	from me.

Thu Jul 11 13:57:56 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/audio_amiga.c, client/audio_esd.c, client/audio_none.c,
	client/audio_sdl.c, client/audio_winmm.c:

	Prefix the the static callbacks of the audio plugins with "my_" to
	prevent conflicting with system functions wait and shutdown.

	Reported by Martin Gansser <MGansser@rand.de>. Patch from me.

Thu Jul 11 13:42:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/cityturn.c:

	Notify the embassies about the techs gained by Darwins Voyage.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from Per I
	Mathisen <per@leftist.net> and me.

Thu Jul 11 12:43:17 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/dutch.ruleset:

	Convert dutch.ruleset to natural city names.

	Patch from Pieter J. Kersten <kersten@dia.eur.nl>.

Thu Jul 11 09:02:08 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jul 10 19:15:42 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Jul 10 14:20:28 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Always update the update menus if a city is removed and not only
	when the unit in focus is at the same position.

	Reported by Kenn Munro <kenn@cyberbeach.net> as (PR#1666). Patch
	from me.

Wed Jul 10 14:13:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/gui_main.c, client/gui-gtk-2.0/gui_main.c,
	client/gui-xaw/gui_main.c:

	Add the government to the info popup.

	Reported by Jordi Negrevernis <jorneg@retemail.es>. Patch from me.

Wed Jul 10 13:52:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c:

	Fix spelling error.

	Patch from Per I. Mathisen <per@leftist.net>.

Wed Jul 10 13:50:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/default/buildings.ruleset:

	Update Palace helptext.

	Per I. Mathisen <per@leftist.net>.

Wed Jul 10 13:46:30 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/default/techs.ruleset:

	Update documentation.

	Patch from Per I. Mathisen <per@leftist.net>.

Wed Jul 10 13:38:33 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/polish.ruleset:

	Start using natural city names in the Polish ruleset.

	Patch from Mateusz Stefek <matusik_s@o2.pl>.

Wed Jul 10 11:12:38 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/NEWS.ja:

	Sync with 1.41.

Tue Jul  9 23:09:01 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/INSTALL.de:

	updated by Jens Georg <mail@jensgeorg.de>

Tue Jul  9 23:07:50 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/NEWS.de:

	updated by Christian Knoke <chrisk@enter.de>

Tue Jul  9 11:27:33 2002  Per I. Mathisen <per@leftist.net>:

	* data/nation/swedish.ruleset:

	Update Swedish nation with natural city names

	Patch by Erik Sigra <sigra@home.se>

Tue Jul  9 10:52:13 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	it.po updated

Tue Jul  9 10:52:02 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/NEWS.nl:

	Added stealth news to NEWS.nl

Tue Jul  9 10:48:17 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/NEWS.nl:

	Added dutch NEWS file (only parially translated)

Tue Jul  9 10:26:43 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Jul  9 09:33:56 2002  Per I. Mathisen <per@leftist.net>:

	* NEWS:

	Add info about Stealth changes to NEWS

Tue Jul  9 05:51:39 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Mon Jul  8 18:04:28 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv, configure.ac, configure.in:

	Bump version from 1.12.6 (beta) to 1.12.7-devel (beta).

Mon Jul  8 17:16:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv, po/da.po, po/de.po, po/en_GB.po,
	po/es.po, po/fi.po, po/fr.po, po/hu.po, po/it.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po,
	po/ru.po, po/sv.po:

	Second beta release (1.12.6) leading to version 1.13.0: - Changed
	version to 1.12.6 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Mon Jul  8 16:13:42 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/Makefile.am:

	Add various files.

Mon Jul  8 16:03:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am:

	Added audio_amiga.c audio_amiga.h.

Mon Jul  8 15:13:44 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Print more details if a savegame has incomplete data. Print the
	warning only once.

Mon Jul  8 14:20:56 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/default/units.ruleset:

	Increase the attack of Stealth Bomber from 14 to 18. While this
	may not be historically correct it should increase the value of
	the unit so that players use it.

	Reported by Raahul Kumar <raahul_da_man@yahoo.com>.

Mon Jul  8 14:05:50 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/default/units.ruleset:

	Add the Partial_Invis flag to Stealth Fighter and Bomber.

	Patch from Raahul Kumar <raahul_da_man@yahoo.com>.

Mon Jul  8 14:02:55 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/PEOPLE:

	Add Kenn Munro <kenn@cyberbeach.net> as a bug reporter.

Mon Jul  8 13:59:43 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/ru.po:

	Update ru.po. Patch from Leon <leon@ed.rk.tusur.ru>.

Sun Jul  7 21:45:50 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/citydlg.c:

	Made a couple of changes to the city dialog: - new city production
	dialog that uses TreeView instead of CList.  - added stock pixmaps
	to the button buttom row.  - removed that unaesthetic city name
	frame.

Sun Jul  7 21:43:05 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/dialogs.c:

	Updated a comment.

Sun Jul  7 21:41:22 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cma_fe.c, client/gui-gtk-2.0/cma_fe.h:

	Use gtk_button_new_with_mnemonic instead of deprecated
	gtk_accelbutton_new.

Sun Jul  7 21:40:03 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/repodlgs.c:

	Marked string for translation.

Sun Jul  7 18:04:25 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/dialogs.c:

	Changed nation selection dialog: - new action area buttons.  -
	dialog is now truly modal. removed the top_vbox insensitivity
	hack.

Sun Jul  7 18:02:57 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/repodlgs.c:

	Added some padding before the tech list.

Sun Jul  7 12:58:31 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/audio.c, client/audio_amiga.c,
	client/audio_amiga.h:

	Added primitive audio support (using play16) at last to the amiga
	port

Sun Jul  7 12:23:33 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/wldlg.c, client/gui-mui/worklistclass.c,
	client/gui-mui/worklistclass.h:

	Minor fixes and improvements

Sat Jul  6 20:35:22 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/mapview.c, data/freeciv.rc:

	Fix for font problems on GTK+ 1.2 client reported in (PR#1606).

	I tested the client with the following locales: - ja_JP.eucJP -
	hu_HU.ISO-8859-2 - ru_RU.KOI8-R

	It also fixes font problems reported by SuSE users using the
	de_DE@euro locale.

	Bug reported by SAWADA Katsuya <ama@petmail.net>.  Testing on SuSE
	Linux by Christian Knoke <chrisk@enter.de>.

Sat Jul  6 19:35:57 2002  Miguel Lobo <miguell@miguell.cjb.net>:

	* po/es.po:

	Updated Spanish translation.

Sat Jul  6 16:22:23 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_main.c:

	- changed name of environment variable FREECIV_NETWORK_CHARSET to
	FREECIV_NETWORK_ENCODING.  - the default network string char
	encoding is now the encoding of the user's currect locale instead
	of ISO-8859-1.

Sat Jul  6 15:26:01 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	it.po updated

Fri Jul  5 23:25:00 2002  Erik Sigra <sigra@home.se>:

	* doc/sv/CodingStyle.sv, doc/sv/README.attributes.sv,
	doc/sv/README.cma.sv, doc/sv/README.graphics.sv:

	add

Fri Jul  5 16:30:17 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* doc/README.rulesets, server/ruleset.c:

	allow only '!' to negate natural city naming.

Fri Jul  5 15:11:25 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/wldlg.c,
	client/gui-mui/wldlg.h, client/gui-mui/worklistclass.c,
	client/gui-mui/worklistclass.h:

	Brought the worklist stuff uptodate.

Fri Jul  5 12:39:25 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c:

	Moved the city option stuff in a page simliar to the gtk client

Fri Jul  5 11:05:29 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Fri Jul  5 10:37:42 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/chatline.c,
	client/gui-mui/connectdlg.c, client/gui-mui/gui_main.c:

	compiles again under AmigaOS

Thu Jul  4 20:34:23 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/amigaclient.c, amiga/amigaserver.c:

	No longer requires the usergroup.library

Thu Jul  4 17:15:55 2002  Erik Sigra <sigra@home.se>:

	* doc/sv/README.agents.sv, doc/sv/README.sound.sv:

	add

Thu Jul  4 12:54:22 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/NEWS.ja:

	'Sync with 1.4.'

Wed Jul  3 16:51:37 2002  Erik Sigra <sigra@home.se>:

	* doc/sv/BUGS.sv, doc/sv/HOWTOPLAY.sv, doc/sv/README.sv:

	update

Wed Jul  3 08:05:07 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/game.h, server/srv_main.c:

	Add a new client state CLIENT_GAME_OVER_STATE to thaw the reports
	after the game is over.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Wed Jul  3 07:59:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	After a city has changed owner send the info about other cities
	which have traderoutes with the first to the new owner.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Tue Jul  2 19:21:42 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/messagewin_common.c:

	Clear the change flag after popup.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Tue Jul  2 17:16:04 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/BUGS.de, doc/de/NEWS.de:

	BUGS.de and NEWS.de updated by Christian Knoke <chrisk@enter.de>

Tue Jul  2 06:16:16 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unithand.c:

	Move the map_get_city call after the punit check to avoid a SEGV
	if punit is NULL.

	Reported by Kenn Munro <kenn@cyberbeach.net>.

Mon Jul  1 21:13:31 2002  Per I. Mathisen <per@leftist.net>:

	* client/citydlg_common.c, client/cityrepdata.c,
	client/repodlgs_common.c, server/cityturn.c:

	Fix bug #1635 wherein capitalization when you had less shields
	than shield upkeep would make the client erronously report that
	you would get a negative amount of gold.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> Bug report by
	Christian Knoke <chrisk@enter.de>

Mon Jul  1 20:44:27 2002  Per I. Mathisen <per@leftist.net>:

	* NEWS:

	Update NEWS file. Patch by Christian Knoke <chrisk@enter.de>

Sun Jun 30 15:14:49 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Allow nested reports_freeze_till. This requires multiple
	outstanding thaw-request-ids.

	Reported by Christian Knoke <chrisk@enter.de>.

Sun Jun 30 14:37:44 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/messagewin.c, client/gui-gtk-2.0/messagewin.c,
	client/gui-mui/messagewin.c, client/gui-win32/messagewin.c,
	client/gui-xaw/messagewin.c:

	create_meswin_dialog calls now real_update_meswin_dialog to get
	the items even if messagewin_common.c thinks that the updating is
	not necessary.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sun Jun 30 13:56:34 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Sun Jun 30 08:42:19 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	no.po updated.

Sun Jun 30 01:04:07 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-xaw/helpdlg.c:

	change game.num_impr_types to A_LAST in help_update_improvement()

	reported by Sylvain Tricot <sylvaintricot@free.fr>

Sun Jun 30 00:30:16 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Jun 29 21:41:50 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	'Update ja.po to 2805+6f+115u+33o.'

Sat Jun 29 20:53:51 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/BUGS.ja:

	'Sync with 1.6.'

Sat Jun 29 20:39:47 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Move the reports_freeze call from after-game-join-reply to
	after-ruleset-control. This will reduce the time of freezing the
	reports to only this time were ruleset and other (map, unit,
	city,...) data is sent to the client. Especially this re-enables
	the chatline between game-joined and game-start.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sat Jun 29 20:07:34 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/NEWS.ja:

	'Sync with 1.39.'

Sat Jun 29 19:54:42 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c, doc/BUGS, po/POTFILES.in, NEWS:

	Add a check to test for old versions. Add a note about
	incompatibility with old versions.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sat Jun 29 18:35:05 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c:

	Invalidate the cache if the applied worker allocation doesn't
	match the expected result.

	Reported by Kenn Munro <kenn@cyberbeach.net> as (PR#1546). Patch
	from me.

Sat Jun 29 14:47:46 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	no.po is 100% translated. Feedback wanted!

Sat Jun 29 14:29:21 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/repodlgs.c:

	Sort the items in the science goal list correctly.  Bug reported
	by Christian Knoke <chrisk@enter.de>

Sat Jun 29 12:53:32 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/cityrep.c:

	corrected a name of a function call (reports_freeze_till)

Fri Jun 28 19:12:02 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	updated no.po:  72 untransl.

Fri Jun 28 06:15:50 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri Jun 28 02:48:51 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0, client/gui-gtk-2.0/messagedlg.c:

	Removed span and italic tags as requested in (PR#1602).

	Reported by Egbert Hinzen <egbert@hinzen-koeln.de>.

Fri Jun 28 01:44:51 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Fixed bug that caused an assert failure (PR#1595).

	Bug reported by Kimiko Koopman <kimiko@xs4all.nl>.

Thu Jun 27 23:56:09 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_main.c:

	Added widget name to detachable windows so that the style of the
	chatline when detached remains the same.

Thu Jun 27 23:50:33 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/helpdlg.c:

	Added history to help browser. Minor style tweaks.

Thu Jun 27 19:08:08 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/diplodlg.c:

	fixed a typo. Reported by Erik Sigra <sigra@home.se>

Thu Jun 27 18:31:42 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/connectdlg.c:

	s/CALLBACK LONG/LONG CALLBACK/ Bug reported by Christian Stock
	<cstock@unimelb.edu.au>

Thu Jun 27 18:30:02 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/menu.c:

	mark the end of the menu struct properly (add a {NULL,0}) Bug
	reported by Christian Stock <cstock@unimelb.edu.au>

Thu Jun 27 16:26:22 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	updated: 108 untransl.

Thu Jun 27 02:26:18 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/helpdlg.c:

	Removed unused code.

Thu Jun 27 02:02:47 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/gui_main.h:

	The client now checks the FREECIV_NETWORK_CHARSET environment
	variable at startup to decide the encoding to use on network data
	transmission.  If the variable isn't defined it uses ISO-8859-1 as
	default. Cleanup.

Thu Jun 27 01:11:38 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c, client/gui-beos/gui_main.c,
	client/gui-gtk/gui_main.c, client/gui-gtk-2.0/gui_main.c,
	client/gui-mui/gui_main.c, client/gui-stub/gui_main.c,
	client/gui-win32/gui_main.c, client/gui-xaw/gui_main.c,
	client/include/gui_main_g.h:

	GTK+ 2.0 now calls bind_textdomain_codeset(PACKAGE, "UTF-8") via
	new ui_init() function called in civclient.c.

	This allows the GTK+ 2.0 client to work properly on non-UTF-8
	locales such as de_DE.ISO-8859-1 or ja_JP.eucJP.

Thu Jun 27 01:06:53 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/log.c:

	Don't allow logs to a file and by the callback at the same time.

Thu Jun 27 01:00:49 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/chatline_common.c, client/chatline_common.h,
	client/messagewin_common.c, client/messagewin_common.h,
	client/plrdlg_common.c, client/plrdlg_common.h:

	As usual i forgot to add the new files in the previous commit.
	Here they are.

Thu Jun 27 00:59:12 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.am, client/climisc.c, client/climisc.h,
	client/clinet.c, client/packhand.c, client/packhand.h,
	client/repodlgs_common.c, client/repodlgs_common.h,
	client/agents/cma_core.c, client/gui-beos/chatline.cpp,
	client/gui-beos/messagewin.cpp, client/gui-beos/repodlgs.cpp,
	client/gui-gtk/chatline.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-gtk-2.0/chatline.c, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/messagewin.c, client/gui-gtk-2.0/plrdlg.c,
	client/gui-gtk-2.0/repodlgs.c, client/gui-gtk-2.0/repodlgs.h,
	client/gui-mui/chatline.c, client/gui-mui/cityrep.c,
	client/gui-mui/messagewin.c, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/repodlgs.h,
	client/gui-stub/chatline.c, client/gui-stub/messagewin.c,
	client/gui-stub/plrdlg.c, client/gui-stub/repodlgs.c,
	client/gui-win32/chatline.c, client/gui-win32/cityrep.c,
	client/gui-win32/messagewin.c, client/gui-win32/plrdlg.c,
	client/gui-win32/repodlgs.c, client/gui-xaw/chatline.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/plrdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/include/chatline_g.h,
	client/include/messagewin_g.h, client/include/plrdlg_g.h,
	client/include/repodlgs_g.h:

	Freeze/Thaw client patch.

	This patch speeds up the clients by delaying GUI refreshes on
	several widgets. For example instead of doing one refresh of the
	city report dialog per city before a new turn, only do one refresh
	just before the turn starts.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>, use of astring in
	chatline by me.

	Testing and benchmarking by Christian Knoke <chrisk@enter.de>.

Wed Jun 26 22:55:05 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c:

	Changed positioning of beta message label.

Wed Jun 26 22:52:35 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0, client/gui-gtk-2.0/helpdlg.c:

	Revamped help dialog.

Wed Jun 26 18:22:57 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* autogen.sh:

	Fix thinko.

	Patch from Gaute B Strokkenes <gs234@cam.ac.uk>.

Wed Jun 26 12:21:59 2002  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update.

Wed Jun 26 08:14:47 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jun 26 03:45:19 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gtkpixcomm.c:

	Fix drawing out of GtkPixcomm bounds bug.

Wed Jun 26 03:41:56 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0:

	To solve the font problems once and for all, only use fonts that
	are guaranteed to exist.

Wed Jun 26 01:03:11 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c:

	Don't g_free non alloc'ed data.

Tue Jun 25 22:39:21 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/chatline.c:

	GtkTextView is not a GtkEditable subclass. Fix bug in
	log_output_window().

Tue Jun 25 21:36:30 2002  Andreas Ro/sdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	spellchecked no.po

Tue Jun 25 20:12:40 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c, client/gui-gtk-2.0/gui_main.c:

	- Fixed bug in put_conv().  - Pango_font_description_from_string()
	never fails as long as you don't pass NULL to it. Removed spurious
	checks.  - Put charset conversion initializations into
	setup_conv() function.  - Cleanup.

Tue Jun 25 20:04:50 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/log.c, common/log.h:

	New log_set_callback() function.  Allows adjusting the callback
	function after the initial log_init().

Tue Jun 25 07:44:05 2002  Andreas Ro/sdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	updated to 130 untranslated

Tue Jun 25 02:52:22 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/mapview.c:

	Fixed a bug in my recent commit.

Tue Jun 25 02:36:53 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/dialogs.c,
	client/gui-gtk-2.0/graphics.c, client/gui-gtk-2.0/gtkpixcomm.c,
	client/gui-gtk-2.0/gtkpixcomm.h, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/helpdlg.c, client/gui-gtk-2.0/mapview.c,
	client/gui-gtk-2.0/mapview.h:

	Changed GtkPixcomm API. No more pixmap and mask allocation. This
	way the X-Server doesn't need to allocate dozens of pixmaps per
	city window. As a benefit the city window should popup faster. 
	The overhead of re-doing the GtkPixcomm drawing is so small it is
	better to save mem at the expense of taking some more time for
	refreshing widgets.

	The city map was changed to use GtkImage instead of GtkPixcomm.

	Changed map_canvas_expose() event handler. Do resizing in
	different map_canvas_configure() event handler.

Mon Jun 24 19:33:00 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/repodlgs.c:

	Corrected the help checkbox in the science report.  Bug reported
	by Jordi negrevernis i Font <jorneg@retemail.es>. Patch by me.

Mon Jun 24 15:56:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/cma_fe.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/repodlgs.c:

	Remove the first GtkWidget parameter from functions which are
	called back from popup_message_dialog.

	Reported by Matthew O'Connor <matthew@canonical.org>. Patch from
	me.

Mon Jun 24 15:41:04 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	it.po updated

Mon Jun 24 14:29:28 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Mon Jun 24 14:15:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/Makefile.am:

	New version from Martin McMahon <martin.mcmahon@ukonline.co.uk>.

Mon Jun 24 14:05:54 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/british-isles-85x80-v2.77.sav,
	data/scenario/british-isles-85x80-v2.80.sav:

	New version from Martin McMahon <martin.mcmahon@ukonline.co.uk>.

Mon Jun 24 12:39:41 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/happiness.c, client/gui-gtk-2.0/happiness.c,
	client/gui-win32/happiness.c:

	Correct errors in the display of the happiness data.

	Patch from Davide Pagnin <nightmare@freeciv.it>.

Sun Jun 23 23:14:51 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/connectdlg.c:

	Fix font problem in beta message label (PR#1605).

	Bug reported by SAWADA Katsuya <ama@petmail.net>.

Sun Jun 23 20:22:28 2002  Andreas Ro/sdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	updated no.po to 160 untranslated and 0 fuzzy

Sun Jun 23 19:12:49 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/mapview.c:

	draws red borders in cities now correctly.  Bug reported by Jordi
	negrevernis i Font <jorneg@retemail.es>. Patch by me.

Sun Jun 23 16:06:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/civclient.h, client/packhand.c,
	client/agents/agents.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/menu.c:

	Add new function client_is_observer. Disable certain menu entries
	and the agents if the client is an observer.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from Per I
	Mathisen <per@leftist.net> and me.

Sun Jun 23 14:50:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/agents.c:

	Guard against a call of agents_busy before the agents get
	initialized.

Sun Jun 23 14:35:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/dialogs.c:

	Make sure that onyl one government dialog is open at any time.
	Allow multiple connect and pillage dialogs open in parallel.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sun Jun 23 14:02:05 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/hagworld-120x60-v1.2.sav:

	Add empty map.f lines since the map has no fallout.

	Reported by Andrew John Hughes <hughes2002@btinternet.com>. Patch
	from me.

Sun Jun 23 13:05:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/Makefile.am:

	Remove scenarios which use the classic terrain ruleset which is no
	longer supported.

Sun Jun 23 12:58:31 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/earth-160x90-v1.sav,
	data/scenario/earth-80x50-v1.sav,
	data/scenario/europe-200x100-v1.sav:

	Remove scenarios which use the classic terrain ruleset which is no
	longer supported.

Sun Jun 23 12:40:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/audio.c, client/civclient.c:

	Call audio_shutdown at the exit of the client to stop all sound.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sun Jun 23 12:35:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c, client/attribute.h, client/civclient.c:

	Free the static attribute hash between games.

	Reported by Kenn Munro <kenn@cyberbeach.net>. Patch from me.

Sat Jun 22 10:40:23 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	no.po updated

Sat Jun 22 10:18:25 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	Some translations, and some spelling errors removed

Sat Jun 22 09:47:26 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	updates: fixed all fuzzy entries

Fri Jun 21 16:24:37 2002  Andreas Rosdal, .no translator <andrearo@stud.ntnu.no>:

	* po/no.po:

	updates to no.po: trying to update translations for 1.13.0, lots
	of fuzzy and untranslated fixes

Fri Jun 21 14:13:41 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/dialogs.c:

	Remove superfluous assignment.

	Reported by Sylvain Tricot <sylvaintricot@free.fr>.

Fri Jun 21 12:59:52 2002  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update.  Checked with latest check_po.pl, errors fixed.

Fri Jun 21 09:17:40 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/BUGS.ja:

	'Sync with 1.5.'

Fri Jun 21 09:06:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/dialogs.h:

	Add the sensitive to the button description. This is an
	alternative way to message_dialog_button_set_sensitive to control
	if a button is enabled or disabled.

Fri Jun 21 08:56:00 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/default/units.ruleset:

	Correct/update some comments.

	Reported from Gregory Berkolaiko
	<Gregory.Berkolaiko@strath.ac.uk>. Patch from Per I Mathisen
	<per@leftist.net>.

Fri Jun 21 08:48:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/stdinhand.c:

	Allow the score command after game end.

	Reported by Reinier Post <rp@win.tue.nl>.

Thu Jun 20 17:44:24 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/HOWTOPLAY.ja:

	'Sync with 1.2.'

Thu Jun 20 17:41:04 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/NEWS.ja:

	'Sync with 1.38.'

Thu Jun 20 16:42:43 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c:

	Add an assert to ensure that only CMA settings for own cities are
	set.

Thu Jun 20 15:26:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/turk.ruleset:

	Correct Turkish ruleset.

	Patch from Burak Demircan <checkpoint@e-kolay.net>.

Thu Jun 20 14:10:45 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Jun 20 12:02:44 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/README.ja:

	'Sync with 1.5.'

Thu Jun 20 10:44:05 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jun 19 22:18:44 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fix compile time warnings on Alpha.

	Patch by Davide Pagnin <nightmare@freeciv.it>.

Wed Jun 19 21:10:47 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	- changed city report toolbar to regular buttons at the bottom.  -
	added more options to the select menu.

Wed Jun 19 02:41:58 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	This should fix wonders not shown in city report change menu
	(PR#1595).

	Bug reported by Kimiko Koopman <kimiko@xs4all.nl>.

Wed Jun 19 02:18:00 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Fixed (PR#1598).

	It was basically the same bug that was previously detected in the
	buy dialog. The callback had the wrong number of arguments.

	Bug reported by Kenn Munro <kenn@cyberbeach.net>.

Wed Jun 19 02:12:45 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c, client/gui-gtk-2.0/gui_main.c:

	Commited fix (PR#1596).

	Patch by Magnus Kinnander <d00-mki@nada.kth.se> with handling for
	the special case when there is no theme by me.

Sat Jun 15 21:01:43 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_stuff.c:

	Fixed gtk_set_relative_position().

Sat Jun 15 16:56:12 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-xaw/colors.h:

	remove obsolete function prototype.

	reported by Sylvain Tricot <sylvaintricot@free.fr>

Sat Jun 15 16:54:42 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/include/colors_g.h:

	remove useless #define

	reported by Sylvain Tricot <sylvaintricot@free.fr>

Sat Jun 15 16:51:31 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-xaw/diplodlg.c:

	wrong player is passed to get_ruler_title()

	Patch by Sylvain Tricot <sylvaintricot@free.fr>

Sat Jun 15 16:05:49 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/colors.c:

	added a missing color bug reported by sylvaintricot@free.fr

Fri Jun 14 22:07:25 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c:

	Fixed civclient crash on buying (PR#1570).

	Bug reported by Christian Knoke <chrisk@enter.de>.

Fri Jun 14 06:46:12 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.c:

	removed a duplicate free() Bug reported by Martin Dufour
	<mdufour@softimage.com>

Thu Jun 13 22:43:22 2002  Per I. Mathisen <per@leftist.net>:

	* client/agents/cma_fec.c, client/agents/cma_fec.h, common/map.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cma_fe.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/dialogs.h,
	client/gui-gtk/inputdlg.c, client/gui-gtk/inputdlg.h,
	client/gui-gtk/mapctrl.c, client/gui-gtk/repodlgs.c,
	client/gui-gtk/wldlg.c:

	In the gtk client, improve popup_message_dialog by generalising
	the handling of window destruction. This fixes #1551 and makes the
	code (hopefully) more robust against similar bugs in the future.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>

Thu Jun 13 13:01:10 2002  Per I. Mathisen <per@leftist.net>:

	* client/gui-gtk/messagewin.c:

	Restore a sane default size for message window in gtk client.
	Patch by Raimar Falke <rf13@inf.tu-dresden.de> with changes by me.

Thu Jun 13 12:53:29 2002  Per I. Mathisen <per@leftist.net>:

	* client/agents/agents.c:

	Fix turn done button. Was improperly unset by agents code.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> Reported by
	Christian Knoke <chrisk@enter.de>

Thu Jun 13 07:46:45 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Jun 13 07:31:33 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Jun 13 04:56:25 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/messagewin.c:

	Moved gtk_set_relative_position() call.

Thu Jun 13 04:53:36 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/messagewin.c:

	Replaced GtkCList in messages window for a GtkTreeView.

Thu Jun 13 02:50:11 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/messagewin.c:

	Fixed (PR#1529).

	Patch by Per I Mathisen <per@leftist.net>.

Thu Jun 13 02:47:36 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/messagewin.c:

	Changed the look of the message dialog a bit.

Thu Jun 13 02:18:20 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/menu.c, client/gui-gtk-2.0/repodlgs.c:

	Made the economy sell info popup non-modal.

Thu Jun 13 02:05:10 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/repodlgs.c:

	New style economy report. Minor tweaks.

Wed Jun 12 21:58:11 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c, client/gui-gtk-2.0/connectdlg.c,
	client/gui-gtk-2.0/dialogs.c, client/gui-gtk-2.0/finddlg.c,
	client/gui-gtk-2.0/gui_stuff.c, client/gui-gtk-2.0/gui_stuff.h,
	client/gui-gtk-2.0/messagedlg.c, client/gui-gtk-2.0/repodlgs.c:

	- cleaned up notify dialog.  - changed reports so that reinvoking
	a pre opened report raises the report window.  - changed window
	modality settings on reports.  - converted some GtkTreeStores
	(that were lists anyway) to GtkListStores.  - don't duplicate
	static strings in the message options, find city, units report and
	science report. less strdups, faster code.  - changed display code
	of city report: network updates are faster, column drawing is
	slower. need to change cityrepdata.[ch] to make this faster again.

Wed Jun 12 14:17:18 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* INSTALL:

	added documentation about the win32 build process

Wed Jun 12 08:21:41 2002  Per I. Mathisen <per@leftist.net>:

	* Makefile.am, configure.ac, configure.in, m4/sound.m4:

	Move sound tests into separate macro so that the code is shared
	between autoconf versions. Also add --disable-esd,
	--disable-sdl-mixer and --disable-winmm switches to allow
	disabling sound plugins selectively.

	Patch by me. Thanks to Davide for testing and Raimar for
	proof-reading.

Wed Jun 12 07:54:33 2002  Per I. Mathisen <per@leftist.net>:

	* data/nation/chilean.ruleset:

	Update chilean nation. Patch by Miguel Farah <miguel@lj.cl>

Wed Jun 12 07:24:33 2002  Per I. Mathisen <per@leftist.net>:

	* client/climisc.c, client/clinet.c, client/options.c,
	client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gotodlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/dialogs.c, client/gui-gtk-2.0/diplodlg.c,
	client/gui-gtk-2.0/finddlg.c, client/gui-gtk-2.0/gamedlgs.c,
	client/gui-gtk-2.0/gotodlg.c, client/gui-gtk-2.0/graphics.c,
	client/gui-gtk-2.0/inteldlg.c, client/gui-gtk-2.0/messagewin.c,
	client/gui-gtk-2.0/plrdlg.c, client/gui-gtk-2.0/repodlgs.c,
	client/gui-gtk-2.0/spaceshipdlg.c, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/dialogs.c,
	client/gui-mui/diplodlg.c, client/gui-mui/finddlg.c,
	client/gui-mui/gamedlgs.c, client/gui-mui/gotodlg.c,
	client/gui-mui/graphics.c, client/gui-mui/inteldlg.c,
	client/gui-mui/messagewin.c, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/spaceshipdlg.c,
	client/gui-win32/cityrep.c, client/gui-win32/dialogs.c,
	client/gui-win32/diplodlg.c, client/gui-win32/finddlg.c,
	client/gui-win32/gotodlg.c, client/gui-win32/inteldlg.c,
	client/gui-win32/menu.c, client/gui-win32/messagedlg.c,
	client/gui-win32/messagewin.c, client/gui-win32/plrdlg.c,
	client/gui-win32/ratesdlg.c, client/gui-win32/repodlgs.c,
	client/gui-win32/spaceshipdlg.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/optiondlg.c,
	client/gui-xaw/plrdlg.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c,
	common/capability.c, common/inputfile.c, common/map.c,
	common/registry.c, common/shared.c, common/support.c,
	common/support.h, server/cityhand.c, server/civserver.c,
	server/handchat.c, server/ruleset.c, server/rulesout.c,
	server/savegame.c, server/srv_main.c, server/stdinhand.c:

	Wrapping the functions isalnum, isalpha, isdigit, isprint,
	isspace, toupper and tolower to avoid warnings on broken libc
	implementations (most notably Tru64 and Solaris).

	Patch by Davide Pagnin <nightmare@freeciv.it> and Raimar Falke
	<rf13@inf.tu-dresden.de>

Tue Jun 11 23:36:41 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/README.sound.de:

	README.sound.de translated by Jens Georg <mail@jensgeorg.de>

Tue Jun 11 21:09:52 2002  Per I. Mathisen <per@leftist.net>:

	* doc/PEOPLE:

	Update PEOPLE again

Tue Jun 11 03:54:16 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/repodlgs.c:

	Cleanup.

Tue Jun 11 03:51:54 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_stuff.c:

	Add an extra variable to make code clearer.

Tue Jun 11 03:45:39 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/repodlgs.c:

	Removed all calls to g_object_set().

Tue Jun 11 01:46:39 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0:

	Changed to reflect new widget names.

Tue Jun 11 01:10:55 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/connectdlg.c, client/gui-gtk-2.0/dialogs.c,
	client/gui-gtk-2.0/finddlg.c, client/gui-gtk-2.0/graphics.c,
	client/gui-gtk-2.0/gtkpixcomm.c, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/gui_stuff.c, client/gui-gtk-2.0/gui_stuff.h,
	client/gui-gtk-2.0/helpdlg.c, client/gui-gtk-2.0/mapview.c,
	client/gui-gtk-2.0/messagedlg.c, client/gui-gtk-2.0/repodlgs.c:

	- removed useless G_OBJECT() casts.  - changed style of city
	report list.  - added missing g_object_unref() to help store.  -
	new upgrade obsolete units dialog.  - new units report.

	Applied part of patch by Jan Arne Petersen <japetersen@web.de>: -
	new revolution dialog.  - gtk_tree_selection_get_row().

Mon Jun 10 22:09:22 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/check_po.pl:

	Modified to add support to more than 2 plural forms WARN - Check
	out this modification and commit back if is unwanted

Mon Jun 10 19:08:25 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Remove attribute test code. It is no longer necessary since there
	is now a real user in the CVS tree.

Mon Jun 10 07:42:36 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jun 10 03:00:11 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gamedlgs.c, client/gui-gtk-2.0/messagedlg.c:

	- changed rates dialog to new dialog style.  - don't export
	create_messageopt_dialog().

Mon Jun 10 02:44:04 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c:

	Finally figured out what was causing the name entry to not be
	focused. Fixed.

Mon Jun 10 02:34:08 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c:

	Changed padding of beta version label.

Mon Jun 10 02:15:32 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0:

	Changed the chatline text style.

Mon Jun 10 02:13:55 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/chatline.c, client/gui-gtk-2.0/chatline.h,
	client/gui-gtk-2.0/connectdlg.c, client/gui-gtk-2.0/dialogs.c,
	client/gui-gtk-2.0/dialogs.h, client/gui-gtk-2.0/finddlg.c,
	client/gui-gtk-2.0/gui_main.c, client/gui-gtk-2.0/mapctrl.c,
	client/gui-gtk-2.0/mapctrl.h, client/gui-gtk-2.0/mapview.c,
	client/gui-gtk-2.0/mapview.h, client/gui-gtk-2.0/menu.c,
	client/gui-gtk-2.0/messagedlg.c:

	- find and message options lists have focus by default.  - removed
	some deprecated widgets.  - made more files use pure GTK+ 2.0 API.

Sun Jun  9 23:20:10 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	- removed change all dialog.  - removed all deprecated code.

Sun Jun  9 21:42:54 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	* Moved variable declaration.  * Added assert.

Sun Jun  9 21:38:49 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c, client/gui-gtk-2.0/gui_stuff.c,
	client/gui-gtk-2.0/gui_stuff.h, client/gui-gtk-2.0/messagedlg.c:

	* Added new GtkTreeIter wrapper functions.  *
	append_impr_or_unit_to_menu_item() speedup (don't alloc more mem
	than req).  * cache select menu entries.

Sun Jun  9 17:54:25 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.ac, configure.in:

	Bump version from 1.12.4 (beta) to 1.12.5-devel (beta).

Sun Jun  9 17:27:23 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/cma_fe.c, client/gui-gtk-2.0/dialogs.c,
	client/gui-gtk-2.0/diplodlg.c, client/gui-gtk-2.0/mapctrl.c,
	client/gui-gtk-2.0/mapview.c, client/gui-gtk-2.0/menu.c,
	client/gui-gtk-2.0/messagedlg.c, client/gui-gtk-2.0/repodlgs.c:

	Sync with GTK+ client.

Sun Jun  9 17:19:49 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv:

	Bump version from 1.9.4 (beta) to 1.9.5-devel (beta).

Sun Jun  9 16:54:50 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.ac, configure.in:

	Second beta release (1.12.4) leading to version 1.13.0: - Changed
	version to 1.12.4 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Sun Jun  9 16:52:58 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv, po/da.po, po/de.po, po/en_GB.po,
	po/es.po, po/fi.po, po/fr.po, po/hu.po, po/it.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po,
	po/ru.po, po/sv.po:

	Second beta release (1.12.4) leading to version 1.13.0: - Changed
	version to 1.12.4 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Sun Jun  9 16:48:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/Makefile.am:

	Update EXTRA_DIST to reflect the current set of files.

Sun Jun  9 16:30:48 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_main.c, client/gui-gtk/gui_main.c:

	Added a comment. I hope people will not ask the same question
	again in the future.

Sun Jun  9 16:26:59 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/messagewin.c, client/gui-gtk-2.0/messagewin.c:

	Fix (PR#1529).

Sun Jun  9 15:12:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/README:

	Correct pointers to the translations of the doc directory.

	Patch from Christian Knoke <chrisk@enter.de>.

Sun Jun  9 15:10:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c, common/city.c, common/city.h,
	server/cityturn.c:

	The change from "Sat Jun 8 10:56:39 2002 (GMT)" causes a lot of
	unnecessary generic_city_refresh calls. Add a bool parameter which
	controls if the updating of the other traderoute cities is needed.
	The CMA for example don't need it. Also not all callers of
	city_refresh needs this but changing this isn't in the scope of
	this patch.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sun Jun  9 03:30:31 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/BUGS.de:

	BUGS.de updated

Sun Jun  9 03:19:50 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/INHALT:

	This file gives short descriptions of the German doc files. 
	Written by Christian Knoke <chrisk@enter.de> and changed by me.

Sun Jun  9 03:05:21 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/HOWTOPLAY.de:

	HOWTOPLAY.de updated by Christian Knoke <chrisk@enter.de>

Sun Jun  9 03:02:33 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Jun  8 23:24:41 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	update to introduce latest error messages like the one related to
	old save game

Sat Jun  8 22:18:04 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/it/README.cma.it:

	Translation of the README.cma file, preliminary version

Sat Jun  8 22:13:05 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	Some minor corrections related to use the same word for the
	translation of Happiness (Benessere), Celebrations (Celebrazioni),
	Rapture (Entusiamo)

Sat Jun  8 11:31:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, server/plrhand.c:

	Call update_all_effects if a new tech is found and so may make
	some building obsolete.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from Ben Webb
	<ben@bellatrix.pcl.ox.ac.uk> and me.

Sat Jun  8 11:08:34 2002  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	Update for the 1.12.3-devel release, added CMA and other stuff

Sat Jun  8 11:06:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/pl.po:

	pl.po updated. New version from Zbigniew Baniewski
	<zb@ispid.com.pl> and Mateusz Stefek <matusik_s@o2.pl>.

Sat Jun  8 11:00:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c:

	Send a city refresh packet if the worker allocations of the
	current city and the solution are the same but the production
	numbers don't match.

	Reported by Kenn Munro <kenn@cyberbeach.net>. Patch from me.

Sat Jun  8 10:56:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c:

	The cities at the other end of the traderoutes have to be updated
	if the tile_trade field of a city changes.

	Reported by Kenn Munro <kenn@cyberbeach.net>. Patch from me.

Sat Jun  8 10:50:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c:

	Fix a bug which only showed under Alpha and optimization.

	Reported by Davide Pagnin <nightmare@freeciv.it>. Patch from me.

Sat Jun  8 10:47:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/BUGS:

	Add: If you use the CMA the resulting savegame isn't endian and 64
	bit safe. So you can't use the savegame on a computer with a
	different architecture.

Sat Jun  8 10:46:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	- add _() around some strings - add a test for obsolete classic
	terrain ruleset - warn if different ruleset dirs are requested

Fri Jun  7 20:41:06 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	fixed a missing pointer check

Fri Jun  7 16:18:15 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/wldlg.c,
	client/gui-win32/wldlg.h:

	update worklists correctly when changing the improvement which is
	currently built.  Bug reported by anecdoter@aol.com. Patch by me

Fri Jun  7 16:14:57 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/helpdlg.c:

	corrected the units page in the help dialog

Fri Jun  7 16:11:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/agents.h:

	Add missing include.

Fri Jun  7 04:25:59 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/civclient.c, client/packhand.c, common/city.c,
	common/city.h, common/game.c, common/game.h, common/government.c,
	common/government.h, common/idex.c, common/idex.h,
	common/improvement.c, common/improvement.h, common/map.c,
	common/map.h, common/nation.c, common/nation.h, common/player.c,
	common/tech.c, common/tech.h, common/unittype.c,
	common/unittype.h, server/citytools.c, server/gamehand.c,
	server/ruleset.c, server/ruleset.h, server/savegame.c,
	server/srv_main.c:

	implement clean routines for alloc and dealloc of most dynamic
	structures.  fixes #1434 as well as some client memory leaks on
	server restart.

	#1434 reported by Daniel Speyer <dspeyer@users.sourceforge.net>
	Patch by Raimar Falke <rf13@inf.tu-dresden.de>

Thu Jun  6 22:50:07 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/README.1st.de:

	no longer needed

Thu Jun  6 22:47:05 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/INSTALL.de:

	INSTALL.de updated by Jens Georg <mail@jensgeorg.de>

Thu Jun  6 10:24:48 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Jun  6 10:22:45 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/LEESMIJ, doc/nl/TODO.nl:

	Added dutch TODO, changed LEESMIJ accordingly

Thu Jun  6 09:59:04 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/LEESMIJ:

	Added dutch introduction for the doc/nl directory

Thu Jun  6 09:40:25 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/BUGS.nl:

	Added dutch BUGS

Thu Jun  6 09:26:26 2002  Per I. Mathisen <per@leftist.net>:

	* server/stdinhand.c:

	Change "endgame" command from ALLOW_CTRL to ALLOW_HACK.

	Patch by Reinier Post <rp@win.tue.nl>

Thu Jun  6 09:13:14 2002  Per I. Mathisen <per@leftist.net>:

	* doc/BUGS:

	Add note to BUGS about the known bug about CMA and savegames:

	"Your CMA settings are only sent to the server when you press turn
	done, and therefore changes you make to CMA in the same turn as
	you save a game will be lost."

Thu Jun  6 07:34:57 2002  Per I. Mathisen <per@leftist.net>:

	* po/check_po.pl:

	Update check_po.pl script to work with plural translations.

	Patch by Davide Pagnin <nightmare@freeciv.it>

Thu Jun  6 07:26:05 2002  Per I. Mathisen <per@leftist.net>:

	* client/control.c:

	Fix focus bug introduced in allied transports patch.

	Reported by Christian Knoke <chrisk@enter.de> Patch by Karl-Ingo
	Friese <kif@informatik.uni-hannover.de>

Thu Jun  6 07:12:19 2002  Per I. Mathisen <per@leftist.net>:

	* doc/PEOPLE:

	Updated PEOPLE with new email addresses people have reported

Wed Jun  5 20:56:51 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/README.1st.de:

	README.1st.de upadted. Will be removed soon.

Wed Jun  5 20:40:03 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/BUGS.de:

	BUGS.de updated

Wed Jun  5 20:10:58 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/README.de:

	README.de updated

Wed Jun  5 19:42:51 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/NEWS.de:

	NEWS.de updated by Christian Knoke <chrisk@enter.de>

Wed Jun  5 02:31:53 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated. Patch by Christian Knoke <chrisk@enter.de>

Tue Jun  4 17:16:11 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/README.ja:

	Sync with 1.4.

Tue Jun  4 15:40:36 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2766t+17f+129u+32o.  Merge SUENAGA Yasuo's
	translation.

Tue Jun  4 11:02:52 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/README.rulesets.nl:

	Added dutch README.rulesets

Tue Jun  4 08:47:33 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/HOWTOPLAY.nl:

	Added dutch HOWTOPLAY

Mon Jun  3 21:32:39 2002  Per I. Mathisen <per@leftist.net>:

	* data/nation/latvian.ruleset:

	Updated Latvian nation. Update by Martins Untals
	<M.Untals@datapro.lv>

Mon Jun  3 11:46:47 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/README.cma.nl:

	Added dutch README.cma

Mon Jun  3 11:34:43 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl/README.nl:

	Added dutch README

Mon Jun  3 11:33:56 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* doc/nl:

	Directory /home/freeciv/CVS/freeciv/doc/nl added to the repository

Mon Jun  3 11:33:45 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jun  3 01:54:42 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Jun  2 18:22:50 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/civclient.c, client/options.c, client/options.h:

	create a load_ruleset_specific_options() and move the necessary
	code to it.  renamed load_options() to load_general_options().
	call it at client init.

	fixes 1499, 1509

	Reported by Christian Knoke <chrisk@enter.de>

Sun Jun  2 17:49:49 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cma_fe.c,
	client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/cma_fe.c:

	stop accelerators from conflicting with each other in the city
	dialog fixes 1486

	Reported by Kenn Munro <kenn@cyberbeach.net>

Sun Jun  2 10:27:20 2002  Per I. Mathisen <per@leftist.net>:

	* doc/BUGS, doc/PEOPLE:

	Add info on esound bug, minor update to PEOPLE

Sat Jun  1 22:16:36 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Jun  1 21:11:55 2002  Miguel Lobo <miguell@miguell.cjb.net>:

	* po/es.po:

	Updated Spanish translation

Sat Jun  1 20:22:59 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unithand.c:

	Notify the players about the other city so that they get the
	tile_trade value if a trade route gets established.

	Reported by Kenn Munro <kenn@cyberbeach.net>. Patch from me.

Sat Jun  1 20:03:56 2002  Per I. Mathisen <per@leftist.net>:

	* doc/PEOPLE:

	Update PEOPLE

Sat Jun  1 19:57:27 2002  Per I. Mathisen <per@leftist.net>:

	* data/nation/brazilian.ruleset, data/nation/dunedain.ruleset,
	data/nation/german.ruleset:

	Updated German, Dunedain and Brazilian nations.

	German and Dunedain updates by Niels Weber <nath@snafu.de>
	Brazilian update by Eduardo M Kalinowski <ekalin@bol.com.br>

Sat Jun  1 19:48:43 2002  Per I. Mathisen <per@leftist.net>:

	* po/POTFILES.in:

	Add extra files for translation. We need to remember to update
	po/POTFILES.in whenever we add new files to Freeciv!

	Patch by Davide Pagnin <nightmare@freeciv.it>

Sat Jun  1 19:43:30 2002  Per I. Mathisen <per@leftist.net>:

	* server/gotohand.c:

	Stop the possibility of using airplane goto for figuring out
	cities that are undefended without actually going there to unfog
	it.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>

Sat Jun  1 19:25:26 2002  Per I. Mathisen <per@leftist.net>:

	* common/player.c, common/unit.c, server/unittools.c:

	Ensure that client does not have information about invisible enemy
	units.  This closes a potential for cheating.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>

Sat Jun  1 19:05:51 2002  Per I. Mathisen <per@leftist.net>:

	* NEWS, data/default/nations.ruleset, doc/BUGS, doc/HACKING,
	doc/HOWTOPLAY, doc/PEOPLE, doc/README, doc/README.AI,
	doc/README.rulesets, doc/README.sound, doc/TODO:

	Updating release documentation

Sat Jun  1 18:55:04 2002  Per I. Mathisen <per@leftist.net>:

	* client/packhand.c:

	Fix bug in auto end turn when AI done local option. Patch by Ben
	Webb <ben@bellatrix.pcl.ox.ac.uk>

Thu May 30 16:16:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c:

	In a recent change a cma_release_city call was removed. Readded.

	Reported by Kenn Munro <kenn@cyberbeach.net>.

Thu May 30 09:09:53 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed May 29 22:01:40 2002  Per I. Mathisen <per@leftist.net>:

	* client/civclient.c:

	Fix "end turn when done" option.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>

Wed May 29 21:06:28 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* m4/glib-2.0.m4, m4/gtk-2.0.m4:

	Updated macro files to release 2.0.3.

Wed May 29 15:08:49 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c:

	If the leader name is edited and the nation changed no random
	leader will be selected

Wed May 29 12:53:27 2002  Per I. Mathisen <per@leftist.net>:

	* client/control.c:

	Ensure land units don't make move sounds while transported. Fixes
	PR#1496.

	Reported by Christian Knoke <chrisk@enter.de> Solution by Raimar
	Falke <rf13@inf.tu-dresden.de>

Tue May 28 22:39:11 2002  Per I. Mathisen <per@leftist.net>:

	* common/city.c:

	Fix potential overflow bug in angry citizens code. Patch by Davide
	Pagnin <nightmare@freeciv.it>

Tue May 28 22:33:38 2002  Per I. Mathisen <per@leftist.net>:

	* m4/gtk.m4:

	Add check for renamed gtk-config on FreeBSD. Patch by Reinier Post
	<rp@win.tue.nl>

Tue May 28 22:23:39 2002  Per I. Mathisen <per@leftist.net>:

	* common/player.h, client/gui-gtk/menu.c:

	Remove compile warnings (don't end an enum with a comma). Patch by
	Ben Webb <ben@bellatrix.pcl.ox.ac.uk>

Tue May 28 22:08:49 2002  Per I. Mathisen <per@leftist.net>:

	* common/unit.c, client/control.c, server/unittools.c:

	This patch solves bugs PR#1512 and PR#903 regarding transfer of
	transports between allied players.

	It adds the following changes: - you can move a unit on a
	transporter owned by ally - when ally transporter moves with your
	unit aboard, the map is unfogged but to avoid confusion there is
	no focus/center change - allied transports wont "autoboard" units
	sentried in your city to avoid
	"oh-sorry-i-didnt-knew-there-were-6-diplomats-there" situations.

	Patch by Karl-Ingo Friese <kif@informatik.uni-hannover.de>

Tue May 28 18:11:28 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Mon May 27 08:41:03 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon May 27 05:40:25 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/cityhand.c, server/unithand.c:

	audit the handle_* methods to assure that pplayer owns the
	city/unit/etc in question.

	patch by Raimar Falke <rf13@inf.tu-dresden.de>

Sun May 26 09:55:42 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c:

	Move create_event call after load_options so that the message
	specific options are loaded.

	Reported by Christian Knoke <chrisk@enter.de>. Patch from me.

Sat May 25 17:53:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/agents.c, client/agents/agents.h,
	client/civclient.c, client/control.c:

	Disable the turn done button if any agent (CMA for example) is
	busy.

	Reported from Kenn Munro <kenn@cyberbeach.net>. Patch from me.

Sat May 25 17:44:07 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c, client/attribute.c,
	client/civclient.c, client/civclient.h, client/climisc.c,
	client/clinet.c, common/astring.h, common/registry.c,
	common/sbuffer.c, common/shared.h, server/sernet.c,
	server/srv_main.c, server/srv_main.h, server/stdinhand.c:

	Make compiler at a 64bit system happy: - change generic pointers
	from char * to void * - add ADD_TO_POINTER to do calculations on
	void * (this isn't nice but solves the job) - add casts from
	size_t to int since sizeof(size_t)!= sizeof(int) on these systems

	Reported by Davide Pagnin <nigthmare@freeciv.it>. Patch from me.

Sat May 25 16:28:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_stuff.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c:

	Add macros INT_TO_XTPOINTER and XTPOINTER_TO_INT to cast between
	XtPointer and int. A simple cast isn't appropriate for systems
	where sizeof(pointer)!=sizeof(int).

	Reported by Davide Pagnin <nigthmare@freeciv.it>. Patch from me.

Sat May 25 15:05:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/control.c, client/gui-beos/dialogs.cpp,
	client/gui-gtk/dialogs.c, client/gui-gtk-2.0/dialogs.c,
	client/gui-stub/dialogs.c, client/gui-mui/dialogs.c,
	client/gui-win32/dialogs.c, client/include/dialogs_g.h,
	client/gui-xaw/dialogs.c:

	Second parameter to popup_pillage_dialog is not a bool as the name
	"may_pillage" may suggest. Change the call and the signature of
	the function to reflect this.

	Reported by Markus Büchele <Markus.Buechele@web.de>. Patch from
	Mike Kaufman <kaufman@orion.physics.wisc.edu> and me.

Sat May 25 14:55:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/ioz.c, common/support.c, common/support.h,
	server/stdinhand.c:

	Code expected always an existing file even if the file will be
	written and so created.

	Reported by Christian Knoke <chrisk@enter.de> and Kenn Munro
	<kenn@cyberbeach.net>. Patch from Reinier Post <rp@win.tue.nl>
	with changes from me.

Fri May 24 07:59:05 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/audio.c, client/packhand.c,
	server/plrhand.c:

	Change assert(pointer) to assert(pointer!=NULL) to make the
	compiler happy if sizeof(pointer)!=sizeof(int).

	Reported by <Davide Pagnin nigthmare@freeciv.it>. Patch from me.

Fri May 24 06:48:03 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri May 24 05:57:30 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	commit the worklist now when closing the city dialog Bug reported
	by Anecdoter@aol.com. Patch by me

Thu May 23 23:27:02 2002  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update.

Thu May 23 20:35:38 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/chatline.c:

	Makes log_output_window more similar to the other clients

Thu May 23 15:09:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, common/game.c, common/player.c,
	common/player.h, server/plrhand.c:

	Remember the size of the island_improv and island_effects arrays
	in the new field max_continent. Now player_free_island_imprs don't
	need the second parameter anymore. Now game_remove_player can call
	player_free_island_imprs. So client_remove_player can call
	game_remove_player.

Thu May 23 12:13:33 2002  Per I. Mathisen <per@leftist.net>:

	* common/ioz.c, common/support.c, common/support.h,
	server/srv_main.c, server/stdinhand.c, server/stdinhand.h:

	Stop server from crashing when given a directory name as script
	filename.  Fixes bug #449.

	Patch by Raimar Falke <hawk@b205a.wh8.tu-dresden.de> Bug reported
	by Marko Lindqvist <caz@cc.tut.fi>

Thu May 23 09:41:55 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu May 23 09:13:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/chatline.c, client/climisc.c, client/climisc.h,
	client/gui-mui/chatline.c, client/gui-gtk-2.0/chatline.c,
	client/gui-xaw/chatline.c:

	Create a new function to unify code which writes the chatline to a
	file.

	Check if the file could be opened at all.

	Reported by Niels Leander van Reijmersdal <quazion@atari.org>.
	Patch from me.

Thu May 23 08:27:31 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* autogen.sh:

	Messages about command line arguments of autogen.sh are now
	prefixed by "!". Don't display the "Now type make..." message if
	--help was provided.

	Patch from Per I. Mathisen <per@leftist.net>.

Thu May 23 08:18:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.ac, configure.in:

	The GTK2.0 client can now specified with the --enable-client
	option.

	Patch from Per I. Mathisen <per@leftist.net>.

Wed May 22 22:01:04 2002  Per I. Mathisen <per@leftist.net>:

	* INSTALL, acconfig.h, configure.ac, configure.in, m4/readline.m4,
	server/stdinhand.c, server/stdinhand.h:

	Create better readline test that makes older version of readline
	work and moves readline detection macro into m4/ directory.

	Patch by Davide Pagnin <nightmare@freeciv.it> with changes by me
	and Raimar.

Wed May 22 21:33:36 2002  Per I. Mathisen <per@leftist.net>:

	* doc/README.rulesets:

	Small update to doc/README.ruleset

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>

Wed May 22 21:16:06 2002  Per I. Mathisen <per@leftist.net>:

	* .cvsignore:

	Add some autoconf 2.52 junk files to .cvsignore

Wed May 22 06:58:53 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_main.c:

	The map window somehow got a negative size when minimizing it.
	Fixed.  Bug reported by  Samuel Villamonte
	<samuel_villamonte@yahoo.com>. Patch by me.

Wed May 22 00:37:23 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c, client/gui-gtk-2.0/gui_main.c:

	Explicitly convert to/from ISO-8859-1 instead of checking locale.

Wed May 22 00:34:48 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Minor update.

Tue May 21 16:14:06 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Tue May 21 10:39:30 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue May 21 10:36:27 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated by Christian Knoke <chrisk@enter.de>.

Tue May 21 03:01:33 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/savegame.c:

	update_research() must be called before we start unfogging areas
	(because of watchtower vision)

	Reported by Kenn Munro <kenn@cyberbeach.net>

Tue May 21 02:50:43 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/clinet.c:

	fix bug causing client to disconnect improperly.

	Reported by Kenn Munro <kenn@cyberbeach.net> Patch by Jason Short
	<jdorje@users.sourceforge.net>

Sun May 19 21:27:32 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/dialogs.c:

	Silenced warnings.

Sun May 19 21:19:00 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_main.c:

	Fix NULL pointer following bug.

Sun May 19 19:09:36 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/chatline.c, client/gui-win32/connectdlg.c,
	client/gui-win32/gui_main.c, client/gui-win32/resources.h:

	removed an unused include

Sun May 19 17:20:41 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Removed obsolete comment.

Sun May 19 15:59:31 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/shared.h:

	change MAX_LEN_ADDR to 256 to bring in line with RFC 1123 2.1 and
	stop server from truncating longer hostnames.  resolves #14 and
	#237

	Reported by Kevin Turner <Kevin.Turner@oberlin.edu> and Fabien
	Seisen <seisen@linuxfr.org> Patch by Raimar Falke
	<rf13@inf.tu-dresden.de>

Sun May 19 15:45:47 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/dialogs.c, client/gui-gtk-2.0/dialogs.c:

	changing nations in the choose nation dialog will not change the
	leader name if it has been edited to be a "unique" name.

	Report and initial patch by Karl-Ingo Friese
	<kif@informatik.uni-hannover.de>

Sat May 18 22:26:40 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c:

	Fixed two bugs: - the strings returned by the metaserver must be
	converted to UTF-8.  - it was impossible to select items from the
	metaserver list.

Fri May 17 22:47:59 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated. 55 translations missing.

Fri May 17 18:40:22 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv, configure.ac, configure.in:

	Bump version from 1.12.2 (beta) to 1.12.3-devel (beta).

Fri May 17 18:18:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/da.po, po/de.po, po/en_GB.po, po/es.po, po/fi.po, po/fr.po,
	po/hu.po, po/it.po, po/ja.po, po/nl.po, po/no.po, po/pl.po,
	po/pt.po, po/pt_BR.po, po/ro.po, po/ru.po, po/sv.po, configure.ac,
	configure.in:

	Begin beta-test period leading to version 1.13.0: - Changed
	version to 1.12.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Fri May 17 18:16:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/version.h, data/Freeciv:

	Begin beta-test period leading to version 1.13.0: - Changed
	version to 1.12.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Fri May 17 18:05:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/Makefile.am:

	Add files to EXTRA_DIST: - README.sound - de/README.1st.de -
	ja/BUGS.ja

Fri May 17 18:04:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* Makefile.am:

	Add files to EXTRA_DIST: - acconfig.h - configure.{in,ac} -
	amiga/Freeciv.start - debian/* - m4/* except m4/x.m4

Fri May 17 14:14:49 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/default/game.ruleset:

	Revert the tech_cost_style to the classical Freeciv style. Add
	info about the implications of the change.

	Patch from Per I. Mathisen <per@leftist.net>.

Fri May 17 14:11:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* autogen.sh:

	Cleanup of autogen.sh: - replace == (bash extension) with = -
	replace tab with two blanks - replace test with [ and ] - always
	define FC_USE_NEWAUTOCONF - add FC_AUTOCONF to print the warning
	message only if it is appropriate

	Reported by Andreas Kemnade <akemnade@informatik.uni-bremen.de>.
	Patch from me.

Fri May 17 06:21:16 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/audio.c, client/audio_winmm.c, client/civclient.c,
	common/support.c, server/sernet.c:

	silence some warnings when compiling for win32

Fri May 17 03:13:09 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/civserver.c, server/meta.c, server/srv_main.c,
	server/srv_main.h:

	remove --server option from serer as metaserver ignores this
	information add --info option to set extra "advertisement" info on
	the metaserver Resolves #1291

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> Reported by
	Matthias Wolle <ma_wo@gmx.de>

Thu May 16 20:08:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* autogen.sh:

	Add option --disable-autoconf2.52 to autogen.sh. Restore renamed
	files at the end.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Thu May 16 10:10:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk-2.0/gui_main.c, common/packets.c,
	common/packets.h:

	Add callbacks for getting and putting strings to and from the
	network. This allows the GTK2.0 client to convert all strings so
	that all strings in the client are in the UTF8 format as required
	by GTK2.0.

	Reported from Kimiko Koopman <kimiko@xs4all.nl>. Patch from Vasco
	Alexandre Da Silva Costa <vasc@rnl.ist.utl.pt> and me.

Wed May 15 12:25:22 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	Removed some unused things in the city_dialog struct

Tue May 14 21:10:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.ac:

	Update to configure.ac: - add defaults and descriptions to
	AC_DEFINE* - add missing AC_DEFINE

	Patch from Per I Mathisen <per@leftist.net>.

Tue May 14 21:03:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* autogen.sh:

	Move acconfig.h out of the way of autoconf > 2.13.

	Patch from Per I Mathisen <per@leftist.net>.

Tue May 14 19:40:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/audio.c, client/gui-gtk-2.0/gui_main.c, common/shared.c,
	server/mapgen.c, server/ruleset.c, server/stdinhand.c:

	Remove i18n from freelog calls which use LOG_VERBOSE or LOG_DEBUG.

Tue May 14 18:53:35 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.h:

	Move the PACKET_PROCESSING_STARTED and PACKET_PROCESSING_FINISHED
	from the end of the enum to the start. This breaks the network
	protocol in a way which can't be recovered by capabilities. This
	is the avoid situations like the one reported as (PR#1420).

	Detailed description of (PR#1420): an item
	(PACKET_PLAYER_WORKLIST) of the enum packet_type got removed. This
	changed the mapping of the enum name to its value of latter
	elements in the enum. Also a mandatory capability was added. If
	now an old client connects to the new server the server correctly
	recognize the missing mandatory capability and rejects the client.
	This produce this packet sequence: PACKET_PROCESSING_STARTED
	PACKET_JOIN_GAME_REPLY (containing the reject)
	PACKET_PROCESSING_FINISHED

	Unfortunately the value of PACKET_PROCESSING_STARTED is different
	between old client and new server. To prevent this the packets
	PACKET_PROCESSING_STARTED and PACKET_PROCESSING_FINISHED are moved
	to the top of the enum in the hope that no packets are added or
	removed in front of the two PACKET_PROCESSING_* packets.

	Reported by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no> as
	(PR#1420).

Mon May 13 16:29:28 2002  Per I. Mathisen <per@leftist.net>:

	* diff_ignore:

	Add depcomp, stamp-h1 and autom4te.cache (all nice new additions
	to the automess in autoconf 2.52) to diff_ignore

Mon May 13 11:18:06 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun May 12 17:03:11 2002  Per I. Mathisen <per@leftist.net>:

	* data/default/game.ruleset, data/default/governments.ruleset,
	data/civ2/governments.ruleset:

	Setting tech_chost_style to 1 in default ruleset (was 0).  Setting
	Communism food cost to 1 in default ruleset (was 2).  Setting
	Communism food cost to 2 in civ2 ruleset (was 1).

Sun May 12 16:54:25 2002  Per I. Mathisen <per@leftist.net>:

	* server/cityturn.c, server/unittools.c:

	Fixing freecost calculation. Was calculated from next research
	goal instead of current.

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de> Bug reported
	by Christian Knoke <ChrisK@enter.de>

Sat May 11 17:53:37 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c, client/gui-win32/mapctrl.c:

	Fixed various problems with the unit selection dialog.

Sat May 11 14:20:11 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c:

	Fixed a bug in the nation selection dialog

Sat May 11 11:35:41 2002  Miguel Lobo <miguell@miguell.cjb.net>:

	* po/es.po:

	Updated Spanish translation.

Fri May 10 01:43:28 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri May 10 01:11:53 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/dialogs.c, client/gui-gtk-2.0/dialogs.c:

	Gender toggle doesn't always jump back to male when the name field
	is edited.  Fixes PR#1419

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> Reported by Elke
	Moritz <moritz@unix-ag.uni-kl.de>

Wed May  8 19:10:48 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Wed May  8 15:40:37 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c:

	Added the unit page

Wed May  8 06:09:37 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/agents/agents.c, client/agents/agents.h,
	client/agents/cma_core.c, client/agents/cma_core.h:

	Add documentation to agents and cma core code.  Correct a bug that
	resulted from setting the max luxury to low.  Fixes PR#1409

	Patch by Raimar Falke <rf13@inf.tu-dresden.de> Reported by
	Alexander Wilkins <awilkins@stanford.edu>

Wed May  8 06:07:55 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/city.c, common/city.h:

	cleanup get_city_*_bonus and make public.

	Patch by Raimar Falke <rf13@inf.tu-dresden.de>

Wed May  8 05:36:41 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/stdinhand.c:

	Correct the help documentation for the maxplayers option.  Fixes
	PR#1418

	Patch by Thue <thue@diku.dk> Reported by Johnson Earls
	<darkfox@springhaven.org>

Tue May  7 22:34:36 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/helpdlg.c:

	Added type macro to silence compiler warning.

Tue May  7 19:05:49 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/chatline.c, client/gui-win32/gui_main.c:

	Bugfix: Now the log can be bigger than 32K and does not jam.

Tue May  7 07:40:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c, client/packhand.c, common/capstr.c,
	common/events.h, server/cityturn.c, server/diplhand.c,
	server/diplomats.c, server/plrhand.c, server/unittools.c:

	Cleanup of the events which are used to notify the client: -
	prepend description with a category to get a more consistent
	sorting - expand E_MY_DIPLOMAT to various E_MY_DIPLOMAT_* events -
	expand E_DIPLOMATED to various E_ENEMY_DIPLOMAT_* events - remove
	two client side event creations in packhand which are superfluous
	- reorder the events in enum event_type (required mandatory
	capability) - rename enums of enum event_type be be more
	consistent - add event types to various notify_player calls - add
	some new event types

	Patch from Per I. Mathisen <per@leftist.net> and Mike Kaufman
	<kaufman@orion.physics.wisc.edu>.

Tue May  7 07:25:14 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/messagedlg.c, client/gui-gtk/messagedlg.c,
	data/Freeciv:

	Change the layout of the message option dialog to use a scrollbar
	to descrease the size of the dialog.

	Patch from Mike Kaufman <kaufman@orion.physics.wisc.edu>.

Tue May  7 07:14:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c, client/options.h, client/gui-gtk/messagewin.c,
	client/gui-gtk-2.0/messagewin.c:

	Cleanup of meswin_list_callback: - replace int with bool - extract
	common code into new function is_city_event

	Patch from Mike Kaufman <kaufman@orion.physics.wisc.edu> and me.

Tue May  7 06:37:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* m4/.cvsignore, diff_ignore:

	Ignore m4/x.m4.

Mon May  6 21:23:30 2002  Per I. Mathisen <per@leftist.net>:

	* configure.ac:

	Removed hires and engels tilesets, and added isotrident tileset,
	in configure.ac

Mon May  6 20:34:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/optiondlg.c:

	Change code to remove messages of the form Warning: constraint
	loop detected while laying out child '...' in FormWidget '...'
	Small general cleanup of optiondlg.c.

	Patch from Mike Kaufman <kaufman@orion.physics.wisc.edu> with
	changes from me.

Mon May  6 12:24:21 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun May  5 13:03:59 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/gettext.c, amiga/smakefile, client/gui-mui/dialogs.c,
	client/gui-mui/repodlgs.c:

	Compilable again under AmigaOS

Sun May  5 12:34:56 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* m4/x.213, m4/x.252, m4/x.m4, INSTALL, autogen.sh, configure.ac:

	Add support for autoconf 2.52+.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Sat May  4 21:26:20 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/gettext.c:

	Auto convert the charset used or the russian language catalog to
	the charset used on amiga

Sat May  4 12:52:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/gui-gtk-2.0/citydlg.c:

	Add _() around two strings.

	Patch from Mateusz Stefek <matusik_s@o2.pl>.

Fri May  3 17:30:15 2002  Per I. Mathisen <per@leftist.net>:

	* doc/README.AI:

	New AI documentation

	Written by Per I. Mathisen <per@leftist.net>, Raahul Kumar
	<raahul_da_man@yahoo.com>, and Gregory Berkolaiko
	<Gregory.Berkolaiko@strath.ac.uk>

Fri May  3 17:12:04 2002  Per I. Mathisen <per@leftist.net>:

	* data/nation/argentine.ruleset, data/nation/catalan.ruleset,
	data/nation/chilean.ruleset, data/nation/spanish.ruleset:

	Improved Argentinian, Catalan, Chilean and Spanish nations.

	Changes by Miguel Farah <miguel@antonia.lj.cl>

Fri May  3 17:00:46 2002  Per I. Mathisen <per@leftist.net>:

	* data/nation/portuguese.ruleset:

	Improved Portugese nation.

	Changes by Eduardo M Kalinowski <ekalin@bol.com.br>

Fri May  3 16:35:08 2002  Per I. Mathisen <per@leftist.net>:

	* client/civclient.c:

	Change of autoconnect option so that the client does not
	repeatedly autoconnect to the same server. Fixes bug #971.

	Patch by Reinier Post <rp@win.tue.nl>

Fri May  3 16:30:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/hungarian.ruleset:

	Update hungarian.ruleset.

	Patch from Takacs Gabor <tg330@hszk.bme.hu>.

Fri May  3 16:19:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am:

	Add various audio_*.[ch] files to EXTRA_DIST.

	Patch from Jason Short <vze2zq63@verizon.net>.

Fri May  3 16:05:34 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/isotrident.tilespec:

	Remove executable bits.

Thu May  2 05:57:40 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* configure.in:

	hires->isotrident. for some odd reason 'cvs commit .' doesn't
	catch this file.

Thu May  2 05:46:26 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/tilespec.c, data/Makefile.am, data/hires.tilespec,
	data/isotrident.tilespec, data/hires/.cvsignore,
	data/hires/Makefile.am, data/hires/cities.spec,
	data/hires/cities.xpm, data/hires/icons.spec,
	data/hires/icons.xpm, data/hires/nuke.spec, data/hires/nuke.xpm,
	data/hires/terrain1.spec, data/hires/terrain1.xpm,
	data/hires/terrain2.spec, data/hires/terrain2.xpm,
	data/hires/tiles.spec, data/hires/units.spec,
	data/hires/units.xpm, data/isotrident/.cvsignore,
	data/isotrident/Makefile.am, data/isotrident/cities.spec,
	data/isotrident/cities.xpm, data/isotrident/flags.spec,
	data/isotrident/flags.xpm, data/isotrident/nuke.spec,
	data/isotrident/nuke.xpm, data/isotrident/small.spec,
	data/isotrident/small.xpm, data/isotrident/terrain1.spec,
	data/isotrident/terrain1.xpm, data/isotrident/terrain2.spec,
	data/isotrident/terrain2.xpm, data/isotrident/tiles.spec,
	data/isotrident/tiles.xpm, data/isotrident/units.spec,
	data/isotrident/units.xpm, doc/README:

	remove the hires tileset from the main distribution.  add the
	isotrident tileset and make it the default tileset.

	isotrident tileset by Daniel L Speyer <dspeyer@wam.umd.edu>

Thu May  2 05:40:52 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* data/isotrident:

	Directory /home/freeciv/CVS/freeciv/data/isotrident added to the
	repository

Thu May  2 05:06:03 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* configure.in:

	remove the engels tileset from the main distribution.

Thu May  2 04:58:44 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* data/Makefile.am, data/engels.tilespec,
	data/engels_shields.tilespec, data/engels/.cvsignore,
	data/engels/Makefile.am, data/engels/cities.spec,
	data/engels/cities.xpm, data/engels/explosions.spec,
	data/engels/explosions.xpm, data/engels/flags.spec,
	data/engels/flags.xpm, data/engels/roads.spec,
	data/engels/roads.xpm, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/engels/units.spec,
	data/engels/units.xpm:

	remove the engels tileset from the main distribution.

Wed May  1 08:15:46 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Apr 30 15:14:21 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* data/nation/latvian.ruleset:

	Update Latvian rulers.  Patch by Raimar Falke
	(rf13@mail.inf.tu-dresden.de), suggestion and data by
	M.Untals@datapro.lv.

Tue Apr 30 14:03:11 2002  Per I. Mathisen <per@leftist.net>:

	* server/ruleset.c:

	Make "river" in natural city names case insensitive.

	All other terrain names used in natural city names were already
	case insensitive.

Tue Apr 30 13:27:52 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Tue Apr 30 12:52:55 2002  Per I. Mathisen <per@leftist.net>:

	* common/game.c, common/game.h, common/nation.c, common/nation.h,
	data/nation/american.ruleset, data/nation/argentine.ruleset,
	data/nation/australian.ruleset, data/nation/boer.ruleset,
	data/nation/brazilian.ruleset, data/nation/canadian.ruleset,
	data/nation/catalan.ruleset, data/nation/chilean.ruleset,
	data/nation/cornish.ruleset, data/nation/danish.ruleset,
	data/nation/dutch.ruleset, data/nation/english.ruleset,
	data/nation/filipino.ruleset, data/nation/french.ruleset,
	data/nation/german.ruleset, data/nation/greek.ruleset,
	data/nation/irish.ruleset, data/nation/polish.ruleset,
	data/nation/roman.ruleset, data/nation/scottish.ruleset,
	data/nation/sioux.ruleset, data/nation/swedish.ruleset,
	data/nation/welsh.ruleset, server/citytools.c, server/citytools.h,
	server/ruleset.c, server/stdinhand.c:

	Natural city names code rewritten. Old natural city names ruleset
	data backed out, as the new natural city names code links cities
	to terrain in a very different way.

	Patch by Jason Short <jdorje@users.sourceforge.net>.

Sat Apr 27 13:31:16 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapview.c:

	corrected a map drawing bug. draw version string into the radar
	map like the other clients

Sat Apr 27 11:56:39 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapctrl.c:

	Bugfix: let the popit_popup (shift+mouse button) disappear at the
	right time Bug reported by Marco Tarini <tarini@iei.pi.cnr.it>

Sat Apr 27 06:43:52 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/mapctrl.c:

	formatting changes and group functions to make civworld more
	robust.  remove superfluous includes.

Sat Apr 27 06:03:35 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/control.c:

	group functions to make civworld more robust.

Sat Apr 27 03:58:37 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/climisc.c:

	add correctly formatted function comment headers.  move functions
	to make civworld more robust.

Fri Apr 26 14:49:29 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	Corrected the background color of the supported/present unit rows
	in the citydlg Bug reported by Marco Tarini <tarini@iei.pi.cnr.it>

Fri Apr 26 09:11:25 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Fri Apr 26 01:50:29 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Apr 25 21:39:07 2002  Per I. Mathisen <per@leftist.net>:

	* client/audio.c:

	An improvement on the previously committed sound fix patch.

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Thu Apr 25 18:00:48 2002  Per I. Mathisen <per@leftist.net>:

	* doc/PEOPLE:

	Adding myself to doc/PEOPLE.

Thu Apr 25 14:09:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/capstr.c, common/game.c, common/game.h, common/packets.c,
	server/gamehand.c, server/gamehand.h, server/savegame.c,
	server/sernet.c, server/srv_main.c, server/stdinhand.c:

	Allow more flexible timeouts. This feature is controlled with the
	server command "timeoutincrease". See update_timeout() for the
	technical details and an explanation of the formula.

	Extend the range of possible timeouts from 2^16 to 2^32 seconds.
	This makes it possible to have timeouts larger than 18 hours.

	Patch from Mike Kaufman <kaufman@orion.physics.wisc.edu>.

Thu Apr 25 13:41:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/stdinhand.c:

	Add a missing ! in cut_comment.

Thu Apr 25 12:47:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/shared.c:

	(windows only) If LANG is unset set it based on the system
	configuration.

	Patch from Andreas Kemnade <akemnade@informatik.uni-bremen.de>.

Thu Apr 25 12:44:01 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* acconfig.h, configure.in:

	Added sound support for the Windows client based on the Multimedia
	System.

	Patch from Andreas Kemnade <akemnade@informatik.uni-bremen.de>.

Thu Apr 25 12:32:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am, client/audio.c, client/audio_winmm.c,
	client/audio_winmm.h:

	Added sound support for the Windows client based on the Multimedia
	System.

	Patch from Andreas Kemnade <akemnade@informatik.uni-bremen.de>.

Wed Apr 24 05:04:04 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Tue Apr 23 22:51:23 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* client/audio.c, client/audio.h:

	Fix client startup abort when sounds spec file is missing.  Patch
	by Per Mathisen. (per@leftist.net)

Tue Apr 23 15:07:23 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2507t+16f+335u+16o.

Tue Apr 23 13:51:43 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/README.ja:

	Sync with 1.2.

Tue Apr 23 13:30:29 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/README.1st.de:

	README.1st.de added.  It gives a hint that the German docs have to
	be updated for the CVS version.  (At now they describe the last
	released version only.)

Tue Apr 23 08:04:33 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Apr 22 21:19:34 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* m4/lcmessage.m4, m4/progtest.m4:

	Add macros to support autogen for systems where gettext may not be
	installed or in a non-standard place.  Patch by Per Mathisen. 
	(per@leftist.net)

Mon Apr 22 20:06:20 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* doc/README.sound, client/audio.c, client/audio.h,
	client/audio_esd.c, client/audio_esd.h, client/audio_none.c,
	client/audio_none.h, client/audio_sdl.c, client/audio_sdl.h,
	m4/esd.m4, m4/sdl.m4:

	Adding new files for sound fixes.  Patch by Per Mathisen. 
	(per@leftist.net)

Mon Apr 22 20:01:39 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* acconfig.h, configure.in, diff_ignore:

	Commit patch to fix failure to compile due to sound support. 
	Patch by Per Mathisen. (per@leftist.net)

Sun Apr 21 14:40:14 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/Makefile.am, client/gui-win32/citydlg.c,
	client/gui-win32/happiness.c, client/gui-win32/happiness.h:

	added the happiness dialog

Sun Apr 21 10:46:18 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* doc/PEOPLE:

	updated my email address

Sat Apr 20 21:55:46 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Apr 20 18:11:30 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/wldlg.c,
	client/gui-win32/wldlg.h:

	Integrated the worklist, trade routes and config dialog into the
	city dialog

Thu Apr 18 09:59:18 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/capstr.c, common/events.h, common/improvement.h,
	common/packets.c, common/packets.h, common/unittype.h,
	data/civ1/buildings.ruleset, data/civ1/units.ruleset,
	data/civ2/buildings.ruleset, data/civ2/units.ruleset,
	data/default/buildings.ruleset, data/default/units.ruleset,
	server/plrhand.c, server/ruleset.c:

	Add sound support. See doc/README.sound for the details.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no> and me.

Thu Apr 18 09:37:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/README:

	Add freeciv-ai.

Thu Apr 18 09:32:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* autogen.sh:

	Disable NLS checks if --disable-nls was given. Work around echo
	command which doesn't understand -n.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no> with
	changes from me.

Wed Apr 17 02:35:16 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2408t+22f+417u+26o.

Tue Apr 16 13:47:19 2002  Sawada Katsuya <ama@petmail.net>:

	* doc/ja/BUGS.ja:

	Initial translation.

Tue Apr 16 04:26:07 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Tue Apr 16 03:15:27 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/combat.c:

	change the pearl harbor rules to make civ2 compliant.  attacker's
	firepower is now multiplied by 2.

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>

Tue Apr 16 03:01:08 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	replace a pair of one-letter variables with more understandable
	names in find_something_to_kill()

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>

Tue Apr 16 00:18:33 2002  anonymous freeciv cvs <>:

	* doc/PEOPLE:

	Updated Egbert Hinzen's address

Mon Apr 15 19:17:17 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/combat.c:

	Change the calculation of a (stealth) fighter attacking a
	helicopter to follow Civ2.

	Patch from Raahul Kumar <raahul_da_man@yahoo.com>.

Mon Apr 15 18:50:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	Correct the order of the parameters of a notify_player_ex call.

	Reported and patch from SAWADA Katsuya <ama@petmail.net>.

Mon Apr 15 15:38:39 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Apr 15 07:24:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* .cvsignore:

	Add autogen.sh which creates files which were previously included
	in the CVS tree. Remove these files from the CVS. Update the
	requirements for the CVS version. Split local macros and put them
	in m4/.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Mon Apr 15 01:14:44 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated. Email adresses changed.

Sun Apr 14 18:32:09 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/connectdlg.c:

	Fixed a buffer overflow in the server pipeline handling.  Reported
	by Thomas van Kooten <thomas@worldonline.nl>

Sat Apr 13 13:59:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/.cvsignore, client/agents/.cvsignore, client/.cvsignore,
	client/gui-gtk/.cvsignore, client/gui-gtk-2.0/.cvsignore,
	client/gui-stub/.cvsignore, client/gui-win32/.cvsignore,
	client/gui-xaw/.cvsignore, client/include/.cvsignore,
	common/.cvsignore, data/civ1/.cvsignore, data/.cvsignore,
	data/default/.cvsignore, data/civ2/.cvsignore,
	data/engels/.cvsignore, data/hires/.cvsignore,
	data/misc/.cvsignore, data/nation/.cvsignore,
	data/scenario/.cvsignore, data/trident/.cvsignore, doc/.cvsignore,
	server/.cvsignore, .cvsignore, acinclude.m4, aclocal.m4,
	configure:

	Add autogen.sh which creates files which were previously included
	in the CVS tree. Remove these files from the CVS. Update the
	requirements for the CVS version. Split local macros and put them
	in m4/.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Sat Apr 13 13:51:29 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/Makefile.in, client/Makefile.in, client/agents/Makefile.in,
	client/gui-gtk-2.0/Makefile.in, client/gui-gtk/Makefile.in,
	client/gui-stub/Makefile.in, client/gui-win32/Makefile.in,
	client/include/Makefile.in, client/gui-xaw/Makefile.in,
	common/Makefile.in, data/Makefile.in, data/civ1/Makefile.in,
	data/civ2/Makefile.in, data/default/Makefile.in,
	data/hires/Makefile.in, data/engels/Makefile.in,
	data/misc/Makefile.in, data/nation/Makefile.in,
	data/scenario/Makefile.in, data/trident/Makefile.in,
	doc/Makefile.in, m4/ac_path_lib.m4, m4/gettext.m4, m4/glib-2.0.m4,
	m4/glib-gettext.m4, m4/glib.m4, m4/glibc.m4, m4/gtk-2.0.m4,
	m4/gtk.m4, m4/iconv.m4, m4/imlib.m4, m4/langinfo.m4,
	m4/ngettext.m4, m4/posix.m4, m4/readline.m4, m4/vsnprintf.m4,
	m4/x.m4, server/Makefile.in, INSTALL, Makefile.in, autogen.sh,
	config.h.in, diff_ignore:

	Add autogen.sh which creates files which were previously included
	in the CVS tree. Remove these files from the CVS. Update the
	requirements for the CVS version. Split local macros and put them
	in m4/.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Sat Apr 13 13:44:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* m4:

	Directory /home/freeciv/CVS/freeciv/m4 added to the repository

Sat Apr 13 09:52:33 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/de/README.de:

	README.de updated

Fri Apr 12 15:42:43 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/connectdlg.c:

	handle the WM_DESTROY message in the server window in a clean way

Fri Apr 12 15:40:12 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.h:

	Cleanup child windows more safely

Fri Apr 12 15:33:12 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	call genlist_unlink when WM_DESTROY is reveived

Fri Apr 12 15:30:32 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.c:

	Cleanup child windows more safely

Fri Apr 12 13:50:55 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aitools.h, client/attribute.h, client/citydlg_common.h,
	client/mapview_common.h, client/include/cityrep_g.h,
	client/include/mapctrl_g.h, client/include/repodlgs_g.h,
	common/astring.h, common/inputfile.h, common/rand.h,
	common/registry.h, common/sbuffer.h, common/spaceship.h,
	common/timing.h, common/unit.h, server/cityturn.h,
	server/console.h, server/meta.h, server/report.h,
	server/rulesout.h:

	Add missing includes.

Thu Apr 11 10:44:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/BUGS.de, doc/BUGS.sv, doc/HOWTOPLAY.de, doc/HOWTOPLAY.fr,
	doc/HOWTOPLAY.it, doc/HOWTOPLAY.ja, doc/HOWTOPLAY.sv,
	doc/INSTALL.de, doc/INSTALL.debian.de, doc/INSTALL.fr,
	doc/INSTALL.it, doc/Makefile.am, doc/NEWS.de, doc/NEWS.ja,
	doc/README.cma.de, doc/README.de, doc/README.fr, doc/README.it,
	doc/README.ja, doc/README.rulesets.de, doc/README.sv,
	doc/de/BUGS.de, doc/de/HOWTOPLAY.de, doc/de/INSTALL.de,
	doc/de/INSTALL.debian.de, doc/de/NEWS.de, doc/de/README.cma.de,
	doc/de/README.de, doc/de/README.rulesets.de, doc/fr/HOWTOPLAY.fr,
	doc/fr/INSTALL.fr, doc/fr/README.fr, doc/it/HOWTOPLAY.it,
	doc/it/INSTALL.it, doc/it/README.it, doc/ja/HOWTOPLAY.ja,
	doc/ja/NEWS.ja, doc/ja/README.ja, doc/sv/BUGS.sv,
	doc/sv/HOWTOPLAY.sv, doc/sv/README.sv:

	Move translated documentation files into the corresponding
	language directories.

Thu Apr 11 10:33:59 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/ja:

	Directory /home/freeciv/CVS/freeciv/doc/ja added to the repository

Thu Apr 11 10:33:58 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/it:

	Directory /home/freeciv/CVS/freeciv/doc/it added to the repository

Thu Apr 11 10:33:57 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/sv:

	Directory /home/freeciv/CVS/freeciv/doc/sv added to the repository

Thu Apr 11 10:33:57 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/fr:

	Directory /home/freeciv/CVS/freeciv/doc/fr added to the repository

Thu Apr 11 10:33:56 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/de:

	Directory /home/freeciv/CVS/freeciv/doc/de added to the repository

Thu Apr 11 10:32:18 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* doc/BUGS, doc/CodingStyle, doc/HACKING, doc/HOWTOPLAY,
	doc/Makefile.am, doc/PEOPLE, doc/README, doc/README.AI,
	doc/README.agents, doc/README.attributes, doc/README.cma,
	doc/README.graphics, doc/README.rulesets, doc/TODO, BUGS,
	HOWTOPLAY, Makefile.am, PEOPLE, README, README.AI, README.agents,
	README.attributes, README.cma, README.coding_style,
	README.graphics, README.rulesets, TODO, freeciv_hackers_guide.txt:

	Move BUGS, HOWTOPLAY, PEOPLE, TODO to doc.  Move
	README.coding_style to doc/CodingStyle.  Move
	freeciv_hackers_guide.txt to doc/HACKING Move the other README
	files to doc.  Put a pointer to doc/ into README.

Thu Apr 11 10:18:25 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* AUTHORS:

	Shorten AUTHORS.

Thu Apr 11 10:14:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* debian/INSTALL.debian, debian/build.debian, INSTALL.debian,
	build.debian:

	Move INSTALL.debian and build.debian into the debian
	sub-directory.

Wed Apr 10 08:59:04 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2278+88f+477u+29o.

Tue Apr  9 18:06:22 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* acinclude.m4, aclocal.m4, configure:

	Remove the setenv usage in the ngettext test.

	Reported by Reinier Post <rp@win.tue.nl>.

Tue Apr  9 15:16:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/cma_fe.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/repodlgs.c:

	Replace "(gint)" with GPOINTER_TO_INT and "(gpointer)" with
	GINT_TO_POINTER.

	Patch from Ben Webb <ben@bellatrix.pcl.ox.ac.uk>.

Tue Apr  9 14:14:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aitools.c,
	ai/aitools.h:

	Add function init_choice to encapsulate common code.

Tue Apr  9 14:10:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c:

	Really call unqueue_mapview_update.

	Reported by Reinier Post <rp@win.tue.nl>.

Tue Apr  9 03:48:26 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/plrhand.c:

	techs were not being marked as accessible in init_tech so we
	couldn't get more than 7 techs when settting techlevel

	Reported by Raahul Kumar <raahul_da_man@yahoo.com>

Sat Apr  6 20:03:07 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated. 29 untranslated strings.

Sat Apr  6 11:42:57 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, client/tilespec.h:

	Add support for the back of a fortress. This allows it to draw a
	full 4 corner fortress.

	Patch from Daniel L Speyer <dspeyer@wam.umd.edu>.

Sat Apr  6 11:02:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/shared.c:

	Issue a warning and use the default path if FREECIV_PATH is set to
	the empty string.

	Reported and patch from Steven Taschuk <staschuk@telusplanet.net>.

Sat Apr  6 10:58:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c:

	Cleanup update_tech to handle the case where more bulbs are
	researched than the tech costs.

	Remove the limit where you could only get as many techs per turn
	as you have cities.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no> with
	changes from me.

Sat Apr  6 10:52:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, server/unittools.c:

	Use the return value of do_unit_goto and goto_route_execute
	instead of testing the existence of the unit with find_unit_by_id.

	Patch from Gregory Berkolaiko <gberkolaiko@yahoo.co.uk> with
	changes from me.

Sat Apr  6 10:44:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c, server/cityturn.c, server/diplhand.c,
	server/diplomats.c, server/plrhand.c, server/spacerace.c,
	server/srv_main.c, server/unittools.c:

	Mark all fixed gamelog format strings as to be translated.

Sat Apr  6 05:48:17 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/savegame.c:

	move update_research before unit activity check in the player
	consistency check. This had caused a bug where settlers laying
	rail were getting idled because the player's tech hadn't been
	updated to include the railroad prereq.

Sat Apr  6 00:40:18 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/cityrep.c:

	fix bug: Supported units, Present units and Improvements in city
	were disabled if no city was selected.

Sat Apr  6 00:07:11 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* data/default/units.ruleset:

	fix compile warning caused by errant apostrophe

	reported by Egbert Hinzen <garfy@ehinzen.de>

Fri Apr  5 14:52:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/spacerace.c:

	Add a gamelog message if the game ends because of the spacerace.

Fri Apr  5 14:35:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/spacerace.c:

	Add a gamelog message if the game ends because of the spacerace.

Fri Apr  5 05:56:43 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/civclient.c, client/options.c, client/packhand.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/wldlg.c,
	client/gui-mui/gui_main.c, client/gui-mui/wldlg.c,
	client/gui-win32/gui_main.c, client/gui-win32/wldlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/wldlg.c,
	common/capstr.c, common/packets.c, common/packets.h,
	common/player.c, server/plrhand.c, server/plrhand.h,
	server/savegame.c, server/srv_main.c:

	remove global worklists from the server and savegames.  global
	worklists are now maintained client-side.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu>

Fri Apr  5 05:32:48 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/registry.c:

	section_file_check_unused now uses LOG_VERBOSE instead of
	LOG_NORMAL

Fri Apr  5 05:25:38 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c, common/unit.c:

	move asserts after freelogs, formatting changes in unit_move_turns
	and unit_move_rate.

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>

Thu Apr  4 18:53:29 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c, server/plrhand.c:

	Remove unused CITIES_PROVIDE_RESEARCH which gave one science bulb
	for every city.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no> with
	changes from me.

Thu Apr  4 16:21:17 2002  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	update

Thu Apr  4 12:12:44 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapctrl.c:

	Fixed a keyboard focus bug.

Thu Apr  4 03:51:04 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advmilitary.c, ai/aitools.c, ai/aiunit.c, common/combat.c,
	common/player.c, server/barbarian.c, server/plrhand.c,
	server/plrhand.h, server/savegame.c, server/settlers.c,
	server/stdinhand.c, server/unittools.c:

	AI diplomacy preparation patch. add checks for allied or enemy
	players/tiles instead of just self or an owned tile.  Remove
	DS_WAR hack on game load.

	Patch by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>

Wed Apr  3 17:20:54 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Apr  3 14:29:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/POTFILES.in:

	Remove data/classic/terrain.ruleset which is no longer existing.

	Reported by Egbert Hinzen <garfy@ehinzen.de>.

Wed Apr  3 05:51:40 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	change a couple of magic numbers to SINGLE_MOVE

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>

Tue Apr  2 19:29:13 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_main.c, client/gui-win32/mapview.c,
	client/gui-win32/mapview.h:

	fixed some redrawing problems

Tue Apr  2 19:27:57 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/graphics.c, client/gui-win32/graphics.h:

	Added a primitive caching mechanism (caches the results of
	BITMAP2HBITMAP) to speedup drawing.

Mon Apr  1 23:03:21 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/helpdlg.c:

	Changed topic widget to a GtkTreeView instead of a CList.  Changed
	style a bit.

Sat Mar 30 04:11:07 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* diff_ignore:

	added *.sav.gz to diff_ignore

Sat Mar 30 04:08:00 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/cityturn.c, server/plrhand.c:

	Darwin's Voyage now pays attention to game.freecost

Sat Mar 30 03:41:29 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/cityturn.c:

	Darwin's Voyage now upgrades techs for free.

Sat Mar 30 02:43:52 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* data/civ1/buildings.ruleset, data/civ1/game.ruleset,
	data/civ1/governments.ruleset, data/civ1/nations.ruleset,
	data/civ1/techs.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/buildings.ruleset,
	data/civ2/game.ruleset, data/civ2/governments.ruleset,
	data/civ2/techs.ruleset, data/civ2/terrain.ruleset,
	data/civ2/units.ruleset, data/default/buildings.ruleset,
	data/default/cities.ruleset, data/default/game.ruleset,
	data/default/governments.ruleset, data/default/nations.ruleset,
	data/default/techs.ruleset, data/default/terrain.ruleset,
	data/default/units.ruleset:

	update rulesets to reflect the new "rulesetdir" command

	Patch by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>

Fri Mar 29 22:47:34 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	add a call to kill_desire and comments in find_something_to_kill()

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>

Fri Mar 29 21:50:19 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/unittype.h, data/default/units.ruleset:

	add documentation to units.ruleset

	Patch by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>

Fri Mar 29 06:39:51 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advattitude.c, ai/advforeign.c, ai/advleader.c,
	ai/advmilitary.c, ai/advscience.c, ai/advtrade.c, ai/aicity.c,
	ai/aihand.c, ai/aitech.c, ai/aitools.c, ai/aiunit.c:

	remove cruft and add comment headers to ai functions so we can now
	find them.

	Patch by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>

Fri Mar 29 05:51:25 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	cleanup unit_move_turns() behavior is unchanged

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>

Fri Mar 29 05:50:32 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/unit.c:

	cleanup unit_move_rate() behavior is unchanged

	Patch by Raahul Kumar <raahul_da_man@yahoo.com>

Sun Mar 24 22:18:13 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	fix serious oversight that causes AI to not build military units.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>

Sun Mar 24 01:36:38 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/mapctrl.c:

	Sync up with GTK+ client.

Sun Mar 24 01:25:50 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/gui_main.c:

	Changed client_string to "gui-gtk-2.0".

Sun Mar 24 01:12:29 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c, data/freeciv.rc-2.0:

	Changed menus of city report dialog.  They should now be faster,
	and use less screen real estate.

Sun Mar 24 00:45:16 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/mapctrl.c:

	And debugging to the gtk client so the popup displays the tile
	coordinates.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>

Sun Mar 24 00:38:28 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* data/classic/.cvsignore:

	remove .cvsignore

Sat Mar 23 19:45:58 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* undep.sh.in:

	Update to move CVS deps from client/agents, allowing Solaris tools
	to compile properly.  Patch by Reinier Post (rp@win.tue.nl).

Sat Mar 23 19:05:28 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* Makefile.in, aclocal.m4, config.h.in, configure, configure.in,
	client/Makefile.am, client/Makefile.in, ai/Makefile.in,
	client/agents/Makefile.in, client/gui-gtk/Makefile.in,
	client/gui-gtk-2.0/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, data/Makefile.am, data/Makefile.in,
	common/Makefile.in, data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/engels/Makefile.in, data/default/Makefile.in,
	data/hires/Makefile.in, data/misc/Makefile.in,
	data/scenario/Makefile.in, data/nation/Makefile.in,
	data/trident/Makefile.in, doc/Makefile.in, server/Makefile.in:

	Modified configure.in to support the GTK+ 2.0 client.  Ran
	aclocal; autoheader; autoconf; automake.

Sat Mar 23 18:01:50 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/Makefile:

	Removed generated Makefile.

Sat Mar 23 12:34:45 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/repodlgs.c:

	added a missing include

Fri Mar 22 22:30:15 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/cityrep.c:

	rework change menu so that units/improvements/wonders have their
	own submenus. add additional selection mechanism so that the user
	can select all cities that are currently building units,
	improvements, or wonders.  remove refresh button and move the
	change all button into the Change menu.

	Patch by Mike Kaufman <kaufman@orion.physics.wisc.edu> with
	additional work by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Thu Mar 21 20:57:30 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, ai/aiunit.c, ai/aiunit.h,
	server/ruleset.c:

	The results of the is_ai_simple_military function only depend on
	the ruleset. These results can be calculated and cached after the
	unit ruleset is read in. Also constructs like
	"unit_type_iterate(i) { if(!is_ai_simple_military(i)) continue;"
	are replaced with "simple_ai_unit_type_iterate".

Thu Mar 21 20:46:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c:

	Update all cities if the player got a tech which affects
	happiness.

	Send all player an updated info of the owner of the Marco Polo
	Wonder if this wonder has become obsolete.

	Should fix two bugs reported by Christian Knoke <ChrisK@enter.de>
	as PR#792 and PR#858.

Thu Mar 21 20:35:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/packhand.c, client/packhand.h,
	client/gui-gtk/dialogs.c, client/gui-mui/dialogs.c,
	client/gui-gtk-2.0/dialogs.c, client/gui-win32/dialogs.c,
	client/gui-xaw/dialogs.c, client/include/dialogs_g.h,
	server/srv_main.c, common/capstr.c, common/packets.c,
	common/packets.h, common/packets_lsend.c, common/packets_lsend.h:

	Change the way allocation nations are transmitted. Instead of two
	32bit ints (allowing 64 nations) the server transmittes now a list
	of all yet allocated nations. Nations in this list are identified
	by a 16bit wide number allowing 2^16 = 65536 nations.

	If a players choice was accepted previously the server sent a
	packet where the second integer had the value 0xffff. The server
	now sends an empty PACKET_SELECT_NATION_OK packet.

Thu Mar 21 20:22:34 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, common/packets.c:

	The field attribute_block wasn't initialized except in one case.
	send_packet_player_request has enough information to do this by
	itself.

Thu Mar 21 19:40:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure:

	Run autoconf.

Thu Mar 21 19:39:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.in:

	Remove data/classic/Makefile

Thu Mar 21 05:30:14 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/Makefile.in, client/agents/Makefile.in, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/gui-xaw/Makefile.in,
	common/Makefile.in, client/include/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/default/Makefile.in,
	data/civ2/Makefile.in, data/engels/Makefile.in,
	data/hires/Makefile.in, data/misc/Makefile.in,
	data/nation/Makefile.in, data/scenario/Makefile.in,
	doc/Makefile.in, data/trident/Makefile.in, server/Makefile.in:

	ran automake

Thu Mar 21 05:20:06 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* data/classic/Makefile.am, data/classic/Makefile.in,
	data/classic/terrain.ruleset:

	remove data/classic

Thu Mar 21 05:17:23 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* common/game.c, common/game.h, common/government.c,
	common/shared.c, data/Makefile.am, data/civ1.serv, data/civ2.serv,
	server/ruleset.c, server/ruleset.h, server/savegame.c,
	server/srv_main.c, server/stdinhand.c:

	merge ruleset loading options into a single command "rulesetdir"
	which takes as its argument the directory in which the rulesets
	can be found.  also remove pre-1.9.0 savegame
	backwards-compatibility. This will require the removal of the
	"classic" ruleset.

	Patch by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>

Wed Mar 20 22:20:20 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Fixed bug when using the select menu when there are no cities
	built.

Tue Mar 19 16:32:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c:

	Fix a stupid mistake where a "1" was replaced with "FALSE".

Tue Mar 19 15:48:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c, client/mapview_common.c,
	client/mapview_common.h, client/packhand.c:

	Change the way updates of the map canvas are made. Previously a
	redraw was caused for every incoming city_info packets (if the map
	grid is drawn) or after one second (to avoid many redraws if a lot
	of city_info packets are received in a short time). The new schema
	remembers if the map canvas needs an update and does this update
	after all packets are processed.

	Patch from Jason Short <vze2zq63@verizon.net> and me.

Tue Mar 19 12:30:33 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	updated nl.po

Mon Mar 18 19:38:01 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Mon Mar 18 01:49:37 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
	client/gui-gtk/menu.c, client/control.c, client/helpdata.c,
	client/packhand.c, client/gui-gtk-2.0/menu.c, common/unit.c,
	common/unittype.c, common/unittype.h, data/civ1/units.ruleset,
	data/default/units.ruleset, data/civ2/units.ruleset,
	server/unithand.c:

	separate the F_CARAVAN flag into two separate flags: F_HELP_WONDER
	and F_TRADE_ROUTE

	Patch by Gregor Zeitlinger <zeitling@informatik.hu-berlin.de>

Sun Mar 17 19:54:18 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Mar 17 14:07:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unittools.c:

	Cleanup of hug_get_tech: - include the name of the advance in the
	message - unify the message generating code - translate the
	gamelog message - change type of new_tech from int to Tech_Type_id

	Reported by Christian Knoke <chrisk@enter.de>. Patch from Per I.
	Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Sun Mar 17 11:12:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.in:

	Run automake and autoconf.

Sun Mar 17 11:07:18 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am, client/repodlgs_common.c,
	client/repodlgs_common.h, client/gui-gtk/repodlgs.c,
	client/gui-gtk-2.0/repodlgs.c, client/gui-stub/repodlgs.c,
	client/gui-mui/repodlgs.c, client/gui-win32/repodlgs.c,
	client/gui-xaw/repodlgs.c:

	Move code which is shared by all economy_report_dialog_update
	functions into a new function get_economy_report_data which is
	placed in a new file client/repodlgs_common.[ch].

	Move city_list_iterate out of the impr_type_iterate to yield the
	correct total income.

	Reported by Christian Knoke <chrisk@enter.de>. Initial patch from
	Jason Short <vze2zq63@verizon.net>. Final patch from me.

Sun Mar 17 10:48:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/cityrepdata.c, client/cityrepdata.h, client/civclient.c,
	client/climisc.c, client/climisc.h, client/options.c,
	client/gui-beos/citydlg.cpp, client/gui-beos/cityrep.cpp,
	client/gui-beos/dialogs.cpp, client/gui-beos/mapctrl.cpp,
	client/gui-beos/mapview.cpp, client/gui-beos/repodlgs.cpp,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/wldlg.c,
	client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/dialogs.c, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/mapctrl.c, client/gui-gtk-2.0/mapview.c,
	client/gui-gtk-2.0/repodlgs.c, client/gui-gtk-2.0/wldlg.c,
	client/gui-mui/citydlg.c, client/gui-mui/cityrep.c,
	client/gui-mui/dialogs.c, client/gui-mui/graphics.c,
	client/gui-mui/graphics.h, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapctrl.c,
	client/gui-mui/mapview.c, client/gui-mui/repodlgs.c,
	client/gui-mui/worklistclass.c, client/gui-stub/citydlg.c,
	client/gui-stub/cityrep.c, client/gui-stub/dialogs.c,
	client/gui-stub/gui_main.c, client/gui-stub/mapctrl.c,
	client/gui-stub/mapview.c, client/gui-stub/repodlgs.c,
	client/gui-win32/citydlg.c, client/gui-win32/dialogs.c,
	client/gui-win32/mapctrl.c, client/gui-win32/mapview.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/wldlg.c,
	client/include/dialogs_g.h, common/packets.c, common/packets.h:

	Bool cleanup of client/: replace int and gboolean with bool.
	Replace o with FALSE. Replace 1 with TRUE.

Sun Mar 17 10:38:43 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/mapview.c:

	Remove unused variable force_full_repaint.

Sun Mar 17 09:40:05 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/civclient.h, client/packhand.c:

	Remove unused variable did_advance_tech_this_turn.

Sun Mar 17 09:20:15 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, common/city.c:

	Replace floating point multiplications of 1.5 with integer
	construct. Move common code of assess_defense_quadratic and
	assess_defense_unit into new function base_assess_defense_unit.

	Patch from Markus Linnala <maage@cs.tut.fi> and me.

Sun Mar 17 09:11:52 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/control.c, client/control.h, common/packets.c,
	common/packets.h, common/unit.c, common/unit.h, server/savegame.c,
	server/unithand.c, server/unithand.h, server/unittools.c:

	Replace 0 with S_NO_SPECIAL. Replace int with enum
	tile_special_type.

	Patch from Markus Linnala <maage@cs.tut.fi> and me.

Sat Mar 16 10:46:29 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/cityrep.c:

	bool cleanup

Sat Mar 16 10:25:47 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/dialogs.c,
	client/gui-win32/gui_main.c, client/gui-win32/mapctrl.c,
	client/gui-win32/mapview.c, client/gui-win32/repodlgs.c,
	client/gui-win32/wldlg.c:

	bool cleanup

Sat Mar 16 10:23:54 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/optiondlg.c:

	added a missing include

Sat Mar 16 10:21:57 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.c, client/gui-win32/gui_stuff.h:

	bool cleanup, change some char * to const char *

Sat Mar 16 02:35:16 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Mar 16 01:48:13 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Changed look of menus in city report dialog.

Sat Mar 16 00:48:18 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/connectdlg.c:

	Minor tweak to dialog.

Fri Mar 15 17:39:42 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri Mar 15 09:33:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/stdinhand.c:

	Cleanup of stdinhand.c: - add a type (enum sset_type) to each
	setting. This makes SETTING_IS_* obsolete.  - clone the int values
	(default_value, func_change, value) for boolean settings - rename
	fields of struct settings_s in a consistent way.  - use macros
	(GEN_*) to generate the settings array - remove GAME_MIN_* and
	GAME_MAX_* for bool values - replace some ints with bools

Fri Mar 15 09:08:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.h, server/stdinhand.c:

	Cleanup of stdinhand.c: - add a type (enum sset_type) to each
	setting. This makes SETTING_IS_* obsolete.  - clone the int values
	(default_value, func_change, value) for boolean settings - rename
	fields of struct settings_s in a consistent way.  - use macros
	(GEN_*) to generate the settings array - remove GAME_MIN_* and
	GAME_MAX_* for bool values - replace some ints with bools

Fri Mar 15 08:58:34 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.h:

	Change type of game.scorelog from int to bool.

Fri Mar 15 03:09:07 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/dialogs.c, client/gui-gtk-2.0/finddlg.c,
	client/gui-gtk-2.0/gamedlgs.c, client/gui-gtk-2.0/messagedlg.c,
	client/gui-gtk-2.0/repodlgs.c:

	Restyled science dialog.  Tweaked several dialogs.

Fri Mar 15 01:12:18 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Ported CMA select code.

Fri Mar 15 00:46:46 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Ported selection of cities in the same continent.

Fri Mar 15 00:24:27 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/gamedlgs.c:

	Sync up with GTK+ client.

Fri Mar 15 00:01:32 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c:

	Optimized first popup of the city report dialog.

Thu Mar 14 20:41:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/citydlg_common.c, client/citydlg_common.h,
	client/gui-xaw/citydlg.c:

	Move code which formats possible building targets from
	client/gui-xaw/citydlg.c to client/citydlg_common into new
	function get_city_dialog_production_full.

	Patch from Jason Short <vze2zq63@verizon.net>.

Thu Mar 14 19:56:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, common/city.c, common/city.h:

	Move code which calculates the turns which a city needs to grow
	from client/gui-gtk/citydlg.c to common/city into a new function
	city_turns_to_grow.

	Patch from Jason Short <vze2zq63@verizon.net> with changes from
	me.

Thu Mar 14 04:54:24 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/options.c:

	fix BOOL <-> INT mismatch thinko

Wed Mar 13 19:56:44 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c, client/gui-win32/ratesdlg.c,
	client/gui-win32/repodlgs.c, client/gui-win32/wldlg.c:

	changed some dialogs so that they use groupboxes

Wed Mar 13 19:53:19 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.c, client/gui-win32/gui_stuff.h:

	bool cleanup, changed button size

Wed Mar 13 12:02:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c, client/options.h, client/gui-gtk/gamedlgs.c,
	client/gui-mui/gamedlgs.c, client/gui-xaw/optiondlg.c,
	client/gui-win32/optiondlg.c:

	Split field p_value of client_option into p_int_value and
	p_bool_value. Split GEN_OPTION into GEN_INT_OPTION and
	GEN_BOOL_OPTION. Change type of field p_value of view_option from
	int * to bool * since all view_options are boolean.

Wed Mar 13 11:49:20 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/combat.c, common/combat.h, ai/advmilitary.c, ai/aicity.c,
	ai/aiunit.c, ai/aiunit.h, server/gotohand.c, server/unittools.c:

	Cleanup of the defence power calculation: - remove
	get_simple_defense_power since its behavior is part of
	get_virtual_defense_power - add two arguments (bool fortified,
	bool veteran) to get_virtual_defense_power. This moves code from
	the callers into get_virtual_defense_power.  - unify unit type
	dependent defence calculations into defence_multiplication
	(formerly in get_virtual_defense_power and
	get_total_defense_power) - fix a bug where the code assumes that
	terrain_control.fortress_defense_bonus is 100.  - add a new
	function unit_vulnerability_virtual2 which unifies a common code
	construct - replace 30 with POWER_DIVIDER - add
	base_get_defense_power to get an intermediate result of the
	defence power calculation

Wed Mar 13 10:40:01 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/rand.c:

	Rename new to new_value since new is a keyword of C++. Rename old
	to old_value to be consistent with new_value.

	Patch from Markus Linnala <maage@cs.tut.fi> with changes from me.

Wed Mar 13 10:23:57 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c, server/unittools.c:

	Use map_set_special and map_clear_special instead of changing
	values directly.

	Patch from Markus Linnala <maage@cs.tut.fi>.

Wed Mar 13 09:56:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/inputfile.c, common/unit.h, server/cityturn.c,
	server/diplomats.c, server/gotohand.c, server/settlers.c,
	server/srv_main.c, server/unittools.c, server/unittools.h:

	Sync the definition and declaration of functions which return
	bool.

	Patch from Markus Linnala <maage@cs.tut.fi>.

Wed Mar 13 03:46:19 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/cityrep.c, client/gui-gtk-2.0/connectdlg.c,
	client/gui-gtk-2.0/finddlg.c, client/gui-gtk-2.0/messagedlg.c:

	* Added new city report dialog.  * Made connect dialog transient. 
	* Fixed some bugs in the new message dialog configurator.

Mon Mar 11 23:21:41 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc-2.0:

	Added GTK+ 2.0 client resource file.

Mon Mar 11 23:19:28 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/Makefile.am, client/gui-gtk-2.0/chatline.c,
	client/gui-gtk-2.0/citydlg.c, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/colors.c, client/gui-gtk-2.0/dialogs.c,
	client/gui-gtk-2.0/diplodlg.c, client/gui-gtk-2.0/finddlg.c,
	client/gui-gtk-2.0/gamedlgs.c, client/gui-gtk-2.0/gotodlg.c,
	client/gui-gtk-2.0/graphics.c, client/gui-gtk-2.0/gtkpixcomm.c,
	client/gui-gtk-2.0/gtkpixcomm.h, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/gui_main.h, client/gui-gtk-2.0/gui_stuff.c,
	client/gui-gtk-2.0/helpdlg.c, client/gui-gtk-2.0/inputdlg.c,
	client/gui-gtk-2.0/inputdlg.h, client/gui-gtk-2.0/mapctrl.c,
	client/gui-gtk-2.0/mapview.c, client/gui-gtk-2.0/menu.c,
	client/gui-gtk-2.0/menu.h, client/gui-gtk-2.0/messagedlg.c,
	client/gui-gtk-2.0/messagewin.c, client/gui-gtk-2.0/plrdlg.c,
	client/gui-gtk-2.0/repodlgs.c, client/gui-gtk-2.0/wldlg.c:

	Added initial GTK+ 2.0 port code. All C++ comments will be removed
	once those parts of the code are reimplemented.

Mon Mar 11 23:12:53 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/.cvsignore:

	also copy .cvsignore from gui-gtk/.

Mon Mar 11 23:09:51 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0/Makefile, client/gui-gtk-2.0/Makefile.am,
	client/gui-gtk-2.0/Makefile.in, client/gui-gtk-2.0/chatline.c,
	client/gui-gtk-2.0/chatline.h, client/gui-gtk-2.0/citydlg.c,
	client/gui-gtk-2.0/citydlg.h, client/gui-gtk-2.0/cityrep.c,
	client/gui-gtk-2.0/cityrep.h, client/gui-gtk-2.0/cma_fe.c,
	client/gui-gtk-2.0/cma_fe.h, client/gui-gtk-2.0/colors.c,
	client/gui-gtk-2.0/colors.h, client/gui-gtk-2.0/connectdlg.c,
	client/gui-gtk-2.0/connectdlg.h, client/gui-gtk-2.0/dialogs.c,
	client/gui-gtk-2.0/dialogs.h, client/gui-gtk-2.0/diplodlg.c,
	client/gui-gtk-2.0/diplodlg.h, client/gui-gtk-2.0/finddlg.c,
	client/gui-gtk-2.0/gamedlgs.c, client/gui-gtk-2.0/gotodlg.c,
	client/gui-gtk-2.0/gotodlg.h, client/gui-gtk-2.0/graphics.c,
	client/gui-gtk-2.0/graphics.h, client/gui-gtk-2.0/gtkpixcomm.c,
	client/gui-gtk-2.0/gtkpixcomm.h, client/gui-gtk-2.0/gui_main.c,
	client/gui-gtk-2.0/gui_main.h, client/gui-gtk-2.0/gui_stuff.c,
	client/gui-gtk-2.0/gui_stuff.h, client/gui-gtk-2.0/happiness.c,
	client/gui-gtk-2.0/happiness.h, client/gui-gtk-2.0/helpdlg.c,
	client/gui-gtk-2.0/helpdlg.h, client/gui-gtk-2.0/inputdlg.c,
	client/gui-gtk-2.0/inputdlg.h, client/gui-gtk-2.0/inteldlg.c,
	client/gui-gtk-2.0/mapctrl.c, client/gui-gtk-2.0/mapctrl.h,
	client/gui-gtk-2.0/mapview.c, client/gui-gtk-2.0/mapview.h,
	client/gui-gtk-2.0/menu.c, client/gui-gtk-2.0/menu.h,
	client/gui-gtk-2.0/messagedlg.c, client/gui-gtk-2.0/messagewin.c,
	client/gui-gtk-2.0/messagewin.h, client/gui-gtk-2.0/optiondlg.h,
	client/gui-gtk-2.0/plrdlg.c, client/gui-gtk-2.0/plrdlg.h,
	client/gui-gtk-2.0/rc2c, client/gui-gtk-2.0/repodlgs.c,
	client/gui-gtk-2.0/repodlgs.h, client/gui-gtk-2.0/resources.c,
	client/gui-gtk-2.0/resources.h, client/gui-gtk-2.0/spaceshipdlg.c,
	client/gui-gtk-2.0/spaceshipdlg.h, client/gui-gtk-2.0/wldlg.c,
	client/gui-gtk-2.0/wldlg.h:

	copied gui-gtk/ directory to gui-gtk-2.0/ directory.

Mon Mar 11 23:05:42 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk-2.0:

	Directory /home/freeciv/CVS/freeciv/client/gui-gtk-2.0 added to
	the repository

Mon Mar 11 10:56:54 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Mar 10 20:23:07 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Mar 10 20:08:03 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.c:

	Fixed some focussing problems and enables the dialog windows to go
	into the background.  Bug reported by Todd Goodman
	<tgoodman@bonedaddy.net>

Sun Mar 10 12:06:56 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	makes the citizen row look nicer

Sun Mar 10 11:58:23 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/wldlg.c:

	Bugfix: set the report_dialog pointer to NULL when the dialog is
	closed

Sun Mar 10 06:37:18 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-xaw/citydlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/repodlgs.c:

	remove unused variables (which were superceded by iterators)

Sat Mar  9 20:11:19 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/connectdlg.c, client/gui-win32/connectdlg.h,
	client/gui-win32/gui_main.c, client/gui-win32/gui_main.h:

	Win32: Extended the connect dialog.

Fri Mar  8 18:04:33 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri Mar  8 18:01:52 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c, common/registry.c:

	To make the server more robust replace asserts with error messages
	if a non-boolean value is used as a boolean value.

Fri Mar  8 17:06:41 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c,
	client/gui-gtk/dialogs.c, client/gui-mui/citydlg.c,
	client/gui-mui/dialogs.c, client/gui-win32/citydlg.c,
	client/gui-win32/dialogs.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, common/city.c, common/city.h,
	common/game.c, server/citytools.c, server/cityturn.c,
	server/diplomats.c, server/report.c:

	Add built_impr_iterate macro to iterate over all built
	improvements of a city. This unifies the testing and avoids a call
	to city_got_building.

Fri Mar  8 15:41:00 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-mui/gotodlg.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/gotodlg.c, client/gui-win32/gotodlg.c,
	client/gui-xaw/gotodlg.c:

	Replace "1" with "I_ACTIVE". Replace "if(pcity->improvements[id])"
	with "if(city_got_building(pcity, id))".

Fri Mar  8 15:38:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, client/agents/agents.c, common/capstr.c:

	Correct the position of the agents_game_joined call. Make the
	capabilities turn, attributes, processing_packets, tile_trade,
	short_city_tile_trade and trade_size mandatory since the CMA will
	not work otherwise.

	Should now really fix(PR#1259).

Fri Mar  8 15:32:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/report.c, server/stdinhand.c:

	Add an operand like "!= 0" or "> 0" to comparisons like "if(x)" to
	yield a "real" boolean.

Fri Mar  8 15:14:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.h, server/savegame.c:

	Change type of game.score from int to bool.

Fri Mar  8 14:31:01 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c:

	Remove useless assert.

Fri Mar  8 14:28:54 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/settlers.c:

	Change code so that ai_calc_* functions get the map posistion to
	the ai_calc_* functions. This makes the removal of the
	city_map_to_map calls possible. Rename the city position from i,j
	to cx,cy.  Initialize variables in the declaration. Use
	city_map_iterate instead of city_map_checked_iterate in
	initialize_infrastructure_cache.

Fri Mar  8 14:23:58 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c:

	Avoid the superfluous re-calculations of certain values.

Fri Mar  8 14:21:52 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/spaceship.h, server/savegame.c,
	server/spacerace.c:

	Change type of field structure in struct player_spaceship from
	char[] to bool[]. Make the handling of this field in packhand.c
	and savegame.c bool-safe.

Fri Mar  8 14:15:39 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	fixed some warnings

Fri Mar  8 14:11:41 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/repodlgs.c:

	Added a missing brace

Thu Mar  7 05:24:50 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/civclient.c, client/climisc.c, client/climisc.h,
	client/options.c, client/options.h, client/packhand.c,
	client/gui-gtk/messagedlg.c, client/agents/cma_core.c,
	client/gui-mui/messagedlg.c, client/gui-win32/messagedlg.c,
	client/gui-xaw/messagedlg.c, common/events.h, common/shared.h,
	server/citytools.c, server/gamehand.c, server/plrhand.c,
	server/report.c, server/srv_main.c, server/unittools.c:

	Extend and generalize events in preparation for sounds

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Wed Mar  6 14:03:58 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c:

	Replace game.num_unit_types for-loops with unit_type_iterate.

Wed Mar  6 14:01:18 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, client/gui-gtk/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-win32/citydlg.c,
	client/gui-win32/repodlgs.c:

	Replace game.num_impr_types for-loops with impr_type_iterate(id).

Wed Mar  6 10:05:32 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, client/climisc.c,
	client/helpdata.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/helpdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/worklistclass.c,
	client/gui-win32/citydlg.c, client/gui-win32/helpdlg.c,
	client/gui-win32/repodlgs.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/wldlg.c, common/game.c,
	common/unittype.c, common/unittype.h, server/ruleset.c,
	server/rulesout.c:

	Replace game.num_unit_types for-loops with unit_type_iterate.

	Patch by Jason Short <vze2zq63@verizon.net>.

Wed Mar  6 05:28:20 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	move a really_generate_warmap in ai_manage_explorer so that naval
	units don't unnecessarily call it.

	Patch by Gregory Berkolaiko <Gregory.Berkolaiko@strath.ac.uk>

Wed Mar  6 03:03:04 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c, ai/aitools.c,
	client/climisc.c, client/helpdata.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-win32/citydlg.c, client/gui-win32/dialogs.c,
	client/gui-win32/helpdlg.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/wldlg.c, common/city.c, common/game.c,
	common/improvement.c, common/improvement.h, server/citytools.c,
	server/cityturn.c, server/diplomats.c, server/plrhand.c,
	server/report.c, server/ruleset.c, server/rulesout.c,
	server/savegame.c:

	replace game.num_impr_types for-loops with impr_type_iterate(id)

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Tue Mar  5 19:13:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/player.c, common/player.h, common/tech.c:

	Cache the result of num_known_tech_with_flag() in
	pplayer->research.num_known_tech_with_flag. This array is updated
	by update_research.

Tue Mar  5 19:09:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/tech.c:

	Avoid a call to tech_exists. The change is possible since
	update_research sets non-existing techs to TECH_UNKNOWN.

Tue Mar  5 19:02:01 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c:

	Inline worst_elvis_tile. Remove the second call to
	city_tile_value.

Tue Mar  5 17:36:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/settlers.c:

	Use IS_BORDER_MAP_POS in road_bonus to avoid calling
	normalize_map_pos.

Tue Mar  5 15:47:28 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets_lsend.c, common/packets_lsend.h:

	Run common/create_lsend.pl.

Tue Mar  5 15:46:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c, client/climisc.c, client/clinet.c,
	client/options.c, client/packhand.c, client/tilespec.c,
	client/agents/cma_fec.c, common/connection.c, common/game.c,
	common/hash.c, common/inputfile.c, common/ioz.c, common/netintf.c,
	common/packets.c, common/rand.c, common/registry.c,
	common/shared.c, common/support.h, server/barbarian.c,
	server/citytools.c, server/cityturn.c, server/diplomats.c,
	server/gamehand.c, server/handchat.c, server/meta.c,
	server/ruleset.c, server/savegame.c, server/sernet.c,
	server/settlers.c, server/srv_main.c, server/unittools.c:

	Make the ignoring of return values explicit by adding a cast to
	void.

Tue Mar  5 10:56:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c, server/citytools.h, server/cityturn.c,
	server/diplhand.c, server/mapgen.c, server/plrhand.c,
	server/settlers.c, server/settlers.h, server/srv_main.c:

	Change return type of transfer_city, advisor_choose_build,
	auto_settler_do_goto, end_turn and check_for_full_turn_done to
	void.

Tue Mar  5 10:44:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/cityturn.c, server/cityturn.h, server/unithand.c:

	Change code so that add_adjust_workers handle the error case.
	Change return type of add_adjust_workers to void.

Tue Mar  5 10:20:25 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c,
	server/citytools.c, server/citytools.h:

	Bool cleanup: mostly add an operand like "!= 0" or "> 0" to
	comparisons like "if(x)" to yield a "real" boolean.

Tue Mar  5 10:14:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c, common/packets.c, common/packets.h,
	server/sernet.c:

	Replace int with enum packet_type.

Tue Mar  5 10:07:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c, client/attribute.h,
	client/agents/cma_core.c, client/agents/cma_fec.c,
	common/astring.c, common/astring.h, common/connection.c,
	common/inputfile.c, common/packets.c, common/sbuffer.c,
	common/sbuffer.h, common/specvec.h, common/specvec_c.h,
	server/handchat.c, server/ruleset.c, server/savegame.c,
	server/sernet.c, server/stdinhand.c:

	Replace int with size_t to describe the type of the variables in
	more detail.

Mon Mar  4 16:55:15 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/spaceshipdlg.c:

	Added a missing include

Mon Mar  4 09:01:15 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/citydlg_common.c, client/citydlg_common.h,
	client/gui-gtk/citydlg.c, client/gui-gtk/wldlg.c,
	client/gui-win32/citydlg.c, client/gui-win32/wldlg.c,
	common/city.c, common/city.h:

	Rename id_to_info_row to get_city_dialog_production_row and move
	it from common/city to client/citydlg_common. Change code of
	get_city_dialog_production_row to handle the case where
	turns==999.

	Patch from Jason Short <vze2zq63@verizon.net>.

Mon Mar  4 08:33:48 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c:

	Increase MAX_COMBINATIONS. Change code to report a better error
	message. Print a warning if more than 90% of the combinations are
	used.

	Reported from Martin Schröder <martin@oneiros.de>.

Sun Mar  3 22:23:29 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Mar  3 15:04:15 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Mar  3 10:33:11 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c:

	Happiness Display for the MUI client added

Sun Mar  3 10:32:14 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/muistuff.c, client/gui-mui/muistuff.h:

	Added DisposeAllChilds() function

Sun Mar  3 09:51:56 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	Add missing initialization of did_sell.

	Reported by "Per I. Mathisen" <Per.Inge.Mathisen@idi.ntnu.no>.

Sat Mar  2 23:47:55 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c:

	Removed useless include directive.

Sat Mar  2 22:59:55 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/cityrepdata.c:

	Replaced two calls to snprintf with calls to my_snprintf.

Sat Mar  2 22:45:50 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated First plural forms included.  (Hope I understood the
	gettext info about that...)

Sat Mar  2 20:37:14 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-win32/connectdlg.c, client/gui-win32/diplodlg.c,
	client/gui-win32/optiondlg.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/optiondlg.c, common/log.c, common/registry.c,
	server/civserver.c, server/meta.c, server/stdinhand.c:

	Replace atoi with sscanf for better error checking.

Sat Mar  2 19:57:22 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, common/capability.c,
	common/packets.c, common/registry.c, common/shared.c,
	common/worklist.c, server/ruleset.c, server/srv_main.c,
	server/stdinhand.c:

	Replace empty statements i.e. ";" with an empty block containing
	the string "/* nothing */".

Sat Mar  2 18:03:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, ai/aicity.h:

	Remove unused functions city_get_buildings, is_defender_unit and
	city_get_defenders.

Sat Mar  2 14:19:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/cityrepdata.c:

	Cleanup of cr_entry_building: test for capitalization was wrong,
	display "-" instead of 999.

	Patch from Jason Short <vze2zq63@verizon.net>.

Sat Mar  2 01:23:52 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advmilitary.c:

	fix a NULL pointer dereference introduced in 1.92

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Sat Mar  2 01:17:44 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri Mar  1 14:07:30 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aiunit.c, ai/aiunit.h, common/combat.c,
	common/combat.h:

	Replace 10 with POWER_FACTOR. Replace 30 with POWER_DIVIDER. Add
	functions base_unit_belligerence_primitive and
	base_get_attack_power. Change code to use *unit_belligerence*.

Fri Mar  1 10:22:55 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/citydlg_common.c, client/citydlg_common.h,
	client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c,
	client/gui-win32/citydlg.c, po/POTFILES.in:

	Unify the generation of the description of the current production
	shown in the city dialog.

	Patch from Jason Short <vze2zq63@verizon.net>.

Fri Mar  1 09:01:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aiunit.c, ai/aiunit.h:

	Move common formula which calculates the desire to kill something
	into a new function kill_desire.

	Patch from Petr Baudis <pasky@pasky.ji.cz>.

Wed Feb 27 16:38:35 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update (although it crashes when trying to show a plural string)

Wed Feb 27 13:50:27 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	Use id_to_info_row to compose the texts that are to be put into
	the citydlg production selection choice.

	Patch by Jason Short <vze2zq63@verizon.net> as (PR#1284) with a
	correction by me.

Wed Feb 27 11:46:16 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/cityrepdata.c, client/packhand.c,
	client/gui-mui/citydlg.c, client/gui-win32/citydlg.c,
	client/gui-win32/wldlg.c, client/gui-xaw/citydlg.c, common/city.h,
	common/game.c, common/worklist.c, common/worklist.h,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/savegame.c:

	Embed the worklist in struct city. This allows the removal of
	create_worklist and destroy_worklist.

Wed Feb 27 11:12:48 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/unit.h, server/autoattack.c, server/barbarian.c,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/diplomats.c, server/gamehand.c, server/gotohand.c,
	server/handchat.c, server/mapgen.c, server/maphand.c,
	server/meta.c, server/plrhand.c, server/ruleset.c,
	server/sanitycheck.c, server/savegame.c, server/sernet.c,
	server/settlers.c, server/spacerace.c, server/srv_main.c,
	server/stdinhand.c, server/unithand.c, server/unittools.c:

	Bool cleanup: mostly add an operand like "!= 0" or "> 0" to
	comparisons like "if(x)" to yield a "real" boolean.

Wed Feb 27 10:33:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h, server/mapgen.c, server/sanitycheck.c,
	server/savegame.c, server/settlers.c, server/srv_main.c,
	server/srv_main.h, server/stdinhand.c, server/unittools.c:

	Replace "int" with "bool" if the int only holds the values TRUE or
	FALSE.

Wed Feb 27 10:06:42 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/maphand.h, server/savegame.c:

	Change the type of has_walls of struct dumb_city from unsigned
	char to bool.

Wed Feb 27 09:49:54 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c, server/ruleset.c, server/savegame.c,
	server/settlers.c, server/stdinhand.c:

	Replace 0 with FALSE and 1 with TRUE if these numbers are used in
	a boolean context.

Wed Feb 27 09:02:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c, server/maphand.c, server/settlers.c,
	server/srv_main.c:

	Change the code to use the TEST_BIT macro.

Wed Feb 27 08:38:15 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c:

	Change the RS_BLOCKED, RS_RIVER (values of enum river_map_type) to
	bit positions instead of shifted bit values.

Wed Feb 27 08:19:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/savegame.c:

	Change type of map.fixed_start_positions from int to bool.

Tue Feb 26 21:04:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/maphand.c:

	Introduce new function really_gives_vision and change code like
	"x->really_gives_vision & (1 << y->player_no)" to
	"really_gives_vision(x, y)".

Tue Feb 26 20:19:11 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c:

	Send FALSE for is_build_id_unit_id if the values doesn't matter.

Tue Feb 26 19:57:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/climisc.c, client/clinet.c,
	client/control.c, client/goto.c, client/helpdata.c,
	client/mapview_common.c, client/packhand.c,
	client/agents/agents.c, client/agents/cma_core.c,
	client/agents/cma_fec.c:

	Add an operand like "!= 0" or "> 0" to comparisons like "if(x)" to
	yield a "real" boolean.

Tue Feb 26 19:33:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, client/gui-mui/plrdlg.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/plrdlg.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/plrdlg.c,
	client/gui-win32/plrdlg.c, common/player.c, common/player.h,
	server/maphand.c, server/plrhand.c, server/savegame.c:

	Introduce new function gives_shared_vision and change code like
	"x->gives_shared_vision & (1 << y->player_no)" to
	"gives_shared_vision(x, y)".

Tue Feb 26 17:47:58 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/citydlg.c:

	Remove unused variable.

Tue Feb 26 17:24:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c, common/packets.h:

	Change the type of field leader_sex in struct
	packet_ruleset_nation from int[] to bool[].

Tue Feb 26 17:13:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c, common/government.c, common/packets.c:

	Change code to use TEST_BIT and COND_SET_BIT.

Tue Feb 26 16:06:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.h, common/map.h, common/packets.c, common/packets.h,
	server/ruleset.c:

	Change the type of game.rgame.pillage_select, map.tinyisles and
	map.separatepoles from int to bool.

Tue Feb 26 15:49:52 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c, common/packets.c, common/player.c,
	common/shared.h, common/tech.c, common/unit.c, common/unittype.c:

	Intrduce two new macros TEST_BIT and COND_SET_BIT. Update code to
	use it.

Tue Feb 26 15:27:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c:

	Document invasion_funct. Make it slightly faster by avoiding to
	call has_defense.

Tue Feb 26 15:22:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c, common/city.h, server/citytools.c:

	Add a cache to food_weighting. This is easy since the result of
	food_weighting doesn't depend on any external state.

Tue Feb 26 15:13:44 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Tue Feb 26 14:34:00 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/wldlg.c, client/gui-mui/wldlg.c,
	client/gui-win32/wldlg.c, client/gui-xaw/wldlg.c,
	common/packets.c:

	Make sure that the is_valid is set for struct
	packet_player_request.worklist. Remove useless setting the name to
	an empty string since the worklist name isn't send if the worklist
	is invalid.

Tue Feb 26 14:09:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/helpdata.txt:

	change wording to reflect new button names

Tue Feb 26 11:49:22 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h:

	Add a distance argument to IS_BORDER_MAP_POS. This makes it
	possible to IS_BORDER_MAP_POS in iterate_outward and
	square_dxy_iterate. Rewrite adjc_iterate to use square_iterate.
	Add IS_BORDER_MAP_POS to cartesian_adjacent_iterate. Change
	square_dxy_iterate and cartesian_adjacent_iterate to follow the
	style "if(is_border && !normalize_map_pos()) continue;" instead of
	"if(!is_border || normalize_map_pos()){ BODY }".

	Patch from Jason Short <vze2zq63@verizon.net> with changes from
	me.

Tue Feb 26 10:27:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/mapview_common.c, client/mapview_common.h,
	client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-win32/mapview.c, client/gui-xaw/mapview.c:

	Unify the creation of the string which describes the production of
	the city in the map overview in new function
	get_city_mapview_production. Change get_city_mapview_production to
	handle the case where a production will never complete (instead of
	displaying 999).

	Patch from Jason Short <vze2zq63@verizon.net>.

Tue Feb 26 01:36:29 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* README.cma:

	change wording to reflect new button names

Tue Feb 26 01:33:45 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cma_fe.c,
	client/gui-gtk/cma_fe.h:

	Change names of some CMA buttons, and make the accel buttons
	actually work with no conflicts.

	Patch by Christian Knoke <ChrisK@enter.de> and myself

Mon Feb 25 21:42:32 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c:

	Implement oil mines in isometric mode. For mines on dessert and
	glassier, it uses an oil_mine sprite if the tileset provides one,
	or the regular mine otherwise. In any case, it puts the mine on
	top of any special (e.g. oil).

	Patch from Daniel L Speyer <dspeyer@wam.umd.edu>.

Mon Feb 25 19:42:50 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/maphand.c, server/settlers.c:

	Remove guarding code from map_get_player_tile since the map
	position is already checked in map_inx. Replace nearest_real_pos
	with CHECK_MAP_POS in auto_settler_do_goto.

	Submitted from  Jason Short <vze2zq63@verizon.net> as (PR#1211).

Mon Feb 25 19:05:15 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aiunit.c, ai/aiunit.h:

	Extract the calculation of "balanced" build costs into a new
	function build_cost_balanced.

	Patch submitted from Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>
	as (PR#1194).

Mon Feb 25 15:24:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c, client/climisc.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/repodlgs.c,
	client/gui-mui/citydlg.c, client/gui-mui/cityrep.c,
	client/gui-mui/repodlgs.c, client/gui-win32/citydlg.c,
	client/gui-win32/cityrep.c, client/gui-win32/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/repodlgs.c,
	common/packets.c:

	Set the worklist.is_valid field in struct packet_city_request.
	This is done centrally in send_packet_city_request based on the
	packet type.

	Don't send the name of a worklist if the worklist is invalid.

	Don't send the field "name" of struct packet_city_request if the
	name isn't needed.

Mon Feb 25 10:59:04 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Feb 24 14:20:59 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, server/citytools.c, server/meta.c,
	server/srv_main.c:

	Replace certain for loops with players_iterate or
	get_num_human_and_ai_players. Replace players_iterate with
	get_num_human_and_ai_players. Cleanup of do_apollo_program and
	update_diplomatics.

Sun Feb 24 13:00:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, common/registry.c, common/registry.h,
	server/ruleset.c, server/savegame.c:

	Add lookup and insert functions for bool to the registry. This
	makes the reading and writing of bools type-safe.

Sun Feb 24 12:01:14 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, client/tilespec.h:

	Bool cleanup of tilespec.

Sun Feb 24 11:56:14 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c:

	Add put and iget functions for bool. This makes the reading and
	writing of bools type-safe.

Sun Feb 24 11:50:34 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c, client/climisc.c, client/clinet.c,
	client/control.c, client/goto.c, client/helpdata.c,
	client/packhand.c, client/tilespec.c, client/agents/cma_core.c,
	common/inputfile.c, common/nation.c, common/player.c,
	common/registry.c, common/shared.c, server/citytools.c,
	server/gamehand.c, server/gotohand.c, server/mapgen.c,
	server/plrhand.c, server/sernet.c, server/unithand.c,
	server/unittools.c:

	Add a "x = NULL;" after a "free(x);". This will avoid
	unintentional de-referencing of the pointer.

Sun Feb 24 11:42:52 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/Freeciv:

	Replace the shapeStyle "ShapeOval" with "oval". The first is
	causing warning messages and latter really shows oval buttons.

	Reported by James Wilson <fat_hot@yahoo.com>.

Sun Feb 24 11:12:47 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/log.c:

	Replace FRETURN macro with a goto construct.

Sun Feb 24 11:04:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	In a previous change the assert(pcity != NULL) was put a level too
	high. Only in the map_get_known_and_seen(x, y, pplayer)==TRUE case
	we have to made sure to have a real city.

	Reported from Jason Short <vze2zq63@verizon.net> and Christian
	Knoke <ChrisK@enter.de>.

Sun Feb 24 10:45:14 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, common/unit.c, common/unit.h, server/barbarian.c,
	server/unithand.c, server/unittools.c, server/unittools.h:

	Replace calls of can_unit_move_to_tile_with_notify with
	can_unit_move_to_tile if they are only used to test the
	possibility. Change signature of can_unit_move_to_tile to be equal
	to can_unit_move_to_tile_with_notify. Move
	can_unit_move_to_tile_with_notify from unittools.c to unithand.c
	and make it static since it is only used by
	handle_unit_move_request.

	Reported by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>.

Sun Feb 24 01:12:53 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Feb 23 19:56:16 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/helpdlg.c:

	Makes the unit page smaller.

Sat Feb 23 16:38:11 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	cleanup of ai_military_findvictim() AI behavior is unchanged.

	Patch by Petr Baudis <pasky@pasky.ji.cz>

Fri Feb 22 13:14:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/tilespec.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-mui/graphics.c,
	client/gui-mui/mapclass.c, client/gui-win32/mapview.c,
	client/gui-xaw/mapctrl.c, common/city.c, common/map.c,
	common/map.h, common/unit.c, server/gotohand.c,
	server/sanitycheck.c, server/settlers.c, server/unithand.c,
	server/unittools.c:

	Add new functions tile_has_special and contains_special. Change
	BOOL_VALs to calls of these functions.

Fri Feb 22 13:07:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c:

	Cleanup of is_good_tile: remove superfluous variable, make code
	correct wrt to types used.

Fri Feb 22 11:37:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/terrain.h:

	Replace the value of S_ALL ("0xFFFF") with the correct value which
	is all S_*s ORed together.

Thu Feb 21 20:29:20 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_main.c:

	make the chatline react on return again

Thu Feb 21 20:28:25 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/repodlgs.c:

	put some includes in the correct order

Thu Feb 21 15:07:24 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Feb 21 12:32:40 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Feb 21 09:44:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aitools.c, ai/aiunit.c, common/game.c,
	common/player.c, server/barbarian.c, server/citytools.c,
	server/gamelog.c, server/meta.c, server/plrhand.c,
	server/savegame.c, server/settlers.c, server/spacerace.c,
	server/srv_main.c, server/stdinhand.c:

	Replace certain for loops with players_iterate.

Thu Feb 21 08:56:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/gui-mui/citydlg.c,
	client/gui-win32/citydlg.c, client/gui-xaw/citydlg.c,
	server/autoattack.c, server/cityturn.c, common/city.c,
	common/city.h:

	Replace "pcity->city_options & (1<<CITYO_*)" with a new function
	is_city_option_set: "is_city_option_set(pcity, CITYO_*)".

Thu Feb 21 08:46:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/packets.c, common/packets.h,
	common/player.c, common/player.h, server/barbarian.c,
	server/barbarian.h, server/plrhand.c, server/sanitycheck.c,
	server/savegame.c:

	Rename the field is_barbarian in struct player_ai to
	barbarian_type. Define the set of possible values for this field
	in a new enum barbarian_type.

Thu Feb 21 08:38:52 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/packhand.c,
	client/gui-mui/citydlg.c, client/gui-win32/citydlg.c,
	client/gui-xaw/citydlg.c, common/city.c, common/city.h,
	common/packets.c, common/packets.h, server/citytools.c,
	server/savegame.c, server/unithand.c:

	Introduce a new define: NUM_TRADEROUTES which is the maximal
	number of traderoutes a city can have. Replace various "4"s in the
	code with NUM_TRADEROUTES.

Thu Feb 21 08:28:35 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, server/civserver.c:

	Replace the final "return 0" of the main function with
	"exit(EXIT_SUCCESS)" to be consistent with the other way of
	leaving the program.

Tue Feb 19 23:00:24 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Tue Feb 19 21:03:21 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c:

	Rename variable wondercity to wonder_continent. General syntax
	cleanup of establish_city_distances.

Tue Feb 19 20:03:02 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, client/goto.c, client/agents/cma_core.c,
	client/gui-mui/graphics.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/graphics.c,
	client/gui-win32/graphics.c, client/gui-stub/graphics.c,
	client/gui-xaw/graphics.c, common/city.c, common/map.c,
	common/player.c, server/meta.c, server/meta.h, server/stdinhand.c:

	Replace "int" with "bool" if the int only holds the values TRUE or
	FALSE.

Tue Feb 19 19:04:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, ai/aiunit.c, client/goto.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/graphics.c,
	client/agents/cma_core.c, client/gui-mui/graphics.c,
	client/gui-stub/graphics.c, client/gui-win32/graphics.c,
	client/gui-xaw/graphics.c, common/city.c, common/map.c,
	common/player.c, server/meta.c, server/stdinhand.c:

	Replace 0 with FALSE and 1 with TRUE if these numbers are used in
	a boolean context.

Tue Feb 19 17:18:34 2002  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, amiga/gettext.c, amiga/smakefile:

	Updated the amiga client.  Added CMA support.  Started to redesign
	the city dialog simliar to the GTK version.

Tue Feb 19 16:41:15 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/advmilitary.h, ai/advspace.c, ai/aicity.c,
	ai/aicity.h, ai/aihand.c, ai/aihand.h, ai/aitools.c, ai/aitools.h,
	ai/aiunit.c, ai/aiunit.h, client/civclient.c, client/civclient.h,
	client/climisc.c, client/climisc.h, client/clinet.c,
	client/control.c, client/control.h, client/goto.c, client/goto.h,
	client/helpdata.c, client/mapview_common.c,
	client/mapview_common.h, client/options.c, client/options.h,
	client/packhand.c, client/tilespec.c, client/tilespec.h,
	client/agents/agents.c, client/agents/cma_core.c,
	client/agents/cma_core.h, client/agents/cma_fec.c,
	client/gui-gtk/citydlg.c, client/include/citydlg_g.h,
	client/include/cityrep_g.h, client/include/dialogs_g.h,
	client/include/graphics_g.h, client/include/gui_main_g.h,
	client/include/mapctrl_g.h, client/include/mapview_g.h,
	client/include/repodlgs_g.h, common/city.c, common/city.h,
	common/game.c, common/government.h, common/improvement.c,
	common/map.c, common/map.h, common/player.c, common/player.h,
	common/unit.c:

	Replace "int" with "bool" if the int only holds the values TRUE or
	FALSE.

Tue Feb 19 15:20:55 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitools.c,
	ai/aiunit.c, client/agents/agents.c, client/agents/cma_core.c,
	client/agents/cma_fec.c, client/civclient.c, client/climisc.c,
	client/clinet.c, client/control.c, client/goto.c,
	client/helpdata.c, client/mapview_common.c, client/options.c,
	client/packhand.c, client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/wldlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapview.c,
	client/gui-win32/cityrep.c, client/gui-win32/mapview.c,
	client/gui-win32/wldlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/wldlg.c, common/player.c, common/shared.c,
	server/barbarian.c, server/citytools.c, server/settlers.c,
	server/unittools.c:

	Replace 0 with FALSE and 1 with TRUE if these numbers are used in
	a boolean context.

Tue Feb 19 00:33:55 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated Christian Knoke <ChrisK@enter.de> wrote the help for
	CMA (modified by me).

Mon Feb 18 11:50:14 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Feb 17 22:40:43 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/menu.c, data/helpdata.txt,
	client/include/helpdlg_g.h:

	Add help text for the Citizen Management Agent.

	Patch by Christian Knoke <ChrisK@enter.de>

Sat Feb 16 17:44:43 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/ruleset.c:

	Add the fields game.notradesize and game.fulltradesize to
	packet_ruleset_control. This permits the client to correctly
	predice the trade of a city.

Sat Feb 16 17:28:16 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/barbarian.c, client/gui-gtk/helpdlg.c:

	Change "if(cond) return FALSE; else return TRUE;" to "return
	(!cond);". Similar for boolean assignment.

Sat Feb 16 17:11:44 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	Change the rules by which server sends info about a city to a
	player which isn't the owner. Previously if was required that the
	player sees the city. It is now also sufficient that the player
	has a traderoute with the city. This is necessary to update the
	tile_trade field of the city at the client.

Sat Feb 16 17:05:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/astring.c, common/capability.c, common/city.c,
	common/combat.c, common/connection.c, common/game.c,
	common/genlist.c, common/hash.c, common/improvement.c,
	common/inputfile.c, common/log.c, common/map.c, common/map.h,
	common/packets.c, common/player.c, common/registry.c,
	common/sbuffer.c, common/shared.c, common/unit.c,
	common/unittype.c:

	Add an operand like "!= 0" or "> 0" to comparisons like "if(x)" to
	yield a "real" boolean.

Sat Feb 16 15:21:44 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/spaceshipdlg.c:

	Add missing include.

Thu Feb 14 22:40:16 2002  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update from Gabor Takacs.

Thu Feb 14 16:12:09 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Thu Feb 14 15:17:07 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, ai/aicity.h, ai/aiunit.h, common/capability.c,
	common/capability.h, common/city.c, common/city.h,
	common/combat.c, common/combat.h, common/connection.c,
	common/connection.h, common/diptreaty.c, common/diptreaty.h,
	common/game.h, common/government.c, common/government.h,
	common/hash.c, common/hash.h, common/improvement.c,
	common/improvement.h, common/inputfile.c, common/inputfile.h,
	common/log.h, common/map.c, common/map.h, common/nation.c,
	common/nation.h, common/netintf.c, common/netintf.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/rand.c, common/rand.h, common/registry.c,
	common/registry.h, common/shared.c, common/shared.h,
	common/tech.c, common/tech.h, common/timing.c, common/timing.h,
	common/unit.c, common/unit.h, common/unittype.c,
	common/unittype.h, common/worklist.c, common/worklist.h,
	server/barbarian.c, server/barbarian.h, server/citytools.c,
	server/citytools.h, server/cityturn.c, server/cityturn.h,
	server/civserver.c, server/console.c, server/console.h,
	server/diplhand.c, server/diplomats.c, server/gamehand.c,
	server/gotohand.c, server/gotohand.h, server/handchat.c,
	server/mapgen.c, server/maphand.c, server/maphand.h,
	server/meta.c, server/meta.h, server/plrhand.c, server/plrhand.h,
	server/report.c, server/report.h, server/ruleset.c,
	server/rulesout.c, server/rulesout.h, server/sernet.c,
	server/settlers.c, server/settlers.h, server/srv_main.c,
	server/srv_main.h, server/unithand.c, server/unithand.h,
	server/unittools.c, server/unittools.h:

	Introduce type "bool" which denotes a type which should only have
	the values TRUE and FALSE. bool is currently an int.

	Change various ints to bools.

Thu Feb 14 12:31:07 2002  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	suppr des fuzzys

Thu Feb 14 05:41:13 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* PEOPLE:

	update my email address

Wed Feb 13 10:47:58 2002  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	E->A

Wed Feb 13 10:36:16 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c, common/city.h, common/combat.c, common/game.c:

	Change ints to more specific type.

Wed Feb 13 08:55:55 2002  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	début de mise à jour

Wed Feb 13 05:55:24 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/aiunit.c:

	cleanup of ai_manage_explorer() ai behavior is unchanged

	Patch by Petr Baudis <pasky@pasky.ji.cz>

Tue Feb 12 12:16:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c, common/map.c, common/unit.c, server/settlers.c:

	Wrap constructs like "special & S_*" with BOOL_VAL if their are
	used as a boolean.

Tue Feb 12 11:45:54 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/diplodlg.c, client/gui-win32/plrdlg.c:

	Fixed occurence of bug (PR#1257) in win32 client.

Tue Feb 12 10:08:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/aiunit.c, common/city.c, common/player.c,
	common/player.h, common/unit.c, server/citytools.c:

	Introduce a new method num_known_tech_with_flag which replaces
	player_knows_techs_with_flag in some occurrences.
	player_knows_techs_with_flag now returns a boolean value.

Tue Feb 12 09:44:44 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c:

	Cleanup of can_establish_trade_route.

Tue Feb 12 09:36:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/messagewin.c, client/gui-win32/citydlg.c,
	client/gui-win32/helpdlg.c, client/gui-win32/messagewin.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_stuff.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/messagewin.c,
	common/city.c, common/game.c, common/nation.c, common/player.c,
	common/shared.c:

	Compare the result values of the string compare functions against
	0 to yield a boolean.

Tue Feb 12 08:59:56 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/gui-mui/citydlg.c,
	client/gui-mui/worklistclass.c, client/gui-win32/citydlg.c,
	common/city.c, common/packets.c, common/unittype.c,
	server/unittools.c:

	Replace (in boolean context) "punit->fuel" with "punit->fuel > 0"
	and "!punit->fuel" with "punit->fuel == 0".

Tue Feb 12 08:56:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/climisc.c, client/control.c, common/unit.c,
	server/gotohand.c, server/settlers.c, server/unithand.c,
	server/unittools.c:

	Replace (in boolean context) "punit->moves_left" with
	"punit->moves_left > 0" and "!punit->moves_left" with
	"punit->moves_left == 0".

Tue Feb 12 08:42:22 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, ai/aiunit.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-win32/mapview.c,
	client/gui-xaw/mapctrl.c, common/map.c, common/unit.c,
	server/gotohand.c, server/sanitycheck.c, server/settlers.c,
	server/unithand.c, server/unittools.c:

	Wrap constructs like "special & S_*" with BOOL_VAL if their are
	used as a boolean.

Tue Feb 12 08:20:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/capstr.c:

	Remove a line which was incorrectly inserted by the "remove
	[!=]=NULL" change.

Tue Feb 12 07:55:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_core.c:

	Increase MAX_TRADE from 100 to 200. This should be enough for all.

Tue Feb 12 04:59:39 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/unittools.h:

	Silence g++.

Tue Feb 12 04:49:53 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/diptreaty.c, common/game.c, common/genlist.c,
	common/government.c, common/hash.c, common/idex.c,
	common/inputfile.c, common/ioz.c, common/log.c, common/mem.c,
	common/nation.c, common/sbuffer.c, common/timing.c,
	common/worklist.c:

	Silence more g++ warnings.

Tue Feb 12 04:29:26 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/connection.c:

	Placate g++.

Tue Feb 12 04:26:17 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/combat.c:

	Placate g++.

Tue Feb 12 04:23:18 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/speclist_c.h:

	Placate g++.

Tue Feb 12 04:22:28 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/astring.c:

	Added cast to placate g++.

Mon Feb 11 13:55:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/aiunit.c, client/gui-gtk/menu.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-win32/menu.c, client/gui-xaw/menu.c, common/city.c,
	common/combat.c, common/map.c, common/map.h, common/unit.c,
	server/barbarian.c, server/citytools.c, server/cityturn.c,
	server/gamehand.c, server/mapgen.c, server/maphand.c,
	server/plrhand.c, server/savegame.c, server/settlers.c,
	server/srv_main.c, server/unittools.c:

	Add a new function map_has_special which replaces
	"map_get_special(x, y) & S_*" and "map_get_tile(x, y)->special &
	S_*".

Mon Feb 11 12:11:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h:

	Remove a jump to make the code faster and be more typesafe.

Mon Feb 11 11:59:54 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/player.c:

	Change ai_handicap to return always a boolean. The special value
	"-1" was never used in the code.

Mon Feb 11 10:37:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitech.c,
	ai/aitools.c, ai/aiunit.c, client/attribute.c, client/civclient.c,
	client/climisc.c, client/clinet.c, client/control.c,
	client/goto.c, client/helpdata.c, client/helpdata.h,
	client/mapview_common.c, client/options.c, client/packhand.c,
	client/tilespec.c, client/agents/agents.c,
	client/agents/cma_core.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/cma_fe.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gotodlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/gtkpixcomm.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_stuff.c,
	client/gui-gtk/happiness.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-gtk/wldlg.c, client/gui-win32/helpdlg.c,
	client/gui-win32/inteldlg.c, client/gui-win32/wldlg.c,
	client/gui-xaw/connectdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, common/capstr.c, common/city.c,
	common/combat.c, common/connection.c, common/fcintl.c,
	common/game.c, common/genlist.h, common/government.c,
	common/hash.c, common/idex.c, common/improvement.c,
	common/inputfile.c, common/ioz.c, common/log.c, common/map.c,
	common/mem.c, common/nation.c, common/netintf.c, common/packets.c,
	common/player.c, common/registry.c, common/sbuffer.c,
	common/shared.c, common/support.c, common/timing.c, common/unit.c,
	common/unit.h, common/worklist.c, server/autoattack.c,
	server/barbarian.c, server/cityhand.c, server/citytools.c,
	server/cityturn.c, server/civserver.c, server/console.c,
	server/diplhand.c, server/diplomats.c, server/gamehand.c,
	server/gamelog.c, server/gotohand.c, server/handchat.c,
	server/mapgen.c, server/maphand.c, server/meta.c,
	server/plrhand.c, server/report.c, server/ruleset.c,
	server/sanitycheck.c, server/savegame.c, server/sernet.c,
	server/settlers.c, server/spacerace.c, server/srv_main.c,
	server/stdinhand.c, server/unithand.c, server/unittools.c:

	Remove extra "!= NULL" / "== NULL" when testing a pointer in a
	boolean context.

Sun Feb 10 21:48:27 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/diplodlg.c, client/gui-xaw/plrdlg.c:

	Fixed occurence of bug (PR#1257) in Xaw client. Will have to check
	other clients.

Sun Feb 10 21:06:08 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/diplodlg.c, client/gui-gtk/plrdlg.c:

	Fixed bug (PR#1257).

	Bug reported by Christian Knoke <ChrisK@enter.de>.

Sun Feb 10 19:26:23 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitools.c,
	ai/aiunit.c, client/clinet.c, client/tilespec.c,
	client/gui-gtk/dialogs.c, common/capability.c, common/city.c,
	common/combat.c, common/connection.c, common/diptreaty.c,
	common/game.c, common/game.h, common/government.c, common/hash.c,
	common/idex.c, common/improvement.c, common/inputfile.c,
	common/log.c, common/log.h, common/map.c, common/map.h,
	common/mem.c, common/nation.c, common/netintf.c, common/packets.c,
	common/player.c, common/rand.c, common/registry.c,
	common/shared.c, common/spaceship.c, common/tech.c,
	common/timing.c, common/unit.c, common/unittype.c,
	common/worklist.c:

	Replace 0 with FALSE and 1 with TRUE if these numbers are used in
	a boolean context.

Sun Feb 10 18:19:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/unit.c:

	Simplified is_square_threatened since its return value is only
	used in boolean context (which also the name suggest).

Sun Feb 10 16:47:43 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/map.h:

	Removed unused macro SAFE_MAPSTEP().

Sun Feb 10 02:09:15 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/tilespec.c, client/tilespec.h:

	Cleanup of tilespec.c. Removed dir8_to_dir4() function. Removed
	all calls to SAFE_MAPSTEP. Eliminated several branches and fused
	some loops.

Sat Feb  9 14:46:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitech.c,
	ai/aitools.c, ai/aiunit.c, client/civclient.c, client/climisc.c,
	client/clinet.c, client/control.c, client/goto.c,
	client/helpdata.c, client/helpdata.h, client/mapview_common.c,
	client/options.c, client/packhand.c, client/tilespec.c,
	client/agents/agents.c, client/agents/cma_core.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/cma_fe.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gtkpixcomm.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/happiness.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/wldlg.c,
	common/city.c, common/combat.c, common/connection.c,
	common/game.c, common/genlist.h, common/government.c,
	common/hash.c, common/idex.c, common/improvement.c,
	common/inputfile.c, common/log.c, common/map.c, common/nation.c,
	common/netintf.c, common/packets.c, common/player.c,
	common/registry.c, common/sbuffer.c, common/shared.c,
	common/timing.c, common/unit.c, common/unit.h, common/worklist.c,
	server/autoattack.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/console.c,
	server/diplhand.c, server/diplomats.c, server/gamehand.c,
	server/gamelog.c, server/gotohand.c, server/handchat.c,
	server/maphand.c, server/meta.c, server/plrhand.c,
	server/report.c, server/ruleset.c, server/sanitycheck.c,
	server/savegame.c, server/sernet.c, server/settlers.c,
	server/spacerace.c, server/srv_main.c, server/stdinhand.c,
	server/unithand.c, server/unittools.c:

	Make the comparison of a pointer against the implicit 0 explicit
	by adding "== NULL" or "!= NULL".

Sat Feb  9 14:28:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c:

	Remove redundant checks for connection (pc) in capability tests.

Sat Feb  9 13:38:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c:

	Merge ifs which test the same condition.

Sat Feb  9 09:57:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c, server/spacerace.c:

	Replace all number literals "0" which are used as pointers with
	"NULL".

Sat Feb  9 09:56:59 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Add an assert.

Sat Feb  9 09:27:54 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/colors.c:

	Add missing include.

Sat Feb  9 09:23:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/colors.c, common/connection.c:

	Change code to use fc_malloc instead of g_malloc or plain malloc.
	Remove redundant checks of the return value of fc_malloc.

Sat Feb  9 06:52:05 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/citydlg.c:

	fixed two places that assumed (mistakenly) the happiness map was
	sure to exist when setting the sensitivity.

	Patch by Mike Kaufman <mkaufman@math.ukans.edu>

Sat Feb  9 02:04:31 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/citydlg.h:

	cleanup the info table and label sections; remove uneeded
	parameters, add enums, don't export enum in citydlg.h

	Patch by Mike Kaufman <mkaufman@math.ukans.edu>

Thu Feb  7 22:17:29 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c, common/packets.c, server/citytools.c,
	server/stdinhand.c:

	Add missing values for array/struct initialization. Correct array
	size.

Thu Feb  7 17:23:33 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c, client/civclient.c, client/climisc.c,
	client/helpdata.c, client/packhand.c, client/tilespec.c,
	client/agents/agents.c, client/agents/cma_core.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/happiness.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapview.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/wldlg.c,
	common/astring.c, common/astring.h, common/city.c,
	common/combat.c, common/game.c, common/genlist.c,
	common/government.c, common/improvement.c, common/inputfile.c,
	common/map.c, common/nation.c, common/packets.c, common/player.c,
	common/registry.c, common/shared.c, common/support.c,
	common/timing.c, common/unit.c, server/autoattack.c,
	server/barbarian.c, server/cityhand.c, server/citytools.c,
	server/cityturn.c, server/diplhand.c, server/diplomats.c,
	server/gotohand.c, server/maphand.c, server/plrhand.c,
	server/sanitycheck.c, server/settlers.c, server/spacerace.c,
	server/srv_main.c, server/stdinhand.c, server/unithand.c,
	server/unittools.c:

	Replace all number literals "0" which are used as pointers with
	"NULL".

Thu Feb  7 17:02:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/gui-gtk/spaceshipdlg.c, common/combat.c,
	common/map.h, server/meta.c, server/spacerace.c:

	Add casts to/from real numbers. Change integral number literals to
	real number literals.

Thu Feb  7 16:57:33 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/ruleset.c:

	Correct an abort condition where "enum government_flag_id" was
	compared against "enum government_hint_id".

Thu Feb  7 16:45:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/ioz.c:

	Correct the type of a struct member from "gzFile *" to "gzFile".

Thu Feb  7 16:41:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/cityrep.c:

	Change TestCityFunc to be a normal function pointer.

Thu Feb  7 14:16:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/report.c:

	Change value_units to use the return value of my_snprintf instead
	of the hand made check.

Thu Feb  7 14:02:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/nation.c, common/nation.h, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapctrl.h:

	Remove unused return values.

Thu Feb  7 11:36:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/gotohand.c:

	Cleanup (variable renaming, move variables into deeper scopes,...)
	of find_a_direction. Introduce base_get_direction_for_step to
	remove duplicated computations.

Thu Feb  7 11:08:02 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/cma_fe.c, client/gui-gtk/menu.c,
	client/gui-gtk/wldlg.c:

	Remove unreachable code.

Thu Feb  7 11:03:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/agents.c:

	Add parameter list.

Thu Feb  7 10:24:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aitools.h, ai/aiunit.h, client/climisc.h, client/clinet.c,
	client/control.h, client/packhand.h, client/tilespec.h,
	client/agents/agents.c, client/agents/cma_core.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/cma_fe.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/dialogs.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/wldlg.c,
	client/gui-gtk/wldlg.h, client/include/mapview_g.h,
	common/combat.h, common/genlist.h, common/hash.h, common/ioz.h,
	common/map.h, common/nation.h, common/packets.h,
	common/registry.c, common/speclist.h, common/tech.h,
	common/unit.h, server/barbarian.h, server/citytools.h,
	server/cityturn.h, server/console.h, server/gotohand.h,
	server/plrhand.h, server/ruleset.c, server/srv_main.c,
	server/srv_main.h, server/stdinhand.c, server/stdinhand.h:

	Sync the names of the parameters in the function definition and
	declaration.

Thu Feb  7 09:08:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/clinet.c, client/helpdata.c,
	client/packhand.c, client/packhand.h, client/gui-gtk/gui_main.c,
	common/tech.c, common/tech.h, server/plrhand.c, server/plrhand.h,
	server/srv_main.c:

	Remove unused function parameter.

Thu Feb  7 08:45:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, ai/aiunit.c, client/control.c, client/goto.c,
	common/hash.c, common/unit.c, server/gotohand.c:

	Remove unreachable statements.

Thu Feb  7 08:44:49 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/diplhand.c:

	Change the blocking to the originally intended form.

Thu Feb  7 08:39:14 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Add missing pointer deference.

Thu Feb  7 08:37:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* amiga/amigaserver.c, client/agents/cma_core.c,
	client/attribute.c, client/civclient.c, client/helpdata.c,
	client/packhand.c, client/tilespec.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/menu.c,
	client/gui-mui/connectdlg.c, client/gui-mui/gui_main.c,
	client/gui-stub/connectdlg.c, client/gui-win32/connectdlg.c,
	client/gui-win32/dialogs.c, client/gui-win32/graphics.c,
	client/gui-win32/gui_stuff.c, client/gui-win32/mapctrl.c,
	client/gui-win32/menu.c, client/gui-xaw/colors.c,
	client/gui-xaw/connectdlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/graphics.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/menu.c, common/hash.c, common/inputfile.c,
	common/log.c, common/mem.c, common/nation.c, common/registry.c,
	common/shared.c, common/support.c, common/tech.c, common/unit.c,
	server/civserver.c, server/gamelog.c, server/ruleset.c,
	server/savegame.c, server/sernet.c, server/srv_main.c,
	server/stdinhand.c:

	Replace "exit(0)" with "exit(EXIT_SUCCESS)" and "exit(1)" with
	"exit(EXIT_FAILURE)".

Thu Feb  7 08:29:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/sanitycheck.c:

	Disable the whole sanitycheck.c file if NDEBUG is defined since
	assert would be a noop.

	Patch from Jason Short <vze2zq63@verizon.net>.

Thu Feb  7 01:29:47 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c:

	I guess those my_closesocket() calls weren't spurious after all.
	Eheh.

Thu Feb  7 00:53:23 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c, common/netintf.c, server/meta.c,
	server/sernet.c:

	- removed spurious calls to my_closesocket().  - minor style
	changes.  - moved call to ignore SIGPIPE to my_init_network().  -
	remove useless bind() call from meta.c.

Wed Feb  6 22:53:19 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/map.h:

	Shorter, faster, cartesian_adjacent_iterate().

Wed Feb  6 22:14:47 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/graphics.c:

	Changed ctor_sprite_mask() arguments in scale_sprite().

Wed Feb  6 21:53:20 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/shared.c:

	wordwrap_string() speedup.

Wed Feb  6 12:07:46 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* config.h.in:

	Run aclocal; autoheader; autoconf; automake

Tue Feb  5 23:41:04 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Tue Feb  5 23:36:33 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/README.cma.de:

	NEW README.cma.de Translated by Christian Knoke <ChrisK@enter.de>

Tue Feb  5 19:05:45 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/control.h, client/goto.c,
	client/agents/cma_core.c, client/agents/cma_fec.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/colors.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/messagedlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	common/inputfile.c, common/log.c, common/nation.c,
	server/citytools.h, server/mapgen.c, server/mapgen.h,
	server/sernet.c:

	- remove dead functions (declared but not defined) - remove unused
	variables - make functions and variables static

Tue Feb  5 12:51:09 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* configure, configure.in:

	Changed DEFAULT_DATA_PATH so that it uses the right PATH_SEPARATOR

Tue Feb  5 09:00:31 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-stub/connectdlg.c, client/gui-gtk/cma_fe.c,
	client/gui-gtk/connectdlg.c:

	Add parameter list.

Mon Feb  4 16:16:03 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* configure, configure.in:

	Ran autoconf

Mon Feb  4 16:12:38 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/graphics.c, client/gui-win32/graphics.h:

	gui-win32: Changed gfx format to png.

Mon Feb  4 11:59:37 2002  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	mise à jour

Mon Feb  4 10:18:33 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po As the translation of 'Citizens Management Agent'
	leads to something awkward, I've taken the liberty to introduce
	the term 'Burgemeester' (= Mayor)

Mon Feb  4 09:38:18 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated.  Most additions by Christian Knoke
	<ChrisK@enter.de>.

Sun Feb  3 11:58:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/cma_fec.c, client/gui-gtk/cma_fe.c,
	po/POTFILES.in:

	Enable i18n for the recently applied CMA.

Sat Feb  2 16:45:26 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Feb  2 15:31:55 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/hash.c, server/gotohand.c, server/maphand.c:

	Fix warnings the compiler creates while compiling with NDEBUG.

	Patch from Jason Short <vze2zq63@verizon.net>.

Sat Feb  2 14:07:35 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/spaceshipdlg.c, client/climisc.c,
	client/climisc.h, client/gui-win32/spaceshipdlg.c:

	Unify the code which builds the textual description of a
	spaceship.

Sat Feb  2 14:06:29 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/report.c:

	Change to code to use the PL_ macro.

	Patch from Mateusz Stefek <matusik_s@o2.pl>.

Sat Feb  2 13:24:40 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/report.c:

	Cleanup of report_top_five_cities: seperate the two distinct uses
	of the number 5. Convert a for loop to a players_iterate.

Sat Feb  2 12:09:17 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated.

Sat Feb  2 10:01:30 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c:

	Exit the client after displaying the usage text.

	Patch from Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Sat Feb  2 09:55:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/repodlgs.c, client/gui-mui/repodlgs.c,
	client/gui-win32/repodlgs.c, common/shared.h, common/tech.c:

	Rename INFINITY to FC_INFINITY since INFINITY is a name reserved
	by the C standard.

	Reported by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.

Sat Feb  2 09:51:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/swedish.ruleset:

	Enclose a region in comments to disable warnings.

Sat Feb  2 09:36:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/.cvsignore:

	Add the agents infrastructure. From the readme:

	An agent is a piece of code which is responsible for a certain
	area. An agent will be given a specification by the user of the
	agent and a set of objects which the agent can controll (the
	production queue of a city, a city, a unit, a set of units or the
	whole empire). The user can be a human player or another part of
	the code including another agent. There is no extra interaction
	between the user and the agent needed after the agent got its task
	description.

	Add the citizen management agent (CMA). From the docu:

	The purpose of this agent is to manage the citizens of a city. The
	caller has to provide a goal which determines in which way the
	citizens are allocated and placed. The agent will also avoid
	disorder. The plan defines a minimal surplus. The agent will try
	to get the required surplus. If there are citizens free after
	allocation of the minimal surplus these citizens will get arranged
	to maximize the sum over base*factor. The base depends upon the
	factor_target.

	The agents infrastructure and the core of the CMA were developed
	by me. The GTK frontend and README.cma is from Mike Kaufman
	<mkaufman@math.ukans.edu>. Thanks go to Christian Knoke
	<ChrisK@enter.de> for his testing.

Sat Feb  2 09:34:18 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents/Makefile.in:

	Add the agents infrastructure. From the readme:

	An agent is a piece of code which is responsible for a certain
	area. An agent will be given a specification by the user of the
	agent and a set of objects which the agent can controll (the
	production queue of a city, a city, a unit, a set of units or the
	whole empire). The user can be a human player or another part of
	the code including another agent. There is no extra interaction
	between the user and the agent needed after the agent got its task
	description.

	Add the citizen management agent (CMA). From the docu:

	The purpose of this agent is to manage the citizens of a city. The
	caller has to provide a goal which determines in which way the
	citizens are allocated and placed. The agent will also avoid
	disorder. The plan defines a minimal surplus. The agent will try
	to get the required surplus. If there are citizens free after
	allocation of the minimal surplus these citizens will get arranged
	to maximize the sum over base*factor. The base depends upon the
	factor_target.

	The agents infrastructure and the core of the CMA were developed
	by me. The GTK frontend and README.cma is from Mike Kaufman
	<mkaufman@math.ukans.edu>. Thanks go to Christian Knoke
	<ChrisK@enter.de> for his testing.

Sat Feb  2 09:30:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/Makefile.in, client/Makefile.in, client/gui-gtk/Makefile.in,
	client/gui-stub/Makefile.in, client/gui-win32/Makefile.in,
	client/gui-xaw/Makefile.in, client/include/Makefile.in,
	common/Makefile.in, data/civ1/Makefile.in, data/Makefile.in,
	data/civ2/Makefile.in, data/classic/Makefile.in,
	data/default/Makefile.in, data/engels/Makefile.in,
	data/hires/Makefile.in, data/misc/Makefile.in,
	data/scenario/Makefile.in, data/nation/Makefile.in,
	data/trident/Makefile.in, doc/Makefile.in, server/Makefile.in:

	Add the agents infrastructure. From the readme:

	An agent is a piece of code which is responsible for a certain
	area. An agent will be given a specification by the user of the
	agent and a set of objects which the agent can controll (the
	production queue of a city, a city, a unit, a set of units or the
	whole empire). The user can be a human player or another part of
	the code including another agent. There is no extra interaction
	between the user and the agent needed after the agent got its task
	description.

	Add the citizen management agent (CMA). From the docu:

	The purpose of this agent is to manage the citizens of a city. The
	caller has to provide a goal which determines in which way the
	citizens are allocated and placed. The agent will also avoid
	disorder. The plan defines a minimal surplus. The agent will try
	to get the required surplus. If there are citizens free after
	allocation of the minimal surplus these citizens will get arranged
	to maximize the sum over base*factor. The base depends upon the
	factor_target.

	The agents infrastructure and the core of the CMA were developed
	by me. The GTK frontend and README.cma is from Mike Kaufman
	<mkaufman@math.ukans.edu>. Thanks go to Christian Knoke
	<ChrisK@enter.de> for his testing.

Sat Feb  2 09:28:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* Makefile.in, configure:

	Add the agents infrastructure. From the readme:

	An agent is a piece of code which is responsible for a certain
	area. An agent will be given a specification by the user of the
	agent and a set of objects which the agent can controll (the
	production queue of a city, a city, a unit, a set of units or the
	whole empire). The user can be a human player or another part of
	the code including another agent. There is no extra interaction
	between the user and the agent needed after the agent got its task
	description.

	Add the citizen management agent (CMA). From the docu:

	The purpose of this agent is to manage the citizens of a city. The
	caller has to provide a goal which determines in which way the
	citizens are allocated and placed. The agent will also avoid
	disorder. The plan defines a minimal surplus. The agent will try
	to get the required surplus. If there are citizens free after
	allocation of the minimal surplus these citizens will get arranged
	to maximize the sum over base*factor. The base depends upon the
	factor_target.

	The agents infrastructure and the core of the CMA were developed
	by me. The GTK frontend and README.cma is from Mike Kaufman
	<mkaufman@math.ukans.edu>. Thanks go to Christian Knoke
	<ChrisK@enter.de> for his testing.

Sat Feb  2 09:23:03 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.in:

	Add the agents infrastructure. From the readme:

	An agent is a piece of code which is responsible for a certain
	area. An agent will be given a specification by the user of the
	agent and a set of objects which the agent can controll (the
	production queue of a city, a city, a unit, a set of units or the
	whole empire). The user can be a human player or another part of
	the code including another agent. There is no extra interaction
	between the user and the agent needed after the agent got its task
	description.

	Add the citizen management agent (CMA). From the docu:

	The purpose of this agent is to manage the citizens of a city. The
	caller has to provide a goal which determines in which way the
	citizens are allocated and placed. The agent will also avoid
	disorder. The plan defines a minimal surplus. The agent will try
	to get the required surplus. If there are citizens free after
	allocation of the minimal surplus these citizens will get arranged
	to maximize the sum over base*factor. The base depends upon the
	factor_target.

	The agents infrastructure and the core of the CMA were developed
	by me. The GTK frontend and README.cma is from Mike Kaufman
	<mkaufman@math.ukans.edu>. Thanks go to Christian Knoke
	<ChrisK@enter.de> for his testing.

Sat Feb  2 09:21:32 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am, client/attribute.c, client/attribute.h,
	client/cityrepdata.c, client/cityrepdata.h, client/civclient.c,
	client/clinet.c, client/options.c, client/packhand.c,
	client/agents/Makefile.am, client/agents/agents.c,
	client/agents/agents.h, client/agents/cma_core.c,
	client/agents/cma_core.h, client/agents/cma_fec.c,
	client/agents/cma_fec.h, client/gui-gtk/Makefile.am,
	client/gui-gtk/citydlg.c, client/gui-gtk/citydlg.h,
	client/gui-gtk/cityrep.c, client/gui-gtk/cma_fe.c,
	client/gui-gtk/cma_fe.h, client/gui-gtk/mapctrl.c,
	common/events.h, README.agents, README.cma:

	Add the agents infrastructure. From the readme:

	An agent is a piece of code which is responsible for a certain
	area. An agent will be given a specification by the user of the
	agent and a set of objects which the agent can controll (the
	production queue of a city, a city, a unit, a set of units or the
	whole empire). The user can be a human player or another part of
	the code including another agent. There is no extra interaction
	between the user and the agent needed after the agent got its task
	description.

	Add the citizen management agent (CMA). From the docu:

	The purpose of this agent is to manage the citizens of a city. The
	caller has to provide a goal which determines in which way the
	citizens are allocated and placed. The agent will also avoid
	disorder. The plan defines a minimal surplus. The agent will try
	to get the required surplus. If there are citizens free after
	allocation of the minimal surplus these citizens will get arranged
	to maximize the sum over base*factor. The base depends upon the
	factor_target.

	The agents infrastructure and the core of the CMA were developed
	by me. The GTK frontend and README.cma is from Mike Kaufman
	<mkaufman@math.ukans.edu>. Thanks go to Christian Knoke
	<ChrisK@enter.de> for his testing.

Sat Feb  2 08:57:36 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/citytools.c:

	Add the tile_trade field to a packet_short_city. For the exact
	client side calculation of the benefit of trade routes it is
	necessary to know the tile_trade field of the other city. It is
	possible that the other city is an enemy city. Information for
	enemy cities are send using packet_short_city. The change sets the
	tile_trade field of a packet_short_city to non-zero if the
	receiving player has a city which has a traderoute with the city
	the packet is about. See also the change from "Sat Oct 6 21:02:01
	2001 (GMT)"

	Reveal the other endpoints of the traderoutes if a city is
	transfered.

Sat Feb  2 08:33:37 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/agents:

	Directory /home/freeciv/CVS/freeciv/client/agents added to the
	repository

Fri Feb  1 13:28:35 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets_lsend.c, common/packets_lsend.h:

	Run create_lsend.pl.

Thu Jan 31 22:48:27 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/gotohand.c, server/maphand.c, server/maphand.h:

	general cleanup of find_a_direction() as well as make triremes
	safer by having them attempt to find coast if there no
	alternative.

	add a function is_coast_seen() to take advantage of the knowledge
	that a coastal tile shows a land strip near the edge even if it's
	otherwise unknown. [Note: this is a strong indication that the
	client knows more than it should]

	Patch by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>

Thu Jan 31 15:17:38 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/hash.c:

	Make compiler happy.

	Reported by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.

Wed Jan 30 15:44:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/shared.c:

	Set the value of PATH_SEPARATOR based on a sensible rule.

	Reported by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.

Tue Jan 29 22:06:15 2002  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* ai/advmilitary.c, ai/aiunit.c, ai/aiunit.h:

	Extract common code into a new function, military_amortize(). 
	Patch by Gregory Berkolaiko (gberkolaiko@yahoo.co.uk)

Tue Jan 29 07:45:04 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated.  Mailinglist of the German language team changed.

Mon Jan 28 12:16:07 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jan 28 04:41:40 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h:

	remove redundant and obsolete variables.  major reformatting
	changes. reorder functions.

	Patch by Mike Kaufman <mkaufman@math.ukans.edu>

Mon Jan 28 03:33:22 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Jan 27 19:53:48 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c:

	Fix spelling error.

	Reported by Anthony Ferrand <Anthony-Ferrand@wanadoo.fr>.

Sun Jan 27 19:47:40 2002  Miguel Lobo <miguell@miguell.cjb.net>:

	* po/es.po:

	Updated Spanish translation; new Spanish translator address

Sun Jan 27 18:59:12 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* diff_ignore:

	Add *.diff and *.patch.

Sun Jan 27 18:58:36 2002  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	petit ajout Anthony

Sun Jan 27 16:10:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Make the call of the client side handle_move_unit() function
	illegal.

	From Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Sun Jan 27 02:35:16 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated. Thanks to Christian Knoke <ChrisK@enter.de>.

Sat Jan 26 20:16:31 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c:

	Convert the options saving to use section_file (i.e.
	common/registry) instead of fprintf.

	Patch from Mike Kaufman <mkaufman@math.ukans.edu> with changes
	from me.

Sat Jan 26 20:14:13 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/registry.c, common/registry.h:

	Add the ability to add comments to entries. Comments are currently
	only supported for output and won't work with the table format.

Sat Jan 26 19:56:59 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c, common/city.h:

	Export base_city_celebrating.

Sat Jan 26 18:10:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/attribute.c, client/attribute.h:

	Move documentation of functions from attribute.h to attribute.c.

Sat Jan 26 04:49:06 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-gtk/citydlg.c:

	remove redundant worklist editor update, stop superfluous city
	options packets. condense some city options code. minor formatting
	changes.

	Patch by Mike Kaufman <mkaufman@math.ukans.edu>

Fri Jan 25 07:24:10 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/es.po:

	Add a missing %s and a missing %.

	Reported from Guillermo Lopez <GLMRLMSLMNLM@terra.es> as (PR#997)
	and Jose <josev@altavista.com> as (PR#1237).

Fri Jan 25 02:09:45 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/cityhand.c:

	Fixed one line bug in is_worker_here() test. It didn't manifest
	itself because of the way the enum was defined.

Fri Jan 25 01:01:48 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/goto.c:

	Consolidate redundant code by moving it out of the switch
	statement.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net> Reported
	by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>

Thu Jan 24 18:36:35 2002  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Fix format.

Wed Jan 23 08:58:30 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/srv_main.c:

	Send PACKET_START_TURN for every reconnect. This ensures that
	there is a PACKET_START_TURN for every PACKET_GAME_STATE packet
	which contains CLIENT_GAME_RUNNING_STATE as its value.

	One PACKET_START_TURN is also sent for every new turn
	(PACKET_BEFORE_NEW_YEAR or PACKET_NEW_YEAR are indicators for
	this).

Wed Jan 23 08:53:51 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* intl/localcharset.c:

	Add missing prototype for locale_charset.

Tue Jan 22 17:08:07 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	During the transfer of a city unfog the city first to the new
	owner before a city_info packet is sent containing the new owner.

Tue Jan 22 17:04:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure, configure.in:

	Added Finnish translation. Created from Sini Ruohomaa
	<sini.ruohomaa@student.uib.no>.

Tue Jan 22 16:26:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/fi.po:

	Added Finnish translation. Created from Sini Ruohomaa
	<sini.ruohomaa@student.uib.no>.

Tue Jan 22 10:37:26 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jan 21 16:41:27 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Mon Jan 21 11:04:57 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Convert the status of unreal map positions in citymaps in
	incorrect savegames from C_TILE_EMPTY to C_TILE_UNAVAILABLE.

	Reported by Vasco Alexandre Da Silva Costa <vasc@rnl.ist.utl.pt>
	as (PR#1214).

Mon Jan 21 10:47:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/civ1/game.ruleset, common/tech.c,
	data/default/game.ruleset, data/civ2/game.ruleset,
	server/ruleset.c:

	Split tech leakage style 1 into two (include/exclude barbarians).
	Reorder the leakage styles from the least reduction to the most
	reduction. Remove bogus assert in set_invention.

Mon Jan 21 10:19:04 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/tech.c:

	Fix a bug which caused future techs to have a cost of zero.

	Reported by Paul Zastoupil <paulz@dunedain.net>.

Mon Jan 21 10:16:19 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/helpdlg.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/repodlgs.c, client/gui-win32/helpdlg.c,
	client/gui-win32/inteldlg.c, client/gui-mui/helpdlg.c,
	client/gui-mui/inteldlg.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/repodlgs.c,
	po/POTFILES.in, common/tech.c, common/tech.h, server/plrhand.c,
	server/unittools.c:

	Cleanup of the future tech handling. This includes a test function
	(is_future_tech) and a generic method for the generation of the
	names for technologies (get_tech_name).

Sat Jan 19 03:25:46 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c, common/astring.h, common/improvement.c,
	common/improvement.h, common/specvec_c.h:

	Generalized improvement code enhancements: - new athing method
	ath_get().  - cleanup.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>.

Thu Jan 17 15:09:02 2002  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update from Gabor Takacs.

Thu Jan 17 10:58:13 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Jan 17 10:06:18 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Jan 17 09:58:27 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/mapview_common.c:

	Handle a special case for tiles which are used by another city.

	Reported as (PR#1198) by Daniel Speyer
	<dspeyer@users.sourceforge.net>. Patch from Jason Short
	<vze2zq63@verizon.net>.

Thu Jan 17 08:36:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* configure.in, configure:

	Add support for extended plural forms. Some languages have more
	plural forms than English (which only has two forms: singular and
	plural). To allow a translator to translate for example "3 units"
	correctly the PL_ macro is introduced. Usage: PL_(singular as a
	string, plural as a string, number of objects as int) Example:
	PL_("%d unit", "%d units", units)

	Patch from Mateusz Stefek <matusik_s@o2.pl> with additions from
	me.

Wed Jan 16 03:16:26 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/packhand.c:

	Applied first part of patch (PR#1094).  This patch reduces the
	number of calls to update_all_effects().

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>.

Tue Jan 15 21:23:49 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/repodlgs.c, client/gui-mui/repodlgs.c,
	client/gui-win32/repodlgs.c, client/gui-xaw/repodlgs.c:

	Add a special message if the cities produce no bulbs at all.

Tue Jan 15 21:15:07 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/cityturn.c, server/plrhand.c, server/plrhand.h:

	Make the usage of generated bulbs more fair. Bulbs which are
	leftover are now added to the next tech and will not be discarded.
	So the distribtion of the bulbs doesn't matter anymore.

	Remove two unused return values.

Tue Jan 15 19:36:24 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/tech.c:

	Cleanup and fixing of base_total_bulbs_required. Change the guards
	against divide by zero. Convert if-elseif to switch. Change
	semantics of leakage style 2.

	Reported from Jason Short <vze2zq63@verizon.net> as (PR#1221) and
	Stefan Schnetter <schnetter@gmx.net> as (PR#1228).

Tue Jan 15 19:13:15 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/tech.c:

	Correct the mistake that the goal tech isn't included in
	num_unknown_techs_for_goal.

	Reported by Christian Knoke <ChrisK@enter.de> as (PR#1230).

Tue Jan 15 19:01:39 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/wldlg.h, ai/advmilitary.h, ai/aihand.h,
	ai/aiunit.h, client/gui-xaw/canvas.h, client/gui-xaw/canvasp.h,
	client/gui-xaw/pixcomm.h, client/gui-xaw/pixcommp.h,
	client/gui-xaw/wldlg.h, server/savegame.h, server/settlers.h,
	server/unittools.h:

	Add missing includes.

Tue Jan 15 17:08:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c:

	Add notifier about a non-empty worklist ("(worklist)") to the name
	of the item which the city is building.

	Patch from Mike Kaufman <mkaufman@math.ukans.edu> and me.

Mon Jan 14 17:17:09 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/helpdata.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/happiness.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-mui/citydlg.c,
	client/gui-mui/plrdlg.c, client/gui-mui/repodlgs.c,
	client/gui-mui/worklistclass.c, client/gui-win32/citydlg.c,
	client/gui-win32/plrdlg.c, client/gui-win32/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, common/fcintl.h, server/unittools.c:

	Add support for extended plural forms. Some languages have more
	plural forms than English (which only has two forms: singular and
	plural). To allow a translator to translate for example "3 units"
	correctly the PL_ macro is introduced. Usage: PL_(singular as a
	string, plural as a string, number of objects as int) Example:
	PL_("%d unit", "%d units", units)

	Patch from Mateusz Stefek <matusik_s@o2.pl> with additions from
	me.

Mon Jan 14 15:12:29 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Fix a bug where the main map isn't updated if the citizen
	positions are changed from inside a city dialog.

	Reported and patch from Mateusz Stefek <matusik_s@o2.pl>.

Mon Jan 14 15:03:47 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c:

	Unify the switch-to-next/prev-city callbacks.

	Patch from Mike Kaufman <mkaufman@math.ukans.edu> with changes
	from me.

Mon Jan 14 09:28:35 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/nation.h:

	Include terrain.h.

	Reported by Chris Richards <chrisr@tippingpoint.com> as (PR#1224).

Mon Jan 14 04:14:23 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* README.coding_style, freeciv_hackers_guide.txt:

	Move mini-style guide from freeciv_hackers_guide.txt to its own
	README, with additional guidelines.

	Patch by Mike Kaufman <mkaufman@math.ukans.edu> and freeciv-dev
	<freeciv-dev@freeciv.org>

Sun Jan 13 23:48:59 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* aclocal.m4, configure:

	Patch (PR#1223), check for alternative names of gtk-config in
	order to find it on other platforms.

	Patch by Reinier Post <rp@win.tue.nl>.

Sun Jan 13 23:28:53 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/mapview.c:

	Made get_center_tile_mapcanvas() just like in the gtk+ client.
	This fixes an assert failure.

Sun Jan 13 18:24:45 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/mapgen.c:

	This patch should stop the assert failures in
	fill_ranges_improv_lists().

	Bug reported by Jason Dorje Short <vze2zq63@verizon.net>.

Sat Jan 12 18:02:24 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/improvement.c:

	Fix for an array bound overrun in get_effect_vectors() i
	introduced in my commit on Thu Jan 10 15:14:03 PST 2002.

Sat Jan 12 01:08:49 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/packhand.c, common/game.c, common/game.h,
	server/gamehand.c, server/savegame.c:

	Fixed memory leak in client/packhand.c.  Changed
	game.destroyed_effects to ceff_vector type.  Ran automake again to
	ensure there are no broken dependencies.

	Bugs reported by Ben Webb <ben@bellatrix.pcl.ox.ac.uk>.

Fri Jan 11 20:41:20 2002  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	quelques traductions

Fri Jan 11 13:50:48 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/capstr.c, common/game.h,
	common/packets.c, common/packets.h, common/tech.c, common/tech.h,
	data/civ1/game.ruleset, data/civ2/game.ruleset,
	data/default/game.ruleset, server/ruleset.c, server/rulesout.c:

	Make the way in which the costs for techs are determined more
	flexible. From game.ruleset:

	Method of calculating technology costs 0 - Civ (I|II) style. Every
	new tech add researchcost to cost of next tech.  1 - Cost of
	technology is (1+num_parents)*researchcost, where num_parents ==
	number of requirement for tech, counted recursively.  2 - Cost are
	read from tech.ruleset. Missing costs are generated by style 1.

	Technology leak from other civilizations 0 - No leak 1 - Tech
	costs are multiplied by (num_players-civs_with_tech)/num_players 2
	- Same as 1, but civs_with_tech is only counted from players you
	have embassy with

	Patch from Juha Litola <slave@areality.org>.

Fri Jan 11 11:11:50 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aihand.c, ai/aitech.c, ai/aitech.h,
	client/packhand.c, common/game.c, common/game.h, common/player.h,
	common/tech.c, common/tech.h, server/diplomats.c,
	server/plrhand.c, server/plrhand.h, server/report.c,
	server/unittools.c:

	Introduce of the following new functions
	total_bulbs_required_for_goal, is_tech_a_req_for_goal,
	base_total_bulbs_required and found_new_future_tech.

	Move total_bulbs_required from common/game to common/tech.

	Remove TECH_MARKED.

	Generalize the old AI cache (num_unknown_techs). The new cache is
	in struct player_research(required_techs, num_required_techs and
	bulbs_required).

Fri Jan 11 04:24:14 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* client/gui-xaw/mapview.c:

	fix nasty bug so things get drawn correctly

	Patch by Jason Dorje Short <vze2zq63@verizon.net>

Fri Jan 11 02:35:54 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c:

	Indented one line.

Fri Jan 11 02:32:44 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c:

	Replaced unit_list_iterate loops in num_supported_units_in_city()
	and num_present_units_in_city() for unit_list_size() calls. Why
	wasn't this used in the first place?

Thu Jan 10 23:36:43 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c:

	Fixed one bug in the previous commit i made.

Thu Jan 10 23:14:03 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c, server/citytools.c, common/city.c,
	common/improvement.c, common/improvement.h:

	Commited a big chunk of patch (PR#1142). This patch adds or
	removes effects when improvements are built, transferred or sold.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> with some changes
	by me.

Thu Jan 10 19:21:57 2002  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Thu Jan 10 11:27:34 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/capstr.c, common/packets.c:

	Reduce network bandwidth used by only transferring the parts of a
	worklist which hold information.

Thu Jan 10 11:23:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/worklist.c, common/worklist.h:

	Added 'const' qualifier to some function arguments.

Thu Jan 10 11:07:59 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/cityturn.c:

	Reduce the food stock after a population loss. This will allow
	correct estimation of the "turns-till-city-grow" at the client
	side.

	Reported from Daniel Sjölie <deepone@acc.umu.se> as (PR#1134).
	Patch from me.

Thu Jan 10 10:21:21 2002  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jan  9 21:50:58 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* Makefile.in, ai/Makefile.in, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/include/Makefile.in,
	client/gui-xaw/Makefile.in, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/classic/Makefile.in,
	data/civ2/Makefile.in, data/default/Makefile.in,
	data/engels/Makefile.in, data/hires/Makefile.in,
	data/misc/Makefile.in, data/nation/Makefile.in,
	data/scenario/Makefile.in, doc/Makefile.in,
	data/trident/Makefile.in, server/Makefile.in:

	Ran automake. Since the new official Freeciv automake version is
	1.4-p5 instead of the previous 1.4 this has forced me to update
	all automake generated files.

Wed Jan  9 21:49:07 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/specvec.h, common/specvec_c.h:

	Added generic vector (resizeable array) code.

Wed Jan  9 21:48:08 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c, client/climisc.h, client/packhand.c,
	common/Makefile.am, common/city.h, common/game.c, common/game.h,
	common/improvement.c, common/improvement.h, common/player.c,
	common/player.h, server/citytools.c, server/gamehand.c,
	server/mapgen.c, server/maphand.c, server/plrhand.c,
	server/ruleset.c, server/savegame.c:

	Commited patch (PR#1140) which contains code to set up and free
	lists for tracking improvement effects.  It has been modified to
	use a new vector type based on allocatable things (in astring.c,
	astring.h).

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> with some changes
	by me.

Wed Jan  9 18:44:47 2002  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/gettext.c, amiga/smakefile, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/graphics.c,
	client/gui-mui/mapclass.c, client/gui-mui/overviewclass.c:

	Amiga Version: Compiles now again.  Removed map_adjust_x().  Fixed
	some bugs in the gettext support

Wed Jan  9 16:12:53 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c:

	Flush attributes if the user disconnects.

	Patch from Teemu Kurppa <tkurppa@hoasnet.fi>.

Wed Jan  9 11:01:22 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Jan  9 02:45:46 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c, client/climisc.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-xaw/cityrep.c,
	client/gui-win32/cityrep.c, common/city.c:

	Commited patch "Generalised improvement name generation"
	(PR#1118).

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> with style changes
	by me.

Tue Jan  8 07:15:27 2002  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	updated

Mon Jan  7 21:13:08 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/stdinhand.c:

	Restrict the set of possible values for the maxplayers option to
	disable DoS attacks.

	Reported by Stefan Schnetter <schnetter@gmx.net> as (PR#1103).
	Patch from Petr Mojzisek <mojzisek@KMLinux.fjfi.cvut.cz>.

Mon Jan  7 20:42:12 2002  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* data/scenario/Makefile.in:

	Ran automake

Sun Jan  6 18:22:20 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/Makefile.am:

	New version from Martin McMahon <martin.mcmahon@ukonline.co.uk>.

Sun Jan  6 16:43:26 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, common/map.h:

	Remove superfluous dithers at the edge of the map.

	Reported as (PR#1132) by Jason Short <vze2zq63@verizon.net>. Patch
	from Jason Short <vze2zq63@verizon.net> with changes from me.

Sun Jan  6 16:14:43 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/british-isles-80x76-v2.51.sav,
	data/scenario/british-isles-85x80-v2.77.sav:

	New version from Martin McMahon <martin.mcmahon@ukonline.co.uk>.

Sun Jan  6 10:35:06 2002  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Restrict the change from DS_NEUTRAL to DS_WAR to AI players. Add
	comments.

	Reported as (PR#957) by Andreas Beckmann
	<andreas.beckmann@student.uni-halle.de> and as (PR#1146) by
	Christian Knoke <ChrisK@enter.de>. Patch from Thue Janus
	Kristensen <thue@diku.dk>.

Thu Jan  3 11:53:52 2002  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2229t+60f+429u.  Merge SUENAGA Yasuo's
	translation.

Wed Jan  2 23:43:33 2002  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c:

	Adds the client type to the version command line option output.
	Patch (PR#1188).

	Patch by Paul Zastoupil <paulz@dunedain.net>.

Wed Jan  2 20:55:14 2002  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advdomestic.c:

	cleanup of domestic_advisor_choose_build() in advdomestic.c

	no changes to AI behavior.

	patch by Petr Baudis <pasky@pasky.ji.cz>

Sun Dec 30 01:09:37 2001  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu,astuckey@imsa.edu>:

	* PEOPLE:

	Updating information on maintainers.

Sat Dec 29 22:43:27 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* PEOPLE:

	Updated the email of the Japanese translator.

Sat Dec 29 19:42:54 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/netintf.c:

	Fix for (PR#1172). This enables clean compilation on OS/2 EMX.  I
	also modified one line of the current code to comply with the
	style guide.

	Patch by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.

Fri Dec 28 21:42:55 2001  Sawada Katsuya <ama@petmail.net>:

	* po/ja.po:

	Update ja.po to 2070t+74f+574u.  Merge SUENAGE Yasuo's
	translation(see file header).

Fri Dec 28 21:16:00 2001  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* server/autoattack.c:

	remove a redundant variable and conditional

	Patch by Chris Richards <chrisr@tippingpoint.com>

Tue Dec 25 23:58:13 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/nation.c, common/nation.h:

	Added 'const' qualifier to some function arguments.

Mon Dec 24 13:41:36 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Dec 23 17:08:31 2001  Mike Kaufman <kaufman@orion.physics.wisc.edu>:

	* ai/advdomestic.c:

	cleanup of ai_best_tile_value(), building_value(),
	ocean_workers(), road_trade(), farmland_food(), pollution_cost()
	in advdomestic.c

	renamed pollution_cost() -> pollution_benefit() renamed
	building_value() -> impr_happy_val()

	no changes to AI behavior.

	patch by Petr Baudis <pasky@pasky.ji.cz>

Fri Dec 21 19:14:19 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapview.c:

	Remove map_adjust_[xy] calls.

	Patch from Jason Short <vze2zq63@verizon.net> with change from me.

Fri Dec 21 16:53:11 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/mapview_common.c, client/mapview_common.h,
	client/gui-gtk/mapctrl.c, client/gui-mui/mapclass.c,
	client/gui-xaw/mapctrl.c:

	Move identical instances of find_city_near_tile() into
	mapview_common. Remove usage of unreal map positions. Make
	function body more strict.

	Reported by Paul Zastoupil as (PR#1107). Patch from Jason Short
	<vze2zq63@verizon.net> with changes from me.

Fri Dec 21 16:26:39 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/dialogs.c, client/gui-mui/dialogs.c,
	client/gui-win32/dialogs.c, common/city.h,
	client/gui-xaw/dialogs.c, server/cityturn.c:

	Print a special message if a city can't be incited (because it is
	capitals for example).

	Reported from Stuart Yeates <s.yeates@cs.waikato.ac.nz> (PR#1088).
	Patch from me.

Fri Dec 21 11:27:06 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/citydlg.c:

	Add a missing include.

Fri Dec 21 11:17:33 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitech.h, client/climisc.c, client/packhand.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/repodlgs.c,
	client/gui-mui/helpdlg.c, client/gui-mui/inteldlg.c,
	client/gui-mui/repodlgs.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/repodlgs.c, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.h,
	common/shared.h, common/tech.c, common/tech.h, server/diplomats.c,
	server/plrhand.c, server/report.c, server/savegame.c,
	server/unittools.c:

	Cleanup of types, function-names, field-names and comments related
	to techs.  - calculate_tech_turns() ->
	calculate_num_unknown_techs() - research_time() ->
	total_bulbs_required() - tech_goal_turns() ->
	num_unknown_techs_for_goal() - field researched in player ->
	bulbs_researched - field researchpoints in player ->
	techs_researched

Wed Dec 19 20:28:40 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c:

	Corrected size of unit selection dialog (NORMAL_TILE_* ->
	UNIT_TILE_*)

Wed Dec 19 20:05:33 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-beos/mapview.cpp, client/gui-stub/mapview.c,
	client/gui-mui/mapclass.c:

	Removed map_canvas_adjust_[xy] Patch by Jason Short
	<vze2zq63@verizon.net>

Wed Dec 19 20:00:18 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/menu.c,
	client/gui-win32/wldlg.c, client/gui-win32/wldlg.h:

	gui-win32: Added worklist dialog

Tue Dec 18 19:44:00 2001  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	Quelques ajouts Anthony

Tue Dec 18 13:52:36 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapview.c:

	Removed map_adjust_[xy] from gui-win32 Patch by  Jason Short
	<vze2zq63@verizon.net>

Sat Dec 15 10:40:56 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Fri Dec 14 10:46:09 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	updated

Fri Dec 14 08:51:44 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Dec 13 19:13:17 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/mapgen.c, server/stdinhand.c:

	Add the option "tinyisles" to leave tiny (1x1) islands on the map.
	Add the option "separatepoles" to allow poles which are connected
	with a continent.

	Patch from Karen Yeats <kayeats@uwaterloo.ca> with changes from
	me.

Thu Dec 13 17:17:35 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapview.c:

	Oops, get_center_tile_mapcanvas was wrong. Corrected

Thu Dec 13 17:02:48 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/graphics.c, client/gui-win32/gui_main.c,
	client/gui-win32/gui_main.h, client/gui-win32/mapctrl.c,
	client/gui-win32/mapctrl.h, client/gui-win32/mapview.c:

	Removed some statically allocated DCs Put the map into a
	subwindow, so you don't need map_win_x and map_win_y anymore
	Implemented put_nuke_mushroom_pixmaps for isometric mode.

Thu Dec 13 16:27:28 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/polish.ruleset:

	Support for natural city names for the polish nation.

	Patch from Mateusz Stefek <matusik_s@o2.pl>.

Thu Dec 13 16:21:26 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/nation/swedish.ruleset:

	Enables natural city names in the swedish ruleset. Add a comment
	with etymological information that is useful when deciding where
	to put city names.

	Patch from Erik Sigra <sigra@home.se>.

Thu Dec 13 15:42:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, client/gui-beos/mapview.cpp,
	client/gui-gtk/mapview.c, client/gui-mui/mapview.c,
	client/gui-stub/mapview.c, client/gui-xaw/mapview.c,
	client/gui-win32/mapview.c:

	Move code from the various decrease_unit_hp_smooth()s into
	handle_unit_combat(). Add header comment to
	decrease_unit_hp_smooth.

	Patch from Jason Short <vze2zq63@verizon.net> with changes from
	me.

Thu Dec 13 15:30:31 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/citydlg_common.c, client/mapview_common.c:

	Rewrite and document the map-position-to-canvas-pixel-position
	transformation.

	Patch from Jason Short <vze2zq63@verizon.net>.

Wed Dec 12 04:44:17 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	updated

Tue Dec 11 16:48:48 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c, common/game.h, server/citytools.c,
	server/savegame.c, server/stdinhand.c:

	Add a new server variable "savepalace" which will rebuild a new
	palace for free (like the palace in the initial capital) in a
	randomly chosen city if the player lost his capital.

	Reported from Steve Kay <Steve.Kay@jhuapl.edu> as (PR#1070). Patch
	from Petr Baudis <pasky@pasky.ji.cz> and me.

Tue Dec 11 16:33:15 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ABOUT-NLS, AUTHORS, ChangeLog, Makefile.am, aclocal.m4,
	configure:

	Remove trailing newlines. Remove trailing whitespace in the last
	line.

Tue Dec 11 16:16:26 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/Makefile.am, ai/advisland.c, ai/aihand.c, amiga/ReadMe,
	amiga/ReadMe.developer, amiga/amigaclient.c, amiga/libintl.h,
	client/cityrepdata.c, client/climisc.h, client/gui-beos/App.cpp,
	client/gui-beos/App.hpp, client/gui-beos/Backend.cpp,
	client/gui-beos/Defs.cpp, client/gui-beos/MainWindow.cpp,
	client/gui-beos/Makefile, client/gui-beos/MapCanvas.cpp,
	client/gui-beos/OutputView.cpp, client/gui-beos/README.BeOS,
	client/gui-beos/README.design, client/gui-beos/RadarView.cpp,
	client/gui-beos/StatusView.cpp, client/gui-beos/SummaryView.cpp,
	client/gui-beos/UnitInfoView.cpp,
	client/gui-beos/UnitsBelowView.cpp, client/gui-beos/chatline.cpp,
	client/gui-beos/chatline.h, client/gui-beos/citydlg.h,
	client/gui-beos/cityrep.h, client/gui-beos/connectdlg.cpp,
	client/gui-beos/connectdlg.hpp, client/gui-beos/dialogs.cpp,
	client/gui-beos/dialogs.h, client/gui-beos/diplodlg.cpp,
	client/gui-beos/diplodlg.h, client/gui-beos/gotodlg.cpp,
	client/gui-beos/gotodlg.h, client/gui-beos/gui_main.h,
	client/gui-beos/helpdlg.hpp, client/gui-beos/mapctrl.h,
	client/gui-beos/mapview.h, client/gui-beos/menu.cpp,
	client/gui-beos/menu.hpp, client/gui-beos/messagewin.cpp,
	client/gui-beos/messagewin.h, client/gui-beos/optiondlg.cpp,
	client/gui-beos/optiondlg.hpp, client/gui-beos/plrdlg.h,
	client/gui-beos/repodlgs.h, client/gui-beos/spaceshipdlg.cpp,
	client/gui-beos/spaceshipdlg.h, client/gui-beos/wldlg.cpp,
	client/gui-gtk/Makefile.am, client/gui-gtk/gui_stuff.c,
	client/gui-gtk/menu.h, client/gui-mui/autogroupclass.h,
	client/gui-mui/cityrep.c, client/gui-mui/dialogs.c,
	client/gui-mui/finddlg.c, client/gui-mui/graphics.c,
	client/gui-mui/historystringclass.h, client/gui-mui/inputdlg.c,
	client/gui-mui/inteldlg.c, client/gui-mui/mapctrl.c,
	client/gui-mui/mapview.c, client/gui-mui/muistuff.c,
	client/gui-mui/objecttreeclass.h, client/gui-mui/overviewclass.h,
	client/gui-mui/plrdlg.c, client/gui-mui/scrollbuttonclass.h,
	client/gui-mui/spaceshipdlg.c,
	client/gui-mui/transparentstringclass.h, client/gui-mui/wldlg.c,
	client/gui-mui/worklistclass.h, client/gui-win32/Makefile.am,
	client/gui-win32/dialogs.c, client/gui-win32/diplodlg.c,
	client/gui-win32/graphics.c, client/gui-win32/mapctrl.c,
	client/gui-win32/mapview.c, client/gui-win32/menu.c,
	client/gui-win32/optiondlg.h, client/gui-win32/repodlgs.c,
	client/gui-win32/spaceshipdlg.c, client/gui-xaw/Makefile.am,
	client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/colors.c,
	client/gui-xaw/colors.h, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/pixcommp.h,
	client/gui-xaw/ratesdlg.c, client/include/citydlg_g.h,
	client/include/colors_g.h, client/include/menu_g.h,
	data/trident.tilespec, common/astring.c, common/genlist.c,
	common/idex.c, common/improvement.c, common/inputfile.c,
	common/mem.c, common/packets_lsend.c, common/registry.c,
	common/sbuffer.h, common/spaceship.h, common/unittype.c,
	data/civ1/techs.ruleset, data/civ1/units.ruleset,
	data/civ2/techs.ruleset, data/civ2/units.ruleset,
	data/default/techs.ruleset, data/default/units.ruleset,
	debian/docs, data/nation/arab.ruleset, data/nation/aztec.ruleset,
	data/nation/babylonian.ruleset, data/nation/bavarian.ruleset,
	data/nation/carthaginian.ruleset, data/nation/chilean.ruleset,
	data/nation/czech.ruleset, data/nation/dunedain.ruleset,
	data/nation/egyptian.ruleset, data/nation/finnish.ruleset,
	data/nation/hungarian.ruleset, data/nation/inca.ruleset,
	data/nation/indian.ruleset, data/nation/israeli.ruleset,
	data/nation/japanese.ruleset, data/nation/kenyan.ruleset,
	data/nation/korean.ruleset, data/nation/krevi.ruleset,
	data/nation/mongol.ruleset, data/nation/mordor.ruleset,
	data/nation/olympic.ruleset, data/nation/persian.ruleset,
	data/nation/polish.ruleset, data/nation/portuguese.ruleset,
	data/nation/russian.ruleset, data/nation/thai.ruleset,
	data/nation/ukrainian.ruleset, data/nation/vietnamese.ruleset,
	data/nation/zulu.ruleset, intl/ChangeLog, doc/INSTALL.debian.de,
	doc/NEWS.de, server/barbarian.c, server/meta.c:

	Remove trailing newlines. Remove trailing whitespace in the last
	line.

Mon Dec 10 21:00:18 2001  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update from Gabor Takacs.

Sun Dec  9 16:27:56 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* freeciv_hackers_guide.txt:

	Spelling: replace "incomming" with "incoming".

	Patch from "Per I. Mathisen" <Per.Inge.Mathisen@idi.ntnu.no>.

Sun Dec  9 16:02:11 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c, client/packhand.c, client/packhand.h,
	common/connection.h, common/packets.c, server/sernet.c:

	Spelling: replace "incomming" with "incoming".

	Patch from "Per I. Mathisen" <Per.Inge.Mathisen@idi.ntnu.no>.

Sun Dec  9 15:50:53 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/srv_main.c:

	Log the fact that the game is over.

	Patch from Petr Baudis <pasky@pasky.ji.cz>.

Sun Dec  9 14:08:26 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c:

	Remove redundant initializations. Adapt generate_warmap for this.

	Patch from Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>.

Sun Dec  9 11:14:46 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c:

	Realize a FIXME in goto_zoc_ok: goto_zoc_ok now gets a bitvector
	of the directions we came from. This makes dir_ok obsolete.

	Patch from Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>.

Sun Dec  9 09:16:24 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h, server/gamehand.c:

	Added new macros square_dxy_iterate and circle_iterate to
	common/map.h. Rewrite the initial exposing of tiles using
	circle_iterate to avoid unreal map positions.

	Reported as (PR#1063) and patch from Jason Dorje Short
	<vze2zq63@verizon.net>.

Sat Dec  8 16:52:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/barbarian.c, server/sernet.c, server/srv_main.c,
	server/stdinhand.c:

	Call rl_callback_handler_remove() before closing the server.  This
	ensures teh terminal is left in a sane state.

	Fixes (PR#1077) Patch by Petr Baudis <pasky@pasky.ji.cz> with
	changes by me.

Sat Dec  8 15:15:51 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/climisc.c, client/climisc.h, client/control.c,
	client/packhand.c, client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-mui/graphics.c, client/gui-mui/mapclass.c,
	client/gui-win32/citydlg.c, client/gui-win32/mapview.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/mapview.c, common/map.c,
	common/map.h:

	Moved tile_is_known() from common/ to client/ and renamed it to
	tile_get_known(). This solves PR#1098.

	Patch by Mike Kaufman <mkaufman@math.ukans.edu> with changes from
	Jason Dorje Short <jdorje@users.sourceforge.net>.

Thu Dec  6 11:59:04 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/nation.h, data/nation/american.ruleset,
	data/nation/argentine.ruleset, data/nation/australian.ruleset,
	data/nation/boer.ruleset, data/nation/brazilian.ruleset,
	data/nation/canadian.ruleset, data/nation/catalan.ruleset,
	data/nation/chilean.ruleset, data/nation/cornish.ruleset,
	data/nation/danish.ruleset, data/nation/dutch.ruleset,
	data/nation/english.ruleset, data/nation/filipino.ruleset,
	data/nation/french.ruleset, data/nation/german.ruleset,
	data/nation/greek.ruleset, data/nation/irish.ruleset,
	data/nation/roman.ruleset, data/nation/scottish.ruleset,
	data/nation/sioux.ruleset, data/nation/welsh.ruleset,
	server/cityhand.c, server/citytools.c, server/citytools.h,
	server/ruleset.c, server/settlers.c, server/unittools.c:

	Add the ability to structure the city names of the nations based
	on the (surrounding) terrain. For this city_name_suggestion now
	take the position of the city.

	Patch from Cameron Morland <cjmorlan@uwaterloo.ca> with changes
	from me.

Thu Dec  6 09:32:55 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c, common/player.h, common/unit.h:

	Change the way air_can_move_between works to not access unreal
	tiles and to be more readable. Extract the checks into
	airspace_looks_safe.

	Added MOVE_COST_AIR to unit.h.

	Added a new handicap to control behavior wrt fog of war.

	Reported by "Pieter J. Kersten" as (PR#1051). Patch from Jason
	Dorje Short <vze2zq63@verizon.net> with changes from me.

Thu Dec  6 01:03:48 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/citydlg_common.c:

	Added #include directive.

Wed Dec  5 04:15:50 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/citydlg_common.c, client/citydlg_common.h:

	I forgot to add the new files before commit.

Wed Dec  5 04:13:04 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.am, client/Makefile.in, configure,
	client/gui-gtk/Makefile.in, client/gui-gtk/citydlg.c,
	client/gui-mui/mapclass.c, client/gui-win32/citydlg.c,
	client/include/citydlg_g.h:

	Remove duplicated code from citydlg.c. Similar to the previous
	changes to mapview.c.

	Patch from Jason Dorje Short <vze2zq63@verizon.net>.

Tue Dec  4 12:07:29 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	Some errors corrected by Christian Knoke <ChrisK@enter.de>

Mon Dec  3 22:47:27 2001  Gabor Takacs <tg330@hszk.bme.hu>:

	* po/hu.po:

	Update from Gabor Takacs: The hu.po file is replaced to a better
	one.

Sun Dec  2 13:30:38 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/gotohand.c,
	server/settlers.c:

	Provide a base method (map_distance_vector) for calculating a
	distance between two map positions. This method depends on the
	topology. All other distance functions shouldn't.

	Update other distance functions. Remove xdist and ydist.

	Patch by Jason Dorje Short <vze2zq63@verizon.net> and me.

Fri Nov 30 12:50:36 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/chatline.c:

	Allow the sending of chatline packet at all time. Previously this
	wasn't allowed if the chatline wasn't sensitive. However the
	appearance of the chatline widget doesn't change if the widget is
	in-sensitive. This confuses the user.

	Patch from Juha Litola <slave@areality.org>.

Fri Nov 30 11:39:22 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c:

	Fix code which produces non-normal coordinates during the creation
	of a random map position in a rectangle.

	Reported by Jason Dorje Short <vze2zq63@verizon.net> as (PR#1043).
	Patch by me.

Tue Nov 27 20:11:29 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/mapview_common.c, client/mapview_common.h,
	client/gui-mui/mapview.c, client/gui-win32/mapview.c,
	client/gui-xaw/mapview.c:

	Extract and remove duplicated code in the mapview.c files. This
	code includes the function which transforms canvas coordinates to
	map positions (canvas_pos_to_map_pos) and back
	(map_pos_to_canvas_pos). And also the code which centers the
	mapview on a given map tile (base_center_tile_mapcanvas). The code
	of these three function is now gui independent and in
	client/mapview_common.

	Patch from Jason Dorje Short <vze2zq63@verizon.net>.

Tue Nov 27 10:05:14 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c:

	Cleanup: wrap global variables into a struct and pass a reference
	around.

Fri Nov 23 17:27:09 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c, common/map.h, server/barbarian.c,
	server/gamelog.c, server/maphand.c, server/savegame.c:

	Introduce regular map positions. Every map position (x,y) is
	regular iff 0<=x<map.xsize and 0<=y<map.ysize. This condition
	topology independent. The function regular_map_pos_is_normal tests
	if the given regular map position is normal.

	Merge similar loops in common/game.c into a macro.

	Replace "for(y=0;y<map.ysize;y++)for(x=0;x<map.xsize;x++)" loops
	with whole_map_iterate or add a check using
	regular_map_pos_is_normal.

	Patch by Jason Short <vze2zq63@verizon.net> with changes from me.

Thu Nov 22 20:03:46 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/plrdlg.c:

	Add a check for a non-existing flag. Depending on the tileset it
	is possible that certain nations doesn't have a flag sprite.

	Reported from Reinier Post <rp@win.tue.nl> as (PR#1053). Patch
	from me.

Tue Nov 20 22:03:36 2001  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	remplacement de / par | dans le menu ordres, ligne
	Aller/Aéroporter vers une ville Anthony

Tue Nov 20 22:02:41 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	Update. Correction from Mattias Andersson <tamasis@softhome.net>.

Tue Nov 20 20:59:39 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c:

	gui-win32: Have only one unit selection dialog at the same time.
	When races dialog is closed, focus the main window.

	Patch by James Wilson <jww1066@yahoo.com>

Sun Nov 18 11:40:38 2001  Anthony Ferrand <Anthony.Ferrand@wanadoo.fr>:

	* po/fr.po:

	*** empty log message ***

Fri Nov 16 15:53:44 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_stuff.c, client/gui-win32/optiondlg.c:

	Fixed  some problems with homogeneous hboxes and vboxes.

Fri Nov 16 14:29:30 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/graphics.c:

	gui-win32: Make the non-isometric mode work again.  Bug reported
	by  James Wilson <fat_hot@yahoo.com>

Sun Nov 11 17:46:21 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/barbarian.c, server/mapgen.c,
	server/maphand.c:

	Add new function map_num_tiles which yields the number of real map
	positions/tiles. This is necessary as a preparation for maps where
	normal!=regular.

	Patch by Jason Dorje Short <vze2zq63@verizon.net> with changes
	from me.

Sun Nov 11 16:18:32 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* freeciv_hackers_guide.txt:

	Add a new macro CHECK_MAP_POS which helps to assure that every map
	position argument of a function is normal. Calls to is_real_tile
	and/or normalize_map_pos are replaced with CHECK_MAP_POS or
	removed based on the context.

	Patch from Gaute B Strokkenes <gs234@cam.ac.uk> and Jason Dorje
	Short <vze2zq63@verizon.net>. Small changes from me.

Sun Nov 11 15:49:18 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, common/map.c, common/map.h, server/maphand.c,
	server/settlers.c, server/unittools.c:

	Add a new macro CHECK_MAP_POS which helps to assure that every map
	position argument of a function is normal. Calls to is_real_tile
	and/or normalize_map_pos are replaced with CHECK_MAP_POS or
	removed based on the context.

	Patch from Gaute B Strokkenes <gs234@cam.ac.uk> and Jason Dorje
	Short <vze2zq63@verizon.net>. Small changes from me.

Sun Nov 11 15:32:42 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	updated

Sun Nov 11 11:04:37 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c:

	Add an indicator in the GTK city dialog for the city states
	disorder/happy/celebrating.

	Patch from Andreas Beckmann
	<andreas.beckmann@student.uni-halle.de>.

Fri Nov  9 19:40:51 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	Fix typo reported by Mattias Andersson <tamasis@softhome.net>.

Wed Nov  7 19:16:12 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c:

	gui-win32: Draw the tiles in the right order, so that tiles closer
	to the viewer are not obscured by the tiles behind.

Wed Nov  7 18:48:21 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* configure, configure.in:

	Link against -lm only if needed to avoid trouble on cygwin builts
	Bug reported by James Wilson <fat_hot@yahoo.com>. Patch by me.

Wed Nov  7 18:39:05 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/mapview.c:

	gui-win32: Added smooth movement and hitpoint decrease

Mon Nov  5 08:58:30 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po. Fixed stupid spelling error.

Mon Nov  5 02:00:00 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* ai/aiunit.c:

	* ai/aiunit.c (city_reinforcements_cost_and_value): Add a
	semicolon to the end of a square_iterate block.

Sun Nov  4 01:52:04 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* client/gui-gtk/citydlg.c:

	* client/gui/gui/gtk/citydlg.c (city_dialog_update_map_iso): Draw
	the tiles in the right order, so that tiles closer to the viewer
	are not obscured by the tiles behind.

	Patch by Jason Dorje Short <jdorje@users.sourceforge.net>.

Thu Nov  1 10:03:07 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Replace unsigend with unsigned to make it compile.

	Reported by Johnny Mnemonic <johnny@themnemonic.org>.

Thu Nov  1 05:00:11 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* server/savegame.c:

	* server/savegame.c (player_load): Fix warnings on LP64 platforms.

Thu Nov  1 01:37:36 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	updated

Wed Oct 31 11:35:11 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Oct 30 18:53:33 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Tue Oct 30 18:17:26 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/citydlg.c, client/gui-win32/mapview.c:

	Corrected calls to city_turns_to_build (additional parameter)

Tue Oct 30 17:25:49 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/clinet.c:

	Makes the User-Agent string on windows looking nicer.

Tue Oct 30 17:10:58 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/Makefile.in:

	Ran automake

Tue Oct 30 12:11:44 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am, client/climisc.c, client/climisc.h,
	client/mapview_common.c, client/mapview_common.h,
	client/gui-mui/mapview.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h, client/gui-win32/mapview.c,
	client/gui-win32/mapview.h, client/gui-stub/mapview.c,
	client/include/mapview_g.h, client/gui-xaw/mapview.c:

	Create new files mapview_common.[ch] which should contain
	gui-independent functions which are are used from the
	client/gui-*/mapview.c files. Move refresh_tile_mapcanvas and
	get_grid_color to mapview_common.

	Patch from Jason Dorje Short <vze2zq63@verizon.net> and me.

Tue Oct 30 11:29:34 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, po/POTFILES.in:

	Translate strings in the new city dialog.

	Patch from Daniel Sjölie <deepone@acc.umu.se> and Michael
	Stefaniuc <mstefani@redhat.de> with changes from me.

Tue Oct 30 11:19:35 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c:

	Disable the "List present units" button if there are no units
	present.

Tue Oct 30 11:12:04 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c, client/options.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/gui_stuff.c:

	Add an option which specifies if the meta key has to be hold for a
	keyboard shortcut. Defaults to the old behavior which requires the
	meta key. Currently GTK-only.

	Patch from Daniel Sjölie <deepone@acc.umu.se>.

Tue Oct 30 10:59:20 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/barbarian.c, server/mapgen.c,
	server/maphand.c:

	Add new method rand_map_pos which generates a random map position
	on the map. Change code to use it.

	Patch from Jason Dorje Short <vze2zq63@verizon.net> with changes
	from me.

Tue Oct 30 10:37:18 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unithand.c:

	Remove unnecessary use of my_snprintf.

	Patch from Michael Stefaniuc <mstefani@redhat.de>.

Tue Oct 30 10:34:23 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* po/POTFILES.in, server/autoattack.c:

	Translate user messages from server/autoattack.c.

	Patch by Michael Stefaniuc <mstefani@redhat.de>.

Mon Oct 29 13:23:40 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Oct 28 20:07:27 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Sun Oct 28 18:26:36 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/connectdlg.c, client/gui-win32/gui_stuff.c,
	client/gui-win32/gui_stuff.h:

	Implemented the metaserver dialog, added tab control handling
	stuff to layout management and fixed some bugs in the layout
	management.

Fri Oct 26 11:52:55 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-gtk/Makefile.in:

	ran automake

Fri Oct 26 10:13:53 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po (added strings from ../client/gui-gtk/happiness.c)

Fri Oct 26 09:44:14 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Fri Oct 26 08:07:10 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/cityrepdata.c, client/climisc.c, client/climisc.h,
	client/gui-gtk/Makefile.am, client/gui-gtk/citydlg.c,
	client/gui-gtk/citydlg.h, client/gui-gtk/happiness.c,
	client/gui-gtk/happiness.h, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-gtk/wldlg.c,
	client/gui-gtk/wldlg.h, client/gui-mui/citydlg.c,
	client/gui-mui/mapclass.c, client/include/helpdlg_g.h,
	client/gui-xaw/citydlg.c, client/gui-xaw/mapview.c, common/city.c,
	common/city.h, data/helpdata.txt, server/cityturn.c:

	New version of the city dialog for the GTK client. This new
	version uses a different layout and also includes a display for
	the various happiness stages of the citizen. The worklist dialog
	was also completely overhauled. Add a new entry in the help system
	for the worklist editor.

	Patch from Tuomas Airaksinen, Mike Kaufman and Daniel Sjölie. With
	contributions from Raimar Falke,Christian Knoke and Thue Janus
	Kristensen.

Fri Oct 26 07:33:23 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c, common/game.h, server/ruleset.c,
	server/savegame.c, server/stdinhand.c:

	Introduce new server variable citymindist which will overwrite the
	ruleset variable min_dist_bw_cities if set to non-zero. This
	allows non-smallpox games without modifying the ruleset.

	Patch from Karl-Ingo Friese <kif@informatik.uni-hannover.de>.

Fri Oct 26 07:24:56 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c:

	Replace direct access of the known field in struct tile with calls
	of tile_is_known.

	Patch from Mike Kaufman <mkaufman@math.ukans.edu>.

Fri Oct 26 07:22:26 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/cityturn.c, server/cityturn.h:

	Make the method city_increase_size public. This is needed for
	civworld.

	Patch from Mike Kaufman <mkaufman@math.ukans.edu>.

Fri Oct 26 07:19:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/control.c:

	Remove the "focus hack". The purpose of this "hack" is unknown.
	This "hack" introduce a non-normal unit position which obstructs
	the task to bring normal positions to all code.

	Quoting from an email from Jason Dorje Short
	<vze2zq63@verizon.net>: ----------- The focus hack changes the
	position of the unit so that it is not drawn in
	refresh_tile_mapcanvas below.  (The unit is in focus, of course,
	since it's being moved.)  Later in refresh_tile_mapcanvas, a check
	is done to see if the unit in focus is on the current square, and
	if so it's drawn.  Since the unit has been moved, it will not be
	found on the current square but since the coordinates of the unit
	are invalid a call to map_get_tile for those coordinates is not
	"clean".  Under alternate topologies the behavior may become
	unpredictable.

	It does not appear as though this hack is needed; it is very old
	and I see no problems with drawing when it is removed.  If it is
	to be kept, there are several ways it could be handled.  An
	is_normal_map_pos check could be done before the map_get_tile
	call, or the unit could be removed from focus entirely (which
	would solve the problem but may have side effects).  -----------

Fri Oct 26 07:13:56 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c:

	Bug fix: actually call the handle_start_turn method which was
	recently introduced.

Sun Oct 21 18:13:34 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/diplodlg.c:

	gui-win32: Added diplomacy dialog

Fri Oct 19 08:12:52 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, client/tilespec.h, common/map.h:

	Cleanup fill_tile_sprite_array{_iso,}. This involves the removal
	of 16 variables like ttype_north or tspecial_north, removing
	superfluous constructs like in "(ttype_north==T_MOUNTAINS ||
	ttype_north==T_MOUNTAINS)" and the use of loops.

	Patch from Jason Dorje Short <vze2zq63@verizon.net> with changes
	from me.

Thu Oct 18 19:10:17 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c, common/city.h:

	Fixing a bug where undefined data is accessed:
	generic_city_refresh calls set_food_trade_shields calls
	city_get_food_tile calls city_celebrating calls city_happy which
	accesses pcity->ppl_happy[4] which is undefined. The fix involves
	the creation of a new set of functions (base_*) for the functions
	(city_get_shields_tile, city_get_trade_tile, city_get_food_tile)
	which take the celebrating flag as an argument.

	city_celebrating is split into a part (base_city_celebrating)
	which can also be used if pcity->ppl_happy[4] isn't set yet.

Thu Oct 18 16:45:32 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, client/packhand.h, common/packets.c,
	common/packets.h, server/gamehand.c, server/gamehand.h,
	server/srv_main.c:

	Add a new packet PACKET_START_TURN which is sent after the server
	finished all turn-{end,start}-actions. There are activities
	(managing of the units) after the new_year packet is sent. So the
	client will receive the following packets in this order:
	PACKET_BEFORE_NEW_YEAR, PACKET_NEW_YEAR and PACKET_START_TURN.
	This addition is necessary to disable all agents during the turn
	calculation of the server.

Thu Oct 18 15:12:48 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/control.c, client/control.h:

	Change signature of request_move_unit_direction to take a
	direction instead of dx and dy.

Thu Oct 18 15:09:16 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unithand.c:

	Reorder the outgoing packets if a unit changes it homecity. With
	the new order the updated unit info is sent out first to enable a
	correct client side calculation of the cities.

Thu Oct 18 11:12:17 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Wed Oct 17 13:16:45 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/savegame.c:

	Cleanup: encapsulate the loading of parts of the map in the new
	macro LOAD_MAP_DATA. Make the error checking in ascii_hex2bin more
	strict based on suggestions of Gaute B Strokkenes
	<gs234@cam.ac.uk>.

	Patch by Jason Dorje Short <vze2zq63@verizon.net> with changes
	from me.

Wed Oct 17 07:33:27 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Oct 17 03:04:03 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	updated

Tue Oct 16 17:31:53 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c:

	Fixes a msgmerge warning and adds the stuff from client/gui-win32
	to the list of files containing translatable strings

Tue Oct 16 17:30:47 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* po/POTFILES.in:

	Fixes a msgmerge warning and adds the stuff from client/gui-win32
	to the list of files containing translatable strings

Tue Oct 16 13:45:07 2001  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c:

	Removed unused and compile-crash causing include of log.h.

Tue Oct 16 09:11:15 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/control.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapview.c, client/gui-win32/mapview.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapview.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapview.c:

	Replace various code constructs with square_iterate, is_real_tile,
	nearest_real_pos or normalize_map_pos. Unify
	refresh_tile_mapcanvas.

	Patch by Jason Dorje Short <vze2zq63@verizon.net> with changes
	from me.

Mon Oct 15 19:51:01 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/mapview.c:

	Cleanup: replace "y >= 0 && y < map.ysize" with "is_real_tile(x,
	y)".

	Patch from Gaute B Strokkenes <gs234@cam.ac.uk>.

Mon Oct 15 13:42:51 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/unithand.c,
	server/unittools.c:

	Remove check_coords. It has been replaced with normalize_map_pos
	and is_normal_map_pos.

	Patch by Jason Dorje Short <vze2zq63@verizon.net> with changes
	from me.

Mon Oct 15 13:03:51 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unittools.c:

	Fix buglet which caused unit on goto to abort to early.

	Reported by Christian Knoke <ChrisK@enter.de> as (PR#1009). Patch
	by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>.

Mon Oct 15 09:39:36 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Oct 14 21:16:00 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h:

	Add IS_BORDER_MAP_POS to allow the optimization of iterate macros.

	Patch by Jason Dorje Short <vze2zq63@verizon.net>.

Sun Oct 14 21:02:16 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h, server/barbarian.c, server/mapgen.c,
	server/plrhand.c, server/sanitycheck.c, server/settlers.c,
	server/unittools.c:

	Replace map_adjust_* with is_real_tile or is_normal_map_pos.

	Patch by Jason Dorje Short <vze2zq63@verizon.net>.

Sun Oct 14 15:28:37 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/mapctrl.c:

	Convert map_to_city_[xy] to map_to_city_map.

	Reported by Gaute B Strokkenes <gs234@cam.ac.uk>.

Sun Oct 14 14:53:41 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/civ1/game.ruleset, data/civ2/game.ruleset:

	Add missing empty initial techs property.

	Patch by Lino Mastrodomenico <mastro@freeciv.it>.

Sat Oct 13 17:38:58 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/graphics.c, client/gui-win32/graphics.h,
	client/gui-win32/mapview.c:

	Finally implemented dither_tile. Some cleanup of gfx code

Sat Oct 13 08:46:59 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update

Sat Oct 13 03:46:33 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri Oct 12 12:22:19 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/capstr.c, common/game.h, common/nation.h,
	common/packets.c, common/packets.h, data/default/game.ruleset,
	data/nation/american.ruleset, data/nation/arab.ruleset,
	data/nation/argentine.ruleset, data/nation/australian.ruleset,
	data/nation/aztec.ruleset, data/nation/babylonian.ruleset,
	data/nation/barbarian.ruleset, data/nation/bavarian.ruleset,
	data/nation/boer.ruleset, data/nation/brazilian.ruleset,
	data/nation/canadian.ruleset, data/nation/carthaginian.ruleset,
	data/nation/catalan.ruleset, data/nation/chilean.ruleset,
	data/nation/chinese.ruleset, data/nation/cornish.ruleset,
	data/nation/croatian.ruleset, data/nation/czech.ruleset,
	data/nation/danish.ruleset, data/nation/dunedain.ruleset,
	data/nation/dutch.ruleset, data/nation/egyptian.ruleset,
	data/nation/english.ruleset, data/nation/estonian.ruleset,
	data/nation/filipino.ruleset, data/nation/finnish.ruleset,
	data/nation/french.ruleset, data/nation/german.ruleset,
	data/nation/greek.ruleset, data/nation/hungarian.ruleset,
	data/nation/inca.ruleset, data/nation/indian.ruleset,
	data/nation/irish.ruleset, data/nation/israeli.ruleset,
	data/nation/italian.ruleset, data/nation/japanese.ruleset,
	data/nation/kenyan.ruleset, data/nation/korean.ruleset,
	data/nation/krevi.ruleset, data/nation/latvian.ruleset,
	data/nation/lithuanian.ruleset, data/nation/mongol.ruleset,
	data/nation/mordor.ruleset, data/nation/olympic.ruleset,
	data/nation/persian.ruleset, data/nation/polish.ruleset,
	data/nation/portuguese.ruleset, data/nation/roman.ruleset,
	data/nation/russian.ruleset, data/nation/scottish.ruleset,
	data/nation/serbian.ruleset, data/nation/silesian.ruleset,
	data/nation/singaporean.ruleset, data/nation/sioux.ruleset,
	data/nation/slovenian.ruleset, data/nation/spanish.ruleset,
	data/nation/swedish.ruleset, data/nation/thai.ruleset,
	data/nation/turk.ruleset, data/nation/ukrainian.ruleset,
	data/nation/vietnamese.ruleset, data/nation/viking.ruleset,
	data/nation/welsh.ruleset, data/nation/zulu.ruleset,
	server/plrhand.c, server/ruleset.c:

	Add global and nation specific initial techs. Such techs are given
	to the players before the game start. The amount is limited to
	MAX_NUM_TECH_LIST (currently 10).

	Global initial techs are useful for creating scenarios (e.g.,
	modern warfare) and for testing. Nation-specific initial techs,
	combined with a multiply rooted tech tree, can be used to create
	special capabilities for specific nations.

	Patch submitted by Arien Malec <arien_malec@yahoo.com> with
	changes from me.

Fri Oct 12 10:12:13 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c:

	Change drawing order for isometric view to make specials visible.
	Document the drawing order for the isometric and non-isometric
	case.

	Patch by Bert Buchholz <bertbuchholz@gmx.de> with changes by me.

Thu Oct 11 18:06:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c:

	Reset aconnection.client.request_id_of_currently_handled_packet at
	every (re)connect.

	Bug reported by Jason Dorje Short <vze2zq63@verizon.net> as
	(PR#1002). Fix by me.

Thu Oct 11 17:06:07 2001  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	fr.po update

Thu Oct 11 12:37:06 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, server/mapgen.c, server/maphand.c:

	Convert all code like "y*map.xsize + x" to "map_inx(x,y)".
	Introduce new macros rmap and MAP_TILE.

Wed Oct 10 15:32:36 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* PEOPLE:

	Updated email addresses of Raahul Kumar, Jason Dorje Short and
	Raimar Falke.

Wed Oct 10 11:33:26 2001  Erik Sigra <sigra@home.se>:

	* doc/HOWTOPLAY.sv, po/sv.po:

	Most of this is corrections from Mattias Andersson
	<tamasis@softhome.net>.

Tue Oct  9 18:57:01 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/gotodlg.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/wldlg.c:

	Replace casting from gint to gpointer with special macros. This is
	needed for sizeof(gint)!=sizeof(gpointer) platforms.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> with changes from
	me.

Tue Oct  9 16:26:46 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h:

	Add is_normal_map_pos().

	Jason Dorje Short <vze2zq63@verizon.net>.

Tue Oct  9 15:27:34 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c:

	Change the implementation of smooth_map. The behavior of the old
	code depends on the order of the positions which whole_map_iterate
	produces. The new code uses a new height map to prevent this. The
	new code also changes the way map positions which lay of the map
	are handeled.

Tue Oct  9 14:51:32 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/plrdlg.c:

	Make the action_area (where the buttons are) non-homogeneous i.e.
	the buttons can have different widths. This reduces the total
	width of the dialog.

Tue Oct  9 12:44:07 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/inteldlg.c:

	gui-win32: Added the intelligence dialog

Mon Oct  8 12:14:39 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c, client/clinet.h, client/packhand.c:

	Remove the "Client: No reaction from server." message.

Mon Oct  8 12:11:16 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/goto.c, common/map.c, common/map.h, server/gotohand.c:

	Chang the documentation of tile_move_cost_ai to follow the code.
	Reformat the code of tile_move_cost_ai to be more clear. Replace
	-3 with MOVE_COST_FOR_VALID_SEA_STEP.

Mon Oct  8 12:02:09 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c:

	Reorder the packets which are sent to the client if the government
	changes. The client will at first get the player_info packet with
	the new government and afterwards the updated city informations.
	The old behavior breaks the client side city re-calculation.

	Reported by Christian Knoke <ChrisK@enter.de>. Patch by me.

Sun Oct  7 16:30:44 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/plrhand.c:

	Translate the bonus message.

	Patch by Michael Stefaniuc <mstefani@redhat.de>.

Sun Oct  7 09:47:27 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/plrdlg.c, client/gui-win32/plrdlg.h:

	gui-win32: Added player dialog

Sat Oct  6 21:02:01 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/citytools.c:

	Add the tile_trade field to the city_info packet. This is
	necessary to enable generic_city_refresh to return correct trade
	values at the client side.

Sat Oct  6 12:01:29 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c:

	Cleanup: change dir_ok to be independent of the ordering of the
	direction system used.

Sat Oct  6 11:14:09 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.c:

	Change game_remove_city to only call set_worker_city for real
	tiles.

Fri Oct  5 10:21:12 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/scenario/iberian-peninsula-136x100-v0.9.sav:

	File is obsoleted by iberian-peninsula-136x100-v1.0.sav.

Fri Oct  5 09:47:42 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/mapview.c:

	Add the infrastructure to the things which are displayed in the
	info label.

	Patch by Andreas Beckmann <andreas.beckmann@student.uni-halle.de>.

Fri Oct  5 09:35:36 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/srv_main.c:

	Changes the savegame name format to allow easier sorting using ls.

	Patch by Andreas Beckmann <andreas.beckmann@student.uni-halle.de>
	with changes by me.

Thu Oct  4 20:23:32 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, client/gui-gtk/mapview.c,
	client/gui-mui/mapclass.c, client/gui-xaw/mapview.c,
	common/city.c, common/city.h, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/settlers.c:

	Cleanup: add is_city_center and change to to use it

Thu Oct  4 20:09:30 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c, server/gotohand.h, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Introduce enum goto_result as the result type of do_unit_goto and
	goto_route_execute. This allows the caller to extract the various
	successes/failures more easily.

	Patch by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk> with changes
	by me.

Thu Oct  4 19:36:55 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c:

	Fix two bugs in the recently introduced progress display of
	settler activities: - handle units with no moves left correctly -
	ensure that the number of remaining turns won't go below 1 Patch
	by Andreas Beckmann <andreas.beckmann@student.uni-halle.de>.

Wed Oct  3 09:16:55 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, common/city.c, client/gui-gtk/citydlg.c,
	server/savegame.c:

	Fix two cases where invalid city coordinates are passed to
	base_city_map_to_map. Fix GTK client city dialog drawing of the
	corner tiles.

	Reported by Gaute B Strokkenes <gs234@cam.ac.uk> as (PR#986).
	Patch be me.

Sun Sep 30 22:03:44 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/settlers.c:

	Refactor two code constructs into the new method
	is_wet_or_is_wet_cardinal_around. Use cartesian_adjacent_iterate.

Sun Sep 30 21:55:34 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/mapgen.c:

	Cleanup: replace
	"assert(is_real_tile(x,y));normalize_map_pos(&x,&y);" with
	"is_real = normalize_map_pos(&x,&y);assert(is_real);".

Sun Sep 30 21:27:02 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, client/gui-gtk/citydlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-win32/citydlg.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/mapview.c, common/city.c, common/city.h,
	server/citytools.c, server/sanitycheck.c, server/savegame.c,
	server/settlers.c:

	Unification of the transformation of map position to city map
	coordinate. This is done by either replacing city_map_iterate with
	city_map_checked_iterate or the use of the new methods
	{base_,}map_to_city_map and {base_,}city_map_to_map.
	get_citymap_xy and map_to_city_[xy] were removed during this
	transition.

Fri Sep 28 18:20:05 2001  Christian Knoke <ChrisK@enter.de>:

	* doc/BUGS.de:

	up to date and complete

Thu Sep 27 22:49:51 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* ai/aiunit.c, client/gui-win32/cityrep.c,
	client/gui-gtk/cityrep.c, common/map.c, common/map.h,
	server/gamehand.c:

	* common/map.c, common/map.h (map_same_continent): Remove.  *
	ai/aiunit.c, common/map.c ,client/gui-gtk/cityrep.c,
	client/gui-win32/cityrep.c, server/gamehand.c:  Use two calls to
	map_get_continent() instead.

Wed Sep 26 11:58:23 2001  Christian Knoke <ChrisK@enter.de>:

	* doc/BUGS.de:

	bugixes

Wed Sep 26 06:03:58 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* doc/BUGS.de:

	"Du" durch allgemeine Formulierungen ersetzt.

Tue Sep 25 21:52:48 2001  Christian Knoke <ChrisK@enter.de>:

	* doc/BUGS.de:

	new file, used by web site

Tue Sep 25 20:26:17 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* TODO:

	Remove void_tile which is no longer used.

Tue Sep 25 20:04:40 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c:

	Remove void_tile which is no longer used.

Tue Sep 25 19:58:09 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c, client/packhand.c,
	client/gui-win32/citydlg.c, client/gui-mui/citydlg.c,
	common/capstr.c, common/city.c, common/game.c, common/player.h,
	data/misc/small.spec, data/misc/small.xpm, server/citytools.c,
	server/cityturn.c:

	Completes the angry citizen patch. Add a missing capstring. Add
	logic to use the amount of angra citizen. Add logic to enable AI
	the plan with the angry citizen. Add display to various clients.

	Patch by Davide Pagnin <nightmare@freeciv.it>.

Tue Sep 25 10:27:15 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/report.c:

	Replace two more int_to_text with population_to_text. These were
	previously forgotten.

	Reported by Michael Stefaniuc <mstefani@redhat.de> as (PR#978).
	Patch by me.

Mon Sep 24 22:27:07 2001  Michael Stefaniuc <mstefani@redhat.de>:

	* po/ro.po:

	- updated to new freeciv.pot - some fixes - new translated strings

Mon Sep 24 08:46:32 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/helpdlg.c, client/gui-win32/menu.c:

	gui-win32: Implemented more page types of the help dialog

Mon Sep 24 07:34:49 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Sep 23 16:09:35 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/goto.c, client/tilespec.c, client/gui-gtk/mapview.c,
	client/gui-mui/graphics.c, client/gui-mui/mapclass.c,
	client/gui-win32/mapview.c, common/map.c, common/map.h,
	client/gui-xaw/mapview.c, server/gotohand.c:

	Remove public use of DIR_D[XY]. This is done by - converting "for
	(dir = 0; dir < 8; dir++) { x1 = x + DIR_DX[dir]; y1 = y +
	DIR_DY[dir]; if (!normalize_map_pos(&x1, &y1)) continue;" with
	"adjc_dir_iterate(x, y, x1, y1, dir) {" - converting the remaining
	instance to use DIRSTEP or MAPSTEP.

	DIRSTEP is now the only remaining code which uses DIR_D[XY].

	Original idea of MAPSTEP from Gaute B Strokkenes
	<gs234@cam.ac.uk>. Patch by me.

Sun Sep 23 11:52:38 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update sv.po

Sat Sep 22 11:45:01 2001  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	fr.po update

Fri Sep 21 20:08:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c, server/cityturn.c:

	Spelling: replace "teh" with "the"

Fri Sep 21 20:04:28 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-mui/diplodlg.c, client/gui-gtk/diplodlg.c,
	client/gui-xaw/diplodlg.c, common/diptreaty.c, common/diptreaty.h:

	Cleanup: use of a speclist for "struct Clause" instead of a
	genlist.

	Patch by Justin Moore <justin@cs.duke.edu> with changes by me.

Thu Sep 20 19:54:33 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/clinet.c, common/connection.c:

	- rearrange the calls of notify_of_writable_data - made
	input_from_server_till_request_got_processed really block

Thu Sep 20 13:19:22 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/messagedlg.c:

	gui-win32: Ported the message options dialog

Thu Sep 20 11:07:29 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/cityrep.c, client/climisc.c:

	Make the win32 client compile again + some cleanup

Thu Sep 20 08:09:30 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gui_main.c:

	gui-win32: Fixes a bug in autoconnect mode, the client does now
	notice network input in that mode

Wed Sep 19 20:59:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/packets.c:

	Disable PACKET_SIZE_STATISTICS. It has turned out that the
	recently introduced packets PACKET_PROCESSING_STARTED and
	PACKET_PROCESSING_FINISHED only increase the used bandwidth by
	0.26%.

Wed Sep 19 19:09:18 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/goto.c, client/goto.h, server/gotohand.c,
	server/gotohand.h:

	Remove unused returned field in the path calculation.

	Patch by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>.

Wed Sep 19 18:48:47 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, client/climisc.h, client/gui-win32/cityrep.c,
	client/gui-gtk/cityrep.c, client/gui-xaw/cityrep.c:

	- cleanup: move code from client/gui-*/cityrep to client/climisc -
	add consistent sorting of build targets (first are section normal
	buildings, then capitalization, then non-military units, then
	other units and at last the wonders). Each section is sorted by
	the translated name.  - moved the output of "Game: Changing
	production of every %s into %s." into client_change_all

Wed Sep 19 00:42:19 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* client/climisc.h:

	Make the client compile.

Tue Sep 18 21:26:56 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/wldlg.c,
	client/climisc.c, client/climisc.h, client/gui-win32/cityrep.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/wldlg.c:

	Cleanup: moved three methods from */cityrep.c to climisc.[ch].
	Introduces compound ids: A compound id (cid) can hold all objects
	a city can build: improvements (with wonders) and units. This is
	achieved by seperation the value set: a cid < B_LAST denotes a
	improvement (including wonders). A cid >= B_LAST denotes a unit
	with the unit_type_id of (cid - B_LAST).  Compound ids were used
	before but weren't marked as such.

Tue Sep 18 20:52:35 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* configure, configure.in:

	Update configure and configure.in, for real this time.

Tue Sep 18 20:50:54 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* client/gui-win32/Makefile.in:

	configure.in (ALL_LINGUAS): Add "da".

	Rerun automake and autoconf.

Tue Sep 18 20:42:05 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* po/da.po:

	Add Danish translation.  Patch by Keld Jørn Simonsen
	<keld@dkuug.dk>.

Tue Sep 18 17:27:13 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c:

	Remove init_gotomap since the function just calls init_warmap and
	thus is unnecessary.

	Patch by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>.

Tue Sep 18 16:47:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c:

	Remove duplicated code in find_the_shortest_path().

	Patch by Jason Dorje Short <jshort@devon.dhs.org>.

Tue Sep 18 15:08:31 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/goto.c:

	Remove assumptions about ordering of underlying direction system.

	Patch by Jason Dorje Short <jshort@devon.dhs.org>.

Mon Sep 17 08:39:27 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c, common/city.c:

	- Value of trade route should be double the base amount if the two
	cities are on different continents, NOT half the base amount if
	they are on the same continent as the original code states.

	- The one time gold/science bonus is NOT affected by whether the
	cities belong to the same player or whether they are on the same
	continent.

	- A fudge factor of 3 is applied to the one time bonus to
	approximate Civ2 behaviour, although exact emulation is not
	possible without the supply and demand system.

	Patch submitted by Mike Jing <miky40@hotmail.com>.

Mon Sep 17 07:40:40 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Sep 16 18:49:45 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/clinet.c, client/clinet.h,
	client/packhand.c, client/packhand.h, common/connection.h,
	common/packets.c:

	Fixed the don't-show-the-"Client: No reaction from server."-issue
	a second time. This was necessary since not only PONG packets
	aren't caused by user interaction but also other packets like the
	attribute chunk.

Sun Sep 16 13:22:50 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/clinet.c, client/packhand.c,
	common/connection.h:

	Don't show the "Client: No reaction from server." message for PONG
	packets.

Sun Sep 16 12:43:23 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/cityrepdata.c, client/packhand.c, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/citydlg.c, common/city.c,
	common/city.h, common/game.c, common/game.h, common/packets.c,
	common/packets.h, data/misc/small.spec, data/misc/small.xpm,
	server/citytools.c, server/gamehand.c, server/savegame.c,
	server/stdinhand.c:

	Introduces angry citizen. Introduces a new server parameter that
	is set to 0 by default so that old games and players that aren't
	interested can ignore completely the new parameter.

	Remember that to see effect of angryness of citizen, it is needed
	that parameter of empire_size_inc in government ruleset are set
	different of zero.

	Patch by Davide Pagnin <nightmare@freeciv.it> with small changes
	by me.

Sun Sep 16 11:07:32 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Sep 16 09:38:07 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/mapctrl.c, client/climisc.c, client/climisc.h,
	client/packhand.c, common/map.c, common/map.h, common/unit.c,
	common/unit.h:

	Show the progress of settler activity. This patch implements this
	for the GTK client only. An example of the information is
	"Activity: Road(1)/Irrigation(4)". Following activities are shown:
	Pollution, Road, Mine, Irrigation, Fortress, Railroad, Transform,
	Airbase, Fallout.

	Patch by Stepan Roh <stepan@srnet.cz> with changes by me.

Sat Sep 15 21:25:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapview.c, client/gui-win32/mapview.c,
	client/gui-mui/citydlg.c, client/gui-mui/mapview.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, common/city.c, common/game.c,
	common/player.h, common/shared.c, common/shared.h,
	server/report.c:

	Remove population overflow (32 bit). Population is now measured in
	thousand of citizen instead of citizen. To express such large
	numbers the method int_to_text has to be extended. The public
	interface of the method however hasn't changed.

	Reported by Stuart Yeates <s.yeates@cs.waikato.ac.nz> as (PR#954).
	Patch by me.

Sat Sep 15 19:47:05 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/repodlgs.c:

	Cropped report headers.

	Patch by Karl-Ingo Friese <kif@informatik.uni-hannover.de>.

Sat Sep 15 18:35:57 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/gotodlg.c, client/gui-win32/gotodlg.h:

	Implemented goto/airlift dialog

Sat Sep 15 15:31:19 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
	client/control.c, client/goto.c, client/helpdata.c,
	client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/menu.c, client/gui-mui/dialogs.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-win32/dialogs.c, client/gui-win32/menu.c,
	client/gui-xaw/actions.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/menu.c, common/combat.c, common/map.c,
	common/packets.c, common/unit.c, common/unittype.c,
	common/unittype.h, server/autoattack.c, server/citytools.c,
	server/diplomats.c, server/gotohand.c, server/report.c,
	server/ruleset.c, server/settlers.c, server/unithand.c,
	server/unittools.c:

	Rename unit_flag to unit_type_flag. New method "int
	unit_flag(struct unit *punit, enum unit_flag_id flag)". This
	accommodate to the fact that the old unit_flag was mostly called
	with a "struct unit *".

Sat Sep 15 14:44:23 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.h:

	Move the normalize_map_pos call out of the switch statement in
	cartesian_adjacent_iterat.

Fri Sep 14 23:36:22 2001  Sawada Katsuya <ama@petmail.net>:

	* doc/HOWTOPLAY.ja:

	Fixed tab to space.

Fri Sep 14 23:32:40 2001  Sawada Katsuya <ama@petmail.net>:

	* doc/HOWTOPLAY.ja:

	Completion translation (cvs-1.10's HOWTOPLAY).

Fri Sep 14 19:16:01 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/inteldlg.c:

	Sort techs in the intelligence report after the translated (which
	is shown) name.

Fri Sep 14 07:35:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/tilespec.c, common/map.c, common/map.h,
	data/hires/terrain1.spec:

	Remove DIR_D[XY]2 and it's only user. The road and rail sprites in
	isometric tilesets are now indexed by symbolic names in the
	specfile. In the code the array is now indexed by DIR_D[XY].

Fri Sep 14 07:17:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c:

	Added a return statement to get_direction_for_step to make
	compiler happy.

	Reported by Paul Zastoupil <paulz@dunedain.net>. Patch by me.

Thu Sep 13 12:15:42 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/spaceshipdlg.c,
	client/gui-win32/spaceshipdlg.h:

	Added spaceship dialog

Wed Sep 12 12:38:57 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Sep 12 09:47:40 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Sep 12 09:12:05 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitools.c,
	ai/aiunit.c, client/goto.c, client/tilespec.c,
	client/gui-mui/dialogs.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapview.c, client/gui-win32/dialogs.c,
	client/gui-win32/mapview.c, common/city.c, common/combat.c,
	common/unit.c, common/unittype.c, common/unittype.h,
	server/autoattack.c, server/citytools.c, server/cityturn.c,
	server/diplomats.c, server/gotohand.c, server/maphand.c,
	server/plrhand.c, server/sanitycheck.c, server/savegame.c,
	server/settlers.c, server/unithand.c, server/unittools.c:

	Add the method "struct unit_type *unit_type(struct unit *punit)"
	to common/unittype.[ch]. Replace "get_unit_type(punit->type)->"
	and "unit_types[punit->type]." with "unit_type(punit)->".

Wed Sep 12 08:40:39 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* freeciv_hackers_guide.txt:

	Added processing packets (PACKET_PROCESSING_STARTED and
	PACKET_PROCESSING_FINISHED). These packets are sent before and
	after a client->server packet (a request) is processed. The
	PACKET_PROCESSING_STARTED and PACKET_PROCESSING_FINISHED packets
	serve two main purposes:

	- they allow the client to identify what causes a certain packet
	the client receives. If the packet is framed by
	PACKET_PROCESSING_STARTED and PACKET_PROCESSING_FINISHED packets
	it is the causes of the request. If not the received packet was
	not caused by this client (server operator, other clients, server
	at a new turn).

	- after a PACKET_PROCESSING_FINISHED packet the client can test if
	the requested action was performed by the server. If the server
	has sent some updates the client data structure will now hold
	other values.

Wed Sep 12 08:39:36 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/civclient.h, client/clinet.c,
	client/clinet.h, client/packhand.c, client/packhand.h:

	Added processing packets (PACKET_PROCESSING_STARTED and
	PACKET_PROCESSING_FINISHED). These packets are sent before and
	after a client->server packet (a request) is processed. The
	PACKET_PROCESSING_STARTED and PACKET_PROCESSING_FINISHED packets
	serve two main purposes:

	- they allow the client to identify what causes a certain packet
	the client receives. If the packet is framed by
	PACKET_PROCESSING_STARTED and PACKET_PROCESSING_FINISHED packets
	it is the causes of the request. If not the received packet was
	not caused by this client (server operator, other clients, server
	at a new turn).

	- after a PACKET_PROCESSING_FINISHED packet the client can test if
	the requested action was performed by the server. If the server
	has sent some updates the client data structure will now hold
	other values.

Wed Sep 12 08:09:41 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c:

	Fixes a bug when the client doesn't take into account that the
	server doesn't support the "turn" capability.

	Reported by Niels Weber <nath@snafu.de> as (PR#956). Patch by me.

Wed Sep 12 00:41:52 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* ai/advdomestic.c, ai/aiunit.c, client/goto.c, common/city.h,
	common/map.c, common/map.h, server/cityturn.c, server/gotohand.c,
	server/maphand.c, server/settlers.c:

	Lots of formatting cleanup.

	* common/map.c (nearest_real_pos): New function.

	* common/map.c, server/cityturn.c, server/maphand.c,
	server/settlers.c: Use it.

Tue Sep 11 10:57:51 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/menu.c:

	gui-win32: Menu cleanup

Mon Sep 10 08:44:37 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Sep  9 13:37:58 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/dialogs.c:

	gui-win32: Completed dialogs.c

Sun Sep  9 09:03:19 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h,
	client/gui-gtk/mapview.c, client/gui-gtk/plrdlg.c:

	Remove problems of the display of the non-rectangular flag in the
	player dialog by using masks.
	client/gui-gtk/gui_stuff:gtk_scale_pixmap() is now
	client/gui-gtk/graphics:sprite_scale() with a different interface.

	Patch by Karl-Ingo Friese <kif@informatik.uni-hannover.de> with
	changes by me.

Sun Sep  9 07:25:15 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Sep  9 07:07:13 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/civ2/governments.ruleset, data/civ2/units.ruleset:

	Fixed syntax errors wrt to the escaping of multi-line help texts.
	Bugs were introduced in the recent Fundamentalism patch.

	Reported by Egbert Hinzen <garfy@ehinzen.de>. Patch by me.

Sun Sep  9 06:48:13 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated.  HINWEIS: Die Originaltexte enthalten Fehler. 
	Diese sind in der "Übersetzung" mit dem Wort FEHLER markiert.

Sat Sep  8 22:53:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/mapview.c, server/citytools.c, server/gotohand.c,
	server/mapgen.c, server/savegame.c, server/settlers.c,
	server/srv_main.c:

	Cleanup: replace "for (x = 0; x < map.xsize; x++) for (y = 0; y <
	map.ysize; y++)" with "whole_map_iterate".

	Patch by Jason Dorje Short <jshort@devon.dhs.org>.

Sat Sep  8 21:33:49 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c, common/events.h, server/stdinhand.c:

	Add "wall" server command. The string passed as argument to the
	command is displayed as a popup, a line in the message box and in
	the chat area at the client.

	Patch by Paul Zastoupil <paulz@dunedain.net> with formatting
	changes by me.

Sat Sep  8 21:14:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/civclient.h, client/packhand.c,
	client/gui-gtk/connectdlg.c:

	Bailing out of auto-connection if a connection to the server gets
	established but the server rejects the client. Added messages at
	the console for the user.

	Reported by Christian Knoke <ChrisK@enter.de> as (PR#927). Patch
	by me.

Sat Sep  8 21:08:41 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/capstr.c, common/city.c, common/government.c,
	common/government.h, common/packets.c, common/unittype.c,
	common/unittype.h, data/civ2/governments.ruleset,
	data/civ2/units.ruleset:

	Add Fundamentalism form of government. This includes the
	implementation of various government flags (G_FANATIC_TROOPS,
	G_NO_UNHAPPY_CITIZENS, G_CONVERT_TITHES_TO_MONEY and
	G_REDUCED_RESEARCH) and the new unit type flag F_FANATIC.
	Fundamentalism is currently only enabled in the civ2 ruleset.

	Patch by Davide Pagnin <nightmare@freeciv.it> with changes by me.

Sat Sep  8 19:47:59 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sat Sep  8 12:54:53 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/tech.h, data/default/techs.ruleset, server/plrhand.c,
	server/ruleset.c:

	Allow a ruleset controlled message if a bonus tech is gained.

	Patch by Josh Cogliati <jjc@rupert.honors.montana.edu> with
	changes by me.

Fri Sep  7 21:44:04 2001  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/README.it, po/it.po:

	Updated it.po and README.it

Fri Sep  7 14:26:40 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* configure:

	Ran autoconf

Fri Sep  7 14:24:47 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/Makefile.am, client/gui-win32/Makefile.in:

	Corrected a bug in client/gui-win32/Makefile.am which causes make
	dist to fail. Also ran autoconf+automake

Fri Sep  7 11:19:59 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Sep  6 23:01:30 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* data/civ2/governments.ruleset:

	Add comment about typo regarding settler upkeep under communism in
	the Payciv 2 manual.

Thu Sep  6 22:04:38 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* ai/aiunit.c:

	find_beachhead: Replace break with goto.

Thu Sep  6 21:54:18 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Sep  6 21:23:05 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/options.c, client/gui-gtk/menu.c,
	client/gui-gtk/repodlgs.c, client/gui-win32/menu.c,
	client/gui-win32/repodlgs.c, common/government.c, common/hash.c,
	common/improvement.c, common/map.c, common/shared.c,
	common/shared.h, common/tech.c, common/unittype.c,
	server/report.c, server/rulesout.c, server/stdinhand.c,
	server/unittools.c:

	Cleanup: replace "sizeof(x)/sizeof(x[0])" with a new macro
	ARRAY_SIZE.

	Patch by Paul Zastoupil <paulz@dunedain.net> with minor changes by
	me.

Thu Sep  6 19:48:13 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aicity.c, client/packhand.c, common/capstr.c, common/game.h,
	common/packets.c, common/packets.h, common/tech.h,
	data/default/techs.ruleset, server/plrhand.c, server/ruleset.c,
	server/rulesout.c:

	Allow more than one bonus tech. A bonus tech like "Philosophy" is
	a tech which gives another tech as an immediate advance when
	researched.

	Patch by Josh Cogliati <jjc@iname.com> with changes by me.

Thu Sep  6 18:19:10 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.h, common/map.c, common/map.h, server/gamehand.c:

	Cleanup: Replace map_adjust_[xy] with normalize_map_pos. New
	method common/map.c:is_move_cardinal().

	Patch by Jason Dorje Short <jshort@devon.dhs.org> with changes by
	me.

Thu Sep  6 15:58:04 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, common/city.c:

	Forbid passing unreal positions to
	common/city:get_worker_on_map_position(). Adjusted get_grid_color.

	Pointed out Thue Janus Kristensen thue@diku.dk. Patch by me.

Tue Sep  4 22:03:36 2001  Dmitriy Genzel <dg@cs.brown.edu>:

	* po/ru.po:

	Errors fixed. Also added some more help text. Most of the changes
	due to Andrei Darashenka, Valek Filippov and Egor Vyscrebentsov.

Tue Sep  4 19:09:40 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* client/gui-win32/Makefile.am, client/gui-win32/chatline.c,
	client/gui-win32/chatline.h, client/gui-win32/citydlg.c,
	client/gui-win32/citydlg.h, client/gui-win32/cityrep.c,
	client/gui-win32/cityrep.h, client/gui-win32/colors.c,
	client/gui-win32/colors.h, client/gui-win32/connectdlg.c,
	client/gui-win32/connectdlg.h, client/gui-win32/dialogs.c,
	client/gui-win32/dialogs.h, client/gui-win32/diplodlg.c,
	client/gui-win32/diplodlg.h, client/gui-win32/finddlg.c,
	client/gui-win32/gotodlg.c, client/gui-win32/gotodlg.h,
	client/gui-win32/graphics.c, client/gui-win32/graphics.h,
	client/gui-win32/gui_main.c, client/gui-win32/gui_main.h,
	client/gui-win32/gui_stuff.c, client/gui-win32/gui_stuff.h,
	client/gui-win32/helpdlg.c, client/gui-win32/helpdlg.h,
	client/gui-win32/inputdlg.c, client/gui-win32/inputdlg.h,
	client/gui-win32/inteldlg.c, client/gui-win32/mapctrl.c,
	client/gui-win32/mapctrl.h, client/gui-win32/mapview.c,
	client/gui-win32/mapview.h, client/gui-win32/menu.c,
	client/gui-win32/menu.h, client/gui-win32/messagedlg.c,
	client/gui-win32/messagewin.c, client/gui-win32/messagewin.h,
	client/gui-win32/optiondlg.c, client/gui-win32/optiondlg.h,
	client/gui-win32/plrdlg.c, client/gui-win32/plrdlg.h,
	client/gui-win32/ratesdlg.c, client/gui-win32/repodlgs.c,
	client/gui-win32/repodlgs.h, client/gui-win32/resources.h,
	client/gui-win32/spaceshipdlg.c, client/gui-win32/spaceshipdlg.h,
	client/gui-win32/wldlg.c, client/gui-win32/wldlg.h:

	Added the ported parts of the win32 client to gui-win32 dir

Mon Sep  3 08:36:50 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Sep  2 20:12:54 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.in:

	Updated generated files.

Sun Sep  2 15:46:06 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/helpdata.txt, server/unithand.c:

	Make an error message the help text more general (the Diplomat
	isn't the only diplomatic unit).

	Reported by Erik Sigra <sigra@home.se> as (PR#901).

Sun Sep  2 14:28:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Fixed duplicate helptext for "Manhattan Project" wonder. This was
	caused by a normal fixed helptext from the ruleset and a dynamic
	helptext which is constructed by
	client/helpdata.c:helptext_wonder().

	Reported by Britton Leo Kerin <fsblk@aurora.uaf.edu> and Jules
	Bean <jules@jellybean.co.uk>. Patch by me.

Sun Sep  2 13:37:57 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, common/game.c, common/game.h, common/tech.c,
	common/tech.h, data/default/techs.ruleset, server/citytools.c,
	server/maphand.c, server/plrhand.c, server/savegame.c,
	server/stdinhand.c, server/unittools.c, server/unittools.h:

	Added watchtower: a fortes will (virtual) became a watchtower if
	the player knowns a technology with the watchtower flag. Such a
	watchtower will give units which are on the same tile and belong
	to this player an extended vision. The watchtower is currently
	controlled by two server variables. These will give a vision of 2
	in the default setting.

	Patch by Bert Buchholz <bertbuchholz@gmx.de> with changes by me.

Sun Sep  2 10:53:27 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c:

	Reordering of the client command line options. Removed dead sound
	option. Improved comment on --autoconnect.

	Reported by Egbert Hinzen <egbert@ehinzen.de> in (PR#921) and
	(PR#923). Patch by me.

Sun Sep  2 10:46:30 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* README.attributes:

	Adds attributes. Attributes are arbitrary data blocks which were
	saved in a savegame at the server side and are intended to be used
	by client code to save state. The internal structure of an
	attribute is unknown to the server, client and the attribute
	handling code. For more details see README.attributes and
	client/attribute.h.

Sun Sep  2 10:24:27 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/Makefile.am, client/attribute.c, client/attribute.h,
	client/civclient.c, client/civclient.h, client/control.c,
	client/packhand.c, client/packhand.h, common/capstr.c,
	common/game.c, common/hash.c, common/hash.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	server/plrhand.c, server/plrhand.h, server/savegame.c,
	server/srv_main.c:

	Adds attributes. Attributes are arbitrary data blocks which were
	saved in a savegame at the server side and are intended to be used
	by client code to save state. The internal structure of an
	attribute is unknown to the server, client and the attribute
	handling code. For more details see README.attributes and
	client/attribute.h.

Fri Aug 31 03:15:02 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Thu Aug 30 19:35:21 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	remove_trade_route was called with a NULL pointer. Added checking
	to the callers. Added extra checks so ensure that the city
	mentioned in the trade array exists. This error was introduced in
	the recent id-to-pointer patch.

	Bug found by Daniel Sjölie <deepone@acc.umu.se>. Patch by me.

Thu Aug 30 14:47:01 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Aug 30 13:32:29 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/plrdlg.c:

	Adds two columns (flag and AI) to the players dialog. Adds colors
	to rows depending on the diplomatic status.

	Patch from Karl-Ingo Friese <kif@informatik.uni-hannover.de> with
	changes by me.

Thu Aug 30 13:15:05 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* freeciv_hackers_guide.txt:

	Convert last instances of "int" to "struct {player,unit,city} *"
	as method arguments.

Thu Aug 30 13:00:14 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c:

	Convert last instances of "int" to "struct {player,unit,city} *"
	as method arguments.

Thu Aug 30 11:01:13 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/cityturn.c:

	Extract three new methods from
	server/cityturn.c:city_build_stuff():
	city_distribute_surplus_shields(), city_build_building() and
	city_build_unit() to reduce the size of the method.

	Patch by Arien Malec <arien_malec@yahoo.com> with minor changes by
	me.

Thu Aug 30 10:44:16 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/goto.c, server/gotohand.c:

	Don't handle trireme special in goto planning if the trieme won't
	sink (i.e. trireme_loss_pct returns 0 (because of coastline or
	Lighthouse wonder). The old code only checked for coastline.

	Bug reported by Thomas Strub as (PR#915). Patch by me and Gregory
	Berkolaiko <gberkolaiko@yahoo.co.uk>.

Thu Aug 30 08:41:14 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Aug 29 16:11:51 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/unithand.c:

	Fixes two bugs wrt to the unit population patch: the population
	cost of the default settler was set to 2. The new population cost
	wasn't used while adding a unit. Fixes bug (PR#918).

	Found and patch by Arien Malec <arien_malec@yahoo.com> and me.

Wed Aug 29 15:50:43 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Aug 29 15:25:39 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Aug 29 13:19:27 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/mapview.c:

	Fixed bug (PR#920): The GTK client would recenter the map without
	a user request. Triggered by a middle-button click. Bug was
	introduced by the recent auto connect patch. The expose method was
	called more than once. But for centering the display in auto game
	mode only the first centering is needed.

	Bug reported by Jeff Mallatt <jjm@codewell.com>. Fix from me.

Wed Aug 29 12:01:36 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, common/city.c:

	Fixed Bug (PR#919). Caused by un-normalized coordinates.

Wed Aug 29 10:32:23 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapview.c, client/gui-xaw/gui_main.c,
	common/capstr.c, common/game.c, common/game.h, common/packets.c,
	common/packets.h, server/gamehand.c, server/savegame.c:

	Adding a turn field to "struct civ_game". This information is
	available in the extended info box (left click on the info box)
	for GTK and Xaw.

Wed Aug 29 03:29:03 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Aug 29 01:20:27 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* Makefile.in, config.h.in, configure, configure.in,
	client/Makefile.in, client/clinet.c, ai/Makefile.in,
	common/Makefile.in, data/civ1/Makefile.in, data/Makefile.in,
	data/classic/Makefile.in, data/civ2/Makefile.in,
	data/engels/Makefile.in, data/default/Makefile.in,
	data/misc/Makefile.in, data/hires/Makefile.in,
	data/nation/Makefile.in, data/scenario/Makefile.in,
	data/trident/Makefile.in, doc/Makefile.in, server/Makefile.in:

	Applied user agent patch (adds machine info string).  Also run
	autoheader+automake+autoconf.

	Patch by Paul Zastoupil <paulz@dunedain.net>.

Tue Aug 28 21:56:05 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	Fix for segfault on EOF in server console (PR#912) applied.

	Bug reported by Michael Zinn <michael.z@acm.org>.

Tue Aug 28 18:41:55 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/civclient.c, client/climisc.c, client/climisc.h,
	client/clinet.c, client/clinet.h, client/packhand.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/mapview.c,
	client/gui-xaw/connectdlg.c, client/gui-stub/connectdlg.c,
	client/include/connectdlg_g.h:

	Adds the "-a" option which will skip the GUI connect dialog.

	Patch from Chris Chittleborough <cchittleborough@yahoo.com.au>
	with changes by me.

Tue Aug 28 13:45:33 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/packhand.c, data/civ1/units.ruleset, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	common/unittype.c, common/unittype.h, data/civ2/units.ruleset,
	data/default/units.ruleset, server/citytools.c, server/cityturn.c,
	server/cityturn.h, server/diplomats.c, server/ruleset.c,
	server/unithand.c:

	A unit can cost a varying amount of citizens in addition to normal
	shields. Separation of F_ADD_TO_CITY from F_CITIES.

	Arien Malec <arien_malec@yahoo.com> with changes from me.

Mon Aug 27 10:57:27 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po. Minor fix.

Mon Aug 27 06:50:29 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* freeciv_hackers_guide.txt:

	Corrections to the Amendment from Fri Aug 24 2001.

Mon Aug 27 06:41:22 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/stdinhand.c:

	Allow comments in all server commands. Comments are marked by #.

Mon Aug 27 06:30:00 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/stdinhand.c:

	Remove useless statement.

Sun Aug 26 21:45:23 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, common/unit.c, common/unit.h, server/barbarian.c,
	server/unithand.c, server/unittools.c, server/unittools.h:

	Renames can_unit_move_to_tile_with_reason to
	test_unit_move_to_tile. Changes return type. Rename
	can_unit_move_to_tile to can_unit_move_to_tile_with_notify. Fixes
	the partial setting of reason in the old
	can_unit_move_to_tile_with_reason. Should close (PR#909)

Sun Aug 26 11:14:21 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c:

	Replace for loops _iterate macros.

	Patch by Ross Wetmore <rwetmore@sympatico.ca> with changes by me.

Sun Aug 26 09:52:32 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/gotohand.c:

	Replace 255 with MAXCOST.

	Part of a patch from Ross Wetmore <rwetmore@sympatico.ca>.

Sun Aug 26 09:28:17 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c, common/map.h, server/gotohand.c:

	Replace for loops with adjc_dir_iterate.
	s/adjc_iterate_dir_end/adjc_dir_iterate_end/. New method
	(get_direction_for_step) to do reverse direction lookup.

	Patch by Ross Wetmore <rwetmore@sympatico.ca> with changes by me.

Sun Aug 26 06:52:21 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c:

	Logical operator inversion causes cartesian rather than centre
	square to be checked for food. Problem if city is polar, or near
	non-wrap border.

	Patch by Ross Wetmore <rwetmore@sympatico.ca>.

Sun Aug 26 02:55:49 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Sun Aug 26 00:31:37 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/chatline.c, client/gui-gtk/chatline.h,
	client/gui-gtk/gui_main.c:

	Replaced history code with a genlist based version. Also fixed
	crash bug upon arrow down key press.

	Bug reported by Andreas Anschuetz <atz@atz.home.cs.tu-berlin.de>

Sat Aug 25 20:30:57 2001  Sebastian Bauer <sebauer@t-online.de>:

	* common/improvement.c:

	improvement_obsolete() works now correctly also for wonders. 
	improvement_redundant() hadn't irgnored obsolete buildings.

	Fixes bug (PR#906) reported by Francois Taiani
	<francois.taiani@m6net.fr>

Sat Aug 25 15:59:03 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gui_main.c, client/gui-mui/mapview.c,
	client/gui-mui/plrdlg.c:

	Amiga: Now compiles again.

Sat Aug 25 10:34:02 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c:

	Made the map canvas looking disabled/not-sensitive is the widget
	gets disabled. Removed the horizontal scrollbar in the city report
	dialog and the change production dialog.

Sat Aug 25 10:25:35 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-xaw/gui_main.c, client/gui-gtk/gui_main.c,
	common/connection.c, common/connection.h, common/packets.c,
	server/sernet.c:

	The client could came into a state where there is still buffered
	data for the server but the client would wait only select for
	readability of the socket. The new callback
	"notify_of_writable_data" in "struct connection" takes now care of
	this case. This case could only be triggered by massiv data
	transfer from the client to the server.

Sat Aug 25 10:13:21 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/citytools.c, server/maphand.c, server/maphand.h,
	server/sanitycheck.c, server/savegame.c, server/unittools.c:

	Changed "int playerid" to "struct player *pplayer" as the third
	argument to map_get_player_tile. Adjusted all other depending
	methods.

	Pointed out by Markus Linnala <maage@cs.tut.fi>. Patch by me.

Sat Aug 25 09:50:08 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/goto.c, client/gui-xaw/plrdlg.c,
	client/gui-gtk/plrdlg.c, common/city.c, common/city.h,
	common/combat.c, common/player.c, common/player.h, common/unit.c,
	common/unit.h, server/autoattack.c, server/barbarian.c,
	server/citytools.c, server/gamehand.c, server/gotohand.c,
	server/gotohand.h, server/sanitycheck.c, server/settlers.c,
	server/unithand.c, server/unittools.c:

	Remove the methods players_at_war, players_allied and
	players_non_attack. Replace all calls with calls to the
	corresponding pplayer_* method. Change a lot of other methods to
	now take a "struct player *pplayer" instead of a "int playerid".

Sat Aug 25 07:09:37 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-mui/mapview.c, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c:

	Fixes copy'n'paste error: s/width/height/

	Patch by Jason Dorje Short <jshort@devon.dhs.org>

Fri Aug 24 15:03:53 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* freeciv_hackers_guide.txt:

	Amendment to autogame patch from Ross Wetmore: for unknown reasons
	this change wasn't included in the previous commit.

Fri Aug 24 08:32:30 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Fri Aug 24 08:22:00 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/advmilitary.c, ai/aitools.c, ai/aiunit.c,
	client/gui-gtk/mapctrl.c, client/packhand.c, client/tilespec.c,
	client/gui-mui/mapclass.c, client/gui-xaw/mapctrl.c,
	common/city.c, common/combat.c, common/game.c, common/unit.c,
	server/barbarian.c, server/citytools.c, server/cityturn.c,
	server/diplomats.c, server/gotohand.c, server/maphand.c,
	server/report.c, server/savegame.c, server/settlers.c,
	server/unithand.c, server/unittools.c:

	Cleanup: replace "&game.players[punit->owner]" with
	"unit_owner(punit)". Same for cities.

Fri Aug 24 07:12:44 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* ai/aiunit.c, client/climisc.c, client/packhand.c,
	client/gui-gtk/mapview.c, server/autoattack.c, server/cityturn.c,
	server/diplomats.c, server/gotohand.c, server/unithand.c,
	server/unittools.c:

	Cleanup: replace "get_player(punit->owner)" with
	"unit_owner(punit)". Same for cities.

Fri Aug 24 07:04:44 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/climisc.c, client/climisc.h, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c, common/city.c, common/city.h:

	Mark used tiles red in the overview map.

Fri Aug 24 06:54:30 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-xaw/menu.c, common/unit.c, common/unit.h,
	server/unithand.c:

	Unification/cleanup of testing and error reporting of
	building/adding to a city. The new central method is
	common/unit:test_unit_add_or_build_city.

	Patch by Arien Malec <arien_malec@yahoo.com> with minor changes by
	me.

Fri Aug 24 06:10:10 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/city.c, common/city.h, common/unit.c, common/unit.h,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/cityturn.h:

	Moved server/cityturn.c:city_refresh() with all helper methods to
	common/city.[ch] and renamed it to generic_city_refresh(). This
	allows the client to calculate the output (food, shield, trade) of
	a city.

Fri Aug 24 02:36:14 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Fri Aug 24 02:33:35 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/.cvsignore:

	"messages" added.

Fri Aug 24 01:10:42 2001  Michael Stefaniuc <mstefani@redhat.de>:

	* po/ro.po:

	some new translated strings + fixes

Thu Aug 23 18:24:59 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/player.c, common/player.h, common/tech.c, common/tech.h:

	Replacing of some "int"s with "enum tech_flag_id"s.

Thu Aug 23 10:30:16 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* server/diplhand.c, server/gotohand.c:

	s/enought/enough/

	Found and patch by Michael Stefaniuc <mstefani@redhat.de>.

Thu Aug 23 07:48:18 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Aug 23 05:09:55 2001  Egbert Hinzen <egbert@hinzen-koeln.de>:

	* po/de.po:

	de.po updated

Wed Aug 22 21:40:06 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/packhand.c, common/city.c, common/city.h, common/game.c,
	common/game.h, common/improvement.c, common/improvement.h,
	common/player.c, common/player.h, data/civ1/buildings.ruleset,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset,
	server/citytools.c, server/cityturn.c, server/diplhand.c,
	server/diplomats.c, server/gamehand.c, server/maphand.c,
	server/savegame.c:

	Generalized the construction of the improvements by using the
	things defined in the buildings.ruleset.  Changed the differnt
	buildings.ruleset so that they are compatible to the old hardcoded
	code.

	Patch by Ben Webb <ben@bellatrix.pcl.ox.ac.uk> and me

Wed Aug 22 21:30:17 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c:

	Amiga client: Renamed a function which confilcted with another
	functionname in the non GUI part

Wed Aug 22 19:47:48 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/game.h:

	Auto game patch: server runs without external interaction really
	fast.

	Patch by Ross W. Wetmore <rwetmore@sympatico.ca> with small
	changes by me.

Wed Aug 22 08:04:51 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* common/map.c:

	Cleanup of rand_neighbour(). More robust version of
	dir_get_name().

	Patch by Trent Piepho <xyzzy@speakeasy.org> and Jason Dorje Short
	<jshort@devon.dhs.org> with formatting changes by me.

Wed Aug 22 07:53:25 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/gui-mui/mapclass.c, client/gui-gtk/citydlg.c:

	Replaced some code with calls to is_valid_city_coords().

	Patch by Jason Short <jshort@users.sf.net> with format changes by
	me.

Mon Aug 20 07:55:59 2001  Raimar Falke <rf13@inf.tu-dresden.de>:

	* client/goto.c, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c, client/gui-mui/mapclass.c, common/map.c,
	common/map.h, server/gotohand.c:

	Direction cleanup patch. This includes replacing magic numbers
	with named constants and adding methods/macros to reverse a
	direction and get the name of a direction.

	Patch submitted by Jason Dorje Short <jshort@devon.dhs.org> with
	minor formatting changes by me.

Sat Aug 18 20:33:05 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c, client/gui-xaw/gui_main.c,
	client/gui-gtk/gui_main.c, client/gui-beos/gui_main.c,
	client/gui-mui/gui_main.c, client/gui-stub/gui_main.c,
	client/include/gui_main_g.h:

	Added User Agent HTTP info field to the client metaserver
	requests.

	Patch by Paul Zastoupil <paulz@dunedain.net>.

Sat Aug 18 14:41:27 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	When stdin is closed in the server we no longer quit but merely
	ignore stdin. This fixes the early server quit bug in
	civserver.freeciv.org.

Sat Aug 18 08:16:53 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/Freeciv.start:

	Amiga: Added the shell script which is included in the amiga
	version since the first release to the CVS

Sat Aug 18 08:15:35 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe:

	Amiga: Readme update for the 1.12.0 release

Wed Aug 15 16:03:28 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c:

	Amiga client: Dithering in the isometric mode for screens greater
	than 8 bit works now

Tue Aug 14 20:34:36 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c:

	Amiga: Implemented finally the fogging in the iso draw mode

Tue Aug 14 17:15:04 2001  anonymous freeciv cvs <>:

	* PEOPLE:

	Added Geoffrey S. Rivell <grivell@home.com> to PEOPLE file for
	donating.

Tue Aug 14 14:33:05 2001  Thue Janus Kristensen <thue@diku.dk>:

	* README.rulesets:

	Update README.rulesets for settlers patch.

Tue Aug 14 14:31:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/aicity.c, common/map.c, common/map.h,
	server/citytools.h, server/ruleset.c, server/settlers.c,
	server/settlers.h, server/unittools.c:

	Settlers cleanup.  Completely seperate F_CITIES and F_SETTLER
	units.

Tue Aug 14 13:16:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/chatline.c, client/gui-gtk/gui_main.c:

	Add history to the gtk chatline.

	Patch by Janus N. Tøndering <j@nus.person.dk>

Tue Aug 14 11:04:22 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c, server/gotohand.c:

	Make the goto aware that ground units can't attack from a
	transport unless they have the marines flag.  Make the client goto
	less likely to use movement over a transport than going over land.

	Patch by Gregory Berkolaiko <gberkolaiko@yahoo.co.uk>

Tue Aug 14 07:21:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-xaw/mapview.c:

	Make the xaw client compile.

Mon Aug 13 21:17:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c:

	Make the grid white near cities in isometric mode.

	Patch by Martin Douda <martin@douda.net> with some cleanup by me.

Mon Aug 13 15:13:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/helpdata.c, client/tilespec.c, server/ruleset.c,
	server/ruleset.h, server/stdinhand.c:

	When setting a ruleset filename in the server, check that the file
	exists. (via the set command function hook).

	Patch by Reinier Post <rp@win.tue.nl>

Mon Aug 13 12:57:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	Fix comment.

Mon Aug 13 12:46:41 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c, server/stdinhand.c, server/stdinhand.h:

	Move script reading to later in the startup process to make
	commands given in scripts equivalent to commandline commands. 
	This also means that "start" now works in scripts.

	Patch by Reinier Post <rp@win.tue.nl>

Mon Aug 13 12:25:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, client/goto.c, common/unit.c, common/unit.h,
	server/gotohand.c, server/unittools.c, server/unittools.h:

	Movement check and ZOC cleanup. Move stuff to common/ to be
	available in client.

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Mon Aug 13 11:21:40 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* common/ioz.c:

	Add b to mode in gzopen

Mon Aug 13 11:14:45 2001  Andreas Kemnade <akemnade@informatik.uni-bremen.de>:

	* common/shared.c:

	Use the current dir if HOME is not set on windows (in
	user_home_dir)

Mon Aug 13 11:09:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Remove old unused hack in upkeep calculation.

Mon Aug 13 10:56:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/speclist.h, common/speclist_c.h:

	Export interface to the speclist sort functionality.

	Patch by Raimar Falke <rf13@mail.inf.tu-dresden.de>

Mon Aug 13 00:43:14 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* client/gui-xaw/mapview.c:

	Avoid calling map_get_city() on non-real tiles.

Sun Aug 12 10:13:37 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/map.c, common/terrain.h:

	(client/tilespec.c, common/map.c, common/terrain.h): Minor
	formatting and comment tidyup.

	(common/map.c): map_*_special() can no deal with several different
	flags at once.

Fri Aug 10 14:54:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Bump version to 1.12.1

Fri Aug 10 14:40:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv:

	Bump version to 1.12.1

Fri Aug 10 14:09:21 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/nl.po:

	Run msgmerge on nl.po.

Fri Aug 10 13:39:18 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Last update nl.po

Fri Aug 10 13:36:43 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Set version to 1.12.0.

Fri Aug 10 13:29:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/it.po, po/ja.po, po/nl.po, po/no.po,
	po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po, po/ru.po, po/sv.po:

	Final source update for Version 1.12.0 release.  - Set version to
	1.12.0 - Ran msgmerge on all .po files (normal part of 'make
	dist').

Thu Aug  9 22:31:32 2001  Michael Stefaniuc <mstefani@redhat.de>:

	* po/ro.po:

	- fixed some typos - added some new translated strings

Thu Aug  9 20:56:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS:

	Mention that KDE and the xaw client don't work well together.

Thu Aug  9 20:28:14 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/thai.ruleset:

	"Adon Thani" -> "Udon Thani"

Thu Aug  9 20:23:28 2001  Thue Janus Kristensen <thue@diku.dk>:

	* doc/Makefile.am, doc/Makefile.in:

	Add HOWTOPLAY.ja to Makefile.am so that it gets included in the
	distribution.

Thu Aug  9 09:56:02 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* ai/aiunit.c:

	Fix typo: map_adjust_x() -> map_adjust_y().

Wed Aug  8 11:28:19 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Aug  8 09:59:02 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Aug  8 09:46:27 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	When a player tries to use a diplomat who is in a boat (changed in
	1.12.0 to not be allowed), make the error message say so.

Wed Aug  8 07:34:21 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Aug  8 01:12:19 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/HOWTOPLAY.ja:

	Initial HOWTOPLAY.ja file based on cvs-1.10's HOWTOPLAY.

Tue Aug  7 21:20:31 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Bump version to 1.11.13-devel for some more files.

Tue Aug  7 21:19:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv:

	Bump version to 1.11.13-devel.

Tue Aug  7 20:58:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ChangeLog, configure, configure.in:

	Update files for 1.11.12 beta.

Tue Aug  7 20:54:38 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/it.po, po/ja.po, po/nl.po, po/no.po,
	po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po, po/ru.po, po/sv.po:

	Updates for the forth beta leading to version 1.12.0: - Changed
	version to 1.11.12 (beta).  - Ran msgmerge on all .po files
	(normal	part of 'make dist').  - Updated Changelog

Tue Aug  7 19:46:42 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Lee Davis <leedavis@zoomtown.com> as bugreporter.

Tue Aug  7 19:45:40 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	When postponing worklist items, report the reason correctly.

	Note to translators: 2 new strings to translate.

	Bug reported by Lee Davis <leedavis@zoomtown.com>

Tue Aug  7 15:36:54 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Aug  7 14:38:45 2001  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* po/it.po:

	Translated the "no meeting for IAs" message.

Tue Aug  7 13:53:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/clinet.c:

	Reset delay_*_update values when disconnecting.

Tue Aug  7 13:42:44 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c, server/stdinhand.c:

	Don't allow client for AIcontrolled players to participate in
	meetings.

	Translators take note: This adds a new translatable string.

Tue Aug  7 13:10:08 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Anders Bo Rasmussen <fuzz@diku.dk> as bugreporter.  (gtk popup
	freezes)

Mon Aug  6 21:11:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/hires/nuke.spec, data/hires/nuke.xpm:

	Add the sprite itself.

Mon Aug  6 21:10:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/tilespec.c, client/tilespec.h, client/gui-gtk/mapview.c,
	data/hires.tilespec, data/hires/Makefile.am,
	data/hires/Makefile.in:

	Add nuke sprite for isometric view.

Mon Aug  6 13:22:17 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* data/nation/viking.ruleset:

	Add some rulers and cities.

Mon Aug  6 11:24:10 2001  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/INSTALL.it, po/it.po:

	Fixed INSTALL.it: require Gtk+ >= 1.2.5.  Updated it.po.

Mon Aug  6 10:50:00 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Aug  6 09:19:59 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/NEWS.de:

	NEWS.de updated

Mon Aug  6 02:09:47 2001  Jeff Mallatt <jjm@codewell.com>:

	* common/map.h:

	Fixed bug in recent path.  Missing a "\" in a macro definition.

Mon Aug  6 01:28:32 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/map.h:

	(map_adjust_x) Replace with faster version that avoids expensive
	modulo calculations when X is already normalized.

Sun Aug  5 22:19:57 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fixed a bug similar to that in the pillage dialog in the unit
	connect dialog.

Sun Aug  5 22:14:51 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fixed bug where closing the pillage dialog using the window
	manager would not make the toplevel window sensitive again.

Sun Aug  5 20:45:42 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c:

	Amiga: Free the nations_wnd when no longer needed

Sun Aug  5 15:14:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL, configure, configure.in:

	Require gtk >= 1.2.5.

	Fixes (PR#874) reported by Michael Grundel <michael42@grundel.de>

Sun Aug  5 14:44:57 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/config.h, client/gui-mui/citydlg.c,
	client/gui-mui/colors.c, client/gui-mui/colors.h,
	client/gui-mui/colortextclass.c, client/gui-mui/dialogs.c,
	client/gui-mui/gotodlg.c, client/gui-mui/graphics.c,
	client/gui-mui/gui_main.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapctrl.c,
	client/gui-mui/mapview.c, client/gui-mui/muistuff.c,
	client/gui-mui/objecttreeclass.c, client/gui-mui/overviewclass.c,
	client/gui-mui/repodlgs.c, client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/spaceshipdlg.c, client/gui-mui/wldlg.c,
	client/gui-mui/worklistclass.c:

	Amiga: - scanned mui part and inserted,removed or implemented
	commented code.  All commented code parts show up with warning
	during compile, to not forget them.  - some little fixes,
	improvements - removed enforcer hit in help dialog - added
	Color-System support.  - fixed "no terrain" display mode (and
	solid background) - added red border in isometric cityview

	patch submitted by Dirk Stoecker <stoecker@epost.de> with some
	changes by me

Sun Aug  5 14:23:12 2001  Michael Stefaniuc <mstefani@redhat.de>:

	* po/ro.po:

	more than 150 new translated strings many fixed translations

Sat Aug  4 21:06:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Check city map coords in the client before sending them to the
	server.

	Fixes (PR#868) reported by Christian Knoke <ChrisK@enter.de>

Sat Aug  4 19:33:00 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1987t+48f+546u+17o.

Sat Aug  4 18:01:22 2001  Thue Janus Kristensen <thue@diku.dk>:

	* doc/Makefile.am, doc/Makefile.in:

	Add files in doc/ to Makefile.am so they get included in the
	distribution.

Sat Aug  4 17:57:24 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile:

	Amiga: smakefile installs also the isometric tiles

Sat Aug  4 17:56:38 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c:

	Amiga: - Scrollbar is no longer overdrawn sometime in the
	isometric view - Units in the help windows have correct height
	also in isometric view

Sat Aug  4 17:55:26 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/NEWS.ja:

	Update NEWS.ja file based on cvs-1.37's NEWS.

Sat Aug  4 17:46:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* NEWS:

	Add "ro" to list of translations.

	Patch by Michael Stefaniuc <mstefani@redhat.de>

Sat Aug  4 15:42:09 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/smakefile, amiga/vmakefile,
	client/gui-mui/cityrep.c, client/gui-mui/messagedlg.c:

	Some minor amiga changes.

	patch submitted by Dirk Stoecker <stoecker@epost.de>

Fri Aug  3 19:28:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Bump version to 1.11.11-devel for some more files.

Fri Aug  3 19:20:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv:

	Bump version to 1.11.11-devel.

Fri Aug  3 18:56:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ChangeLog, configure, configure.in:

	Update files for 1.11.10 beta.

Fri Aug  3 18:53:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/it.po, po/ja.po, po/nl.po, po/no.po,
	po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po, po/ru.po, po/sv.po:

	Updates for the third beta leading to version 1.12.0: - Changed
	version to 1.11.10 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').  - Updated Changelog

Fri Aug  3 11:47:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/en_GB.po:

	Update en_GB

	Patch by Dirk Stoecker <stoecker@epost.de>

Fri Aug  3 01:13:36 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Replaced setenv() with putenv() since it is more portable. Also
	added an #ifdef to check for function availability and a cast to a
	NULL pointer passed to a function.

	Patch by Paul Zastoupil <paulz@dunedain.net>.

Thu Aug  2 23:01:49 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* freeciv_hackers_guide.txt:

	Improved network code information a bit.

Thu Aug  2 22:56:26 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* freeciv_hackers_guide.txt:

	Improved documentation on the network code and recent
	improvements.  Fixed one typo.

Thu Aug  2 15:05:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Update version to 1.11.9-devel in some more files.

Thu Aug  2 15:04:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv:

	Bump version to 1.11.9-devel.

Thu Aug  2 14:37:22 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ChangeLog, configure, configure.in:

	Update files for 1.11.8 beta.

Thu Aug  2 14:31:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/it.po, po/ja.po, po/nl.po, po/no.po,
	po/pl.po, po/pt.po, po/pt_BR.po, po/ro.po, po/ru.po, po/sv.po:

	Updates for the second beta leading to version 1.12.0: - Changed
	version to 1.11.8 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').  - Updated Changelog

Thu Aug  2 14:13:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Small PEOPLE update.

Wed Aug  1 22:34:12 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* client/gui-gtk/gui_main.c:

	Add kludge to enable ISO-8859-1 support in the GTK client even
	when the LC_TYPE is set to "C".

Wed Aug  1 19:24:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Fixes for the citydialog supported/present unit display.

Wed Aug  1 10:38:49 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	Correction.

Tue Jul 31 23:51:44 2001  Michael Stefaniuc <mstefani@redhat.de>:

	* po/ro.po:

	more than 150 new translated strings some fixed translations

Tue Jul 31 13:46:19 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/ReadMe.developer, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/gettext.c, amiga/smakefile,
	amiga/vmakefile, amiga/vsnprintf.c, client/packhand.c,
	client/gui-mui/graphics.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c:

	Amiga: - Updated to compile again with SAS-C and VBCC 0.8 - Fixed
	warnings

	patch submitted by Dirk Stoecker <stoecker@epost.de>

Tue Jul 31 11:14:43 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h:

	adjc_dir_iterate fixes.

	Patch by Jason Dorje Short <jshort@devon.dhs.org>

Mon Jul 30 22:59:01 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/map.h:

	common/map.h: Fix formatting thinko.

Mon Jul 30 22:53:55 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/map.h, server/gotohand.c:

	common/map.h: Add adjc_dir_iterate() macro.  server/gotohand.c:
	Use it.

	Patch by Jason Dorje Short <jshort@devon.dhs.org>.

Mon Jul 30 14:13:53 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1983t+47f+541u+18o.

Sat Jul 28 16:39:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c, client/gui-gtk/mapview.c,
	client/gui-mui/graphics.c, client/gui-mui/mapclass.c,
	client/gui-xaw/mapview.c, server/citytools.c, server/unittools.c:

	Don't run code inside an assert when we depend on the sideeffects.
	(ie, mostly fix "assert(normalize_map_pos(&x, &y))").

	Fixes (PR#864) reported by Gaute Strokkenes <gs234@cam.ac.uk>

Sat Jul 28 16:21:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, server/citytools.c:

	Readd neccesary calls to normalize_map_pos().

Sat Jul 28 12:03:32 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	Fix typo. (make the server compile)

	Patch by Jason Dorje Short <jshort@devon.dhs.org>

Sat Jul 28 08:05:49 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Jul 27 23:57:59 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* server/console.c, server/console.h, server/stdinhand.c:

	Add macro MAX_LEN_CONSOLE and use it.  Patch by Reinier Post
	<rp@win.tue.nl>.

Fri Jul 27 23:51:03 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/unit.h:

	Add comment.

Fri Jul 27 23:48:05 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* server/citytools.c, server/mapgen.c:

	Change some assertion from normalize_map_pos() to is_real_tile().

Fri Jul 27 23:40:47 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/map.c:

	Change some assertions from normalize_map_pos() to is_real_tile().

Fri Jul 27 19:51:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Make error messages about bad packages received in END_GAME_STATE
	LOG_DEBUG instead of LOG_ERROR.

Fri Jul 27 10:01:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c:

	square_iterate_end -> adjc_iterate_end.

	Patch by Jason Dorje Short <jshort@devon.dhs.org>

Fri Jul 27 00:14:21 2001  Erik Sigra <sigra@home.se>:

	* po/sv.po:

	update sv.po (including some suggestions by Dennis Bjorklund
	<db@zigo.dhs.org>)

Thu Jul 26 17:18:27 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	Raise MAXTRIES as we found an example where we hit the old value. 
	(Temporary fix, better fix wanted post 1.12.0)

Thu Jul 26 16:00:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Reinier Post (patch), David Zverina (bug report).

Thu Jul 26 15:55:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	Allow the syntax "set <option>=<value>" to not break old config
	files.  If there is no value to a set call, give an error message
	instead of assuming the value is 0.

	Bug reported by David Zverina <David.Zverina@uk.wmmercer.com>
	Patch by Reinier Post <rp@win.tue.nl>

Thu Jul 26 10:06:46 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.debian.de:

	Translated by Jens Georg <jgeorg@ldknet.org>

Tue Jul 24 18:50:58 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Micha Riser to bug reporter section.

Tue Jul 24 18:48:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	When building a F_CITIES unit (settler), when removing the pop
	point make sure there is enough food to support the unit.

	Fixes (PR#855) reported by Micha Riser <mriser@gmx.net>

Mon Jul 23 19:45:38 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/clinet.c, common/connection.c, common/connection.h,
	server/sernet.c, server/srv_main.c:

	Fix crash when a connection fail while we were sending a
	"connection failed" message. (due to genlist corruption.)

Sun Jul 22 21:38:20 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/map.c:

	(normalize_map_pos): Speed up by avoiding integer modulo
	calculation.  Patch by Gregory Berkolaiko
	<Gregory.Berkolaiko@weizmann.ac.il>.

Sun Jul 22 17:04:30 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/README.de:

	Infos about a special mailing list for German translators added.

Sun Jul 22 17:02:29 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	Infos about a special mailing list for German translators added.

Sun Jul 22 10:44:03 2001  Stig E Sandoe <stig@ii.uib.no>:

	* po/no.po:

	Minor patching of no.po

Sat Jul 21 18:47:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add some bug reporters.

Sat Jul 21 18:35:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c:

	Check that a unit's firepower is > 0 when loading rulesets.

	Bug reported by Gregory Berkolaiko
	<Gregory.Berkolaiko@weizmann.ac.il>

Sat Jul 21 18:25:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/unittools.c:

	Make units with 0 movement points work as expected.

	Bug reported by Pablo Belluscio <pablibell@fibertel.com.ar>

Sat Jul 21 18:19:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/wldlg.c, client/gui-xaw/wldlg.c:

	In the city worklist dialog, clicking on help will now bring up
	the improvement help screen, instead of the help screen of a
	random unit.

	Fixes (PR#845) reported by Alejandro G. Belluscio
	<baldusi@hotmail.com>

Sat Jul 21 17:45:37 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/plrhand.c:

	When transferring a city, move non-allied units on the city square
	away.

	Fixes (PR#841) reported by Hjalmar Böhm <hjr.boehm@gmx.net>

Fri Jul 20 14:09:37 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS, PEOPLE:

	Run another commit to make CVS actually commit all the files.

Fri Jul 20 14:08:42 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Make the gtk city dialog variable width. This fixes problems with
	truncated text on buttons in the dialog.

	Fixes (PR#841) reported by Pieter J. Kersten <kersten@dia.eur.nl>
	Patch by <Daniel_Speyer@FirstClass.choate.edu>

Wed Jul 18 11:00:40 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* po/ro.po:

	Update Romanian translation.  Patch by Michael Stefaniuc
	<mstefani@redhat.de>.

Wed Jul 18 10:56:00 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* po/ru.po:

	Update the Russian translation.  Patch by Dmitriy Genzel
	<dg@cs.brown.edu>.

Sun Jul 15 21:45:00 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* po/ro.po:

	Update Romanian translation.  Patch by Michael Stefaniuc
	<mstefani@redhat.de>.

Sun Jul 15 21:34:11 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* TODO:

	Update.

Sun Jul 15 21:25:25 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* PEOPLE:

	Add Gregory Berkolaiko <Gregory.Berkolaiko@weizmann.ac.il>.

Sun Jul 15 21:11:02 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/combat.c:

	(win_chance): Fix thinko.  Patch by Gregory Berkolaiko
	<Gregory.Berkolaiko@weizmann.ac.il>.

Sun Jul 15 11:42:21 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* PEOPLE, configure, configure.in:

	Add the !"#!"#$#"$#"!$#"!$#" files for f***ing real this time.

Sun Jul 15 11:30:42 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* po/ro.po:

	Add Romanian translation.  Regenerate generated files.

Sun Jul 15 11:11:55 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset:

	Fix typos.  Patch by Michael Stefaniuc <mstefani@redhat.de>.

Sat Jul 14 16:16:28 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sat Jul 14 15:55:28 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* Makefile.am, Makefile.in, configure, configure.in:

	Commit files that, for some mysterious reason, were not committed
	in the last commit.  The mind boggles.

Sat Jul 14 14:32:26 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* client/Makefile.am, client/Makefile.in, vms/Makefile.am,
	vms/Makefile.in:

	Add the vms and amiga directories and their contents to EXTRA_DIST
	in Makefile.am.  Add the gui-mui directory and its contents to the
	EXTRA_DIST in client/Makefile.am.  Remove vms/Makefile.am and
	vms/Makefile.in.  Update generated files.

Sat Jul 14 12:58:05 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1937t+71f+573u+32o.

Fri Jul 13 17:06:38 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* po/hu.po:

	Update Hungarian translation.  Patch by Gabor Dukai
	<dukai@EUnet.yu>.

Fri Jul 13 15:03:51 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/NEWS.ja:

	Update NEWS.ja file based on cvs-1.36's NEWS.

Thu Jul 12 10:38:28 2001  Paolo Sammicheli <xdatap1@siena.linux.it>:

	* doc/HOWTOPLAY.it, doc/INSTALL.it, doc/README.it, po/it.po:

	Updated italian l10n.

	HOWTOPLAY.it translated by Lino Mastrodomenico <mastro@freeciv.it>
	INSTALL.it translated by Paolo Sammicheli <xdatap1@freeciv.it>
	README.it translated by Matteo Scordino <felinux@freeciv.it>

	it.po translated by Leandro Noferini <leandro@freeciv.it>, Lino
	Mastrodomenico <mastro@freeciv.it>, Samuele Catuzzi
	<v3nt0@freeciv.it>, and Paolo Sammicheli <xdatap1@freeciv.it>

Wed Jul 11 23:18:00 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset:

	Add magic /* xgettext:no-c-format */ comments.  Patch by Lino
	Mastrodomenico <mastro@freeciv.it>.

Wed Jul 11 21:23:00 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* common/unit.h:

	Avoid malloc()-ing 0 bytes.

Wed Jul 11 10:40:49 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* data/helpdata.txt, data/civ1/buildings.ruleset,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Add magic /* xgettext:no-c-format */ comment to translatable
	strings.

Wed Jul 11 01:37:40 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated

Wed Jul 11 01:34:03 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jul  9 23:14:55 2001  Stig E Sandoe <stig@ii.uib.no>:

	* po/no.po:

	tiny updates on no.po after a patch by Gaute B Strokkenes
	<gs234@cam.ac.uk>

Mon Jul  9 23:12:37 2001  Gaute B Strokkenes <gs234@cam.ac.uk>:

	* data/helpdata.txt, data/civ1/buildings.ruleset,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	* data/helpdata.txt, data/civ1/buildings.rulest,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset:  Add
	magic /* xgettext:no-c-format */ comments.

Mon Jul  9 10:46:08 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jul  9 09:44:32 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Udpated nl.po

Mon Jul  9 00:33:09 2001  Stig E Sandoe <stig@ii.uib.no>:

	* po/no.po:

	made a no.pox of current tree and updated no.po to be
	bleeding-edge.

Sun Jul  8 21:17:40 2001  freeciv :

	* server/stdinhand.c:

	* Prefix translatable string with /* xgettext:no-c-format */ to
	avoid confusing xgettext.

Sun Jul  8 21:11:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.h, server/unittools.c:

	Take into account that units can die in update_unit_activity(). 
	Fixes some crashes.

Sun Jul  8 08:53:18 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated.  This does NOT solve the reported bug: I had to
	generate freeciv.pot manually.

Sat Jul  7 19:19:17 2001  freeciv :

	* po/en_GB.po, po/ja.po, data/nation/dunedain.ruleset,
	data/nation/polish.ruleset:

	* po/en_GB.po: Remove fuzzy flag from header entry.  Change
	charset to ISO-8859-1.  Updated Dunedain entries.

	* po/ja.po: Remove fuzzy flag from header entry.

	* data/nation/polish.ruleset: Change "Krol" and "Krolowa" to
	"King" and "Queen" respectively.

	* data/nation/dunedain.ruleset: Use "u" rather than "u" with an
	accent in translatable strings.  Add comment for translators to
	use "u" with accent if available in the charset used.

Sat Jul  7 18:49:45 2001  freeciv :

	* INSTALL:

	* INSTALL: Update pointer to the latest GNU gettext release.

Sat Jul  7 16:12:08 2001  Stig E Sandoe <stig@ii.uib.no>:

	* po/no.po:

	Updated the revision-date in no.po as requested on freeciv-dev

Sat Jul  7 14:24:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/connection.h:

	Increase MAX_LEN_BUFFER to avoid being cut off on large map
	transfers, like apollo program and the end of the game.

	Fixes (PR#816) reported by Xavier Renaut
	<xavier@ideasandassociates.com>

Fri Jul  6 07:46:35 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Jul  5 19:20:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplomats.c:

	send_player_info() when a diplomat has gained him a new tech.

	Patch by Michael Zinn <michaelz@cse.unsw.edu.au>

Thu Jul  5 19:13:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Christian Knoke, Andrew Pimlott.

Thu Jul  5 19:09:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c:

	Fix tile trade bug at (x,y)=(2,2)

	Patch by Andrew Pimlott <andrew@pimlott.ne.mediaone.net>

Wed Jul  4 13:41:40 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated by Jens Georg <jgeorg@ldknet.org>

Wed Jul  4 13:40:51 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/NEWS.de:

	NEWS.de updated by Christian Knoke <ChrisK@enter.de>

Wed Jul  4 13:14:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/sv.po:

	Update sv.po

	Patch by Erik Sigra <sigra@home.se>

Wed Jul  4 11:54:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/gui_main.c:

	Set the gtk message area to do work wrapping.

	Fixes (PR#822) reported by Egbert Hinzen <garfy@ehinzen.de>

Wed Jul  4 11:24:21 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/options.c, common/events.h, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Send messages to the client when attacking with a nuclear.

	Fixes (PR#829) reported by Christian Knoke <ChrisK@enter.de>

Wed Jul  4 11:16:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL:

	Add debian section.

Wed Jul  4 11:12:40 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL:

	Add comments about compiling with readline < 4.2

Tue Jul  3 22:24:35 2001  Miguel Lobo <miguell@madrid.com>:

	* po/es.po:

	miguell: Update es.po (again)

Tue Jul  3 08:15:55 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jul  2 22:44:33 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Mon Jul  2 20:41:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Mark string for translation.

	Patch by Christian Knoke <ChrisK@enter.de>

Mon Jul  2 19:51:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	Make Local Options, Message Options and Save settings menu items
	available before game start.

	Fixes (PR#827) reported by Christian Knoke <ChrisK@enter.de>

Mon Jul  2 19:40:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Small fixes.

Mon Jul  2 19:27:49 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Daniel Speyer.

Mon Jul  2 19:21:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Fix to gtk client supported/present units display. If there were
	exactly NUM_UNITS_SHOWN units you could scroll the list. Now only
	make it scrollable if there are more than NUM_UNITS_SHOWN.

	Patch by Daniel Speyer <dspeyer@users.sourceforge.net>

Mon Jul  2 18:47:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/helpdlg.c:

	Don't pass "" to gettext.

	Patch by Lino Mastrodomenico <mastro@freeciv.it>

Mon Jul  2 14:28:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.h:

	Add comments.

Mon Jul  2 13:25:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/dialogs.c:

	Make the "ok" button in the nation select dialog grab focus.

	Patch by Tuomas Airaksinen <tuomas.airaksinen@pp.inet.fi>

Mon Jul  2 12:44:50 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/report.c:

	Fix crash bugs when creating demographics report for a player with
	a negative total production surplus.

Mon Jul  2 04:48:02 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jul  2 02:21:15 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated pt.po

Sun Jul  1 20:59:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/dialogs.c:

	If you closed the unit select window via the WMs delete button you
	were not able to pop a new one up.

Sun Jul  1 20:54:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, common/unit.c, server/settlers.c:

	Autosettlers were not aware that they sometimes can not transform
	to ocean.

	-Thue

Sun Jul  1 20:48:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Allow the buttons in the city dialog to have different widths. 
	This is part of a fix to the problems with text that doesn't fit. 
	(PR#820)

	Patch by Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>

Sun Jul  1 17:01:50 2001  Thue Janus Kristensen <thue@diku.dk>:

	* vms/Makefile.am, vms/Makefile.in, vms/README.txt,
	vms/config.h_vms, vms/freeciv_h.vms, vms/imlib_config.h_vms,
	vms/readme.vms:

	Update vms files.

	Patch by Robert Alan Byer <byer@mail.ourservers.net>

Sun Jul  1 09:37:24 2001  freeciv :

	* po/no.po:

	Updated the no.po file by translating a few dozen new entries,
	also stripped header slightly.

Sun Jul  1 09:05:12 2001  freeciv :

	* po/no.po:

	Updated the no.po file by applying Gaute Strokkenes' patch,
	removing obsolete translations from end of file, and translating
	several new entries

Sat Jun 30 19:12:18 2001  freeciv :

	* po/no.po:

	Updated the no.po file by removing most fuzzy entries, fixing
	non-kosher entries and cheekily updated version to 1.12.0

Sat Jun 30 19:08:48 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1929t+66f+580u+32o.

Sat Jun 30 18:42:19 2001  freeciv :

	* po/no.po:

	Updated the no.po file considerably and removed most fuzzy-entries
	in the file.

Sat Jun 30 16:49:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv, configure, configure.in:

	Bump version from 1.11.6 (beta) to 1.11.7-devel (beta).

Sat Jun 30 15:43:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ChangeLog, configure, configure.in:

	Run commit again to force CVS to add files *sigh*.

Sat Jun 30 15:41:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/it.po, po/ja.po, po/nl.po, po/no.po,
	po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po, po/sv.po:

	Begin beta-test period leading to version 1.12.0: - Changed
	version to 1.11.6 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').  - Updated Changelog

Sat Jun 30 15:19:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* build.debian:

	Debian build fix.

Sat Jun 30 13:52:27 2001  Thue Janus Kristensen <thue@diku.dk>:

	* debian/rules:

	Make the debian snapshot build work.

Sat Jun 30 13:44:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Make the gtk city dialog a little wider.

Sat Jun 30 13:21:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/helpdata.txt:

	Update about firepower handling in help text.

Sat Jun 30 13:14:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/connectdlg.c:

	Make connect dialog bigger to make room for beta message.

Sat Jun 30 12:54:31 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS:

	Mention the special character causes blank lines bug.  Mention
	that some buttons are too small for their text in the city dialog.

Sat Jun 30 12:47:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/include/Makefile.am, client/include/Makefile.in:

	Add patrol cursor files to makefile.

Sat Jun 30 11:58:41 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	The freeciv guides are not "new" any more.

	Suggested by Egbert Hinzen <garfy@ehinzen.de>

Sat Jun 30 11:54:31 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Client's Welcome-line splitted.  *** This does NOT
	solve the word-wrapping problem.

Sat Jun 30 11:07:30 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Receive server option requests also before game start.

	Fixes (PR#821) reported by Christian Knoke <ChrisK@enter.de>

Fri Jun 29 23:12:39 2001  freeciv :

	* po/es.po:

	Updated es.po

Fri Jun 29 21:15:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Small PEOPLE update.

Fri Jun 29 20:25:24 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/repodlgs.c, server/sernet.c, vms/vms_build.com:

	VMS updates and fixes.

	Patch by Robert Alan Byer <byer@chef.ourservers.net>

Fri Jun 29 19:39:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/goto.c, client/packhand.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/menu.c,
	client/gui-mui/dialogs.c, client/gui-mui/diplodlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c, common/packets.h, common/player.c,
	server/diplhand.c, server/gotohand.c, server/plrhand.c,
	server/sernet.c, server/unithand.c:

	Introduce +1.11.6 mandatory capstring.  Remove compatability code.

	This means CVS client/servers will no longer work with versions
	older than this commit.

Fri Jun 29 18:28:59 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c:

	Make it compile on non-C99 compilers.

Fri Jun 29 18:11:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Cancel patrol order if an enemy unit is within sight range of our
	unit, instead of just adjacent.

Fri Jun 29 17:54:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	The gtk client were using xaw and mui client translations when
	modifying it's menu items. That gave errors in the cases where the
	xaw or mui client had a slightly different translation.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Fri Jun 29 17:39:15 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c:

	When building a wonder finished elsewhere, changing the worklist
	will not unintentionally purge the wonder from the list.

Fri Jun 29 11:56:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	Fix bug in menu sensitivity handling of patrol item.

Fri Jun 29 11:31:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	4 LOG_VERBOSE -> LOG_ERROR in menu handling.

Fri Jun 29 07:27:21 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Update nl.po (bumped version to 1.12.0)

Thu Jun 28 21:18:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	The autoconf magic associated with older gettext releases defined
	a variable called DATADIRNAME.  It's not meaningful anymore; the
	current gettext currently unconditinoally defines it as "share" . 
	Thus there is no reason for configure.in to worry about is.

	Patch by Gaute B Strokkenes <gs234@cam.ac.uk>

Thu Jun 28 20:30:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	Fix crash when aitoggling player while he has allied units in his
	city.

	Bug reported by civserver.freeciv.org

Thu Jun 28 20:13:14 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	Fix bug in menu handling.

	Fixes (PR#821) reported by Christian Knoke <ChrisK@enter.de>

Thu Jun 28 19:49:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/en_GB.po, po/ja.po:

	Gettext tells me that en_GB and ja needs some fixes before we can
	remove fussy mark, so reinserted.

Thu Jun 28 19:31:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/it.po,
	po/ja.po, po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po, po/sv.po:

	Remove header fuzzy mark.

Thu Jun 28 17:09:49 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS:

	Make the file refer to "1.12.0" like the rest of the files.

Thu Jun 28 06:26:15 2001  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Added missing blank line.

Thu Jun 28 06:24:02 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt:

	Changed co-admin from me to Thue.  Added a missing blank line.

Thu Jun 28 06:15:16 2001  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated PEOPLE to reflect Thue as new co-admin.

Tue Jun 26 18:10:43 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c:

	Don't feed empty strings to gettext in translate_data_names().

	Patch by Lino Mastrodomenico <mastro@freeciv.it>

Tue Jun 26 18:04:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/cityrepdata.c, client/gui-gtk/cityrep.c,
	client/gui-xaw/cityrep.c:

	Don't feed gettext empty strings in cityreport.

	Patch by Lino Mastrodomenico <mastro@freeciv.it>

Tue Jun 26 17:28:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Fix city report lack of refresh bug.

	Reported by Christian Knoke <ChrisK@enter.de>

Tue Jun 26 09:08:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Fix "cancel patrol" patch.

Tue Jun 26 07:27:12 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jun 25 23:21:15 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Remove unneccesary send_all_known_tiles().

Mon Jun 25 19:30:30 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Cancel a goto if an nonallied unit gets adjacent to the patrolling
	unit.

	Fixes (PR#815) reported by Xavier Renaut
	<xavier@ideasandassociates.com>

Mon Jun 25 18:42:23 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/it.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po,
	po/sv.po:

	Add plural form headers.

	Patch by Gaute B Strokkenes <gs234@cam.ac.uk>

Mon Jun 25 18:15:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-mui/citydlg.c, client/gui-xaw/citydlg.c,
	client/include/citydlg_g.h:

	When investigating an enemy city and keeping the city window open,
	investigating a second time would not refresh the window.

	Fixes (PR#812) reported by Xavier Renaut
	<xavier@ideasandassociates.com>

Mon Jun 25 14:43:13 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 24 20:44:36 2001  Thue Janus Kristensen <thue@diku.dk>:

	* aclocal.m4, configure:

	From debian gettext-base 0.10.38-2 changelog: * Made gettext.m4 to
	work in packages which use autoconf-2.50.  Patch by Bruno Haible
	(Closes: #99732).  aclocal run to insert updated macro.

Sat Jun 23 20:33:36 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/control.h, client/gui-gtk/gotodlg.c,
	client/gui-mui/gotodlg.c, client/gui-xaw/gotodlg.c,
	common/capstr.c, common/packets.c, common/packets.h,
	server/srv_main.c, server/unithand.c, server/unithand.h,
	server/unittools.c, server/unittools.h:

	Make airlift work again.  Uses a seperate packet for airlift,
	instead of the handle_unit_move_request() hack.

Sat Jun 23 20:23:13 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/README.rulesets.de:

	README.rulesets.de added.  This is no translation but a short
	overview only.  (If you aren't able to read README.rulesets, you
	aren't able to edit rulesets.)

Sat Jun 23 13:28:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/polish.ruleset:

	And actually use the file with polish characters as I said I
	would.

Sat Jun 23 12:57:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/polish.ruleset:

	Update polish ruleset.

Sat Jun 23 12:17:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	When building a F_CITIES unit, don't charge food both for the
	settler and for the citizen used.

	Patch by Michael Zinn <michaelz@cse.unsw.edu.au>

Sat Jun 23 11:46:05 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	If you had items in your worklist when you finished a unit, the
	gamelog would report the next item in the worklist as build,
	instead of the unit you in fact just finished.

	Patch by Michael Zinn <michaelz@cse.unsw.edu.au>

Fri Jun 22 16:18:42 2001  Thue Janus Kristensen <thue@diku.dk>:

	* debian/changelog, debian/control:

	Sync changelog with official debian package.  Update maintainer
	field to Jules Bean <jules@debian.org>

Fri Jun 22 10:34:44 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Jun 21 19:20:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Michael Zinn.

Thu Jun 21 19:04:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c:

	Insert a missed break in the treaty checking.  Fix the message
	sending when giving shared vision.

	Patch by Michael Zinn <michaelz@cse.unsw.edu.au>

Wed Jun 20 16:01:16 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/citytools.h, server/unithand.c,
	server/unithand.h, server/unittools.c:

	Shuffle some functions around. unithand.c is only for handling
	user input.

Wed Jun 20 15:25:02 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c, common/map.c, common/map.h, common/unit.c,
	server/unithand.c, server/unittools.c:

	Some checking on coordinates for unithand functions. 
	is_tiles_adjacent now only returns true if the tiles are adjacent,
	ie false if the tiles are the same. Clean up some related
	confusion.

Wed Jun 20 10:28:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c:

	Fix crash bug.

	Bug reported by game 16647.

Tue Jun 19 23:54:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/it.po:

	iso-8859-1 -> ISO-8859-1

	Patch by Gaute B Strokkenes <gs234@cam.ac.uk>

Tue Jun 19 23:51:29 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/combat.c:

	A bugfix for get_defender: if 2 units' chances of winning are
	roughly equal, and the unit cost the same, use the units' strength
	in combat to choose.  (though they may both have almost zero
	chance of winning their ability to take a few hp's off the
	attacker may differ.)

Tue Jun 19 22:15:50 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/cityrep.c:

	Shuffle a little code for readability.

Tue Jun 19 20:30:18 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Refresh the homecity when creating a new unit.

Tue Jun 19 19:39:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c:

	When there is more than 100 units on a tile, only display the
	first 100. (instead of crashing.)

Tue Jun 19 18:43:49 2001  Thue Janus Kristensen <thue@diku.dk>:

	* NEWS, PEOPLE, configure, configure.in:

	Updated files for the it.po commit.

Tue Jun 19 17:49:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/it.po:

	Add it.po

Tue Jun 19 16:35:10 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/README.ja:

	Update README.ja file based on cvs-1.38's README.

Tue Jun 19 10:40:49 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated. Corrections made by Christian Knoke
	<ChrisK@enter.de>.

Mon Jun 18 22:34:59 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Remove obsolete hack to add -lintl to LIBS.

Mon Jun 18 07:59:24 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Jun 17 22:46:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* acinclude.m4, aclocal.m4, configure:

	AC_CV_FUNC_VSNPRINTF: Use a different name for the cache variable
	to avoid collision with AC_CHECK_FUNCS(vsnprintf).

Sun Jun 17 18:12:44 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated.

Sun Jun 17 13:58:08 2001  Thue Janus Kristensen <thue@diku.dk>:

	* po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po, po/nl.po,
	po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po, po/sv.po:

	[quote] The new gettext uses information from the header of each
	PO file to convert the text of MO files to whatever is required on
	the fly.  For instance, this would allow one to use a
	no_NO.ISO-8859-1 MO file in a no_NO.UTF-8 locale.

	Unfortunately, this information is missing or incorrect for most
	of the PO files supplied with Freeciv, so I went through and
	added/corrected this information as necessary.  I also tidied them
	up by replacing e.g. "latin1-iso8859-1" with "ISO-8859-1", which
	the gettext manual says is necessary.

	Note that I also changed the en_GB entry from "7bit" to "8bit". 
	This may seem odd, but the manual recommends it and it is unlikely
	to cause any harm.

	The header entries are currently marked as fuzzy, so that this
	information will not be available in any case.  However, that is
	an issue that can and should be dealt with seperately.  [/quote]

	Patch by Gaute B Strokkenes <gs234@cam.ac.uk>

Sun Jun 17 13:39:38 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL:

	Fixes to "Mac OS X and Darwin notes" by Gaute B Strokkenes
	<gs234@cam.ac.uk>

Sat Jun 16 15:58:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL:

	Add section about disabling procompiled headers under OS X. 
	Rearrange the section so that the OS-specific ones are last.

Sat Jun 16 13:22:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure.in:

	Small fix for autoconf2.50 compatability.

Fri Jun 15 23:33:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* diff_ignore:

	And then another file cvs refuses tro commit in the first go.

Fri Jun 15 23:32:44 2001  Thue Janus Kristensen <thue@diku.dk>:

	* intl/.cvsignore:

	One more file to ignore.

Fri Jun 15 23:30:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* intl/.cvsignore:

	Update ignore-files.

Fri Jun 15 23:26:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* config.guess, config.sub:

	These seem to be needed...

Fri Jun 15 23:14:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ABOUT-NLS, Makefile.in, aclocal.m4, config.h.in, configure:

	The files cvs refused to include in the last commit...

Fri Jun 15 23:12:43 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/Makefile.in, client/Makefile.am, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/include/Makefile.in,
	client/gui-xaw/Makefile.in, data/Makefile.in, common/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/default/Makefile.in, data/classic/Makefile.in,
	data/hires/Makefile.in, data/misc/Makefile.in,
	data/engels/Makefile.in, data/nation/Makefile.in,
	data/scenario/Makefile.in, doc/Makefile.in,
	data/trident/Makefile.in, intl/ChangeLog, intl/Makefile.in,
	intl/VERSION, intl/bindtextdom.c, intl/cat-compat.c,
	intl/config.charset, intl/dcgettext.c, intl/dcigettext.c,
	intl/dcngettext.c, intl/dgettext.c, intl/dngettext.c,
	intl/explodename.c, intl/finddomain.c, intl/gettext.c,
	intl/gettext.h, intl/gettextP.h, intl/hash-string.h,
	intl/intl-compat.c, intl/l10nflist.c, intl/libgettext.h,
	intl/libgnuintl.h, intl/linux-msg.sed, intl/loadinfo.h,
	intl/loadmsgcat.c, intl/localcharset.c, intl/locale.alias,
	intl/localealias.c, intl/ngettext.c, intl/plural.c, intl/plural.y,
	intl/po2tbl.sed.in, intl/ref-add.sin, intl/ref-del.sin,
	intl/textdomain.c, intl/xopen-msg.sed, po/ChangeLog,
	po/Makefile.in.in, server/Makefile.am, server/Makefile.in,
	vms/Makefile.in:

	Upgrade gettext to 0.10.38.

Fri Jun 15 20:31:50 2001  Thue Janus Kristensen <thue@diku.dk>:

	* acinclude.m4, aclocal.m4, config.h.in, configure, configure.in,
	common/Makefile.in, common/ioz.c, common/support.c,
	server/report.c, server/stdinhand.c:

	*snprintf cleanup:

	* Use an autoconf test rather than a runtime test to check if a
	given vsnprintf() is suitable.

	* Change vsnprintf() test to accept C89 as well C99 return value
	semantics.

	* Changed vsnprintf wrapper to have C89 return value semantics,
	even if the underlying implementation is C99.

	* Changed all uses of my_vsnprintf() and friends to expect C89
	rather than C99 return values.

	Patch by Gaute B Strokkenes <gs234@cam.ac.uk>

Fri Jun 15 15:23:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Remove redundant call of AC_ARG_PROGRAM.

Fri Jun 15 02:55:48 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Jun 14 19:47:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL.debian:

	gdk-imlib1-dev -> gdk-imlib-dev

Thu Jun 14 19:39:15 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL.debian:

	Add imlib-progs to the list of debian packages required.

Thu Jun 14 19:26:38 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Burak Demircan.

Thu Jun 14 19:26:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/turk.ruleset:

	Mehmed -> MehMet Murad -> Murat suleyman -> süleyman remove
	"Galatarasay", "Smyrna", "Bandirma" add "Kocaeli","Samsun" and
	"Kirklareli"

	Corrections by Burak Demircan <checkpoint@e-kolay.net>

Thu Jun 14 18:48:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* NEWS, PEOPLE:

	Doc files updates for "no diplomat action from ship" patch.

Thu Jun 14 18:47:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/unithand.c:

	Disallow diplomat actions from ships.

	Patch by Karl-Ingo Friese <kif@informatik.uni-hannover.de>

Mon Jun 11 06:22:00 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated.  Using gettext 0.10.38 two additional adminlines
	are required:

	"Content-Type: text/plain; charset=ISO-8859-15\n"
	"Content-Transfer-Encoding: 8bit\n"

Sun Jun 10 17:05:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Add comment.

Sun Jun 10 16:59:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c:

	Add comment.

Sun Jun 10 00:01:31 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c:

	Add a fixme.

Sat Jun  9 23:40:24 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Fix potential memory leak.

Sat Jun  9 23:34:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Fix the error handling for goto/patrol routes.  (don't use assert
	for checking data from the client...)

Sat Jun  9 22:44:14 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/combat.c:

	Add comments.

Tue Jun  5 14:22:43 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Jun  5 11:38:27 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/amigaclient.c, amiga/smakefile, client/gui-mui/graphics.c,
	client/gui-mui/mapclass.c:

	Updated amiga stuff.

Sun Jun  3 18:06:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/clinet.c:

	Add a

	#ifdef HAVE_WINSOCK #include <winsock.h> #endif

	Patch by Andreas Kemnade <akemnade@t-online.de>

Fri Jun  1 15:09:21 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c, common/map.c, server/gotohand.c:

	Cleanup + 1 bugfix.

Fri Jun  1 14:24:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c, server/unithand.c:

	Cleanup.

Fri Jun  1 00:08:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Cleanup, and fixing 2 bugs as a side effect.

Thu May 31 23:39:41 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	Cleanup.

Thu May 31 23:00:52 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, server/settlers.c:

	Cleanup.

Thu May 31 22:57:37 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure, configure.in:

	Update configure to insert -lm in server libs needed for combat
	routines.  (my CVS tricking me by refusing to commit some files.)

Thu May 31 15:02:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c, ai/aicity.c, ai/aiunit.c, common/Makefile.am,
	common/Makefile.in, common/combat.c, common/combat.h,
	server/autoattack.c, server/gotohand.c, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Rewrite get_defender() to avoid integer overflow.

	Fixes (PR#791) reported by Christian Knoke <ChrisK@enter.de>'s
	friend.

Wed May 30 19:01:29 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c:

	Add some more checks to treaty negotiation.

Mon May 28 22:14:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL:

	Update readline section to match newly applied patch to configure.

Mon May 28 21:58:49 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* acinclude.m4, aclocal.m4, config.h.in, configure, configure.in:

	If the initial test to link against readline fails, configure will
	try to link it with termlib, termcap, curses and ncurses.  This
	should make some broken readline installations work.

	Patch submitted by Greg Wooledge <wooledge@kellnet.com>, committed
	with several fixes by Thue Janus Kristensen <thue@diku.dk>.

Mon May 28 00:05:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/misc_cities.ruleset:

	Alosno -> Alonso Andorra -> Andorra la Vella Added Waco

	Patch by "Miguel Farah F." <miguel@antonia.nn.cl>

Sun May 27 23:07:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* NEWS:

	Mention new maps under NEWS.

Sun May 27 23:03:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/scenario/hagworld-120x60-v1.2.sav:

	Add new world map.

Sun May 27 22:43:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/registry.c:

	Fix bug in registry.

	Patch by "STyx" <styx@mailoman.com>

Sun May 27 21:51:22 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	When using the "unload all" commando from a transporter, only
	activate units the transporter can transport. (ie, fx don't wake
	up sentried ships when used by a ground units transport)

	Bug reported by Christian Knoke <ChrisK@enter.de>

Sun May 27 17:40:16 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Small fix.

Sun May 27 17:36:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/scenario/iberian-peninsula-136x100-v0.9.sav:

	Add Iberian Peninsula map by "Miguel Farah F."
	<miguel@antonia.nn.cl>

Fri May 25 23:53:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/scenario/Makefile.am, data/scenario/Makefile.in,
	data/scenario/british-isles-80x76-v2.51.sav:

	Add british isles map.  Made by martin mcmahon
	<martin.mcmahon@ukonline.co.uk>

Fri May 25 20:12:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Remember to credit Miguel Farah with his Iberian Peninsula map.

Fri May 25 14:21:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Insert Davide Pagnin <nigthmare@freeciv.it> into PEOPLE file.

Thu May 24 23:41:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c:

	Cleanup.

Thu May 24 22:59:36 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	Do not disable the "b" button/menu item for a settler standing on
	a city, regardless of whether it can add to the city.  When the
	player then tries the request will go through to the server, and
	the server will give a usefull error message.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Thu May 24 22:36:18 2001  Thue Janus Kristensen <thue@diku.dk>:

	* NEWS:

	NEWS item: Settlers can only be added to cities less than size 8.

Thu May 24 22:25:42 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Christian Knoke under translators.

Thu May 24 22:12:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, data/default/cities.ruleset, server/settlers.c,
	server/unithand.c:

	Change game.add_to_size_limit to 8 as in civ 2. (it determines the
	limit for adding settlers to a city).  It was also used
	inconsistently (Fixed). Now that is 8 you can add to cities <8.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Thu May 24 21:18:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, server/barbarian.c:

	Cleanup.

Thu May 24 19:55:49 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, server/barbarian.c:

	move rand_neighbour() to map.[ch] + some cleanup.

Thu May 24 19:31:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/autoattack.c:

	Cleanup.

Thu May 24 18:38:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c, common/unit.c:

	Cleanup.

Thu May 24 16:15:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Minor cleanup.

Thu May 24 15:25:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Move evaluation of city building out into a seperate function.

Thu May 24 09:56:44 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated. Corrections by Christian Knoke <ChrisK@enter.de>

Thu May 24 09:21:57 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/NEWS.de:

	NEWS.de translated by Christian Knoke <ChrisK@enter.de>

Wed May 23 21:13:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c:

	Mark 4 strings for translation.

Wed May 23 19:09:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c, common/city.h, server/citytools.c,
	server/citytools.h, server/settlers.c, server/unithand.c:

	Merge in_city_radius() and city_exists_within_city_radius() and
	move the resulting function to common/city.c

Wed May 23 18:35:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.h, server/cityturn.c, server/settlers.c:

	Make city_map_iterate_outwards declare it's own variables for
	iterating.

Wed May 23 18:21:24 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/aicity.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-mui/mapclass.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, common/city.c, common/city.h,
	common/game.c, common/player.c, server/citytools.c,
	server/cityturn.c, server/sanitycheck.c, server/savegame.c,
	server/settlers.c:

	Make city_map_iterate automatically declare the variables it uses
	to iterate.

Wed May 23 17:02:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c:

	Correction.

Wed May 23 16:55:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c, common/city.h:

	Cleanup.

Wed May 23 16:25:14 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c, server/unithand.h, server/unittools.c,
	server/unittools.h:

	Move package_unit from unithand.c to unittools.c

Tue May 22 20:46:29 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	mwh@stampede.org -> mwh@sysrq.dk

Tue May 22 20:42:58 2001  Thue Janus Kristensen <thue@diku.dk>:

	* NEWS, PEOPLE:

	Remove duplicate "allowconnect" news item.  Minor PEOPLE fixes.

Tue May 22 14:10:27 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated by Jens Georg <jgeorg@ldknet.org>

Tue May 22 12:15:50 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

	Add-ons submitted by Christian Knoke <ChrisK@enter.de>

Mon May 21 20:19:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/report.c:

	Report all wonders being build in the wonders report, also
	obsolete ones.  If obsolete wonders were not reported a player
	could amass shield while building, and then change to a real ones
	and complete that in one turn.

	Patch by Lino Mastrodomenico <mastro@freeciv.it>

Sun May 20 22:40:44 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/sanitycheck.c:

	Add an extra check for the ptile->worked field, checking whether
	the city agrees that it is working the tile.

Sun May 20 22:27:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Minor cleanup.

Sun May 20 22:25:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Fix a bug in city worker checking for old savegames.

Sun May 20 19:05:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Don't send city info before game start, ie only send in
	RUN_GAME_STATE and GAME_OVER_STATE.  This caused a crash when
	AItoggling players in a loaded game before game start.

Sun May 20 18:53:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	List README.sv and BUGS.sv as maintained by Erik Sigra
	<sigra@home.se>.

Sun May 20 18:52:15 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Avoid unused savegames entry warnings related to recent fix.

Sun May 20 18:23:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Fix crash related to diplstates when using old savegames.

Sat May 19 22:12:08 2001  Thue Janus Kristensen <thue@diku.dk>:

	* doc/README.sv:

	Add README.sv

	Patch by Erik Sigra <sigra@home.se>

Sat May 19 22:08:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* doc/BUGS.sv:

	Update BUGS.sv

	Patch by Erik Sigra <sigra@home.se>

Sat May 19 20:31:52 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sat May 19 15:43:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS:

	Small fix.

Sat May 19 15:34:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS:

	Fix spelling.  Reported by Erik Sigra <sigra@home.se>

Sat May 19 14:59:02 2001  Thue Janus Kristensen <thue@diku.dk>:

	* BUGS, INSTALL, INSTALL.debian, NEWS, PEOPLE, README:

	Generel update/corrections to documentation files.  The changed
	files should now be suitable for a 1.12.0 release.

	I just corrected a few obvious mostakes in INSTALL.debian, the
	debian maintainer probably wants to make further updates. The
	debian subdir also needs an update.

Fri May 18 13:34:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, common/unit.h, server/unittools.c,
	server/unittools.h:

	Air units were not getting assigned to transports properly.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Sat May 12 09:37:42 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c:

	Update the goto line dest to the new mouse pointer pos when
	recentering the map.

Sun May  6 21:45:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/citytools.h, server/diplhand.c,
	server/plrhand.c, server/srv_main.c:

	Update which squares can be worked when we change pact status.

Sun May  6 20:54:16 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, server/maphand.c:

	Fix up global warming/cooling changing of terrain to avoid failed
	sanity check.

	Bug reported by Jason Short <jshort@devon.dhs.org>

Sun May  6 00:44:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/dialogs.c:

	Fix crash when selecting a unit in a selectbox, if the unit had
	been killed in the mean time.

	Bug reported by Paul Langemeijer
	<P.O.Langemeijer@student.utwente.nl>

Fri May  4 08:59:32 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu May  3 23:32:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/helpdata.txt:

	Help text fixes.

	Patch by Jason Short <jdorje@users.sourceforge.net>

Thu May  3 00:07:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Fix shared vision crash when playing with FoW off.

	Bug reported by Martin McMahon <martin.mcmahon@ukonline.co.uk>

Thu Apr 26 10:29:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/sanitycheck.c:

	Replace assert check on unit activity with an error message.

Thu Apr 26 10:20:30 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Split the game loop out into a seperate function.

Wed Apr 25 16:29:22 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	Two LOG_NORMAL->LOG_DEBUG in start position generation.

Wed Apr 25 09:01:24 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Apr 25 08:34:36 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Apr 25 00:23:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, common/city.h:

	Comments.

Tue Apr 24 23:39:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/civclient.c, client/civclient.h, client/packhand.c,
	client/gui-gtk/connectdlg.c, client/gui-mui/connectdlg.c,
	client/gui-xaw/connectdlg.c:

	Rename global variable from "name" to player_name to avoid
	polluting the namespace too much.

Tue Apr 24 21:44:43 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	When removing tiny islands, remember to set the continent to 0. 
	Caught by sanity checker.

	There is still the problem that map.num_continents lists too many
	continents, as some of the continents are in fact removed.

	Bug reported by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Tue Apr 24 12:25:32 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c:

	The timeout label now displays max 7 chars to make sure it is
	completely visible. So it is dd/hh, hh/mm or mm/ss.

	Bug reported by Niels Weber <nath@snafu.de>

Tue Apr 24 12:05:33 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Fix syntax error.

Sun Apr 22 20:05:44 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Cosmetic shuffle of a little code.

Sun Apr 22 19:58:25 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c:

	Added progress bar to science report.

Sun Apr 22 19:12:39 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	Added player notification upon server exit caused by closing
	stdin.  Suggested by Reinier Post <reinpost@win.tue.nl>.

Sun Apr 22 18:58:46 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	The server now exits upon closing stdin instead of going into an
	infinite loop.  Bug reported by Reinier Post
	<reinpost@win.tue.nl>.

Sun Apr 22 16:38:03 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fixed bug of insensitivity after changing government.  Bug
	reported by Kero van Gelder <kero@dds.nl>.

Sun Apr 22 13:59:22 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Fixed main map not being properly resized bug.  Bug report by Lino
	Mastrodomenico <mastro@freeciv.it>.

Sun Apr 22 13:54:12 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/chatline.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/repodlgs.c:

	Fixed bug i introduced on my last commit.  Too much search &
	replace was the problem.  I also changed some more dialogs to not
	make the whole toplevel insensitive (e.g. the revolution dialog). 
	Some other minor changes.  Bug reported by Jason D Short
	<jshort@devon.dhs.org>.

Sat Apr 21 22:37:45 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/chatline.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gotodlg.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/inteldlg.c, client/gui-gtk/messagedlg.c,
	client/gui-gtk/repodlgs.c:

	Make only the top of the pane insensitive instead of the whole
	window.

Sat Apr 21 22:17:34 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c, server/citytools.c, server/savegame.c:

	Fix a case of misplaced workers when you build a city on a worked
	tile.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Sat Apr 21 18:26:16 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/sanitycheck.c:

	Fix a sanity check.

Fri Apr 20 22:26:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c:

	Fix assertion failure when canceling an airplane goto.  (ie, when
	you push "g" and then "esc")

	Bug reported by Lino Mastrodomenico <mastro@freeciv.it>

Fri Apr 20 22:16:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/menu.c, client/gui-xaw/actions.c,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h:

	Move "players" and "messages" reports to "reports" menu.  As
	suggested by Christian Knoke <ChrisK@enter.de>

Wed Apr 18 20:35:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	When a player tries to attack another player, but can't because
	they have a treaty, send a message saying how to cancel the
	treaty.

Wed Apr 18 16:21:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h:

	Fix bug in map_adjust_x().

	Patch by Lino Mastrodomenico <mastro@freeciv.it>

Wed Apr 18 14:14:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/helpdlg.c:

	_(?...) should have been Q_(?...)

	Patch by Lino Mastrodomenico <mastro@freeciv.it>

Tue Apr 17 22:01:40 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/tilespec.c, data/hires/terrain1.spec,
	data/hires/terrain1.xpm:

	Make HiRes tileset work with civ1 rulesets: -Draw T_RIVER using
	grassland+S_RIVER graphics.  -Add horse special icon to hires.
	(drawn by me) -Add forest_game special icon to hires. (from
	trident, modified by me) -Add seals special icon to hires.
	(directly from trident)

	Thanks to Lino Mastrodomenico <mastro@freeciv.it> for adjusting
	the colors to preserve the palette.

Tue Apr 17 15:01:02 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c, server/gotohand.c:

	Fix a goto bug.

Tue Apr 17 09:22:27 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Fix a bug with shared vision and disabling/enabling FoW.

Mon Apr 16 20:33:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c:

	Revert recent commit that caused infinite loop. (or at least as
	long as you had stack space).

	Bug reported by Daniel Frazier <dfrazier@magpage.com>

Mon Apr 16 17:43:28 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/wldlg.c, client/gui-xaw/wldlg.c:

	There are various issues when editing global worklists. With this
	patch the global worklist dialog is disabled while you are editing
	a worklist, which should make it safe most of the time.  Note: it
	is positively known to still bug in some cases.

	Bug reported by Heikki Kniivilä <heikkikk@bestlinuxmail.com>

Sun Apr 15 18:46:30 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Handle pending seen points when an player giving you shared vision
	explores a tiles.

	Bug reported by Kero van Gelder <kero@dds.nl>

Sat Apr 14 19:56:28 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Make city worker checks on loading a savegame LOG_DEBUG instead of
	LOG_ERROR as the errors occur in most old savegames and will only
	confuse the user.

Sat Apr 14 13:49:58 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Save and load known bits for players 16-31. (ahem) handle old
	buggy savegames gracefully.

	Bug reported by Nicolas Brunel <brunel@esil.univ-mrs.fr>

Sat Apr 14 12:21:41 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	A fix for the researchcost patch.

Sat Apr 14 11:30:40 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/advmilitary.c, client/packhand.c,
	common/game.c, common/game.h, common/packets.c, common/packets.h,
	server/gamehand.c, server/savegame.c, server/stdinhand.c:

	Rename the internal server variable "game.techlevel" as
	"game.researchcost".

	Patch by Arien Malec <arien_malec@yahoo.com>

Sat Apr 14 10:45:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/sanitycheck.c:

	Replace some asserts with error messages to avoid havin quite so
	many crashes.

Sat Apr 14 10:26:58 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL, configure, configure.in:

	Last files of readline update.  Readline >= 4.2 is detected by
	looking for rl_completion_matches in configure.

Sat Apr 14 10:25:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c, server/stdinhand.h:

	Upgrade to readline 4.2.  Readline 4.2 is now the minimum readline
	version to be able to compile readline support into freeciv.

Sat Apr 14 10:03:15 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c, server/diplhand.h, server/plrhand.c:

	Close all diplomatic meetings(dialogs) of dying players.

	Fixes (PR#577) reported by Michael Schreiber <M.Schreiber@gmx.de>

Sat Apr 14 09:49:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Some corrections when loading savegames so old buggy savegames are
	compatible.

Fri Apr 13 23:14:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/cityturn.c:

	The previous commit was not quite complete and not quite
	correct...  This should do it.

Fri Apr 13 22:44:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Fix an assert failure in new worker managnement code.

Wed Apr 11 13:04:20 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Apr 11 12:45:24 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Apr 10 22:41:00 2001  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* po/hu.po:

	Updating Hungarian translation.  Patch submitted by Gábor Dukai
	<dukai@EUnet.yu>.

Tue Apr 10 20:59:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c, server/unittools.c:

	If paradropping into unknown terrain and there is an enemy unit at
	the destination the paradropping unit is lost.  Previously you
	would have been told that the dest contained an enemy unit.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Tue Apr 10 20:50:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/player.c, server/plrhand.c:

	Don't bug if max sci/tax/lux rate is 40%.

	Bug reported by Maciej Czapkiewicz <mczapkie@kolej.pl>

Tue Apr 10 19:58:49 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Put in a send_city_info(NULL, pcity) that had somehow gone missing
	in create_city()

Tue Apr 10 18:50:23 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Only send packet_remove_unit to players who can actually see the
	unit.

Tue Apr 10 16:49:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	Map generator: Deserts should exist primarily between 15 and 35
	degrees north and south of equator, instead of centered on the
	equator.

	Patch by Karen Yeats <kayeats@burns.dyndns.org>

Tue Apr 10 13:21:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h:

	Change map_adjust_x() so it can adjust x values from outside
	[-map.xsize;2*map.xsize-1] correctly.

Tue Apr 10 12:47:32 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c:

	Fix LOG_FATAL message.

	Patch by Chris Snow <chris@baldric.uwo.ca>

Tue Apr 10 12:44:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, ai/aihand.c, ai/aitools.c, common/city.c,
	common/city.h, server/cityhand.c, server/citytools.c,
	server/citytools.h, server/cityturn.c, server/cityturn.h,
	server/maphand.c, server/plrhand.c, server/sanitycheck.c,
	server/unithand.c, server/unittools.c:

	Change the way the city map (the tiles the city can work) is
	updated.  Now instead of having to update the map before you use
	it it is updated when events happen that affect it.

	To avoid sending info for an affected city severel times in a row
	when you need to modify severel times cities are not automatically
	sent to the client in the update function when the city map
	changes. Instead you have to call sync_cities() to do this.
	Functions that require you to call sync_cites() after they have
	been called have had the comment added to their comment block.

	Fixes (PR#700) reported by Christian Knoke <ChrisK@enter.de>

Tue Apr 10 12:29:15 2001  Thue Janus Kristensen <thue@diku.dk>:

	* INSTALL:

	Readline section added.

Mon Apr  9 18:00:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Go through the rest of update_city_activity() if we fail to
	disband city in the disband_city() function.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Sun Apr  8 19:44:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Increase the spacing between supported/present units in the
	non-isometric city dialog.

Fri Apr  6 13:52:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* configure:

	Update configure for sanity checking commit.

Fri Apr  6 13:51:30 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/sanitycheck.c:

	Fix a bug in the sanitychecking.

Fri Apr  6 11:29:02 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/Makefile.am, server/Makefile.in, server/sanitycheck.c,
	server/sanitycheck.h, server/srv_main.c:

	Add automated sanity checking in the server, called 2 times per
	turn. If an inconsistency is found we abort.  This will catch some
	bugs when they happen instead of 10 turns later.  The sanity check
	is only called if (IS_DEVEL_VERSION || IS_BETA_VERSION) is true.

Thu Apr  5 23:27:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* diff_ignore:

	add "*.swp" and "tags" to diff_ignore.

Thu Apr  5 23:16:52 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/unittools.c:

	Smarter carriers: Refuel air units just about to run out of fuel
	before refueling air units that have enough fuel to wait another
	turn.  Refuel most valuable units first.

	Patch by Joona Kiiski <zamar-fc@mail.freenet.hut.fi>

Thu Apr  5 22:11:34 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c, server/unittools.h:

	Add a check for dest tile coordinates in move_unit().

Mon Apr  2 21:51:52 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/israeli.ruleset:

	Jeriho -> Jericho

	Reported by Mark Saward <mark_saward@unite.com.au>

Mon Apr  2 18:13:12 2001  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unittools.c:

	The formula ((myrand(100) <= trireme_loss_pct(pplayer, punit->x,
	punit->y))) gave one percent chance of sinking for a trireme even
	with the lighthouse. The new formula with < instead of <= is
	correct.

Thu Mar 29 23:18:36 2001  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c:

	Call ai_manage_diplomat() again after diplomat has taken an action
	this turn.  Patch submitted by Anthony Stuckey,
	stuckey@jaka.ece.uiuc.edu

Thu Mar 29 23:08:39 2001  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* common/tech.c, common/tech.h, common/unit.c, common/unit.h,
	data/civ2/techs.ruleset, data/default/techs.ruleset,
	server/unittools.c:

	Make Trireme loss percentage depend upon known technologies. 
	Patch submitted by Anthony Stuckey (stuckey@jaka.ece.uiuc.edu).

Thu Mar 29 23:04:38 2001  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* data/nation/australian.ruleset:

	Fix typo in australian city names.  Submitted by
	martin.mcmahon@ukonline.co.uk.

Mon Mar 19 02:45:15 2001  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Remove unused include.

Fri Mar 16 20:03:56 2001  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1920t+57f+586u+32o.

Thu Mar 15 21:23:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/helpdlg.c:

	Mark 2 ")." for translation in the gui-gtk help dialog.

Sun Mar 11 23:38:28 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/hires/terrain2.xpm:

	Remove unused color entries in xpm file.

	Patch by Dirk Stoecker <stoecker@epost.de>

Sun Mar 11 23:30:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c:

	Goto bug: when entering a nonallied city move cost was assumed to
	be 3, regardless if there was a road on the last tile into the
	city.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Thu Mar  8 20:24:16 2001  Thue Janus Kristensen <thue@diku.dk>:

	* freeciv_hackers_guide.txt:

	Fix 2 errors and make 2 other places more readable.

Mon Mar  5 08:52:20 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Mar  5 08:28:11 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated.  Most corrections by Frank Osterfeld
	<frank.osterfeld@dorninger.de>.

Sat Mar  3 22:51:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/unittools.c:

	When a city was destroyed a unit could be transferred to another
	players homecity but remain owned by the old player. Caused
	segmentation fault.  Now we transfer the unit to the city's owner.

Fri Mar  2 23:15:02 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/connection.c, server/maphand.c:

	Flush send buffers more often to further prevent them getting
	full.  This should fix (PR#705).

Thu Mar  1 10:30:48 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Feb 28 23:02:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Don't accept most packets before the game has started. Most
	functions don't expect to be called before the game is
	initialized, so strange result would follow.

Wed Feb 28 22:39:22 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Don't announce various governments with no prerequisites as newly
	available when we discover a future tech.

	Bug report by Erik Sigra <sigra@home.se>

Wed Feb 28 09:24:18 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/HOWTOPLAY.de:

	New HOWTOPLAY.de Translated by Frank Osterfeld
	<frank.osterfeld@dorninger.de>

Wed Feb 28 08:17:52 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/messagewin.c:

	MUI client: Doubleclick on an messagewindow entry now pops up the
	city dialog if possible or center the map.

Tue Feb 27 22:54:27 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Add a space to a linebroken LOG_ERROR message.

Tue Feb 27 20:53:12 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	A bit more checking when accepting players. In some cases a player
	could be accepted as a new player in a loaded but not yet started
	game.

Tue Feb 27 19:37:05 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c, server/stdinhand.c:

	If no argument is given to server save command save the game to
	file <auto-save name prefix><year>m.sav[.gz]

	Patch by Chris Chittleborough <cchittleborough@yahoo.com.au>

Tue Feb 27 19:01:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/helpdata.txt:

	Small fixes to key shortcut helptexts.

	Patch by Erik Sigra <sigra@home.se>

Tue Feb 27 01:30:19 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Feb 26 18:42:38 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Cities can now have 0 trade (used to have a lower limit of 1).
	This is to make small cities less powerfull.

	Patch by Paul Zastoupil <paulz@dunedain.net>

Mon Feb 26 15:21:22 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Cleaned up nl.po, spelling corrections, renamed A.Smiths Trading
	Co. to V.O.C., which was a very dominant force in Dutch economics
	during 15th-18th century.

Mon Feb 26 13:45:58 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c, client/gui-mui/mapview.c:

	MUI client: Fixed the bug in get_map_xy() also for this client.
	Citydescriptions (re)enabled

Mon Feb 26 08:36:56 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Feb 25 19:34:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c, client/gui-gtk/mapview.c:

	Revert fix for goto bug and implement a better one, fixing a bug
	in get_map_xy() that is the root cause. (not adjusting y coord).

Sun Feb 25 19:06:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c:

	Fix case where the client would try to draw a line to a point
	outside the map, triggering an assert.

	Bug reported by Martin Olveyra <molv@adinet.com.uy>

Sun Feb 25 16:52:13 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/civserver.c, server/sernet.c, server/srv_main.c,
	server/srv_main.h:

	Renamed --Reboot to --quitidle for more clarity.  Change suggested
	by Reinier Post <reinpost@win.tue.nl>.

Sun Feb 25 12:14:45 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/autogroupclass.c,
	client/gui-mui/autogroupclass.h, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/mapview.c:

	MUI client: The units below the active unit are displayed.

Sat Feb 24 23:19:26 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c:

	MUI client: Isometric tiles are now dithered.

Sat Feb 24 18:37:02 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/civserver.c, server/sernet.c, server/srv_main.c,
	server/srv_main.h:

	Added --Reboot command line option.  It makes the server quit if
	there are no players connected for a given time interval.

Sat Feb 24 17:35:17 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Added code to automagically set the default size of the city
	dialog according to tile size.

Fri Feb 23 20:50:50 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gamedlgs.c:

	MUI client: Implemented COT_INT option type.

Fri Feb 23 20:17:28 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c, client/gui-mui/mapclass.c:

	MUI client: Reimplemented the optimized scrolling for the overhead
	display.  Mapgrid in Iosmetric view works now Unit GUI Objects
	have the correct height in isometric view.

Fri Feb 23 15:25:11 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c, client/gui-mui/graphics.h,
	client/gui-mui/mapclass.c, client/gui-mui/mapview.c:

	MUI client: Added client goto support for the isometric view.

Thu Feb 22 23:15:47 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/helpdlg.c:

	MUI client: Less brutal colors for the technology buttons. 
	Suggested by Thomas Aglassinger <agi@rieska.oulu.fi>

Thu Feb 22 22:37:50 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c, client/gui-mui/graphics.h,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/mapctrl.c, client/gui-mui/mapview.c:

	MUI client: Reimplemented the client goto function for the
	overhead display mode.

Thu Feb 22 21:12:21 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h:

	MUI Client: Added the new view menu entries. Added the new
	functions in the overhead display mode.

Thu Feb 22 19:51:22 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/graphics.c, client/gui-mui/graphics.h,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapview.c,
	client/gui-mui/mapview.h, client/gui-mui/overviewclass.c:

	Amiga Version: Made again compilable and implemented the isometric
	view display stuff (not fully finished yet)

Wed Feb 21 08:34:07 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Feb 20 23:49:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	save/load the map.fixed_start_positions variable.  (to help the
	scenario editor)

Tue Feb 20 23:36:48 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/savegame.c:

	Fix a crash when loading old savegames.

	Fix by Mike Kaufman <mkaufman@math.ukans.edu>

Tue Feb 20 21:58:31 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c:

	Remove a stale comment.

Tue Feb 20 21:18:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/chatline.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/diplodlg.h, client/gui-gtk/finddlg.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gotodlg.c,
	client/gui-gtk/gui_main.c:

	Make lots of stuff static, as it should be.

Tue Feb 20 20:33:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/cityrep.c:

	Make lots of functions and variables static.

Tue Feb 20 19:59:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c, server/unittools.h:

	Update the placing of partisans.  Partisans are now placed where
	they have the highest defense rating, and they prefer to be placed
	on the same island as their city.

Tue Feb 20 19:36:34 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	The calculation of the empire size penalty was wrong when
	empire_size_inc>0.  Before first unhappy citizen would come at
	cityfactor+empire_mod and the next at
	(cityfactor+empire_mod+empire_size_inc-1). Now the next comes at
	(cityfactor+empire_mod+empire_size_inc).

	Patch by Mike Jing <miky40@hotmail.com>

Tue Feb 20 19:23:33 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, common/unit.c, common/unit.h, server/citytools.c,
	server/maphand.c, server/unittools.c:

	Disallow pillaging road or railroad in a city.  Fix bugs when
	checking if a units current activity is legal.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Tue Feb 20 16:17:49 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c:

	Accept pong packets from dead players.

Tue Feb 20 00:23:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c:

	Clean up some code a little by using macros.

Mon Feb 19 23:37:51 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c, common/capstr.c, common/connection.c,
	common/connection.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/packets_lsend.c,
	common/packets_lsend.h, server/sernet.c, server/srv_main.c,
	server/stdinhand.c:

	Added ping packet patch.  This means that clients that don't reply
	to the server's ping request in a given time interval will get
	cut.

	Thanks go to Paul Zastoupil <paulz@dunedain.net> for reminding
	that the other clients should be notified of disconnections.

Mon Feb 19 23:04:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Shields added to production when adding via a caravan/freight was
	hardcoded to 50. Changed to be the production cost of the unit.

Mon Feb 19 22:57:12 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/capability.c:

	This patch replaces the has_capability() and has_capabilities()
	functions with faster versions that don't use strdup().

Mon Feb 19 22:56:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Remove stale comment.

Mon Feb 19 22:52:33 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, client/packhand.c, common/capstr.c, common/city.c,
	common/city.h, common/packets.c, common/packets.h,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/cityturn.h, server/diplomats.c, server/savegame.c,
	server/unithand.c, server/unithand.h:

	Add fields to city for shields added from disbanding units and
	from adding caravans the current turn. When changing production
	make sure no shields added in the current turn are lost to
	production change penalty.  Fix bug where you could nullify the
	effect of diplomat production sabotage by switching production.

	Patch by Joona Kiiski <zamar@freenet.hut.fi> with much cosmetic
	cleanup by me.

Mon Feb 19 20:58:48 2001  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/citytools.c:

	Modify the city info packet to include the full breakdown of
	happiness information.  Patch submitted by Mike Jing
	<miky40@hotmail.com>.

Mon Feb 19 18:51:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Fix an infinite loop in the land<->ocean transformation unit
	handling.

Sun Feb 18 23:18:43 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/unithand.c:

	Minor cleanup: move autocreation of road when you build a city
	down into the create_city() function.

Sun Feb 18 16:33:59 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* configure:

	Ran autoconf to update configure.

Sun Feb 18 16:28:28 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* acconfig.h, configure.in, client/civclient.c, client/clinet.c,
	common/connection.c, common/netintf.c, common/netintf.h,
	common/packets.c, common/shared.c, common/support.c,
	common/support.h, server/meta.c, server/sernet.c,
	server/srv_main.c:

	Adds support for compiling civserver on Win32 using MingW32.

	Patch submitted by Andreas Kemnade <akemnade@t-online.de>.  Some
	changes by Jeff Mallatt <jjm@codewell.com> and me.

Thu Feb 15 21:56:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/goto.c, server/gotohand.c:

	Goto bug: going from ship onto land the goto algoritm assumed the
	move cost was SINGLE_MOVE when it was really the move cost for the
	terrain.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Thu Feb 15 21:27:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, server/citytools.c, server/cityturn.c,
	server/diplomats.c, server/unittools.c:

	-With this patch sea units are moved out of the city when the city
	is disbanded. If they can't they are wiped.  -Clean up
	could_unit_move_to_tile().  -Clean up transfer_city_units() and
	correct generated messages.  -Fix FoW handling when inciting a
	revolt with a diplomat by first sending the diplomat home after
	transferring the city.

Thu Feb 15 20:54:40 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-mui/mapctrl.h:

	Remove unneccesary extern declaration of "city_workers_display".

	Patch by Dirk Stoecker <stoecker@amigaworld.com>

Thu Feb 15 18:40:38 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, server/gamehand.c:

	Set "unhappysize" and "cityfactor" in packet_game_info. The field
	were already sent, but the variables were not set server-side or
	used used client-side.

	Patch by Mike Jing <miky40@hotmail.com>

Wed Feb 14 21:31:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapctrl.h,
	common/support.c:

	Remove a double include, a double declaration and change "#if
	DEBUG" to "#ifdef DEBUG".

	Patch by Raimar Falke <hawk@B205a.WH8.TU-Dresden.De>

Wed Feb 14 19:55:27 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	code cleanup: client/gui-gtk/citydlg.c -- add missing function
	prototypes; -- make a few more functions static; -- minor
	readability changes;

Wed Feb 14 14:12:20 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Feb 13 22:32:55 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt:

	Minor clean-up of controls help text.

Tue Feb 13 18:53:45 2001  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c:

	Added missing #include required by recent citytools/cityhand
	cleanup.

Tue Feb 13 17:53:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/aihand.c, ai/aitools.c, ai/aiunit.c,
	server/cityhand.c, server/cityhand.h, server/citytools.c,
	server/citytools.h, server/cityturn.c, server/cityturn.h,
	server/diplhand.c, server/diplomats.c, server/maphand.c,
	server/plrhand.c, server/plrhand.h, server/ruleset.c,
	server/savegame.c, server/settlers.c, server/srv_main.c,
	server/unithand.c, server/unittools.c:

	Move functions from cityhand.c to citytools.c, so that only
	functions that handle the interface with the client is in
	cityhand. Move a few functions from citytools to plrhand.c . 
	(lots of files affected where I removed #include "cityhand.h")

Mon Feb 12 20:25:34 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Fix bad iteration over game.government_count
	(i<=game.government_count => i<game.government_count)

	Bug reported by Mike Jing.

Mon Feb 12 20:12:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c:

	Use the SINGLE_MOVE constant in unit_move_rate.  Make use of safe
	map iteration macros some places.

Sun Feb 11 15:36:28 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	Add a number of basic sanity checks to various handle_city_*()
	functions, like existence of the city... Fixes a few segfaults.

	Bug reported by Paul Zastoupil <paulz@dunedain.net>

Sun Feb 11 12:35:18 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/tilespec.c:

	Don't try to look up sprite of unspecified terrain special.
	Notably, don't trigger assert with the civ 1 ruleset.

Sun Feb 11 00:16:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/tilespec.c:

	Oil towers were not shown in overhead view.

	Bug reported by Jan Felix Heidefuß <Jan_Heidefuss@yahoo.de>

Sat Feb 10 20:49:42 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-stub/graphics.c:

	Now overhead_view_supported() should return 1 or the stub client
	won't run.

Sat Feb 10 20:43:39 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-stub/graphics.c, client/gui-stub/mapview.c:

	Updated stub client.

Fri Feb  9 08:54:30 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Feb  8 22:05:11 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Feb  8 22:04:21 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated Patch submitted by Jens Georg
	<jgeorg@ldknet.org>.

Wed Feb  7 21:55:33 2001  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/control.c, client/gui-gtk/menu.c,
	client/gui-xaw/actions.c, client/gui-xaw/menu.c, data/Freeciv,
	data/helpdata.txt:

	Committing changes to keyboard equivalents, submitted by
	mike_jing@email.com.

Tue Feb  6 20:30:59 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/control.h, client/options.c,
	client/options.h, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/colors.c, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-xaw/colors.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/include/colors_g.h:

	Layer view; you can choose not to display some map info.

	Patch by Daniel M Church <dchurch@crossbreed.mbhs.edu> and me.

Tue Feb  6 19:09:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Make Leonardo's Workshop choose a random unit to upgrade, instead
	of just the next in the list.

	Patch by Joona Kiiski <zamar@freenet.hut.fi>

Tue Feb  6 19:03:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Only allow upgrading units in cities owned by you. (ie not in
	allied cities)

	Patch by Joona Kiiski <zamar@freenet.hut.fi>

Tue Feb  6 18:56:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Update homecity (unhappiness) when a unit leaves an allied city.

	Patch by Joona Kiiski <zamar@freenet.hut.fi>

Tue Feb  6 18:51:05 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	The "new government" -message was shown only if you are the first
	one who founds the necessary technology. (bug)

	Patch by Joona Kiiski <zamar@freenet.hut.fi>

Mon Feb  5 21:53:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/gui_main.c:

	Enable page_up, page_down, home and end for diagonal movement in
	the gtk client as in the XAW client.

	Patch by Arien Malec <arien_malec@yahoo.com>

Sun Feb  4 15:59:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c:

	Somehow I had messed up the solid background behind units feature;
	should work again now. (it is not implemented in isometric view.)

Sun Feb  4 14:31:23 2001  Thue Janus Kristensen <thue@diku.dk>:

	* acconfig.h, config.h.in, configure, configure.in:

	Update config files to remove isometric view compile-time option.

Sun Feb  4 13:45:18 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/tilespec.c, client/tilespec.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h, client/gui-xaw/graphics.c,
	client/include/graphics_g.h, client/include/mapview_g.h:

	Make isometric view a run-time option.

Sat Feb  3 22:49:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	And just remove some debug code from the last commit...

Sat Feb  3 22:45:13 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Make the number of citizens that can be shown in the gtk client
	unlimited.  (by overlapping them if neccesary.)

Sat Feb  3 22:15:20 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h:

	Make unit support show in the isometric city window (ahem).  Some
	clean up and a bug fix in the non-isometric view.

Sat Feb  3 19:45:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c, server/cityturn.h, server/plrhand.c:

	Send info about wonder soon build to all players, not just city
	owner.

Sat Feb  3 19:09:33 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Don't report "wonder soon build" if the wonder is already build
	elsewhere.

	Bug reported by Jan Felix Heidefuß <Jan_Heidefuss@yahoo.de>

Sat Feb  3 18:33:01 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Fix bug where incomplete player information was sent. Move
	information about embassies, treaties and shared vision from
	INFO_FULL to INFO_EMBASSY.

	Fix bug (PR#684) about allied units in client goto reported by
	Joona Kiiski <zamar@learnet.freenet.hut.fi>

Thu Feb  1 21:54:34 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c:

	Sometimes the goto line was overwritten when tiles were updated;
	fixed.  (and simplified and made faster at the same time,
	amazingly.)

Thu Feb  1 20:29:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c:

	Make the isometric units display right in the help dialog.

	Bug reported by Tuomas Airaksinen <tuomas.airaksinen@pp.inet.fi>

Tue Jan 30 23:38:57 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/colors.c, client/gui-xaw/colors.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/graphics.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/gui_main.h, client/gui-xaw/gui_stuff.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/optiondlg.c,
	client/gui-xaw/pixcomm.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/resources.h,
	client/gui-xaw/spaceshipdlg.c, client/gui-xaw/wldlg.c:

	Move extern declerations to .h files and include those .h files
	instead of having the declerations scattered about. Make lots of
	variables static.

	Patch by Dirk Stoecker <stoecker@amigaworld.com>

Mon Jan 29 18:55:31 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/chatline.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/colors.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gotodlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/inputdlg.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/mapview.h,
	client/gui-gtk/menu.c, client/gui-gtk/messagedlg.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/wldlg.c:

	Move "extern" declarations to .h files and include those files
	instead.  Make lots of variables static.

	Patch by Dirk Stoecker <stoecker@amigaworld.com>

Sun Jan 28 23:20:21 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/menu.c, client/gui-gtk/messagedlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-gtk/wldlg.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/menu.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/wldlg.c:

	Don't declare aconnection as extern, but get it by including
	clinet.h

Sun Jan 28 22:33:08 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Make a lot of functions static.

Sun Jan 28 22:09:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	Remove fluff in relation to myrand call in placeisland().

Sun Jan 28 22:03:23 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Fix the gtk city dialog city view flickering by implementing a
	map_canvas_store like in the real map view.

Sun Jan 28 21:53:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c, server/maphand.h, server/srv_main.c:

	Fix shared vision bug where player A giving shared vision to
	player B unfogged squares for player B that was not seen by player
	A. (fx when you have a city with unknown squares within city
	range)

	Bug reported by Marko Lindqvist <caz@cc.tut.fi>

Sun Jan 28 21:21:55 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/engels/tiles.spec, data/engels/units.spec,
	data/trident/tiles.spec, data/trident/units.spec:

	The HiRes tileset had a seperate sprite for arctic oil and one for
	barbarian leader, so I changed the rulesets to have these chosen
	by default, (instead of just oil and diplomat). However that means
	the normal tilesets get a warning that they are using the backup
	sprite. This defines the default names by simply defining the
	sprites two times with different names in engels and trident.

Sun Jan 28 13:52:15 2001  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	fr.po update

	Patches submitted by: Christian Marillat
	<marillat.christian@wanadoo.fr> Franck Reinquin   
	<freinquin@fairesuivre.fr> Nicolas Lannier    <archeide@yahoo.com>
	Olivier Beyssac    <ob@r14.freenix.org>

Sun Jan 28 02:16:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/hires/terrain1.xpm, data/hires/units.spec:

	Fix a format bug in terrain1.xpm.  Choose other gfx for tank and
	spy in units.spec.

Sat Jan 27 19:26:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/tilespec.c, client/tilespec.h:

	Fix typo in isometric view patch.

Sat Jan 27 15:58:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/hires/cities.xpm, data/hires/icons.xpm,
	data/hires/terrain1.spec, data/hires/terrain1.xpm,
	data/hires/terrain2.xpm, data/hires/units.spec,
	data/hires/units.xpm:

	Update HiRes tileset to version 2.5 See
	http://geocities.com/yoohootim/hires.htm

	HiRes is maintained by Tim Smith <yoohootim@hotmail.com>

Sat Jan 27 00:16:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	make_river(x, y) -> make_river(int x, int y)

Fri Jan 26 18:50:37 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Move a misplaced whole_map_iterate_end.

Fri Jan 26 17:03:09 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/diptreaty.c:

	When adding a tech clause to a treaty only check the current
	clause for validity. (otherwise you might reject a clause because
	one of the previous clauses was bad). Also make the check more
	correct.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Fri Jan 26 08:28:42 2001  Jeff Mallatt <jjm@codewell.com>:

	* po/sv.po:

	Updated Swedish localization.  Patch submitted by Erik Sigra
	<sigra@home.se>.

Fri Jan 26 08:27:24 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Fri Jan 26 07:55:34 2001  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c:

	Silence warning injected by recent patch.

Fri Jan 26 07:45:35 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Jan 25 23:33:18 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/cityrep.c:

	In the gtk city report dialog you can now select multiple items to
	change from in the change all dialog when using the change dialog.

Thu Jan 25 23:02:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Pop down the gtk city dialog rename window when the city dialog is
	popped down. Fixes a client crash.

	Bug reported by Vasco Alexandre Da Silva Costa
	<vasc@rnl.ist.utl.pt>

Thu Jan 25 22:24:59 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, server/mapgen.c:

	Fix map generator >=2 to check if tiles have y<0 or y>=map.ysize
	when placing continents.  Fixes map generator abort.

	Bug first reported by Tuomas Airaksinen
	<tuomas.airaksinen@pp.inet.fi>

Thu Jan 25 22:09:41 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Make a failed buy (the one where you get a "darn" option) not
	segfault the gtk client.

	Patch by Lino Mastrodomenico <l.mastrodomenico@studenti.to.it>

Thu Jan 25 21:58:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/hires/.cvsignore:

	Add data/hires/.cvsignore

Thu Jan 25 20:32:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* TODO, acconfig.h, config.h.in, configure, configure.in:

	And the files for isometric view generated from autoheader,
	autoconf and automake which my CVS refuses to commit in the same
	go as other files.

Thu Jan 25 20:14:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c:

	Fix a bug invisible_map_iterate macro from isometric view commit.

Thu Jan 25 19:39:32 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/mapview.h,
	client/gui-mui/mapview.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/include/mapview_g.h,
	common/map.c, common/map.h, data/Makefile.am, data/Makefile.in,
	data/engels.tilespec, data/hires.tilespec, data/trident.tilespec,
	data/civ1/units.ruleset, data/civ2/terrain.ruleset,
	data/civ2/units.ruleset, data/default/terrain.ruleset,
	data/default/units.ruleset, data/hires/Makefile.am,
	data/hires/Makefile.in, data/hires/cities.spec,
	data/hires/cities.xpm, data/hires/icons.spec,
	data/hires/icons.xpm, data/hires/terrain1.spec,
	data/hires/terrain1.xpm, data/hires/terrain2.spec,
	data/hires/terrain2.xpm, data/hires/tiles.spec,
	data/hires/units.spec, data/hires/units.xpm:

	Isometric view engine in gtk client. HiRes isometric tileset
	added.

	Changes some interfaces to be able to handle isometric and old
	overhead view consistently. Renames variables so that canvas_[xy]
	now always mean a pixel position in the map_canvas and absolute
	positions are just names [xy] or map_[xy].

	Some features in the isometric view are not completely mature. 
	Isometric view is currently a compile-time option.  To compile
	with isometric view use "./configuere --with-isometric-view"

	Note: Since a new directory was added to CVS you have to use the
	command "cvs update -d" to update from the CVS server.

	"HiRes" isometric tileset contributed by Tim Smith
	<yoohootim@hotmail.com> Fallout icon by T.J.T van Kooten
	<thomas@worldonline.nl>

Thu Jan 25 16:28:59 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/hires

	:

	Directory /home/freeciv/CVS/freeciv/data/hires added to the
	repository

Thu Jan 25 11:41:01 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Jan 25 03:09:56 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/catalan.ruleset:

	Corrected spelling of city names and added further cities to
	Catalan ruleset.  Patch submitted by Markus Buechele
	<markus.buechele@web.de>.

Thu Jan 25 02:42:08 2001  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Silenced compiler warnings injected by recent patch which removed
	all calls to freelog() from two files.

Wed Jan 24 23:55:35 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/control.h, client/goto.c,
	client/goto.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/include/mapview_g.h,
	common/map.c:

	Waypoints and goto line drawing cleanup.

	When specifying a goto route in the client you can now hit "g"
	again to set a waypoint that the unit will go to first. Similarly,
	once in the patrol state you can set a waypoint by hitting the
	patrol shortcut key again.  The line drawing has been recoded, and
	we now draw a cyan line for the route. Moving the cursor will now
	result in as few redraws as possible.

	Also fixes bugs: -The goto destination line is now automatically
	updated when you recenter the screen.  -fix patrol bug when route
	to destination was not found.  -fix bug that ships could not
	target a land unit with the client goto.  -The line drawing code
	would in rare cases leave a pixel when undrawing.  -fix client
	goto bug where ships wouldn't go from unknown terain onto ocean.

Wed Jan 24 19:40:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/packets_lsend.c, common/packets_lsend.h:

	Run create_lsend.pl to update the lsend functions to take constant
	packet arguments.

Wed Jan 24 19:15:52 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Add a missing space in government notify message.

	Patch by Erik Sigra <sigra@home.se>

Wed Jan 24 17:20:37 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/packets.c:

	Fix bug in recent const packages commit.

Wed Jan 24 14:57:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/packets.c, common/packets.h:

	Make packets going into send_packet_*() constant. (they are often
	sent to multiple connections, and so shouldn't be changed.)

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Jan 24 14:40:09 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jan 24 14:18:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Insert a "." after "wonder will soon be finished" game message.

	Patch by Erik Sigra <sigra@home.se>

Tue Jan 23 19:19:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Make the gtk no callback to the buy popup not segfault the
	client...

	Bug reported by Patrice LaFlamme <patrix@patrix.org>

Tue Jan 23 12:34:45 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Tue Jan 23 11:45:16 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Jan 23 10:51:34 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Fix case where unit pointer was used after unit was freed.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Mon Jan 22 16:19:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aihand.h, ai/aitools.c, common/city.h:

	Replace ints in AI city build choice with enums CT_...

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Mon Jan 22 15:57:14 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/options.c, common/events.h, server/cityturn.c,
	server/plrhand.c:

	New events: -Warn if famine will soon occur.  -Wonder will soon be
	build.  -New government type available

	Also change the old "famine feared" message to "famine occured".
	The first of the added messages now has a wording "famine feared"

	Patch by Tuomas Airaksinen <tuma@linuxfan.com>

Mon Jan 22 04:57:10 2001  Jeff Mallatt <jjm@codewell.com>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c,
	client/cityrepdata.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-mui/citydlg.c, client/gui-xaw/citydlg.c,
	data/civ1/game.ruleset, common/capstr.c, common/city.c,
	common/city.h, common/game.h, common/packets.c, common/packets.h,
	data/default/game.ruleset, data/civ2/game.ruleset,
	server/cityturn.c, server/ruleset.c:

	Parameterized the foodbox calculation, and implemented it in a
	single function (rather than being scattered throughout the code).
	Closes PR#635.  Suggested by Andrew McGuinness <cogers@yahoo.com>.
	Patch submitted by Mike Jing <miky40@hotmail.com>, committed with
	a bug fix and minor reformatting.

Sun Jan 21 17:19:04 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	The buy and sell popups in the city dialog are now closed
	automatically whenever the city dialog window is destroyed.

	Fixes bug (PR#661) reported by Tuomas Airaksinen
	<tuomas.airaksinen@pp.inet.fi>.

Sat Jan 20 15:42:34 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/argentine.ruleset:

	Updated Argentine ruleset.  Patch submitted by Miguel Farah
	<miguel@antonia.nn.cl>.

Sat Jan 20 15:35:59 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/roman.ruleset:

	Updated Roman ruleset.  Patch submitted by Miguel Farah
	<miguel@antonia.nn.cl>.

Sat Jan 20 15:23:55 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/chilean.ruleset:

	Updated Chilean ruleset.  Patch submitted by Miguel Farah
	<miguel@antonia.nn.cl>.

Sat Jan 20 15:17:22 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/scottish.ruleset:

	Updated Scottish ruleset.  Patch submitted by Martin McMahon
	<martin.mcmahon@ukonline.co.uk>.

Sat Jan 20 02:07:53 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	Fix server segfault caused by calling assess_danger_player()
	before the game had started and the map move costs had been
	initialized.

Sat Jan 20 02:00:58 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/cityhand.c:

	Disallow building fortresses on a city. Remove any fortresses on
	square when building a city. Stop any settlers building fortresses
	on city square at the time when city is build.

	Patch by Tuomas Airaksinen <tuomas.airaksinen@pp.inet.fi> and me

Sat Jan 20 01:29:51 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Correct a comment

Fri Jan 19 23:09:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h:

	Correct a stale comment.

Fri Jan 19 21:33:16 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/diptreaty.c, server/diplhand.c:

	Fix 3 cases of a label at the end of a switch without a statement
	following as required for correct C. (inserted ";" statements)

	Bug reported by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>

Fri Jan 19 11:18:17 2001  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/smakefile, amiga/vmakefile,
	client/gui-mui/autogroupclass.c, client/gui-mui/autogroupclass.h,
	client/gui-mui/chatline.c, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/colortextclass.c,
	client/gui-mui/colortextclass.h, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/diplodlg.c,
	client/gui-mui/finddlg.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gotodlg.c, client/gui-mui/graphics.c,
	client/gui-mui/graphics.h, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/helpdlg.c,
	client/gui-mui/historystringclass.c,
	client/gui-mui/historystringclass.h, client/gui-mui/inputdlg.c,
	client/gui-mui/inteldlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapctrl.c,
	client/gui-mui/mapctrl.h, client/gui-mui/mapview.c,
	client/gui-mui/messagedlg.c, client/gui-mui/messagewin.c,
	client/gui-mui/muistuff.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/objecttreeclass.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/repodlgs.h,
	client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/scrollbuttonclass.h, client/gui-mui/spaceshipdlg.c,
	client/gui-mui/transparentstringclass.c,
	client/gui-mui/transparentstringclass.h, client/gui-mui/wldlg.c,
	client/gui-mui/worklistclass.c, client/gui-mui/worklistclass.h:

	Amiga Changes - removed all the extern stuff like in none Amiga
	part and moved it to h-files - replaced IMPORT with extern and
	STATIC with static as it was not used always and mixed up is
	cruelty - moved sprite stuff from mapclass.c to graphics.c -->
	compiler is able to link again without optimizations :-) - updated
	makefiles

	Patch submitted by Dirk Stoecker <stoecker@amigaworld.com>

Thu Jan 18 13:37:02 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Jan 16 14:55:00 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c, ai/aiunit.c:

	Remove extern declarations of warmap in ai/*.c (the extern warmap
	was moved to gotohand.c in a recent patch)

Tue Jan 16 14:41:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/spaceshipdlg.c, client/gui-xaw/spaceshipdlg.c:

	Report the travel time as "N/A" if no propulsion modules have been
	build.

	Bug reported by Gerhard Killesreiter
	<killesreiter@physik.uni-freiburg.de>

Tue Jan 16 14:35:42 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Only report "city may grow soon" if the city has adequate
	aqueduct/sewer infrastructure to allow this.

	Bug reported by Gerhard Killesreiter
	<killes@physik.uni-freiburg.de>

Mon Jan 15 11:49:05 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po (spelling)

Mon Jan 15 00:30:19 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/civclient.h, client/climisc.c, client/clinet.c,
	client/control.c, client/goto.c, client/goto.h, client/helpdata.h,
	client/packhand.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, server/cityhand.h, server/cityturn.c,
	server/diplomats.c, server/gamelog.h, server/gotohand.h,
	server/maphand.c, server/ruleset.c, server/settlers.c,
	server/settlers.h, server/stdinhand.c:

	Move various extern variable declarations into appropriate .h
	files.

	Patch by Dirk Stoecker <stoecker@amigaworld.com>

Mon Jan 15 00:06:11 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	The value checking via functions introduced in the autotoggle fix
	had the ability to return a string with an error message. Now that
	should actually work. (It wasn't and still isn't actually used.)

Sun Jan 14 22:47:29 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/mapgen.c:

	More realistic poles in generator 1 (PR#653). Only arctic and
	tundra allowed at the two top and two buttom rows. (As it works in
	generator>1)

	Patch by Mike Jing <mike_jing@email.com>

Sun Jan 14 22:31:58 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-xaw/gui_stuff.c:

	Fix memory leak in the XAW image scaling. This reduces XAW memory
	usage with 1/3 or 600000KB. (plus it could happen more than once)

Sun Jan 14 22:24:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fix a stupid segfault in transfer_city_units introduced in the
	recent orig city id patch.

Sat Jan 13 17:38:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/player.c:

	Fixes bug related to partially invisible unit visibility. There
	can be units from several (allied) players at the same tile, but
	only one saw surrounding partially invisible units.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Sat Jan 13 13:43:40 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/gamelog.c, server/gamelog.h:

	Modify the gamelog to also print out the civscore of players.

	Patch by Paul Zastoupil <paulz@dunedain.net>

Sat Jan 13 01:22:06 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/civclient.c, client/civclient.h, client/control.c,
	client/gui-gtk/gotodlg.c, client/gui-mui/gotodlg.c,
	client/gui-mui/mapclass.c, client/gui-xaw/gotodlg.c:

	Create and use function send_goto_unit() for the little duplicated
	details of requesting a goto.

Fri Jan 12 20:06:17 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, server/mapgen.c:

	Clean up in map.c; use macros for iterating for flexibility.  Fix
	a small bug related to the map generator.

Thu Jan 11 10:10:59 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Jan 11 08:28:14 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jan 10 22:02:25 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c:

	Add missing space to multiline capstring warning.

Wed Jan 10 21:24:07 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, server/cityhand.c, server/cityhand.h,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/diplhand.c, server/diplomats.c, server/unithand.c:

	Don't change the id of cities when they change owner.  -Fixes bug
	that players had trade routes to "unknown city", even though the
	city still existed. (it had been transfered underneath FoW) -Fixes
	a similar bug in city exchanges. A player could see a city, but
	they only knew it by it's old ID, so they could not agree on it's
	name.

	Patch by me and Marko Lindqvist <caz@cc.tut.fi>

Wed Jan 10 18:50:46 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/advmilitary.h,
	ai/aicity.c, ai/aicity.h, ai/aihand.c, ai/aitech.c, ai/aitools.c,
	ai/aiunit.c, ai/aiunit.h:

	Make code a bit more self-documenting by using types Tech_Type_id,
	Unit_Type_id and Impr_Type_id. Comments some possible bugs: unit
	type 0 really exists (settlers in default rulesets), but it seems
	to be often used as special value.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Jan 10 18:29:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, common/diptreaty.c, server/diplhand.c:

	Adds some checks for treaties to server side.  We have to check
	both when the item are promised and when the treaty is actually
	accepted, as the players stats may have changed.  - Don't accept
	tech clauses with illegal tech value at all.  - Player can't give
	away techs (s)he doesn't have.  - Player can't give away capital. 
	- Player can't give away cities (s)he doesn't own.  - fixed server
	segfault related to destruction of city which is already part of
	treaty.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Jan 10 16:52:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, client/packhand.c, common/city.c, common/map.h,
	server/cityhand.c, server/maphand.c, server/plrhand.c,
	server/unittools.c:

	With this patch the macros adjc_iterate, square_iterate and
	iterate_outward declaire the arguments they iterate with
	automatically.

Wed Jan 10 16:42:03 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Update wakeup_neighbor_sentries: -Now wake all units that have the
	unit within sightrange (but max 3 sq away) -Only awake if the
	player can actually the the unit -Don't wake units on a transport
	-Call the function when creaing a unit.

Wed Jan 10 14:18:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c:

	5 cases of LOG_NORMAL->LOG_ERROR.

Tue Jan  9 16:01:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c:

	Fix 4 minor memory leaks in load_ruleset_buildings() where we
	forgot to free the list returned by secfile_lookup_str_vec().

Tue Jan  9 15:41:56 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c:

	Free pointers allocated by secfile_get_secnames_prefix() at
	various ruleset loading functions. Where free() already existed,
	moved it into function cleanup part.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Tue Jan  9 15:28:47 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c, server/cityhand.h, server/diplomats.c,
	server/spacerace.c:

	- Spaceship can be launched only if capital exists.  - Spaceship
	is lost whenever palace is lost. (previously only happened when
	the capital city was taken.)

	Patch by Marko Lindqvist <caz@cc.tut.fi> (commited with a slight
	reformulation of the messages)

Tue Jan  9 06:32:39 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/README.de:

	README.de updated

Tue Jan  9 01:26:34 2001  Jeff Mallatt <jjm@codewell.com>:

	* README.rulesets:

	Added the sabotage entry to the list of unused entries in
	README.rulesets.  Patch submitted by Marko Lindqvist
	<caz@cc.tut.fi>.

Tue Jan  9 00:31:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	Update available tiles of adjacent cities when a city is
	destroyed. (PR#385)

	Bug reported by Gerhard Killesreiter
	<killesreiter@physik.uni-freiburg.de>

Tue Jan  9 00:22:45 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Always refresh the client screen when connecting. Previously this
	was only done when there was a unit to focus on.

Tue Jan  9 00:17:26 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Update the client menus of the focus unit in various cases where
	the disabled items could get out of sync. Now we also update the
	menus when -We discover a new tech.  -The tile under the focus
	unit changes.  -The city under the focus unit changes.  -The city
	under the focus unit is destroyed.

	The two last cases suggested by Marko Lindqvist <caz@cc.tut.fi>
	Bug reported by Jan Felix Heidefuß <Jan_Heidefuss@yahoo.de>

Mon Jan  8 23:44:30 2001  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
	po/POTFILES.in, server/Makefile.am, server/Makefile.in,
	server/autoattack.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/diplomats.c,
	server/diplomats.h, server/gamehand.c, server/gotohand.c,
	server/maphand.c, server/plrhand.c, server/plrhand.h,
	server/settlers.c, server/srv_main.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unithand.h,
	server/unittools.c, server/unittools.h:

	Create server/diplomats.[ch]. Move the rest of
	server/unitfunc.[ch] into server/unittools.[ch] and remove
	unitfunc.[ch]. A few functions moved to better files.

Mon Jan  8 14:12:36 2001  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jan  8 04:37:12 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jan  7 13:09:57 2001  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-mui/helpdlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/helpdlg.c,
	common/version.c, common/version.h, server/civserver.c,
	server/srv_main.c:

	I18n'd the version informational strings in version.h.  Fixes
	PR#646.  Problem reported by Sini Ruohomaa
	<siruohom@earthling.net>.  Patch submitted by Marko Lindqvist
	<caz@cc.tut.fi>.

Sat Jan  6 14:13:15 2001  Jeff Mallatt <jjm@codewell.com>:

	* config.h.in, configure, configure.in:

	Added changes to autoconf stuff to detect inet_aton(), as needed
	by recent patch which conditionally uses it instead of
	inet_addr().

Fri Jan  5 22:59:10 2001  Thue Janus Kristensen <thue@diku.dk>:

	* data/nation/israeli.ruleset:

	Jerusalam -> Jerusalem

	Bug report by Michael Kruglos <mike14@internet.il>

Fri Jan  5 15:43:02 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/german.ruleset:

	Updated cities list in German ruleset.  Patch submitted by Niels
	Weber <nath@snafu.de>.

Fri Jan  5 15:21:14 2001  Jeff Mallatt <jjm@codewell.com>:

	* README.rulesets:

	Added the "Restrictions and Limitations" section to the
	README.ruleset file.  Patch submitted by Marko Lindqvist
	<caz@cc.tut.fi>.

Fri Jan  5 13:08:36 2001  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Jan  4 00:49:05 2001  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c, common/game.h, common/map.c, common/map.h,
	server/mapgen.c, server/savegame.c:

	Make a small modification to the savegame handling so that loading
	and saving various parts of a game is conditional. This is usefull
	for a map editor.

Wed Jan  3 15:26:54 2001  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/cityrep.c:

	The auto-select production of selected city in the change all
	dialog didn't work for units.

	Patch by Andreas Kemnade <akemnade@t-online.de>

Wed Jan  3 15:20:38 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/catalan.ruleset:

	Added leader and cities to Catalan ruleset.  Patch submitted by
	Miguel Farah <miguel@antonia.nn.cl>.

Wed Jan  3 15:14:53 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/chilean.ruleset:

	Added leaders, titles and cities to Chilean ruleset.  Also tweaked
	some other parameters.  Patch submitted by Miguel Farah
	<miguel@antonia.nn.cl>.

Wed Jan  3 15:06:26 2001  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/spanish.ruleset:

	Added leaders, titles and cities to spanish ruleset.  Patch
	submitted by Miguel Farah <miguel@antonia.nn.cl>.

Wed Jan  3 14:47:04 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Unfogging a tile now updates nearby cities, so they can start
	using the tiles. Previously the unfogged tile would be unavailably
	until the next turn, unless you happened to do some act that
	caused the relevant update.

Wed Jan  3 14:45:25 2001  Jeff Mallatt <jjm@codewell.com>:

	* common/netintf.c:

	Added an include of string.h to common/netintf.c so as to declare
	memcpy(), a reference to which was added in a recent commit.

Wed Jan  3 14:41:39 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	...and remember to save unitfunc.c so the comments just moved
	would be removed in CVS.

Wed Jan  3 14:39:18 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Move outcommented code to change production in a newly conquered
	city from raze_city() to transfer_city. (it is still outcommented)

Wed Jan  3 14:36:02 2001  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Fix bug where the shield stock of a newly conquered city could be
	restored by changing production.

	Bug report by Jan Heidefuss <jan_heidefuss@yahoo.de>

Tue Jan  2 01:11:31 2001  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c, common/netintf.c, common/netintf.h,
	server/meta.c:

	Fix for problem with IPv6 addresses returned on hostname lookup. 
	With this fix IPv6 addresses are discarded and an error is
	returned instead of causing a crash.  Patch submitted by Gaute
	Strokkenes <gs234@cam.ac.uk>.

Mon Jan  1 19:40:02 2001  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c, client/gui-mui/mapview.c,
	client/gui-mui/overviewclass.c, client/gui-mui/worklistclass.c:

	Clean up the Amiga Source a little bit.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sun Dec 31 10:40:34 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/mapclass.c:

	Fixed two bugs in the goto line drawing stuff of the Amiga
	Version.  Updated the amiga/ReadMe.

Fri Dec 29 21:38:00 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/cityturn.c:

	Patch: code clean up -- citizen_happy_size() Submitted by Mike
	Jing, miky40@hotmail.com.

Thu Dec 28 21:15:22 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapview.c,
	client/gui-mui/mapview.h:

	MUI Client: Implemented the goto line drawing stuff

Thu Dec 28 17:47:18 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/config.h, amiga/smakefile, amiga/vmakefile,
	amiga/vsnprintf.c:

	Amiga Version: - added new file amiga/vsnprintf.c - added
	vsnprintf-Funktion to Amiga client with argument reordering
	support - final locale implementation for Amiga client

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Wed Dec 27 18:13:11 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	Reporting of gold obtained by automatic selling of obsolete
	buildings were wrong. (Why did it divide by 2?)

	Bug reported by Christian Knoke <ChrisK@enter.de>

Wed Dec 27 00:01:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/srv_main.c, server/stdinhand.c:

	Remove the "feature" that the server automatically started when
	the maximal number of players were reached.

Tue Dec 26 23:15:19 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/citytools.h:

	Update and comment the food_weighting() function. It had not been
	updated when the formula for calculation a city's foodbox size was
	changed.

	Patch by me and Andrew McGuinness <andrew_mcguinness@bigfoot.com>

Tue Dec 26 11:53:30 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/civclient.c:

	Rename long version of client metaserver setting option from
	'--metaserver' to '--meta' as given with '--help'.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Fri Dec 22 19:39:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated Norwegian (no) localization.  Patch submitted by Gaute
	Strokkenes <gs234@cam.ac.uk>.

Fri Dec 22 00:36:49 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Temporarely kludge send_player_info() to send government info to
	all players.  (There was a crash bug related to city
	investigation.)

Thu Dec 21 22:48:22 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Fix package_player_info() to not try to find a players city style
	before the game has started. This will stop it from looking at the
	rulesets before the rulesets are loaded. This was the cause of the
	12 segfaults on civserver.freeciv.org ...

Wed Dec 20 20:04:41 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c, common/city.h, server/plrhand.c:

	Fix citystyle bug introduced by recent player info patch. The
	invention defining the city style is now sent in all cases.  Also
	fixes older bug, that tech requirements also for earlier
	citystyles must be met.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Dec 20 16:52:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, ai/aitools.c, common/city.h, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/cityturn.h,
	server/maphand.c, server/plrhand.c, server/settlers.c,
	server/unitfunc.c:

	Fix bug where cities were not being updated when units moved, were
	created, removed or became hostile/benigne. The relevant cities
	are now automatically updated as these changes happens.

	Also change the map_city_radius_iterate() macro to not require the
	iterating variables to be declaired outside the macro.

Wed Dec 20 15:16:24 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c, server/plrhand.c, server/plrhand.h,
	server/unitfunc.c:

	Limit the information about players sent to the players.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Dec 20 14:37:09 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Correct a second case of wrong message in the embassy
	establishment.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Dec 20 14:34:14 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Correct message when trying to establish embassy with barbarians.

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Sat Dec 16 21:19:01 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/amigaserver.c, amiga/config.h,
	amiga/gettext.c, amiga/smakefile, amiga/vmakefile,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/mapctrl.c, client/gui-mui/mapview.c:

	Amiga Version: - removed last PPC modifications as it can be done
	without and does not yet work anyway.  - added client/goto.c to
	makefiles - added draw_segment, undraw_segment and put_line to
	gui-mui/mapview.c - added create_line_at_mouse_pos, update_line to
	gui-mui/mapview.c - added patrol menu in gui_main.c and .h - fixed
	ReadMe file a bit.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sat Dec 16 14:07:56 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	Remember to prototype static function send_adjacent_cities()...

Fri Dec 15 20:45:05 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c, server/cityhand.h:

	Make send_adjacent_cities() static.

Fri Dec 15 18:30:32 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c, common/city.h, common/unit.c, common/unit.h,
	server/unitfunc.c:

	Fix bug where the happiness of a city would not get correctly
	updated when moving units. (PR#618)

	Bug reported by Joona Kiiski <zamar@learnet.freenet.hut.fi>

Fri Dec 15 17:56:05 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/messagewin.c, client/gui-mui/messagewin.c,
	client/gui-xaw/messagewin.c, common/packets.c:

	Fix for crash when double-clicking on message item in the client
	(PR#613).  Includes some related fixes for event position
	handling.

	Bug reported by Gordon Tetlow <gordont@bluemtn.net>

Fri Dec 15 17:37:18 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	Fix for (PR#593). When setting the option autotoggle existing
	players without a connected human will be put on AI.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Fri Dec 15 16:54:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/cityturn.c, server/cityturn.h:

	Fix bug where you would keep obsolete buildings in a city you
	conquered.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Thu Dec  7 12:11:47 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/maphand.c:

	Fix bug where fortified units were idled when global warming
	occured.  Fixes (PR#600) and (PR#616).

	Bug first reported by Rigel Freden <rigelf@angelfire.com>

Thu Dec  7 12:01:38 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Fix bug that units sentried in a city would sometimes not be taken
	with a transport when using client GOTO.  Fixes (PR#617)

	Bug first reported by Mike Jing <mike_jing@email.com>

Tue Dec  5 14:31:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/sv.po:

	Updated Swedish (sv) translation.  Patch submitted by Erik Sigra
	<sigra@home.se>.

Sun Dec  3 15:49:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/ru.po:

	Updated Russian (ru) localization.  Patch submitted by Dmitriy
	Genzel <dg@cs.brown.edu>.

Sun Dec  3 01:29:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Fix bug that would make the airplane goto miscalculate in rare
	cases.

Sat Dec  2 18:56:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/lithuanian.ruleset:

	Updated Lithuanian leader names.  Patch submitted by Valius
	<valius@dorado.ath.cx> and Vilius Puidokas
	<vilius@commissioner.com>.

Sat Dec  2 18:39:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/repodlgs.c, client/gui-xaw/colors.c,
	common/ioz.c, common/log.h:

	Silence a few warnings generated by new versions of gcc.

Sat Dec  2 18:21:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Put Martin back as Webmaster in PEOPLE file.

Mon Nov 20 20:36:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Remove a wrong comment.

Tue Nov 14 13:08:11 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Nov 13 07:13:11 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sat Nov 11 03:09:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/buildings.ruleset:

	Now that "Capitalization" is available at the start of the game,
	changed its name to "Coinage", to avoid confusion.  Problem
	reported by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>.

Sat Nov 11 03:05:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, common/game.c,
	data/nation/barbarian.ruleset:

	Made two strings in City Report dialog translatable.  Made
	Barbarian names translatable.  Bugs reported by Christian Knoke
	<chrisk@enter.de>.

Sat Nov 11 02:58:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Changed method used to get rid of warnings from xgettext.  Former
	method only worked for English locales.  Fixes PR#575.  Bug
	reported by Erik Sigra <sigra@home.se>.  Solution concept by Lino
	Mastrodomenico <l.mastrodomenico@studenti.to.it>.  Implementation
	by me.

Fri Nov 10 20:00:39 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Fix bug with vanishing improvements near the poles.

	Bug report by Christian Knoke <ChrisK@enter.de>

Fri Nov 10 19:47:23 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
	common/map.c, common/unit.c, common/unit.h, server/gotohand.c,
	server/ruleset.c, server/unittools.c:

	Define SINGLE_MOVE, MOVE_COST_RIVER, MOVE_COST_RAIL and
	MOVE_COST_ROAD constants. Begin converting code to use them
	instead of hardcoded numbers.

	Patch by Raahul Kumar <z1156937@cit-student.gu.edu.au>

Mon Oct 30 16:50:30 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Oct 29 21:44:13 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1809t+73f+631u+26o.

Sun Oct 29 15:14:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets_lsend.c, common/packets_lsend.h:

	When PACKET_GOTO_ROUTE was added, create_lsend.pl was not run to
	add the new packet to packets_lsend.[hc].  This was not required,
	because the packet is only sent by the client -- but it
	technically should have been done, because the change is part of
	the change to add the packet.

Sun Oct 29 14:37:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Updated Hungarian (hu) localization.  Patch submitted by Gabor
	Dukai <dukai@eunet.yu>.

Sat Oct 28 13:44:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Made river_test_rivergrid() in mapgen.c static to silence warning
	injected by recent commit.

Mon Oct 23 07:44:39 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	nl.po updated

Mon Oct 23 07:26:07 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sat Oct 21 05:18:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/gui-gtk/diplodlg.c,
	client/gui-mui/diplodlg.c, client/gui-xaw/diplodlg.c,
	common/player.c:

	Qualifies the translation of diplomatic and city states.  Mostly
	to discriminate between the two "Peace"s.  Patch submitted by Erik
	Sigra <sigra@home.se>, with an additional qualification by me.

Fri Oct 20 18:20:49 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1675t+147f+687u+36o.

Sun Oct 15 19:54:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Fix two typos in hackers guide.  Patch submitted by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>.

Sat Oct 14 21:14:07 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c:

	Remove debugging printf in previous commit. (ahem)

Sat Oct 14 20:48:25 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c, ai/aiunit.c, ai/aiunit.h, common/unit.h:

	Cleanup, document.  Correct and rename the not very correct
	function should_unit_change_homecity() to stay_and_defend_city().

Sat Oct 14 17:36:19 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Changed a memcpy() to a memmove() because the memory areas may
	overlap.  Bug report &amp; patch by Kero van Gelder <kero@dds.nl>.

Thu Oct 12 18:51:44 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1573t+212f+724u+36o.

Wed Oct 11 14:59:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gamehand.c:

	Fix bug whereby for scenarios or dispersion, a hut could coincide
	with a player start position and get removed, but the removal
	would not be sent to the client.  Bug reported by Gerhard
	Killesreiter <killesreiter@physik.uni-freiburg.de>.  Patch
	submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Wed Oct 11 14:38:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Cleanup mess in mapgen.c by removing full_map(), replacing calls
	to it with calls to hmap() macro, and altering hmap() to be an
	element rather than a pointer to the element.  Patch submitted by
	Gaute Strokkenes <gs234@cam.ac.uk>.

Wed Oct 11 13:50:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Fix two typo errors introduced by recent po-related addition, plus
	a couple of others.  Patch submitted by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>.

Wed Oct 11 13:44:18 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po Sync with last changes.

Wed Oct 11 13:40:52 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Oct 11 13:25:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Fixed spelling error and did very minor clean-up to hacker's
	guide.

Wed Oct 11 12:56:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/report.c:

	Added some useful information to the scorelog file.  Patch
	submitted by Michael Grundel <michael42@grundel.de>.

Wed Oct 11 11:23:50 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Oct 10 16:12:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/es.po:

	Updated Spanish (es) translation.  Patch submitted by David Perez
	Serrada <dperezs@nexo.es>, Miguel Lobo <miguell@madrid.com> and
	Francisco Javier Felix <fflix@ctv.es>.

Tue Oct 10 16:00:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/sv.po:

	Updated Swedish (sv) translation.  Patch submitted by Erik Sigra
	<sigra@home.se>.

Tue Oct 10 15:27:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/HOWTOPLAY.it, doc/INSTALL.it, doc/README.it:

	Updated Italian translations or README and INSTALL files.  Added
	Italian translation of HOWTOPLAY file.  Submitted by the SLUG
	Freeciv Team <slug-freeciv.siena.linux.it>,
	http://freeciv.siena.linux.it.

Mon Oct  9 19:37:23 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Fix bug where a newly loaded missile was not transported on a
	carrier.

	Bug report by Christian Knoke <ChrisK@enter.de> Patch by David
	Pfitzner <dwp@mso.anu.edu.au>

Sat Oct  7 18:23:35 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Added scroll support to the unit displays in the city dialog.

Sat Oct  7 14:33:34 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/helpdlg.c:

	Changed unit_tile from GtkPixmap to GtkPixcomm type.  Fixes a
	memory leak bug reported on PR#369.

	Bug reported by Richard Atkins <rja@pcug.org.au>

Fri Oct  6 14:10:31 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po.  Minor changes.

Fri Oct  6 13:04:57 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c:

	Revert part of a recent patch: re-instate fstk variable, otherwise
	fails to compile using -DDEBUG.

Fri Oct  6 10:51:30 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po. Fixed some grammar.

Tue Oct  3 17:20:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* TODO:

	Small update to the client/server text message TODO item as
	suggested by dwp.

Mon Oct  2 20:03:40 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aitech.c, ai/aitools.c:

	removed compiler warnings from ai/aitech.c and ai/aitools.c:

	/ai/aitech.c 211: macro invocation may call function multiple
	times /ai/aitech.c 150: dead assignment eliminated "bestdist"
	/ai/aitech.c 102: dead assignment eliminated "tech" /ai/aitools.c
	137: dead assignment eliminated "prod" /ai/aitools.c 275: dead
	assignment eliminated "score" /ai/aitools.c 307: dead assignment
	eliminated "unhappy_cities"

	- removed useless assignments, variables - removed some older
	comments to make the code much better readable - reduced return
	statements in get_wonder_tech(struct player *plr) to 2

	Patch by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Oct  2 19:54:53 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aihand.c:

	removed compiler warnings from ai/aihand.c:

	/ai/aihand.c 112: inline function does not use formal parameter
	"pplayer" /ai/aihand.c 129: inline function does not use formal
	parameter "pplayer" /ai/aihand.c 134: inline function does not use
	formal parameter "pplayer" /ai/aihand.c 269: dead assignment
	eliminated "sad" /ai/aihand.c 471: dead assignment eliminated
	"goal"

	- removed assignments to sad, goal - removed older UNUSED marked
	obsolete stuff - marked the three currently unused functions with
	UNUSED - rearranged the functions to make prototypes for static
	functions obsolete

	Patch by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Oct  2 19:48:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c, ai/advspace.c:

	removed compiler warnings from ai/advmilitary.c and ai/advspace.c:

	/ai/advmilitary.c 227: dead assignment eliminated "con"
	/ai/advmilitary.c 640: dead assignment eliminated "harborcity"
	/ai/advmilitary.c 646: dead assignment eliminated "fstk"
	/ai/advmilitary.c 679: possibly uninitialized variable "bx"
	/ai/advmilitary.c 679: possibly uninitialized variable "by"
	/ai/advmilitary.c 731: dead assignment eliminated "m"
	/ai/advmilitary.c 818: possibly uninitialized variable "bx"
	/ai/advmilitary.c 815: possibly uninitialized variable "by"
	/ai/advmilitary.c 1045: dead assignment eliminated "dist"

	- removed obsolete con and harborcity variables and obsolete
	support stuff - removed obsolete fstk variable - bx, by
	initialized with 0 - removed assignments to m, dist

	/ai/advspace.c 95: dead assignment eliminated "retval"

	- removed assignment

	Patch by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Oct  2 19:28:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/aicity.c, ai/aicity.h:

	removed compiler warnings from ai/advdomestic.c:

	/ai/advdomestic.c 135: dead assignment eliminated "poppul"
	/ai/advdomestic.c 135: dead assignment eliminated "mod"
	/ai/advdomestic.c 189: dead assignment eliminated "a"
	/ai/advdomestic.c 300: possibly uninitialized variable "values"
	/ai/advdomestic.c 365: possibly uninitialized variable "values"
	/ai/advdomestic.c 370: possibly uninitialized variable "values"
	/ai/advdomestic.c 375: possibly uninitialized variable "values"
	/ai/advdomestic.c 542: dead assignment eliminated "set"

	- complete variable values now initialized using memset.  -
	obsolete popul, mod removed - obsolete a, set including obsolete
	function calls removed - ai/aicity.h and ai/aicity.c surrounded
	city_get_settlers() by #ifdef UNUSED

	Patch by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sun Oct  1 17:08:41 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/packhand.c:

	No longer update the map for every production change (this was
	anoying when doing a Change All for example)

	Problem reported by Urban Dominik Mueller <mueller@relog.ch>

Sun Oct  1 17:06:21 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/amigaserver.c, amiga/config.h, amiga/gettext.c:

	Changed some amiga files for the ppc compile.

	Patch submitted by Oliver Gantert <lucyg@t-online.de>

Sat Sep 30 21:19:22 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gamedlgs.c:

	Changed the local options dialog to use a table widget to format
	the option widgets in a more pleasing way (i hope).

Tue Sep 26 12:20:25 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Sep 25 21:11:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-xaw/repodlgs.c:

	Ecomony->Economy Bug report by Dmitriy Genzel <dg@cs.brown.edu>

Mon Sep 25 01:29:29 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/citydlg.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/inputdlg.c, client/gui-xaw/inputdlg.h,
	client/gui-xaw/mapctrl.c, client/gui-xaw/wldlg.c:

	Some fixes for better ANSI C compliance:  Change callback
	arguments to input_dialog_create() to type XtCallbackProc, to
	avoid casting function pointers to (void*).  Change
	timer_callback() first argument from caddr_t to XtPointer.

Mon Sep 25 01:26:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Fix readline completion for 'cut' and 'cmdlevel', wrong since the
	commands were changed to take connection names instead of player
	names.  Also add completion for 'first' and 'new' for second
	argument to 'cmdlevel'.

Mon Sep 25 01:25:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Change all the readline completion *_generator() functions to
	one-line calls to a new function generic_generator().

Sun Sep 24 22:47:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/serbian.ruleset:

	Fixed spelling of "The Wheel" in the new Serbian ruleset.  You
	should always load with '--debug 3' to test a ruleset before
	submitting/committing it.

Sun Sep 24 22:33:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/croatian.ruleset, data/nation/serbian.ruleset,
	data/nation/slovenian.ruleset, po/POTFILES.in:

	Cleanup new nation files.  Fixed them for translation.  Added them
	to the ./po/POTFILES.in file, as is clearly described on the
	Rulesets/Tilesets web page.

Sun Sep 24 21:43:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/Makefile.am, data/nation/Makefile.in:

	Correctly alphabetized and formatted new data/nation/Makefile.am
	entries.

Sun Sep 24 18:26:13 2000  Sebastian Bauer <sebauer@t-online.de>:

	* data/misc/shields.spec, data/misc/shields.xpm:

	Added the missing shields for the last three new nations.

Sun Sep 24 16:48:23 2000  Sebastian Bauer <sebauer@t-online.de>:

	* data/nation/croatian.ruleset, data/nation/serbian.ruleset,
	data/nation/slovenian.ruleset:

	The new nations files for my last commit.

Sun Sep 24 11:43:25 2000  Sebastian Bauer <sebauer@t-online.de>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/nation/Makefile.am,
	data/nation/Makefile.in, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added Croatian, Serbian and Slovenian Nations.

	Created by Ivan Kosak <ivan.kosak@sk.tel.hr>

Sat Sep 23 19:17:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Fix bug with cursor not being reset when sentrying the last unit.

Sat Sep 23 19:01:42 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c, server/unithand.c:

	Slight cleanup of the diplomats keep moving handling for goto's.

Sat Sep 23 18:55:28 2000  Thue Janus Kristensen <thue@diku.dk>:

	* TODO:

	Updated TODO file. I did not include the server split idea, but
	personally I still like it.

Sat Sep 23 01:49:08 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c:

	Kludge-fix a compiler warning, because shared_vision is uint and
	get_uint32 unfortunately expects (int*).

Sat Sep 23 01:42:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.h:

	Const-qualify freelog() format string in non-gcc case.

Fri Sep 22 23:10:33 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, server/ruleset.c:

	Revert recent PATH_MAX changes, since PATH_MAX doesn't exist
	everywhere (only Posix systems).  Problem reported by Dirk
	Stoecker <stoecker@Rcs1.urz.tu-dresden.de>.

	Also, don't translate the truncation warning messages, since they
	are only useful to developers and ruleset creators.

Fri Sep 22 08:15:32 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/spaceshipdlg.c,
	client/gui-mui/transparentstringclass.c:

	MUI client: New Balance Object in the city window Reindented
	transparentstringclass.c Some minor other changes.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Fri Sep 22 07:25:52 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe:

	Updated ReadMe file

Fri Sep 22 07:24:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/game.c, common/log.c,
	common/log.h, common/shared.c, common/shared.h, server/cityhand.c,
	server/ruleset.c:

	Give warnings when names from rulesets are truncated for being too
	long.  (In ruleset.c, and in translate_data_names().)  Other
	related/minor changes:

	Add functions check_strlen(), loud_strlcpy(), macro
	sz_loud_strlcpy().

	Make some checks on ruleset information more informative and/or
	more flexible (eg, fewer LOG_FATAL cases).

	Move misc_city_names variable from common/city.c to
	server/cityhand.c; store num_misc_city_names and use in
	city_name_suggestion().

	Const-qualify format string argument to underlying freelog()
	functions.

	Use PATH_MAX for filename buffers in openload_ruleset_file().

	Patch submitted by "Gaute B. Strokkenes" <gs234@cam.ac.uk>.

Fri Sep 22 04:41:09 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Add some static and const qualifiers to local arrays.  In
	lookup_option() use SETTINGS_NUM instead of counting them.

Fri Sep 22 04:38:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Clean up handling of arguments to 'list' command, to use table of
	strings and match_prefix() etc.

Thu Sep 21 13:57:02 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, amiga/vmakefile, client/gui-mui/citydlg.c,
	client/gui-mui/gui_main.c,
	client/gui-mui/transparentstringclass.c,
	client/gui-mui/transparentstringclass.h:

	MUI client: Added a transparent string gadget custom class.  Used
	it in the city window for the city name, so it should looks now
	better for people which use a backfill in this window.

Thu Sep 21 08:47:08 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/packhand.c, client/gui-mui/mapclass.c,
	client/gui-mui/scrollbuttonclass.c:

	Citynames and productions are updated now if they are changed.

	Done also some minor changes in the MUI client.

Thu Sep 21 04:13:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, configure, configure.in, freeciv_hackers_guide.txt,
	client/gui-mui/worklistclass.c, server/stdinhand.c:

	Change xgettext invocation to use --add-comments="TRANS:" instead
	of --add-comments, so that only comments prefixed by "TRANS:" are
	placed into freeciv.pot.  Done because most comments currently
	being added are not useful to translators.

	Also add --escape, to convert special characters to escape
	characters.  This affects some of the gui-mui strings, which use
	0x1B escape character.

	Adjust translation texts in server/stdinhand.c accordingly, add 3
	TRANS strings to gui-mui, and add a note to hackers text.

	Patch submitted by Dirk Stoecker <stoecker@Rcs1.urz.tu-dresden.de>
	(with change to use configure instead of directly changing
	po/Makefile.in.in).

Thu Sep 21 03:30:07 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/.cvsignore:

	Add *.pox to cvsignore; submitted by Erik Sigra <freeciv@home.se>.

Thu Sep 21 03:16:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/diplodlg.c:

	Comment "should not happen" test in
	diplomacy_dialog_vision_callback() and re-unmark for translation
	the string which should never actually be used.

Wed Sep 20 14:40:03 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c:

	MUI client: Forgot to call some function for the context menu of
	the supported units in the city window.

	Squares outside the city radius in the city window are now drawed
	using MUIM_DrawBackground.

Tue Sep 19 18:26:05 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c:

	MUI client: Added a workaround for an "OS bug" in
	BltMaskBitMapRastPort().  A mask for interleaved bitmaps had to be
	created in a special way (and required a lot of more chip ram).
	This is no longer necessary, so Freeciv should now work better on
	Amigas without a graphics board.

Tue Sep 19 16:55:52 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-gtk/diplodlg.c, client/gui-mui/diplodlg.c,
	client/gui-mui/plrdlg.c, common/connection.h:

	- Added missing _() to one of the GTK-vision texts (diplodlg.c). 
	- Added #include <time.h> to common/connection.h.

	MUI client:

	- Added shared vision support - Also without embassy pacts can be
	cancelled now.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Sep 18 22:39:19 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	The problem was in sniff_packets() the server was trying to write
	even if the send buffer in that connections didn't have any data. 
	Also removed an extraneous if in flush_packets().  Dumb mistake...
	Oh well, you test it time and time again, and then something slips
	by.

Mon Sep 18 20:36:14 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c, common/connection.c, common/connection.h,
	common/game.c, common/game.h, server/cityhand.c, server/maphand.c,
	server/sernet.c, server/sernet.h, server/srv_main.c,
	server/stdinhand.c, server/unitfunc.c:

	This changes the network code so the server doesn't block for as
	long when attempting to write to players on slow connections
	(controlled with the 'tcptimeout' and 'netwait' variables).  It
	also makes the server report the port number besides the host
	name.

	Patch submitted by Lauri Tarkkala <ltarkkal@hutcs.cs.hut.fi>. 
	Some minor changes and dynamic send buffers by me.

Mon Sep 18 02:43:06 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c:

	Fix behaviour of worklists when building spaceship parts:
	previously would not go to next item on worklist after finishing
	building spaceship part.

Mon Sep 18 02:41:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c:

	Fix bug that log_parse_level_str() should complain about log level
	"4:filename" when compiled without DEBUG.  (Same as plain level
	"4".)

Sun Sep 17 20:38:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* data/default/buildings.ruleset:

	Change the tech req for capilization to "None" in the default
	ruleset.  This is because you could get the same effect as
	capitalization from the start of the game by building and selling
	buildings.

Sun Sep 17 20:31:18 2000  Thue Janus Kristensen <thue@diku.dk>:

	* TODO:

	Remove shared vision TODO item

Sun Sep 17 13:57:33 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-mui/citydlg.c, client/gui-mui/gui_main.c:

	This corrects the renamed trade reports for gui-mui also.

	Patch by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sun Sep 17 13:54:40 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Fix an airplane goto bug that caused planes to crash if the first
	destination was to remain and refuel.

	Bug reported by Jan Heidefuss <jan_heidefuss@yahoo.de>

Fri Sep 15 17:21:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* freeciv_hackers_guide.txt:

	Update documentation for shared vision.

Mon Sep 11 06:49:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/sernet.c, server/stdinhand.c, server/stdinhand.h:

	For readline-enabled server, make control-D (or whatever the EOF
	char is) interpreted as a synonym for 'quit,' since this is the
	way most other readline-enable programs work.  There is no "are
	you sure" message.  Patch (PR#546) submitted by "Gaute B.
	Strokkenes" <gs234@cam.ac.uk>.

Mon Sep 11 06:40:37 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/options.h, client/tilespec.c,
	common/government.c, common/improvement.c, common/improvement.h,
	common/map.c, common/map.h, common/player.c, common/tech.c,
	common/unittype.c, common/unittype.h, server/gotohand.c,
	server/report.c, server/savegame.c:

	This patch makes a lot of arrays const, and changes some
	prototypes to match.  It also removes a redundant initialiser. 
	Patch (PR#550) submitted by "Gaute B. Strokkenes"
	<gs234@cam.ac.uk>.

Mon Sep 11 06:06:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* .cvsignore:

	Add *.sav and *.sav.gz to .cvsignore to ignore savegames in
	toplevel dir.  Suggested by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>, as partial fix to bug
	PR#542 reported by Erik Sigra <freeciv@home.se>.

Fri Sep  8 16:36:38 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/gettext.c, client/gui-mui/dialogs.c,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h:

	MUI client: Added the new menu item and the keep moving command.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Fri Sep  8 11:52:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c:

	Added a kluge to get around gtk's interpretation of "/" in menu
	item names.  Bug reported by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>.  Comments by David Pfitzner
	<dwp@mso.anu.edu.au>, fix/kluge by me.

Fri Sep  8 03:36:27 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Sep  8 01:53:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/menu.c, client/gui-gtk/repodlgs.c,
	client/gui-mui/repodlgs.c, client/gui-stub/repodlgs.c,
	client/gui-xaw/actions.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/include/repodlgs_g.h,
	common/shared.c, data/Freeciv:

	Renamed the Report dialogs to simply be what they describe.  Added
	many keyboard short-cuts to Gtk+ client.  Fixed bug in Xaw
	client's report dialog top label format.  Patch submitted by Erik
	Sigra <sigra@home.se>, fixes submitted by Thue Janus Kristensen
	<thue@diku.dk>, committed with several fixes by me.

Thu Sep  7 11:42:53 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Sep  7 01:53:14 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Sep  6 21:41:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, client/climisc.h, client/packhand.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/plrdlg.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/plrdlg.c,
	common/capstr.c, common/diptreaty.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h, data/Freeciv,
	server/diplhand.c, server/maphand.c, server/maphand.h,
	server/plrhand.c, server/savegame.c, server/srv_main.c:

	Shared vision.  A player p1 can give shared vision via the
	diplomacy dialog, and the recieving player p2 will see everything
	p1 sees.  The effect is transitive, so if p1 gives to p2 and p2
	gives to p3, p1 in effect gives to p3.  You can see which players
	you give vision/who gives you vision in the players dialog. It has
	also been extended to allow withdrawing the shared vision.  Also a
	generel cleanup of maphand.c (as usual)

Wed Sep  6 02:43:38 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Sep  4 15:10:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/sv.po:

	Updated the Swedish (sv) translation.  Patch submitted by Erik
	Sigra <sigra@home.se>.

Mon Sep  4 12:49:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/german.ruleset:

	Fix spelling error in German ruleset.  Suggested by Gerhard
	Killesreiter <killesreiter@physik.uni-freiburg.de>.

Mon Sep  4 12:36:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/singaporean.ruleset:

	Fix typo in Singaporean ruleset.  Patch submitted by Wong TM
	[Huang Deming] <lookmeow@magix.com.sg>.

Mon Sep  4 02:10:42 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aitech.c:

	Change 'cache' variable in ai_select_tech() to use as bit-vector,
	to save space.  Should fix compile problem on mac due to array
	size, reported by Andy Black <ablack@bvsd.k12.co.us>.  Patch by me
	with small fix by "Gaute (B) Strokkenes" <gs234@cam.ac.uk>.

Sun Sep  3 15:40:25 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/dialogs.c,
	client/gui-mui/dialogs.h, client/gui-mui/diplodlg.c,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h:

	MUI client:

	Added context menu for the supported and present units in the city
	window.

	Minor other changes.

Sun Sep  3 12:14:34 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/nation/misc_cities.ruleset, data/nation/swedish.ruleset:

	Change 'Trollhaetten' to 'Trollättan', correct the spelling of
	'Viborg' and 'Holmgård' and add 'Orsa'.

	Patch by Erik Sigra <freeciv@home.se> after a mail by "Gaute (B)
	Strokkenes" <gs234@cam.ac.uk>

Sun Sep  3 11:06:46 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c, client/gui-mui/messagewin.c:

	MUI client:

	Fixed Unit Context Menu Goto Problem.  Replaced a sz_strlcpy()
	call with a mystrlcpy() call.  Removed the graphics bug which has
	happened sometimes on game start.

	Bugs reported by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sun Sep  3 03:18:18 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/support.c, common/support.h, server/srv_main.c:

	Add my_gethostname() function, to simplify calling code for
	systems where not HAVE_GETHOSTNAME.  Based on patch submitted by
	Andy Black <ablack@bvsd.k12.co.us>.

Sat Sep  2 13:16:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/german.ruleset:

	Changed Archbishop to Princebishop in German ruleset.  Suggested
	by Gerhard Killesreiter <killesreiter@physik.uni-freiburg.de>.

Sat Sep  2 11:04:20 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aitech.c:

	Rename variable 'c' to 'num_cities_nonzero' in ai_select_tech().

Sat Sep  2 01:58:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, common/shared.c, common/shared.h,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c:

	Removed the problematic n_if_vowel() routine.  Changed all format
	strings which required n_if_vowel() to no use an a/an construct. 
	Did some other clean-up.  Patch submitted by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>, committed with a few, minor
	changes.

Sat Sep  2 01:01:29 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Sep  1 18:29:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-stub/diplodlg.c:

	Added close_all_diplomacy_dialogs() to gui-stub/diplodlg.c, as it
	was missing from recent commit.

Fri Sep  1 14:30:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/sv.po:

	Update Swedish (sv) translation.  Patch submitted by Erik Sigra
	<sigra@home.se>.

Fri Sep  1 13:55:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/version.c:

	Cleanup and comment beta_message() in common/version.c.  Patch
	submitted by Gaute Strokkenes <gs234@cam.ac.uk>, committed with
	bugfix by me.

Fri Sep  1 13:34:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* amiga/gettext.c, amiga/libintl.h, amiga/smakefile,
	amiga/vmakefile, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/gotodlg.c,
	client/gui-mui/gui_main.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/messagewin.c,
	client/gui-mui/muistuff.c, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/spaceshipdlg.c,
	client/gui-mui/wldlg.c, client/gui-mui/worklistclass.c,
	server/stdinhand.c:

	Prepare the gui-mui client for another NLS bugfix: - Changed all
	strcpy, strncpy, strcat, sprintf to sz_strcpy, sz_strlcat and
	my_snprintf.  - Fixed the Amiga NLS dummy part to contribute to
	recent changes.  - Added "version.h" to server/stdinhand.c, as it
	was missing.  Patch submitted by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>.

Fri Sep  1 13:05:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/singaporean.ruleset:

	Updated Singaporean nation.  Patch submitted by Wong TM [Huang
	Deming] <lookmeow@magix.com.sg>, committed with some minor fixes
	by me.

Fri Sep  1 06:23:07 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Update mac server option dialog, to use new srvarg structure. 
	Patch submitted by Andy Black <ablack@bvsd.k12.co.us>.

Fri Sep  1 06:21:53 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c:

	Rename 'far' variable, since it is a keyword on some platforms. 
	From patch submitted by Andy Black <ablack@bvsd.k12.co.us>.

Fri Sep  1 06:20:26 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Minor fixes to recently added code:  Remove unnecessary gettext
	marking and newline for "firstlevel" command, and tidy up
	comments.  Comment and simplify a_connection_exists().

Thu Aug 31 13:32:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c, ai/aitools.c,
	client/helpdata.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/wldlg.c,
	client/gui-mui/citydlg.c, client/gui-mui/dialogs.c,
	client/gui-mui/helpdlg.c, client/gui-mui/repodlgs.c,
	client/gui-mui/worklistclass.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/wldlg.c, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/improvement.c,
	common/improvement.h, common/packets.c, common/packets.h,
	common/worklist.c, common/worklist.h, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/gamehand.c,
	server/plrhand.c, server/report.c, server/ruleset.c,
	server/rulesout.c, server/savegame.c, server/unitfunc.c:

	Allow indefinite number of improvements.  Also, improved internal,
	save- file and protocol representations of worklists.  Committed
	after fixing several bugs noticed by David Pfitzner
	<dwp@mso.anu.edu.au>.

Thu Aug 31 06:59:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, server/stdinhand.c:

	Remove some code which has been unused for a long time.  (Includes
	some never-used gettext-marked strings.)

Thu Aug 31 06:44:21 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c, server/stdinhand.c:

	Extend 'allowconnect' server option to be able to also specify
	"multiple observer connections" and "single observer connection". 
	(Intended to use for AI players to address bug (PR#535) reported
	by Ronald van der Fange <fange@phys.uu.nl>, but need to do some
	more testing before changing default allowconnect value.)

Thu Aug 31 06:14:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/engels/units.spec, data/engels/units.xpm:

	Use Elephants graphic from ancients modpack for engels tileset,
	since it matches the style of the rest of the engels units better.
	Graphic by Bobby D. Bryant <bdbryant@mail.utexas.edu>, change
	suggested by Marko Lindqvist <caz@cc.tut.fi>.

Wed Aug 30 22:56:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gotohand.c:

	Added 'static' to prototype init_queue() in gotohand.c; missing
	from recent commit.

Tue Aug 29 17:55:28 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Umm, revert accidentially changed log message states in last
	commit.

Tue Aug 29 17:38:21 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c, server/gotohand.h, server/unitfunc.c,
	server/unitfunc.h:

	Make the goto use a priority queue instead of a queue. Makes the
	worst case time complexity a magnitute smaller, though the actual
	improvement is not that big.

Tue Aug 29 17:12:51 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* doc/INSTALL.fr:

	Updated INSTALL.fr

Tue Aug 29 15:56:21 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>

Tue Aug 29 12:47:52 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Aug 28 18:58:46 2000  Thue Janus Kristensen <thue@diku.dk>:

	* README.AI, freeciv_hackers_guide.txt:

	Changes go code documentation: -Rewrote the genlist part, which I
	found hard to get through the first time saw it (no need to tell
	people how genlists used to work) -expanded the part about the map
	structure.  -small changes in README.AI

Mon Aug 28 17:56:55 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/sernet.c, server/srv_main.c, server/stdinhand.c,
	server/stdinhand.h:

	This patch changes the semantics of the 'cmdlevel first' feature. 
	The command

	/cmdlevel ctrl first

	allows 'ctrl' level to the first connection that takes it.

	If no connections exist yet this will be the first connection
	made.  If connections already exist, or in the case the controling
	player disconnects the situation changes with this patch: new
	connections will no longer obtain this level, but it must be
	grabbed explicitly by a connected player, using the new command

	/firstlevel

	The patch also corrects some minor inconsistencies in
	interpunction etc.

	Patch by Reinier Post <rp@win.tue.nl>

Mon Aug 28 10:17:26 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Aug 27 07:00:09 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c:

	Remove trailing spaces from strings in client options[] and
	message_text[], since the spaces are no longer needed for gui
	alignment.  Patch submitted by Dirk Stoecker
	<stoecker@Rcs1.urz.tu-dresden.de>.

Sun Aug 27 06:58:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/messagedlg.c, client/gui-xaw/optiondlg.c,
	data/Freeciv:

	In Xaw client, make dialogs "Local Options" and "Message Options"
	have automatic alignment without needing extra spaces in strings. 
	This especially helps translations.  Based on patch submitted by
	Dirk Stoecker <stoecker@Rcs1.urz.tu-dresden.de>.

Sun Aug 27 06:57:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c, client/packhand.h,
	server/cityhand.c, common/capstr.c, common/packets.c,
	common/packets.h, common/packets_lsend.c, common/packets_lsend.h:

	Add packet packet_short_city.  This much smaller packet is sent
	most of the time (specifically, for enemy cities, usually) instead
	of packet_city_info.  Patch submitted by Marko Lindqvist
	<caz@cc.tut.fi> with small change by me.

Sun Aug 27 06:54:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, client/control.h, client/gui-gtk/menu.c,
	client/gui-xaw/actions.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h:

	Add "Diplomat/Spy Actions" item to Orders menu, to allow a
	diplomat or spy inside an allied city to perform actions against
	that city.

Sun Aug 27 06:53:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, client/gui-xaw/dialogs.c, client/gui-gtk/dialogs.c,
	common/capstr.c, common/unit.c, common/unit.h, data/Freeciv,
	server/barbarian.c, server/gotohand.c, server/unitfunc.c,
	server/unithand.c, server/unithand.h:

	Allow diplomats (and spies) to move into allied cities.  Added
	"Keep moving" item to diplomat/spy dialogs.  Added diplomat action
	DIPLOMAT_MOVE.  Added capability tag "diplo_move_city".  Added
	extra parameter diplomat_move_city to handle_unit_move_request(). 
	Fixes bug (PR#486) reported by Marko Lindqvist <caz@cc.tut.fi>.

Sat Aug 26 13:31:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/shared.c:

	Internationalize int_to_text() routine.  Patch submitted by Gaute
	Strokkenes <gs234@cam.ac.uk>, committed with some input by myself.

Sat Aug 26 13:30:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/report.c, server/srv_main.c:

	Allow dead players and observers to access reports.  (But no
	demographics for dead players.)

Sat Aug 26 13:29:47 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c:

	Remove the code which adds dynamic client-side help-text for
	game.rtech.cathedral_minus etc, since these will be done
	differently with generalised improvements, and the ruleset
	help-texts have already been updated to include this information
	directly.

Fri Aug 25 20:15:19 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/Makefile.in, client/gui-gtk/Makefile.in, client/Makefile.in,
	client/gui-win32/Makefile.in, client/gui-stub/Makefile.in,
	client/include/Makefile.in, client/gui-xaw/Makefile.in,
	common/Makefile.in, common/player.h, data/Makefile.in,
	data/civ2/Makefile.in, data/civ1/Makefile.in,
	data/default/Makefile.in, data/classic/Makefile.in,
	data/engels/Makefile.in, data/misc/Makefile.in,
	data/scenario/Makefile.in, data/nation/Makefile.in,
	doc/Makefile.in, data/trident/Makefile.in, po/POTFILES.in,
	server/Makefile.am, server/Makefile.in, server/gamehand.c,
	server/gamehand.h, server/maphand.c, server/maphand.h,
	server/plrhand.c, server/plrhand.h, server/savegame.c,
	server/savegame.h, server/srv_main.c, vms/Makefile.in:

	Add the savegame.[ch] module.

Fri Aug 25 13:54:28 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h, server/settlers.c:

	Minor fixes to avoid possible compiler warnings: - Add space
	between "=-" assignments; - Add/remove some (un)necessary variable
	initialisations; - Remove some unused pplayer function parameters.
	Based on patch submitted by Dirk Stoecker
	<stoecker@Rcs1.urz.tu-dresden.de>.

Fri Aug 25 13:52:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Change server command 'meta' to 'metaconnection', so that 'm' and
	'meta' work as abbreviations for the more frequenty used
	'metainfo' command.  Patch submitted by Reinier Post
	<rp@win.tue.nl>.

Thu Aug 24 18:57:55 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Updated fr.po

Thu Aug 24 16:12:00 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Aug 24 08:28:44 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Aug 24 08:28:15 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/check_po.pl:

	Extended check_po.pl with line numbering in ENTRY message and an
	option '-e' which checks for untranslated (and thus possible new)
	messages.

Thu Aug 24 07:18:56 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* diff_ignore:

	Add *.pox to diff_ignore.  Submitted by Erik Sigra
	<freeciv@home.se>.

Thu Aug 24 07:15:42 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Rename server command "end" to clearer "endgame" ("end" still
	works as abbreviation).  Suggested by Reinier Post
	<rp@win.tue.nl>, patch by Daniel Sjolie <deepone@acc.umu.se>.

Thu Aug 24 07:06:57 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Remove unbalanced parenthesis in helptext for Michelangelo's
	Chapel.  Bug reported by Dmitriy Genzel <udgenzel@mcs.drexel.edu>.

Thu Aug 24 06:47:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Grammar fix (affect/effect).

Thu Aug 24 06:27:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Remove mentions of "Solar Plant" in help texts (Solar Plant not
	implemented yet).  Bug reported by Dmitriy Genzel
	<udgenzel@mcs.drexel.edu>.

Thu Aug 24 06:01:44 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/gui-mui/diplodlg.c,
	client/gui-gtk/diplodlg.c, client/include/diplodlg_g.h,
	client/gui-xaw/diplodlg.c, server/diplhand.c, server/diplhand.h,
	server/srv_main.c:

	Close all diplomacy dialogs on client side when disconnect.  Other
	diplomacy meeting fixes for multi-connections: - Send data for
	current ongoing meetings when connect; - Only cancel meeting on
	disconnect when last controller disconnects; - Send cancel
	notification to originating player for other connections; - Minor
	static/header cleanups along the way.

Thu Aug 24 06:00:01 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	server/gotohand.c:

	Minor fixes, for (aggressive) compiler warnings.

Wed Aug 23 11:46:47 2000  Thue Janus Kristensen <thue@diku.dk>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	The help texts for hoover dam were outdated; after 1.11.0 hoover
	dam can be build everywhere, not just beside a mountain or river.

Tue Aug 22 19:21:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/version.c:

	Added a comment to beta_message().  Addresses PR#509.  Patch
	submitted by Gaute Strokkenes <gs234@cam.ac.uk>.

Tue Aug 22 15:20:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* data/civ1/units.ruleset, data/civ2/units.ruleset:

	Correct file names from unit.[ch] to unittype.[ch] as suggested by
	Jerzy Klek <qpkjeek@s1.epk.ericsson.se>

Tue Aug 22 14:58:00 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/default/units.ruleset:

	Correct wrong file names in data/default/units.ruleset

	Patch submitted by Jerzy Klek <qpkjeek@s1.epk.ericsson.se>

Tue Aug 22 08:56:19 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c:

	Don't allow command-line option arguments to be empty string. 
	Fixes bug (PR#520) reported by Christian Knoke <ChrisK@enter.de>.

Tue Aug 22 08:55:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/meta.c, server/meta.h,
	server/srv_main.c, server/stdinhand.c:

	Change DEFAULT_META_SERVER_INFO_STRING from a define to a function
	to make meta.h slightly cleaner/simpler.

Tue Aug 22 08:53:20 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/meta.c, server/meta.h, server/sernet.c,
	server/srv_main.c, server/srv_main.h:

	Move send_server_info_to_metaserver() to meta.c.  Allows making
	send_to_metaserver() static.

Tue Aug 22 08:52:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/handchat.c:

	Update handle_chat_msg() to allow sending to single connection
	(and non-player connections, when implemented elsewhere), and to
	identify sender and destination appropriately in multi-connect
	case.

Tue Aug 22 08:50:44 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c:

	Make autosettler activities occur in "shuffled" player order, in
	case there are times when it makes a difference.

Tue Aug 22 08:48:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/autoattack.c, server/plrhand.c, server/plrhand.h,
	server/spacerace.c, server/srv_main.c, server/srv_main.h:

	Simplify usage of shuffled players with new function
	shuffled_player(), which checks whether nplayers has increased
	since most recent shuffle.  Also move shuffle_players() to
	plrhand.c.

Tue Aug 22 07:21:02 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Aug 21 17:54:07 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, ai/aiunit.h, common/map.h, server/unitfunc.c,
	server/unithand.c:

	Cleanup and bugfix ai_manage_explorer(). Remove fluff pplayer
	argument.  Fix bug in iterate_outward macro where an invalid x
	value would be used.

Mon Aug 21 16:46:36 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/sernet.c:

	Comments some #elses and #endifs

	Patch by Marko Lindqvist <caz@cc.tut.fi>

Mon Aug 21 13:05:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Recent commit removed many necessary files from po/POTFIELS.in,
	especially all of the data/nation/*.ruleset files.  This restores
	them.  Fixes PR#531.  Bug reported by Pieter J. Kersten
	<kersten@dia.eur.nl>.

Mon Aug 21 12:43:36 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po. Included even more missing sources.

Mon Aug 21 12:16:57 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Update nl.po (re-including ./data/nation/*.ruleset messages)

Mon Aug 21 11:38:21 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Aug 20 22:06:20 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/autogroupclass.c,
	client/gui-mui/autogroupclass.h, client/gui-mui/citydlg.c,
	client/gui-mui/repodlgs.c:

	MUI client: Added MUIA_AutoGroup_DefVertObjects tag for
	AutoGroups.  Use it in the city and science windows.

Sun Aug 20 21:25:37 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/plrdlg.c:

	NUI client: Cancel Treaty button was always disabled when not
	having an embassy. Fixed.

Sun Aug 20 21:16:50 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, amiga/vmakefile,
	client/gui-mui/autogroupclass.c, client/gui-mui/autogroupclass.h,
	client/gui-mui/cityrep.c, client/gui-mui/colortextclass.c,
	client/gui-mui/colortextclass.h, client/gui-mui/dialogs.c,
	client/gui-mui/diplodlg.c, client/gui-mui/finddlg.c,
	client/gui-mui/gotodlg.c, client/gui-mui/gui_main.c,
	client/gui-mui/historystringclass.c,
	client/gui-mui/historystringclass.h, client/gui-mui/inputdlg.c,
	client/gui-mui/inteldlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapctrl.c,
	client/gui-mui/mapview.c, client/gui-mui/messagewin.c,
	client/gui-mui/muistuff.c, client/gui-mui/muistuff.h,
	client/gui-mui/objecttreeclass.c,
	client/gui-mui/objecttreeclass.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/scrollbuttonclass.h, client/gui-mui/spaceshipdlg.c,
	client/gui-mui/wldlg.c, client/gui-mui/worklistclass.c,
	client/gui-mui/worklistclass.h, po/POTFILES.in, server/report.c:

	Amiga makefile and NLS update.  Added the gui-mui files to
	po/POTFILES.in to activate the translators.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

	In server/report.c a include file was missing.

Sun Aug 20 13:40:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/HOWTOPLAY.sv, po/sv.po:

	Update Swedish (sv) translation.  Add Swedish HOWTOPLAY file. 
	Patch submitted by Erik Sigra <sigra@home.se>.

Sun Aug 20 09:03:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/Freeciv:

	Clean up some capitalization in Xaw resources/labels for
	diplomatdialog (to same as spydialog and gtk).

Sun Aug 20 09:01:32 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c:

	Allow caravans to enter (and move through) allied cities.  Fixes
	part of bug (PR#486) reported by Marko Lindqvist <caz@cc.tut.fi>.

Sun Aug 20 05:05:06 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/POTFILES.in, server/Makefile.am, server/Makefile.in,
	server/plrhand.c, server/plrhand.h, server/report.c,
	server/report.h, server/srv_main.c, server/stdinhand.c:

	New module server/report, for report functions moved out of
	server/plrhand.  Rename show_ending() to report_scores(), and add
	a parameter 'final' which adjusts the title (for end-of-game vs
	'score' command).

Sun Aug 20 01:24:25 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Minor fixes

	Olivier Beyssac <ob@fasterix.freenix.org>

Sat Aug 19 20:24:22 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/diplhand.c, server/diplhand.h, server/srv_main.c:

	Close all diplomatic a players meeting dialogs when one of the
	players connections is closed.  (This is not the optimum way to
	handle players controlled by multiple connections, but that part
	of the code has not been converted yet, and I will leave that to
	dwp)

Sat Aug 19 12:22:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c:

	When a client connects with a name which is already the name of
	some other connection, name the new connection with a modified
	name based on the requested name (eg "1-Shaka"), rather than using
	an arbitrary name (eg "c2").  (Mainly affect multi-connects.)

Sat Aug 19 12:16:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c:

	Tiny fixes in city_name_suggestion().  Patch (PR#525) submitted by
	Gaute (B) Strokkenes <gs234@cam.ac.uk>.

Sat Aug 19 12:12:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/stdinhand.c:

	Clean up some hardcoded sizes for metaserver_info_line and
	metaserver_addr.

Sat Aug 19 12:10:26 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c:

	General cleanup and a few minor fixes in generate_ai_players().

Sat Aug 19 12:08:53 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c:

	Make the name checking in handle_alloc_nation() stricter, to avoid
	possible cases where players could have the same name (or same
	name except for case).

Sat Aug 19 12:07:15 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c:

	Change the time during the turn at which auto-saves occur, so that
	they occur just before players are allowed to move, instead of
	previously at the nominal "end of turn".  This makes autosaves and
	manual saves happen at effectively the same phase during the turn.

Sat Aug 19 11:22:50 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Fixes

	Olivier Beyssac <ob@fasterix.freenix.org>

Fri Aug 18 23:12:19 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Aug 18 20:36:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/sv.po:

	Updated Swedish (sv) locale.  Patch submitted by Erik Sigra
	<sigra@home.se>.

Fri Aug 18 20:07:49 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Minor fixes

	Olivier Beyssac <ob@fasterix.freenix.org>

Thu Aug 17 19:48:28 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	fr.po update

	Olivier Beyssac <ob@fasterix.freenix.org>

Thu Aug 17 15:28:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/spacerace.c:

	Fixed nation name to be plural in spaceship launch message.  Bug
	reported by Egbert Hinzen <garfy@ehinzen.de>.

Thu Aug 17 07:39:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/srv_main.c, server/stdinhand.c:

	Minor changes: - When client disconnects in pre-game, don't remove
	player if AI mode.  - In toggle_ai_player_direct(), don't check
	rates if is_new_game.  - Add a log message in
	server_remove_player().

Thu Aug 17 06:58:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c:

	Some grammar fixes to player rejection messages, submitted by
	Gaute (B) Strokkenes <gs234@cam.ac.uk> (PR#513), and some more by
	me.

Thu Aug 17 06:31:52 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/plrhand.h, server/unitfunc.c,
	server/unithand.c:

	Add convenience function player_reply_dest(), useful for
	multi-connect case.

Thu Aug 17 06:15:29 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/srv_main.c:

	Change a few more freelog() calls to use LOG_ERROR.

Thu Aug 17 06:14:18 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c:

	Make diplomatic state of new player generated in a civil war be
	DS_WAR with everyone, instead of DS_NEUTRAL, since the player is
	AI and the AI doesn't (yet) understand diplomacy.

Thu Aug 17 03:20:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, common/player.c, po/POTFILES.in,
	server/Makefile.am, server/Makefile.in, server/autoattack.c,
	server/barbarian.c, server/cityhand.c, server/citytools.c,
	server/cityturn.c, server/civserver.c, server/civserver.h,
	server/console.c, server/gamehand.c, server/meta.c, server/meta.h,
	server/plrhand.c, server/sernet.c, server/spacerace.c,
	server/srv_main.c, server/srv_main.h, server/stdinhand.c,
	server/unitfunc.c, server/unithand.c, server/unittools.c:

	Split server code into library and program.  This will allow
	utilities that need access to server routines (like save-file
	loading and saving) to simply link against the library.  Just need
	to call srv_init() before using any server routines.

Wed Aug 16 20:13:40 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* doc/HOWTOPLAY.fr, doc/INSTALL.fr, doc/README.fr:

	Fixes and additions to french docs

Wed Aug 16 16:31:47 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/nation/misc_cities.ruleset:

	'Trollhaetten' should be 'Trollätten'.

	Patch submitted by "Gaute (B) Strokkenes" <gs234@cam.ac.uk>

Tue Aug 15 22:20:54 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* doc/HOWTOPLAY.fr:

	Fixes to HOWTOPLAY.fr

Tue Aug 15 18:41:23 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Updated fr.po

Tue Aug 15 15:45:10 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* doc/HOWTOPLAY.fr, doc/INSTALL.fr, doc/README.fr:

	French translation of common docs

Tue Aug 15 09:20:33 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Aug 14 22:35:38 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h:

	Added whole_map_iterate macro.

Mon Aug 14 22:26:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aitech.c:

	Use Tech_Type_id instead of int where appropriate. Initialize some
	variables with A_NONE instead of 0.

	Some iterations through only real techs instead of all techs;
	start from A_FIRST instead of A_NONE. Where done, this makes more
	logical sense and breaks nothing.

	patch by Marko Lindqvist <caz@cc.tut.fi>

Mon Aug 14 15:42:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c:

	Fix bug where a desert city square would produce 2 food.

	Bug reported by Michael Schreiber <M.Schreiber@gmx.de>

Mon Aug 14 15:37:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Change another case of *1.5 to *3;/2 to avoid using floating
	point, as suggested by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>

Mon Aug 14 13:33:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt:

	Fix grammatical error reported by Dmitriy Genzel
	<udgenzel@mcs.drexel.edu>.

Mon Aug 14 13:25:33 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Add some C-style comment delimiters to make gettext ignore some
	commented-out gettext-marked strings.  Problem reported by Dmitriy
	Genzel <udgenzel@mcs.drexel.edu>.

Mon Aug 14 12:56:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/gui-xaw/gui_main.c:

	In unit_icon_callback() check unit owner, to avoid useless focus
	selection in case of a unit stacked with units of an allied
	player.

Mon Aug 14 12:53:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c:

	Send extra player_info when embassy established, to have Players
	Dialog for both players updated immediately.

Mon Aug 14 12:51:12 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c, data/Freeciv:

	Change "Race" to "Nation" in column title for Players Dialog, for
	consistency with usage elsewhere.  Minor formatting fix and
	repositioning for Players Dialog in Xaw client.

Mon Aug 14 12:48:29 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/city.c,
	common/city.h, common/improvement.c, common/improvement.h,
	common/unittype.c, common/unittype.h:

	New module common/improvement.[ch], moved out of common/city.[ch],
	for data and functions about city improvements and wonders.

Mon Aug 14 12:45:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/unit.c,
	common/unit.h, common/unittype.c, common/unittype.h,
	po/POTFILES.in:

	New module common/unittype.[ch], moved out of common/unit.[ch].

Mon Aug 14 12:41:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c, client/civclient.c, client/clinet.c,
	client/control.c, client/helpdata.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/dialogs.c,
	client/gui-xaw/dialogs.c, common/connection.c,
	common/government.c, common/idex.c, common/inputfile.c,
	common/ioz.c, common/nation.c, common/netintf.c, common/packets.c,
	common/rand.c, common/registry.c, common/shared.c,
	common/timing.c, common/unit.c, server/cityhand.c,
	server/cityturn.c, server/diplhand.c, server/gotohand.c,
	server/mapgen.c, server/maphand.c, server/meta.c,
	server/plrhand.c, server/ruleset.c, server/sernet.c,
	server/spacerace.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c:

	Convert some freelog() calls to use recently added level
	LOG_ERROR.  Removed gettext markings on a small number of strings
	where considered inappropriate.  Changed client to not die on
	unknown packet type, instead emit LOG_ERROR message and continue
	(ignoring packet).

Sun Aug 13 10:46:20 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advmilitary.c:

	A diplomat was always build as last defender of a city if there
	was a close enough diplomat threat. Now, a diplomat is build only
	if the defense of city is strictly positive.

Sat Aug 12 18:47:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Tiny tidyup.  * int -> enum tile_terrain_type * Avoid floating
	point arithmetic * Some grammar fixes.

	patch by Gaute (B) Strokkenes <gs234@cam.ac.uk>

Sat Aug 12 04:17:46 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1442t+46f+832u+19o

Sat Aug 12 04:14:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.mac.h, common/shared.h, common/support.c, server/meta.c:

	Some minor changes/updates for Mac port, from patches submitted by
	Andy Black <ablack@bvsd.k12.co.us>.

Sat Aug 12 04:08:42 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/README.ja:

	Initial README.ja file based on cvs-1.37's README.

Sat Aug 12 02:50:58 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE:

	Remove duplicate Gaute Strokkenes <gs234@cam.ac.uk> in bug reports
	section.

Sat Aug 12 02:46:02 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/governments.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset:

	Activate units Elephants, Crusaders, and Fanatics in civ2 ruleset.
	Activate tech Fundamentalism for Fanatics, and change tech_req of
	government Fundamentalism to Never to leave it turned off. 
	Missing elephants reported by Michael Kiermaier
	<michael.kiermaier@gmx.net>.

Fri Aug 11 23:15:19 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Aug 11 02:32:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c:

	Update barbarian fake username when resurrected with new player
	name.

Fri Aug 11 02:31:04 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* acinclude.m4, aclocal.m4, configure, configure.in:

	Add configure test for whether readline works at runtime, to
	detect broken readline (+ncurses) libraries on some systems. 
	Based on patch (and bug report, PR#491) submitted by Jacob Luna
	Lundberg <jacob@velius.chaos2.org>.

Thu Aug 10 20:25:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* config.h.in, configure, configure.in, client/helpdata.c,
	client/gui-xaw/finddlg.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/repodlgs.c, common/shared.c, common/shared.h:

	Changed sorting of city name lists and tech advances to use
	strcoll(), if it is available.  Bug reported by Dmitriy Genzel
	<udgenzel@mcs.drexel.edu>.  Solution suggested by Gaute Strokkenes
	<gs234@cam.ac.uk>.  Code by me.

Thu Aug 10 20:05:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c:

	Change mystrlcpy()s into sz_strlcpy()s in civclient.c#main(). 
	Closes PR#502.  Patch submitted by Gaute Strokkenes
	<gs234@cam.ac.uk>.

Thu Aug 10 19:52:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/messagewin.c:

	Change message window style to be based on that of message list. 
	Patch submitted by Dmitriy Genzel <udgenzel@mcs.drexel.edu>.

Thu Aug 10 19:16:26 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/messagedlg.c, client/gui-mui/muistuff.c,
	client/gui-mui/muistuff.h:

	More NLS changes for the MUI client.  Added MakeLabelLeft() for
	options dialogs.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Thu Aug 10 15:34:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/shared.c, common/shared.h:

	Increases buffer size in int_to_text() to accommodate 64-bit
	integers.  Inserts #if'd-out code which may assist in i18n of
	int_to_text().  Adds lots of comments.  Addresses PR#500.  Patch
	submitted by Gaute Strokkenes <gs234@cam.ac.uk>, committed with
	suggestion by David Pfitzner <dwp@mso.anu.edu.au> and a few fixes
	by me.

Thu Aug 10 14:48:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/city.c,
	common/city.h, common/packets.c, data/civ1/buildings.ruleset,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset,
	server/ruleset.c:

	Fixes a few oversights in the initial definitions of improvement
	effects.

Thu Aug 10 08:15:11 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Moved some 'start' sanity checks inside an 'if
	(game.is_new_game)'.  In particular game.nplayers can validly
	become greater than game.max_players, due to Barbarians etc.

Thu Aug 10 08:12:32 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Fix possible recursion/segfault bug in lost_connection_to_client()
	- must avoid attempting to send to the connection which has been
	lost.

Thu Aug 10 07:39:06 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po.

Wed Aug  9 15:37:10 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Aug  9 15:25:52 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/config.h, amiga/gettext.c,
	amiga/libintl.h, amiga/smakefile, amiga/vmakefile,
	client/gui-mui/connectdlg.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gui_main.c, client/gui-mui/helpdlg.c,
	client/gui-mui/messagedlg.c:

	Added NLS for the amiga version of freeciv.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Wed Aug  9 13:24:21 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h, data/scenario/earth-160x90-v1.sav,
	data/scenario/earth-80x50-v1.sav,
	data/scenario/earth-80x50-v2.sav,
	data/scenario/europe-200x100-v1.sav,
	data/scenario/europe-200x100-v2.sav, server/gamehand.c,
	server/maphand.c, server/plrhand.c, server/stdinhand.c:

	Fix problems with saving game before using 'start', including
	re-saving scenarios (eg, with modified server options), and saving
	re-loaded games.  Update scenarios to current parameters.

Wed Aug  9 13:19:21 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h, server/civserver.c, server/stdinhand.c:

	Change allowconnect server option so that it can be set to permit
	multiple connections per player, and player observers.  (Though
	this is still experimental and under development.)  Changed
	set_command() in stdinhand.c to allow '*' and '+' in parsing
	server option value.

Wed Aug  9 13:11:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/civclient.h, client/packhand.c,
	client/packhand.h, common/capstr.c, common/connection.c,
	common/connection.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/packets_lsend.c,
	common/packets_lsend.h, server/civserver.c, server/plrhand.c,
	server/plrhand.h, server/sernet.c:

	Send clients full info about connections to server, in new packet
	packet_conn_info.  New non-mandatory capability tag "conn_info". 
	Add connection.id field for communication purposes, and new
	function find_conn_by_id().  Client now maintains player and game
	connection lists.  Adjust conn_description() to return "server"
	for client aconnection, which is clearer and simplifies some
	cases.  Add conn_id field to packet_join_game_reply, and
	game.conn_id, so client knows which connection id is itself
	(though not used yet by clients).

Wed Aug  9 12:52:18 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po:

	Fix de.po "end-of-line within string" error so it compiles.

Tue Aug  8 14:14:26 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Aug  8 12:57:43 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/plrhand.c, server/unithand.c:

	Punctuation fixes in some "Game:" messages.

Tue Aug  8 12:23:37 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, README, common/log.c, common/log.h,
	server/civserver.c:

	Add new log level LOG_ERROR, between LOG_FATAL and LOG_NORMAL, for
	non-fatal error messages.

Tue Aug  8 12:22:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Fix typo in comment.

Tue Aug  8 12:21:56 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-mui/plrdlg.c,
	client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c,
	common/connection.c, common/connection.h, common/player.c,
	common/player.h, server/barbarian.c, server/citytools.c,
	server/civserver.c, server/plrhand.c:

	Remove player.conn and player.addr fields, since should now use
	player.connections (or player.is_connected) and connection.addr. 
	Added player_addr_hack() to support code which still expects
	single addr per player.  Also hacks to handle that client doesn't
	yet have full information about connection lists.

Tue Aug  8 12:20:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/stdinhand.c, server/stdinhand.h:

	Adjust messages sent when a client joins game (or tries to join),
	so will be appropriate when multiple connections per player.  Also
	adjust rejection messages to have more consistent form, and/or
	improved clarity.  Removed an obsolete rejection case.

Tue Aug  8 12:18:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/handchat.c, server/sernet.c,
	server/stdinhand.c, server/stdinhand.h:

	Convert stdinhand (and related) so that 'caller' is connection,
	not player, so server commands from client chatline will work
	properly with multiple connections per player.  Change 'cut' and
	'cmdlevel' commands to take connection names instead of player
	names.

Tue Aug  8 09:15:51 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po. This patch introduces even more plural/singular
	errors :-\.

Tue Aug  8 02:00:49 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/cityhand.c:

	In city_name_suggestion, define a constant int max_nb_name equal
	to MAP_MAX_WIDTH * MAP_MAX_HEIGHT. If one play with a 10000 by
	10000 map, a city name is always found.

Mon Aug  7 15:55:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Added unit type name to message when killed by pseudo-barbarians
	in hut.  Patch submitted by Gaute Strokkenes <gs234@cam.ac.uk>,
	with minor fixes by me.

Mon Aug  7 14:12:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/clinet.c, client/options.c, server/gamehand.c,
	server/meta.c:

	Made some code more portable.  Suggested by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>.  Implemented by me, with a fix
	suggested by Gaute Strokkenes <gs234@cam.ac.uk>.

Mon Aug  7 13:21:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c:

	Remove some superfluous connection do/undo buffer calls.

Mon Aug  7 13:08:51 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/handchat.c, server/handchat.h:

	Update handchat.c for connection lists to basic level.  Could do
	with additional functionality (eg, chat/attribute to individual
	connections).

Mon Aug  7 13:05:53 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c, server/unithand.c:

	Some connection list conversions for diplomat/spy actions.

Mon Aug  7 13:04:29 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c:

	Convert diplhand.c to send to player->connections.

Mon Aug  7 13:03:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/civserver.c:

	Add a pplayer->current_conn field, which is set when the server is
	dealing with a packet from a specific connection.  Intended for
	code which sends to all player connections if at end turn, but
	only to originator if during request.

Mon Aug  7 13:02:21 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c, server/citytools.c, server/stdinhand.c:

	For 'list connections' show command levels.  For 'list players'
	add ability to show multiple connections per player, plus other
	revisions, including showing nation name.  Set pplayer->username
	to something sensible for barbarians and civil war rebel players
	when created.

Mon Aug  7 13:01:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/ru.po:

	Updated Russian (ru) translation.  Patch submitted by Dmitriy
	Genzel <udgenzel@mcs.drexel.edu>.

Mon Aug  7 13:00:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/packets.c, server/cityturn.c,
	server/civserver.c, server/plrhand.c:

	Miscellaneous connection list conversions.

Mon Aug  7 12:04:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/INSTALL.it, doc/Makefile.am, doc/Makefile.in, doc/README.it:

	Added Italian INSTALL.it and README.it.  Files submitted by Paolo
	Sammicheli <xdatap1@supereva.it>.

Mon Aug  7 03:16:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.h, server/plrhand.c, server/settlers.c:

	Make the players_iterate macro declare the loop variable itself.

Sun Aug  6 20:59:52 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/Backend.cpp, client/gui-beos/Defs.cpp,
	client/gui-beos/Defs.hpp, client/gui-beos/InputView.cpp,
	client/gui-beos/InputView.hpp, client/gui-beos/MainWindow.cpp,
	client/gui-beos/MapCanvas.cpp, client/gui-beos/OutputView.cpp,
	client/gui-beos/OutputView.hpp, client/gui-beos/README.BeOS,
	client/gui-beos/README.todo:

	Implement InputView and OutputView.  Document next steps, for the
	next person to use.  Other minor GUI polishes in preparation for
	live implementation.

Sun Aug  6 16:16:21 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/config.h, amiga/smakefile, amiga/vmakefile:

	Updated some amiga files.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sun Aug  6 12:21:43 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c, server/unittools.c:

	Minor cleanup in find_a_unit_type().  Split cases in
	handle_unit_enter_hut() into separate functions.

Sun Aug  6 11:47:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c, common/hash.h:

	Some improvements (hopefully!) to hashing:

	* Table sizes are now primes instead of powers of 2, and
	hash_fval_int and hash_fval_string have been simplified.  This
	seemed the simplest way to address a flaw in the old
	hash_fval_int.

	* Tables now resize when the fraction of used buckets goes below a
	certain point.  Also tables expand a little more conservatively
	and are more likely than before to rehash with the same size or
	shrink.  There probably isn't any noticeable effect, either
	positive or negative, on CPU or memory usage.

	Patch submitted by Jed Davis <jldavis@cs.oberlin.edu>.

Sun Aug  6 11:43:46 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/support.c:

	Cleanups to support.c:

	* Added configure checks for strcasecmp() and strncasecmp() and
	use them if available.

	* The glibc manual states that strcmp() and friends may return
	"the difference between the first differing pair of characters
	(interpreted as `unsigned char' objects, then promoted to `int')".
	Added explicit casts to make sure that it's really done this way.

	* Fixed a typo: stncmp() -> strncmp().

	* Updated a comment concerning the return value of vsnprintf() and
	friends.

	* Added explanatory comments for all functions that did not
	already have one.

	Patch submitted by Gaute (B) Strokkenes <gs234@cam.ac.uk>.

Sun Aug  6 11:20:40 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Aug  6 05:39:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/settlers.c:

	Clean up city_name_suggestion(), and remove redundant
	get_a_name().  Patch submitted by Big Gaute <gs234@cam.ac.uk> (+
	minor changes by me).

Sun Aug  6 03:54:06 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c:

	Split a conditional message into two separate messages, to be
	kinder to translators.

Sat Aug  5 22:56:08 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Simplification of unused function locally_zero_minimap().

Sat Aug  5 22:50:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Slight cleanup of generate_minimap().

Sat Aug  5 22:22:39 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c:

	Allow only ground units to be airlifted.

	bug reported by Michael Grundel <michael42@web.de>

Sat Aug  5 14:19:46 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gui_main.c:

	MUI client: In some cases the units were blinking too fast. Should
	be fixed now.

	Bug reported by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sat Aug  5 08:23:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Fix textual error in help text for server option 'unhappysize'
	(happy -> content).  Problem reported by Dmitriy Genzel
	<udgenzel@mcs.drexel.edu>.

Sat Aug  5 08:22:04 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.h, client/packhand.h:

	Moved some function prototypes to correct header file.

Fri Aug  4 15:44:20 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, amiga/vmakefile,
	client/gui-mui/autogroupclass.c, client/gui-mui/objecttreeclass.c,
	common/ioz.c, common/map.c, common/shared.c, server/console.c,
	server/gotohand.c, server/maphand.c:

	Removed some compiler warnings and updated the amiga makefiles.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Fri Aug  4 12:04:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.xpm:

	Further refinement of Norwegian flag in Engels tileset.  Suggested
	by Gaute Strokkenes <gs234@cam.ac.uk>.

Thu Aug  3 19:14:54 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-gtk/menu.c, client/gui-mui/gui_main.c:

	In the MUI client when no unit was in focus and the menuitem
	Pollution/Paradrop was selected an enforcer hit happened.

	GTK client had the same problem.

	Bug reported by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Thu Aug  3 18:40:16 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c:

	Useless variables are removed.  Useless initialization are
	removed.  Variables usefull for DEBUG are put between a #ifdef
	DEBUG and a endif.

	Patch submitted by Dirk Stoecker <stoecker@Rcs1.urz.tu-dresden.de>

Thu Aug  3 16:50:08 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapview.c:

	MUI client: Sometimes after a the player attacked another and the
	defender has won it was activated. Should be fixed now.

	Bug reported by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Thu Aug  3 15:16:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gamehand.c:

	Changed way in which AIs are forced into War at save-game load
	time.  No longer call neutralize_ai_player() (calls
	handle_player_cancel_pact()), which caused possible revolutions
	and called myrand() too early.  Bug reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Thu Aug  3 15:09:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Conditionalized new (as of 1.11.0) call to send_game_info(0) when
	server variables are set on server_state==RUN_GAME_STATE to keep
	from popping down the nation select dialog.  Fixes PR#482.  Bug
	reported by Stepan Roh <sroh7497@ss1000.ms.mff.cuni.cz>.  Analysis
	by Thue Janus Kristensen <thue@diku.dk> and me.  Patch by me.

Thu Aug  3 14:10:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/cityhand.h, server/cityturn.c,
	server/civserver.c, server/gotohand.c, server/maphand.c,
	server/plrhand.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unithand.h:

	Some straightforward connection list conversions.

Thu Aug  3 14:08:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/cityhand.h, server/cityturn.c,
	server/cityturn.h, server/civserver.c, server/gamehand.c,
	server/gamehand.h, server/maphand.c, server/maphand.h,
	server/plrhand.c, server/plrhand.h, server/spacerace.c,
	server/spacerace.h, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h:

	Conversions for connection lists, mainly to have conn_list as
	destination for send_all_info().  Includes some rework of
	send_city_info(), send_tile_info(), send_unit_info(),
	send_all_known_cities(), send_all_known_tiles(),
	send_all_known_units() and related functions.  New related
	functions broadcast_city_info(), send_tile_info_always(),
	send_player_info_c().

Thu Aug  3 14:06:01 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, server/civserver.c, server/gamehand.c,
	server/gamehand.h, server/sernet.c, server/sernet.h:

	Misc connection list conversions: - Use conn_description() in some
	places; - Convert send_year_to_clients(), send_game_state(); -
	Adjust checks in handle_packet_input(); - Use notify_conn() in
	join_game_accept() and introduce_game_to_connection() (was
	introduce_game_to_player()); - Adjust check_for_full_turn_done();
	- Minor cleanups in sernet.c

Wed Aug  2 19:10:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.xpm, data/misc/shields.xpm,
	data/trident/flags.xpm:

	Minor adjustment of Norwegian flags and shield.  Suggested by
	Gaute Strokkenes <gs234@cam.ac.uk>.

Wed Aug  2 18:24:51 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.c, common/unit.h, server/cityturn.c:

	Allied cities now count as friendly cities to know if a units is
	aggressive.

	From a patch by Marko Lindqvist <caz@cc.tut.fi>

Wed Aug  2 14:16:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/plrhand.c, server/plrhand.h,
	server/stdinhand.c, server/stdinhand.h:

	Convert and rename page_player() and page_player_generic() to
	page_conn() and page_conn_etype() -- connection list versions.

	Convert handle_report_request() to use connection instead of
	player, and convert called functions as required.  Rename some
	report functions for better consistency (report_*).

Wed Aug  2 14:15:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/plrhand.h:

	Add functions notify_conn() and notify_conn_ex(), and convert
	notify_player(), notify_player_ex(), and notify_embassies() to use
	connection lists.

Wed Aug  2 14:14:09 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/ruleset.c, server/ruleset.h:

	Convert send_rulesets() and supporting functions to use connection
	lists.

Wed Aug  2 14:12:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/create_lsend.pl,
	common/packets.c, common/packets.h, common/packets_lsend.c,
	common/packets_lsend.h, server/civserver.c:

	Add perl script create_lsend.pl, and generated files
	packets_lsend.c and packets_lsend.h.  These generated files
	contain lsend_packet_* functions, which are the same as
	send_packet_* in packets.h, but send to a connection list rather
	than a single connection (each one iterates the conn_list and
	calls the corresponding send_packet_*).

	Also some small related cleanups, and one example of use of new
	functions: conversion of before_end_year() to conn_list version.

	There is no provision for calling create_lsend.pl automatically
	from make - developers should run it manually as required (normal
	users should have no need to do so).

Wed Aug  2 14:09:28 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/rand.c, common/rand.h, server/civserver.c:

	Fix a problem that myrand() gave poor results (not very random)
	for small sizes, at least at start of sequence.  Problem reported
	by Jarda Benkovsky <pvt.benkovsk@pvtnet.cz>, and diagnosis and
	test given by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

	Fixed by using a divisor method instead of modulus in myrand(),
	and heat up the generator in mysrand().  Added test_random1(). 
	Allow size==0 in myrand (ie, myrand(0)), accessing full range.

Wed Aug  2 14:08:01 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/connection.c:

	Add checks for pc->used &amp;&amp; pc->send_buffer in several
	connection functions, to avoid using already free'd
	pc->send_buffer (or closed socket).  Bug (PR#485) reported by Jeff
	Mallatt <jjm@codewell.com>.

Wed Aug  2 13:20:55 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/player.c:

	In the function pplayers_allied, the condition (pplayer ==
	pplayer2) was always false when the code reached the return. So,
	this test was removed.

Wed Aug  2 13:03:41 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c:

	MUI client: City window layout changed to use the new autogroup
	class for supported and present units.

	When city window is closed and the sell message window is still
	opened it is closed, too.

Wed Aug  2 10:08:35 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c:

	MUI client: Removed the rename button in the city window. Instead
	the city can be renamed directly in the window now.

Wed Aug  2 08:59:57 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/helpdlg.c, client/gui-mui/helpdlg.h,
	client/gui-mui/inteldlg.c:

	MUI client: The inteligence window use the the new autogroup class
	for displaying the technologies now.

Tue Aug  1 20:21:11 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/worklistclass.c:

	MUI client:

	Fixed typo error.  City report update of improvement listview is
	correct now.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Tue Aug  1 20:18:00 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, amiga/vmakefile,
	client/gui-mui/autogroupclass.c, client/gui-mui/autogroupclass.h,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/objecttreeclass.c, client/gui-mui/repodlgs.c:

	MUI client: Moved the custom layout code of the unit selection
	window to a new class in client/gui-mui/autogroupclass.(c|h).

	Layout of the science window changed to use the new autogroup for
	already researched technologies.

Tue Aug  1 12:50:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/catalan.ruleset,
	data/nation/chilean.ruleset, data/trident/flags.spec,
	data/trident/flags.xpm, po/POTFILES.in:

	Added Catalan and Chilean nations.  Catalan submitted by Markus
	Buechele <markus.buechele@web.de>.  Chilean submitted by Juan
	Cortes <cortes@astro.yale.edu>.

Tue Aug  1 12:12:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/argentine.ruleset:

	Updated Argentine nation.  Patch submitted by Juan Cortes
	<cortes@astro.yale.edu>.

Tue Aug  1 11:18:49 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/messagedlg.c:

	MUI client: Message option window looks better for uneven options
	number.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Tue Aug  1 09:45:25 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gui_main.c:

	MUI client Message menuitem works now

Mon Jul 31 22:09:04 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Reverted resource patch.

Mon Jul 31 21:10:59 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c:

	MUI client: When grid is active, a new city is founded and the
	city is in 3rd row to the window border, strange overwrites
	happen. Fixed.

	Bug reported by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Jul 31 18:20:08 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/config.h, amiga/smakefile,
	amiga/vmakefile, client/gui-mui/colortextclass.c,
	client/gui-mui/colortextclass.h, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gotodlg.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/helpdlg.c,
	client/gui-mui/historystringclass.c,
	client/gui-mui/historystringclass.h, client/gui-mui/inputdlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/mapctrl.h, client/gui-mui/messagedlg.c,
	client/gui-mui/messagewin.c, client/gui-mui/muistuff.c,
	client/gui-mui/muistuff.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/objecttreeclass.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/scrollbuttonclass.h, client/gui-mui/spaceshipdlg.c,
	client/gui-mui/wldlg.c, client/gui-mui/worklistclass.c,
	client/gui-mui/worklistclass.h:

	Added amiga/vmakefile - a makefile to use with the vbcc compiler.

	Changed all amiga related file so Freeciv can now be compiled with
	vbcc  (both the client and the server)

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Jul 31 14:25:02 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Mon Jul 31 09:21:49 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/colortextclass.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/overviewclass.c:

	MUI client ColorTextClass clips the displayed text now if
	necessary.  The displayed text can also be centered.

	A sprite object can now have a colored background.  Now the
	background of units in the help window depends now on its type
	similir to the other clients.

Mon Jul 31 06:55:28 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/amigaclient.c, amiga/amigaserver.c:

	Added a missing include statement in amiga/amigaserver.c

	Problem reported by James Novak <jnovak@wi.tds.net>.

Mon Jul 31 02:37:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/connection.c, common/connection.h, po/POTFILES.in,
	server/stdinhand.c:

	Extend server 'list' command to allow 'list connections' as well
	as 'list players' (with no argument gives 'list players', as
	before).  Add function conn_description(), intended to be useful
	generally in messages about connections.

Mon Jul 31 02:35:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* freeciv_hackers_guide.txt, common/connection.c,
	common/connection.h, common/game.c, common/game.h,
	common/player.c, common/player.h, server/civserver.c,
	server/civserver.h, server/plrhand.c, server/plrhand.h,
	server/sernet.c, server/stdinhand.c:

	Add "connection lists", for future support of multiple connections
	per player.  Add speclist stuff to define struct conn_list.  Add
	connection lists to game, player, and connection structs, and add
	"Connections" section to freeciv hackers guide explaining plans.

Sun Jul 30 20:22:24 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Changed parsing of default resource string to be before gtk_init()
	and thus loading changes to the resources in the default gtk+
	resource file.

Sun Jul 30 20:04:05 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fix to ignore delete events to the government change dialog. 
	Fixes PR#357.

Sun Jul 30 17:34:54 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c, client/gui-mui/plrdlg.c:

	MUI client Updated to the latest changes.

Sun Jul 30 14:07:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/dutch.ruleset:

	Added rulers and cities to Dutch ruleset.  Patch submitted by
	Pieter J. Kersten <kersten@dia.eur.nl>, submitted with fix by
	Reinier Post <reinpost@win.tue.nl>.

Sun Jul 30 13:58:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/scottish.ruleset:

	Fix plural form of Scottish in that ruleset.  Fixes PR#472.  Patch
	submitted by Gaute Strokkenes <gs234@cam.ac.uk>.

Sun Jul 30 13:49:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/citydlg.c:

	Xaw implementation of recent commit of city renaming retitles
	dialog.

Sun Jul 30 13:35:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-xaw/mapctrl.c:

	Consistent capitalization of strings in recent patch.

Sun Jul 30 13:17:09 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/player.h, server/plrhand.c:

	In the end of the "wonders of the world" popup, there now is a
	list of wonders being build.

	patch by Robert Rendell <rob@universe.serc.rmit.edu.au> with some
	changes by me.

Sun Jul 30 12:53:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advdomestic.c, ai/aicity.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-mui/mapclass.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c, common/city.c,
	common/city.h, common/map.c, common/map.h, server/citytools.c,
	server/cityturn.c:

	Add information about the production of a tile to the
	middle-button popup.  The information does not include city and
	government modifiers.

	(The reason why so many files are affected is that I renamed the
	old function get_food_tile() to city_get_food_tile())

	patch by Robert Rendell <rob@universe.serc.rmit.edu.au> and me

Sun Jul 30 12:20:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c, ai/aiunit.c, server/autoattack.c,
	server/barbarian.c, server/gotohand.c, server/gotohand.h,
	server/settlers.c, server/unitfunc.c, server/unithand.c,
	server/unithand.h:

	Remove pplayer argument from severel functions as it could always
	be derived from the function's unit argument.

Sun Jul 30 12:15:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/sv.po:

	Added Swedish (sv) translation.  Localization provided by Erik
	Sigra <freeciv@home.se>.

Sun Jul 30 11:51:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed old savefile default for diplomatic states from
	DS_NO_CONTACT to DS_NEUTRAL.  Simple fix to keep things rational
	at game start.  Fixes PR#465.

Sun Jul 30 11:42:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c, common/map.h, server/mapgen.c:

	Removed once-used function is_special_type_close().  Replaced the
	call with a call to count_special_near_tile().  Suggested by IQ
	<iquin@technologist.com>.

Sun Jul 30 09:00:19 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/colortextclass.c, client/gui-mui/helpdlg.c,
	client/gui-mui/muistuff.h:

	MUI client: Applied the wrong help tech button patch the last
	time.  (without my enhancements)

	Thanks to Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de> for the
	hint.

Sun Jul 30 08:58:25 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/SDI_compiler.h, amiga/config.h,
	client/helpdata.c, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/muistuff.h:

	The server now again should compile with VBCC.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sun Jul 30 08:46:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Tidy up the code for handling help arguments, including addings
	defines for SETTINGS_NUM and HELP_ARG_NUM, and simplify the code
	for help_generator() by using helparg_accessor().

Sun Jul 30 08:42:33 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt:

	Fix spelling in recent change.

Sun Jul 30 05:15:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-stub/plrdlg.c:

	Added new plrdlg_update_delay_*() functions to Stub client.

Sat Jul 29 23:35:08 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/packhand.c, client/include/plrdlg_g.h,
	client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c,
	client/gui-mui/plrdlg.c:

	Added gtk+ client speedup (player dialog updates once per turn).

	Patch submitted by Karl-Ingo Friese
	<kif@informatik.uni-hannover.de>, support for xaw client &amp;
	functions to amiga client added by me.

Sat Jul 29 21:23:02 2000  Thue Janus Kristensen <thue@diku.dk>:

	* data/helpdata.txt:

	Various small changes.

	patch by Erik Sigra <freeciv@home.se>

Sat Jul 29 20:50:05 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c:

	Improves 2 error messages.

	patch by Erik Sigra <freeciv@home.se>

Sat Jul 29 15:49:54 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Changed all occurences of "money" (9) to "gold" (11) to be
	consistent.  Now "gold" should occur 20 times. Also adds a missing
	dot.

	patch by Erik Sigra <freeciv@home.se>

Sat Jul 29 15:45:42 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	Various nitpicks about formulation and formating.

	Patch by Erik Sigra <freeciv@home.se>

Sat Jul 29 12:18:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/worklist.c, server/plrhand.c:

	Added a check for invalid index in handle_player_worklist( ) and
	eliminate the strcpy( ) from copy_worklist( ) for security
	reasons.

	Bug report and patch by Taneli Huuskonen <huuskone@cc.helsinki.fi>

Sat Jul 29 07:45:22 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/colortextclass.c, client/gui-mui/helpdlg.c:

	MUI client: Implemented OM_SET method of the ColorText subclass. 
	Now all tech buttons in the help dialog use the ColorText
	subclass.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>
	with enhancements by me.

Sat Jul 29 07:44:23 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/smakefile:

	Fixed and updated some Amiga files

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Sat Jul 29 04:56:00 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Fix shuffle_players() so that all orderings are equally likely
	(for good myrand()).  (It was close, but n! is not a perfect
	divisor of n^n).  Problem reported by Kero van Gelder
	<kero@ipc3799dbe.dial.wxs.nl>.

Sat Jul 29 04:45:09 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/connection.c, common/connection.h:

	Fix CLOSE_FUN function typedef to ANSI compliant form.  Problem
	reported by Dirk Stoecker <stoecker@Rcs1.urz.tu-dresden.de>.

Sat Jul 29 03:37:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Add completion of 'commands' and 'options' after 'help' command. 
	Patch submitted by Stepan Roh <sroh7497@ss1000.ms.mff.cuni.cz>.

Sat Jul 29 03:32:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h, server/ruleset.c:

	Divide most load_ruleset_xxx() functions into load_xxx_names() and
	real load_ruleset_xxx().  All load_xxx_names() functions are
	called before any load_ruleset_xxx().

	This way ruleset loading order does not matter if rulesets depend
	on each other. In the future there might be situations where
	ruleset A depends on ruleset B and ruleset B depends on ruleset A.

	Patch submitted by Marko Lindqvist <caz@cc.tut.fi>, which some
	changes to filename handling for error messages by me.

Fri Jul 28 16:19:13 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/colortextclass.c,
	client/gui-mui/colortextclass.h, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/historystringclass.c:

	MUI client: Added a simple colortextclass.(c|h) which allows
	colored text objects.  Use them in the help dialog so the tech
	buttons are really colored now.  The techtree is now displayed
	within a scrollgroup object.

Fri Jul 28 12:56:24 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/objecttreeclass.c:

	MUI client:

	- tech help is colorful now - some more static keywords - removed
	some obsolete code comments - keyboard button HELP brings help now
	:-)

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Fri Jul 28 12:43:45 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c:

	MUI client: Finished the MUIM_PutCityWorkers method.  No longer
	use direct color numbers for drawing citynames.

Fri Jul 28 07:45:16 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c:

	MUI client: Finished the MUIM_DrawMushRoom method.

Fri Jul 28 04:24:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/timing.c:

	Add some (clock_t) and (time_t) casts to -1 to make some systems
	happy.  Patch submitted by Dirk Stoecker
	<stoecker@Rcs1.urz.tu-dresden.de>.

Fri Jul 28 04:06:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/packhand.c, common/connection.h,
	server/civserver.c, server/sernet.c:

	Added some extra fields to connection struct, to be used more
	fully in future: (mainly used in server only) name - needed to
	identify connections when muliple conns per player; established -
	distiguish "accepted" connections, after initial packets; observer
	- as distinct from "controlling" connections (to be implemented).

Fri Jul 28 03:53:00 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/messagewin.c,
	client/gui-mui/messagewin.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/messagewin.c, common/capstr.c, common/packets.c,
	server/cityturn.c, server/maphand.c, server/plrhand.c,
	server/spacerace.c:

	Change event coordinates which imply "no location" from (0,0) to
	(-1,-1), since (0,0) is also a genuine location.  Added
	non-mandatory capability tag "event00_fix".

Thu Jul 27 20:30:19 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h, server/maphand.c:

	Make functions in maphand.c use square_iterate().  Make
	square_iterate and iterate_outward macros safer by adding
	paranthesis

Thu Jul 27 19:50:44 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/wldlg.c:

	Insert items into worklist when double clicked.  Remove items from
	worklist when double clicked.

	Taken from a patch by Rutger Nijlunsing <rutger@null.net> (I
	didn't think the rest of the changes added anything)

Thu Jul 27 19:48:28 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/gui_main.c,
	client/gui-mui/historystringclass.c,
	client/gui-mui/historystringclass.h,
	client/gui-mui/objecttreeclass.c, client/gui-mui/overviewclass.h,
	client/gui-mui/plrdlg.c, client/gui-mui/spaceshipdlg.c:

	MUI client: Use get_embassy_status() to get the embassy status(). 
	Removed some old commented gtk code in spaceshipdlg.c.

	Added historystringclass.(c|h) which implements string gadgets
	with historybuffer as an own subclass.

Thu Jul 27 18:00:39 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe.developer, amiga/_main.c, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/smakefile:

	Removed amiga/_main.c Changed the handling how the needed
	resources are opened. All should be more compiler independend now.
	amiga/ReadMe.developer updated.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Thu Jul 27 16:43:40 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, client/climisc.h, client/gui-gtk/plrdlg.c,
	client/gui-xaw/plrdlg.c:

	This patch simply expands on the player display's embassy column,
	indicating if another civ has an embassy with ours, as well as the
	other way around.

	Patch by Robert Rendell <rob@universe.serc.rmit.edu.au>

Thu Jul 27 15:07:35 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Jul 27 14:48:16 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/options.c, common/capstr.c, common/events.h,
	server/plrhand.c:

	A player is notified if their wonder is made obsolete by a tech
	advance

	patch by Robert Rendell <rob@universe.serc.rmit.edu.au>

Thu Jul 27 14:14:41 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c:

	Two-stage terrain improvements (road->railroad,
	irrigation->farmland) no longer come up with the first if the
	second is present, in textual descriptions of the terrain (such as
	middle clicking it or walking a unit over it.

	patch by Robert Rendell <rob@universe.serc.rmit.edu.au>

Thu Jul 27 13:54:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	The readline completion now correctly complete option names after
	the help command.

Thu Jul 27 13:14:48 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c:

	Retitle city dialog when renaming city.

	bug report and patch by Mika Korhonen <mikak@ees2.oulu.fi>

Thu Jul 27 12:41:37 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c, server/gotohand.h, server/unitfunc.c:

	Smarten up the airunit route selection by taking how many unit
	moves used into account (previously only game turns it took was
	used).  Rewrite find_air_first_destination() to be more clear.

	patch by Kero van Gelder <kero@ipc3799cba.dial.wxs.nl> with minor
	changes by me.

Thu Jul 27 12:40:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/check_po.pl:

	Added line number to "Unexpected at:" error message.

Thu Jul 27 12:35:46 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Thu Jul 27 12:16:08 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Thu Jul 27 12:05:16 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-xaw/ratesdlg.c:

	Mark a string for translation.

	Bug reported by Erik Sigra <freeciv@home.se>

Thu Jul 27 04:33:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/nation/silesian.ruleset:

	Silesian tech goal "The Republic" not "Republic".

Thu Jul 27 04:32:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c:

	In connect_to_server(), do not allocate aconnection buffers until
	the TCP connection is established (avoid possible spurious
	warnings about unexpected buffers).

Wed Jul 26 16:38:59 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/SDI_compiler.h, amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/diplodlg.c,
	client/gui-mui/finddlg.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gotodlg.c, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/inputdlg.c,
	client/gui-mui/inteldlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapctrl.c, client/gui-mui/messagedlg.c,
	client/gui-mui/messagewin.c, client/gui-mui/muistuff.c,
	client/gui-mui/muistuff.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/overviewclass.c, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/spaceshipdlg.c, client/gui-mui/wldlg.c,
	client/gui-mui/worklistclass.c:

	Added amiga/SDI_compiler.h file for better (Amiga) compiler
	independence Changed amiga/smakefile

	MUI Client: - renamed standart_hook to civstandard_hook - define
	and use 3 HOOKPROTO and DISPATCHERPROTO defines - some bug fixes

	Patch submitted by  Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Wed Jul 26 13:27:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h, server/civserver.c:

	Remove leading and trailing spaces in player names, and disallow
	blank names, since all these cause problems with, eg, player names
	in server commands.

	(Add functions remove_leading_spaces(),
	remove_leading_trailing_spaces(), and minor fixups to
	remove_trailing_spaces().)

Wed Jul 26 13:25:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/packhand.c, common/connection.c,
	common/connection.h, common/packets.c, server/sernet.c:

	Make buffer and send_buffer in the connection struct dynamically
	allocated.  This saves space for unused connection structs in the
	server, and for pplayer->conn structs in the client (which are not
	used for real connections).  Make more use of connection.used,
	since connection.buffer.ndata is no longer always available.  Add
	helper function close_socket_nomessage() in clinet.c to
	unduplicate some code.

Tue Jul 25 21:03:28 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c:

	Changed calls to gtk_table_new().  Seems i had exchanged the
	rowsize with the columnsize.  Strangely gtk+ didn't complain
	though.

Tue Jul 25 17:16:02 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/gui_main.c:

	MUI client: Added a simple history buffer to the chatline.

Tue Jul 25 15:44:42 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/cityrep.c, client/gui-mui/muistuff.h:

	MUI Client: Reincluded and implemented configuration button in
	city report.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>

Mon Jul 24 18:03:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/singaporean.ruleset,
	data/trident/flags.spec, data/trident/flags.xpm, po/POTFILES.in:

	Added Singaporean nation.  Patch submitted by Wong TM [Huang
	Deming] <lookmeow@magix.com.sg>.

Mon Jul 24 17:24:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityhand.c, server/maphand.c:

	Fixup formatting broken by recent commit.

Mon Jul 24 16:50:08 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/chatline.c,
	client/gui-mui/cityrep.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapview.c, client/gui-mui/messagedlg.c,
	common/packets.c, server/cityhand.c, server/civserver.c,
	server/maphand.c, server/unitfunc.c:

	Readded #include <sys/types.h> statement in packets.c because
	otherwise the file won't compile correctly on Amiga.  Fixed some
	prototype definitions.

	MUI client: Implemented set_unit_icon() and
	set_unit_icons_move_arrow() as dummy functions.  Fixed enforcer
	hit which happened when the game is not yet active and the map has
	been clicked.  Refresh button in the cityreport window works now.
	Removed the Configure Button.  Exporting the chat log is possible
	now.  When game options are changed the map view is updated. 
	Updated smakefile.

	Thanks to Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de> for
	pointing the problems out.

Mon Jul 24 14:03:45 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po to latest changes.

Mon Jul 24 13:37:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c, common/map.h, server/maphand.c:

	Removed two confusing and little used functions from map.[hc],
	isnt_terrain_near_tile() and is_water_adjacent().  In maphand.c,
	had to change global_warming() and nuclear_winter() to use a new,
	local function (is_terrain_ecologically_wet()) as a replacement
	for is_water_adjacent().  Patch submitted by IQ
	<iquin@technologist.com>, with several changes by me.

Mon Jul 24 10:04:26 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jul 24 04:34:14 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/connection.h, common/game.c, common/packets.c,
	server/civserver.c, server/sernet.c:

	Change (char *player) in connection struct (previously unused) to
	(struct player *player), and add code to keep it up-to-date as
	connections are made and lost in the server (not used in client). 
	Make use of pconn->player to simplify/improve/cleanup code in some
	places (mainly change player_no to pplayer).

Mon Jul 24 04:31:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/capstr.c,
	common/connection.c, common/connection.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	server/stdinhand.h:

	Add new module common/connection.[ch], containing
	connection-specific stuff moved out of packets.[ch].  That is,
	separates stuff about connections from stuff more about individual
	packets.  Some related re-organisation changes, including moved
	cmdlevel stuff from player module to connection module, since none
	of the player stuff uses it and it is really connection-based, not
	player-based.

Mon Jul 24 04:27:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/civserver.c,
	server/stdinhand.c:

	Add server command 'allowconnect', to control what sorts of
	connections are allowed, from among: new players; human players;
	AI players; dead players; barbarian players.

Mon Jul 24 04:25:28 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/advmilitary.h, ai/aicity.c, ai/aicity.h,
	ai/aiunit.c, ai/aiunit.h, server/cityhand.c, server/cityhand.h,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/cityturn.h, server/civserver.c, server/civserver.h,
	server/maphand.c, server/maphand.h, server/plrhand.c,
	server/plrhand.h, server/settlers.c, server/settlers.h,
	server/unitfunc.c, server/unitfunc.h, server/unittools.c,
	server/unittools.h:

	Minor cleanups to server/ai headers/functions:

	Made some functions static where possible and reasonable.

	Moved some functions to more appropriate modules:
	unit_attack_desirability() aicity -> advmilitary;
	build_points_left() unittools -> citytools; in_city_radius()
	settlers -> citytools; server_player_init() civserver -> plrhand;
	show_map_to_all() plrhand -> maphand.

	Commented out (#ifdef UNUSED) some unused functions: aicity:
	ai_in_initial_expand(); citytools: better_tile(),
	eval_buildings(); settlers.c: locally_zero_minimap().

	Removed some declarations of non-existent functions: plrhand:
	handle_player_ai_options(), researchprogress().

Sun Jul 23 17:16:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/silesian.ruleset,
	data/trident/flags.spec, data/trident/flags.xpm, po/POTFILES.in:

	Added Silesian nation.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>, committed with organizational changes by me.

Sun Jul 23 15:58:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/gamehand.c,
	server/stdinhand.c:

	Add server option for autosave name prefix.  Defaults to
	"civgame".  Patch submitted by Marko Lindqvist <caz@cc.tut.fi>.

Sun Jul 23 15:11:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Added missing prototypes to recent command completion commit. 
	(C'mon, guys, check for this!  It's easy: '-Wmissing-prototypes'.)

Sun Jul 23 14:34:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/sernet.c, server/stdinhand.c, server/stdinhand.h:

	Add readline command completion to the server.

Sun Jul 23 13:19:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c, server/unithand.c:

	Fix one, and add a couple more comments to the unit movement code.

Sat Jul 22 17:31:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Added "end" server command, which just ends the game immediately. 
	Patch submitted by Daniel Sjolie <deepone@acc.umu.se>, with minor
	fixes by me.

Sat Jul 22 15:38:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/mapclass.c:

	Fixes bug in MUI client where unit popups were not opening
	correctly.  Fixes PR#433.  Bug reported by Mark Savage
	<marksbg@crosswinds.net>.  Patch submitted by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>.

Sat Jul 22 14:20:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c:

	Adds ability to double-click on line in metaserver list to connect
	to it.  Patch submitted by Luke Reeves <luke949@sympatico.ca>,
	with minor fix by me.

Sat Jul 22 13:57:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/messagewin.c:

	Added accelerators to Messages dialog.  Patch submitted by Luke
	Reeves <luke949@sympatico.ca>.

Thu Jul 20 18:13:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.11.4 to 1.11.5-devel.

Thu Jul 20 17:36:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog:

	Final ChangeLog update for Version 1.11.4 stable release.

Thu Jul 20 17:10:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog, PEOPLE, configure, configure.in, common/version.h,
	data/Freeciv, po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po,
	po/ja.po, po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Final source update for Version 1.11.4 stable release.  Updated
	administrative files; ran msgmerge on all .po files.  Set version
	to 1.11.4.

Thu Jul 20 16:19:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/citydlg.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/inputdlg.c,
	client/gui-mui/plrdlg.c, client/gui-mui/spaceshipdlg.c:

	Update to Amiga port: - GUI-MUI: Made spaceship view somewhat
	nicer to handle.  - GUI-MUI: Added Missing close request to Change
	and Rename dialogs.  - GUI-MUI: Added spaceship view in players
	dialog.  - GUI-MUI: Added CTRL-G and CTRL-F support in gui-main.c
	- GUI-MUI: Fixed menu checkmark display problems.  Patch submitted
	by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>.

Thu Jul 20 16:15:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Keep AI from trying impossible moves to other continents.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Thu Jul 20 12:08:22 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/NEWS.ja:

	Initial NEWS.ja file.

Thu Jul 20 11:56:45 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1312t+22f+930u.

Thu Jul 20 08:47:20 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Minor update

Thu Jul 20 05:37:19 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements by Christian Knoke <ChrisK@enter.de>
	and Gerhard Killesreiter <killesreiter@physik.uni-freiburg.de>

Wed Jul 19 22:55:12 2000  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Thomas Strub

Wed Jul 19 22:54:12 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Fix bug that your science is halved even when negative. (PR#455)

	Bug report and solution by Thomas Strub <ue80@rz.uni-karlsruhe.de>

Wed Jul 19 21:41:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fix bug where the goto woud not work out of cities. (PR#456)

	Bug reported by Kero van Gelder <freeciv@kero.tmfweb.nl>

Wed Jul 19 20:47:56 2000  Thue Janus Kristensen <thue@diku.dk>:

	* vms/README.txt:

	Added a missing end comment.

	Patch by Roger Tucker <roger.tucker@wcom.com>

Wed Jul 19 20:47:02 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Update sent by Pascal Audoux

Wed Jul 19 12:41:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c:

	Marked 3 unmarked strings.  Bug reported by Christian Knoke
	<chrisk@enter.de>.

Wed Jul 19 12:07:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/sernet.c:

	With readline, when server is busy it would process one keystroke
	per turn.  This adds a "continue", so that all possible keystrokes
	are processed.

Tue Jul 18 23:33:30 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Fix bug in really_generate_warmap() where railroad was ignored for
	F_IGTER units.

Tue Jul 18 23:31:23 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated.

Tue Jul 18 11:57:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* amiga/config.h, amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/citydlg.h, client/gui-mui/cityrep.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/inputdlg.c, client/gui-mui/messagedlg.c,
	client/gui-mui/muistuff.h, client/gui-mui/wldlg.c:

	Updated the Amiga port.

	News (GUI-MUI related): - Added Message options in main menu.  -
	Added popup notify dialog.  - Added Change button support to city
	report. The Change method is now used by city report and city view
	and got independant from city-view structures.  - Fixed problem,
	where creating a new (empty) worklist and renaming it caused a
	larger Enforcer problem and loose of the entry.  - Display in city
	report is now sorted by city name.  - Applied optimizer warnings
	in files I already modified.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>.

Mon Jul 17 19:48:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.11.2 (beta) to 1.11.3-devel (beta).

Mon Jul 17 18:08:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, ChangeLog, NEWS, PEOPLE, configure, configure.in,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/ja.po, po/nl.po, po/no.po, po/pl.po,
	po/pt.po, po/pt_BR.po, po/ru.po:

	Begin beta-test period leading to version 1.11.4: - Changed
	version to 1.11.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').  - Updated BUGS NEWS PEOPLE and ChangeLog
	files.

Mon Jul 17 14:45:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* acconfig.h, config.h.in, configure, configure.in,
	server/console.c, server/console.h, server/sernet.c:

	Added readline support to civserver.  Patch submitted by Thue
	Janus Kristensen <thue@diku.dk>, committed with fixes by David
	Pfitzner <dwp@mso.anu.edu.au> and me.

Mon Jul 17 14:25:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* README, diff_ignore:

	Tweaks needed by ability to save compressed save-files.  Added
	explanation of compressed save-files to README, and added
	"civgame*.sav.gz" to the diff_ignore file.

Mon Jul 17 14:10:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c, common/map.h:

	Changed DIR_DX/Y arrays to be global.  Suggested by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>, implemented by me.

Sun Jul 16 22:49:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/inputdlg.c, client/gui-mui/inputdlg.h:

	Added new files for Amiga port update.

Sun Jul 16 22:47:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* amiga/ReadMe.developer, amiga/_main.c, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/smakefile, client/gui-mui/chatline.h,
	client/gui-mui/citydlg.c, client/gui-mui/citydlg.h,
	client/gui-mui/cityrep.c, client/gui-mui/cityrep.h,
	client/gui-mui/colors.h, client/gui-mui/dialogs.c,
	client/gui-mui/dialogs.h, client/gui-mui/diplodlg.h,
	client/gui-mui/graphics.h, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/mapctrl.c, client/gui-mui/mapview.c,
	client/gui-mui/mapview.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/optiondlg.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/spaceshipdlg.c, client/gui-mui/spaceshipdlg.h,
	client/gui-mui/worklistclass.c:

	Amiga port update.

	General improvements: a) Made files more independant from
	Sebastians system (e.g. removing C++ comments, added second Amiga
	TCP-SDK support).  b) Adding some missing GUI-MUI features.

	Changes in detail: - Fixed Enforcer hit, when tiles.ilbm did not
	exist (mapclass.c) - Fixed typo error in mapclass.c.  - Removed
	unused variables in gui-mui modules - Adapted amiga source to
	compile with MIAMI_SDK and on my machine as well.  - Changed the
	smakefile a lot to allow better machine independant making.  Well
	that patch is that big only because of the smakefile.  - Fixed
	unnuke stuff, which was partially implemented only by non-Amiga
	authors :-).  - Fixed and appended to amiga/ReadMe.developer -
	Selecting buy in city view, closing city view and clicking on buy
	caused Enforcer hit and the action was not done. The buy confirm
	function gets pcity instead of pdialog now (which may have been
	obsolete in between).  - Added "Buy" button in city report.  -
	Removed C++ comments (better support for different compilers).  -
	Added "Rename" button to city view. Created inputdlg.c and
	inputdlg.h and changed newcity request to use this instead (like
	in GTK client).

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>.

Sun Jul 16 12:34:45 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1276t+21f+967u+2o.

Sat Jul 15 15:34:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/gamehand.c,
	server/stdinhand.c:

	Add support for dispersing initial units over a configurable area.
	Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>,
	committed with several fixes by me.

Sat Jul 15 13:39:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c:

	Moved initial server-script load to a more logical place.

Sat Jul 15 13:25:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c, server/sernet.c, server/stdinhand.c,
	server/stdinhand.h:

	Added new 'first' argument to cmdlevel server command.  The first
	player to connect gets the 'first' cmdlevel; the remaining players
	get the default (specified by the 'new' cmdlevel argument)
	cmdlevel.  Patch submitted by Reinier Post <reinpost@win.tue.nl>.

Sat Jul 15 02:59:05 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/stdinhand.c:

	Add GAME_*_COMPRESS_LEVEL defines (should have been in zlib
	patch).

Sat Jul 15 01:53:10 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/diplodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c:

	Added calls to gtk_pixmap_build_insensitive() so that pixmaps can
	be shown properly on Win32.

	Patch by Andreas Kemnade <akemnade@t-online.de>.

Fri Jul 14 03:59:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Fix bug that AI players created using server 'create' command (not
	aifill players) did not have their skill level parameters
	initialized correctly, and were thus effectively skill level
	'hard' regardless of reported skill level (unless something else
	adjusted/set the skill level later, including game reload etc). 
	Sigh.

Fri Jul 14 03:51:05 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/Makefile.am,
	common/Makefile.in, common/game.c, common/game.h,
	common/inputfile.c, common/ioz.c, common/ioz.h, common/registry.c,
	common/registry.h, server/civserver.c, server/rulesout.c,
	server/stdinhand.c:

	Add zlib support, for transparent compression and uncompression of
	savegames (gzip format).  Compression is used by default if
	configure finds the requirements and not 'configure
	--without-zlib'.  New server option "compress" to control
	compression level, and to allow saving uncompressed ('set compress
	0').  New module common/ioz.c for IO-layer supporting compression.

	Originally based on an old patch submitted Oct 1998 by Markus
	Linnala <maage@cs.tut.fi>, but now substantially re-worked by me.

Thu Jul 13 16:05:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/italian.ruleset:

	Fix Italian leader and city spelling errors.  Info supplied by
	Gianni Ciolli <ciolli@math.unifi.it>.

Thu Jul 13 13:57:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/chinese.ruleset:

	Added a few new Chinese leaders.  Patch submitted by Wong TM
	[Huang Deming] <lookmeow@magix.com.sg>.

Wed Jul 12 19:16:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE, data/engels/tiles.xpm:

	Made the fog in the Engels tileset darker, hence easier to see. 
	Patch submitted by Jussi Asp <ja66598@uta.fi>.

Tue Jul 11 14:21:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c:

	Adjust line-breaking in CAPABILITY #define to be acceptable to
	Solaris cc.

Tue Jul 11 13:48:11 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated all patches included

Tue Jul 11 11:15:30 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, common/map.c, common/map.h, server/gotohand.c:

	Remove functions map_calc_adjacent_xy() and
	map_calc_adjacent_xy_void() Create global arrays DIR_DX[8] and
	DIR_DY[8] to replace the ii[] and jj[] arrays cut-pasted all over
	the code.

	Patch by me and I.Q. <iquin@techie.com>

Mon Jul 10 22:26:03 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c:

	Changed gtk_scale_pixmap() to be more portable (unfortunately it
	should be slightly slower this way).  Hopefully that will make it
	work like it should on Win32.

Mon Jul 10 07:08:58 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in:

	When checking argument to 'configure --enable-client', test for
	client/gui-$client in $srcdir (was previously build dir in
	effect).

Mon Jul 10 06:31:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, client/control.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapview.c, client/gui-stub/gui_main.c,
	client/gui-stub/mapview.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, client/include/gui_main_g.h,
	client/include/mapview_g.h:

	Make update_unit_pix_label() gui-independent, using two new
	gui-dependent functions set_unit_icon() and
	set_unit_icons_more_arrow().

Mon Jul 10 04:42:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/map.h,
	common/packets.c, common/unit.c, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/classic/terrain.ruleset,
	data/default/terrain.ruleset, server/ruleset.c:

	Adds the requirement of a minimum number of ocean tiles adjacent
	to a land tile wished to be changed to ocean.  Controlled by
	terrain.ruleset.

Mon Jul 10 04:08:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Change GTK+ and Xaw clients to draw nuke explosion respecting
	transparency.

Mon Jul 10 03:30:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c,
	data/Freeciv:

	Add right-button action to supported and present units lists in
	City dialog to select the unit without closing the dialog.  GTK+
	and Xaw.

Mon Jul 10 01:47:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/climisc.h, client/control.c,
	client/control.h, client/options.c, client/packhand.c,
	client/tilespec.c, client/tilespec.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapview.c,
	client/gui-stub/mapview.c, client/gui-xaw/actions.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h,
	client/include/mapview_g.h, common/capstr.c, common/city.c,
	common/city.h, common/events.h, common/game.c, common/game.h,
	common/map.c, common/map.h, common/packets.c, common/packets.h,
	common/terrain.h, common/unit.c, common/unit.h, data/Freeciv,
	data/civ1/game.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/game.ruleset,
	data/civ2/terrain.ruleset, data/civ2/units.ruleset,
	data/classic/terrain.ruleset, data/default/buildings.ruleset,
	data/default/game.ruleset, data/default/terrain.ruleset,
	data/default/units.ruleset, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/misc/small.spec, data/misc/small.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm,
	server/citytools.c, server/citytools.h, server/civserver.c,
	server/gamehand.c, server/maphand.c, server/maphand.h,
	server/ruleset.c, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c:

	Added Nuclear Fallout.  Controlled by game.ruleset value
	nuke_contamination.

	Industrialization and population still generate Pollution. 
	Dropping a Nuke generates Nuclear Fallout, which is distinct from
	Pollution.  There is a new command to clean Fallout vs. cleaning
	Pollution.

	Similar to Pollution contributing to Global Warming, Fallout
	contributes to Nuclear Winter -- which also changes terrain, but
	tends to Desert, Tundra and Glacier.  Added a new "cooling" icon
	to the info area to indicate the progress towards Nuclear Winter,
	and also icons for Fallout and Cleaning Fallout for the main map.

	GTK+ and Xaw clients work; made some changes to MUI client, but
	they are probably incomplete and are untested.

	Finally, AIs are more aggressive at cleaning up Pollution, but not
	Fallout.

Mon Jul 10 01:26:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/control.c:

	Fixed bug in "diplomat_investigate_fix" patch where a new client
	connecting to an old server would not work.

Sun Jul  9 20:51:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.am, Makefile.in, configure, configure.in,
	server/sernet.c, vms/.cvsignore, vms/Makefile.am, vms/Makefile.in,
	vms/README.txt, vms/vms_build.com:

	Added support for port to OpenVMS.  Patch submitted by Roger
	Tucker <roger.tucker@wcom.com>, with infrastructure added by me.

Sun Jul  9 20:47:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* vms:

	Directory /home/freeciv/CVS/freeciv/vms added to the repository

Sun Jul  9 20:35:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* README.rulesets, client/civclient.c, client/control.c,
	client/packhand.c, client/packhand.h, common/capstr.c,
	common/city.c, common/city.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/unit.c, data/civ1.serv,
	data/civ2.serv, data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/game.ruleset, data/civ2/Makefile.am,
	data/civ2/Makefile.in, data/civ2/game.ruleset,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/game.ruleset, server/gamehand.c, server/ruleset.c,
	server/settlers.c, server/stdinhand.c, server/unithand.c:

	Moved most of the dependencies on the civstyle server option to
	separate values in various game.ruleset files.  Patch submitted by
	Marko Lindqvist <caz@assari.cc.tut.fi>, committed with a few,
	minor changes.

Sun Jul  9 19:29:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Minor fix to PEOPLE file.

Sun Jul  9 19:28:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed an abort() to a conceptual "ignore".  (I couldn't
	reproduce the bug, but I see no reason to not apply this simple
	change.) May address PR#441.  Bug reported by Urban Mueller
	<mueller@relog.ch>.  Patch submitted by Marko Lindqvist
	<caz@assari.cc.tut.fi>.

Sun Jul  9 16:51:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/danish.ruleset:

	Fixed and added Danish rulers and cities.  Patch submitted by
	Martin Willemoes Hansen <mwh@stampede.org>.

Sat Jul  8 15:49:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Added a new library for BeOS in configure.in etc.  Fixes PR#439. 
	Patch submitted by Joseph Beckenbach <jrb3@bdhsw.com>.

Sat Jul  8 02:03:14 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Jul  7 01:45:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/misc_cities.ruleset, data/nation/olympic.ruleset:

	Changed two "St"s to "St."s in nations rulesets.

Fri Jul  7 01:38:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/scottish.ruleset:

	Fixes and additions to Scottish nation.  Patch submitted by Martin
	McMahon <martin.mcmahon@ukonline.co.uk>, committed with some
	fixes.

Thu Jul  6 15:47:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/city.c,
	common/city.h, common/packets.c, common/packets.h,
	server/cityhand.c, server/cityturn.c, server/cityturn.h,
	server/civserver.c, server/plrhand.c, server/plrhand.h:

	Fixes bug in display of turns to build.  Also allows players to
	switch back to original improvement class, in the same turn as
	they switched to a different class, without incurring a penalty. 
	Fixes PR#430.  Partial bug fixes submitted by Gaute Strokkenes
	<gs234@cam.ac.uk> and Robert Rendell
	<rob@universe.serc.rmit.edu.au>.  Final fix and penalty-recovery
	by me.

Thu Jul  6 15:20:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-mui/citydlg.c, client/gui-xaw/citydlg.c,
	common/capstr.c, common/city.h, common/packets.c,
	common/packets.h, server/cityhand.c, server/cityhand.h,
	server/unitfunc.c, server/unithand.c, server/unithand.h:

	Fixed bug whereby Diplomat/Spy investigations of cities did not
	reveal the correct supported and present unit lists.  Fixes
	PR#422.  Bug reported by Marko Lindqvist <caz@assari.cc.tut.fi>.

Thu Jul  6 14:39:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Minor fixes to PEOPLE file.

Thu Jul  6 14:30:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gotohand.c:

	Fixed bug whereby an Air unit in Goto would sometimes stop in an
	intermediate city, even if the destination was within range and
	closer than the intermediate city.  Fixes PR#435.  Patch submitted
	by Kero van Gelder <kero@dds.nl>.

Thu Jul  6 14:23:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Fixed bug whereby starting a revolution, saving the game and
	restarting the server would allow switching governments without
	anarchy.  Bug reported by Michael Kiermaier
	<michael.kiermaier@gmx.net>.  Patch submitted by Marko Lindqvist
	<caz@assari.cc.tut.fi>.

Thu Jul  6 13:28:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/misc_cities.ruleset, data/nation/swedish.ruleset:

	Moved Jokkmokk from Iceland in misc_cities to Sweden.  Information
	supplied by Erik Sigra <sigra@home.se>.

Wed Jul  5 00:53:51 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/Backend.cpp, client/gui-beos/Defs.hpp,
	client/gui-beos/InputView.cpp, client/gui-beos/InputView.hpp,
	client/gui-beos/MainWindow.cpp, client/gui-beos/Makefile:

	Functionality increment:  input line.  Also fix list of libraries,
	so 'make pkg' can package a working application.

Tue Jul  4 23:29:41 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/App.cpp, client/gui-beos/App.hpp,
	client/gui-beos/Backend.cpp, client/gui-beos/Backend.hpp,
	client/gui-beos/Defs.cpp, client/gui-beos/Defs.hpp,
	client/gui-beos/FreeCiv.rsrc, client/gui-beos/Freeciv.rsrc,
	client/gui-beos/InputView.cpp, client/gui-beos/InputView.hpp,
	client/gui-beos/MainWindow.cpp, client/gui-beos/MainWindow.hpp,
	client/gui-beos/Makefile, client/gui-beos/MapCanvas.cpp,
	client/gui-beos/MapCanvas.hpp, client/gui-beos/OutputView.cpp,
	client/gui-beos/OutputView.hpp, client/gui-beos/README.BeOS,
	client/gui-beos/README.design, client/gui-beos/README.todo,
	client/gui-beos/RadarView.cpp, client/gui-beos/RadarView.hpp,
	client/gui-beos/StatusView.cpp, client/gui-beos/StatusView.hpp,
	client/gui-beos/SummaryView.cpp, client/gui-beos/SummaryView.hpp,
	client/gui-beos/UnitInfoView.cpp,
	client/gui-beos/UnitInfoView.hpp,
	client/gui-beos/UnitsBelowView.cpp,
	client/gui-beos/UnitsBelowView.hpp, client/gui-beos/chatline.cpp,
	client/gui-beos/citydlg.cpp, client/gui-beos/cityrep.cpp,
	client/gui-beos/civ, client/gui-beos/colors.cpp,
	client/gui-beos/connectdlg.cpp, client/gui-beos/connectdlg.h,
	client/gui-beos/connectdlg.hpp, client/gui-beos/dialogs.cpp,
	client/gui-beos/diplodlg.cpp, client/gui-beos/finddlg.cpp,
	client/gui-beos/gotodlg.cpp, client/gui-beos/gui_main.c,
	client/gui-beos/helpdlg.cpp, client/gui-beos/inteldlg.cpp,
	client/gui-beos/mapctrl.cpp, client/gui-beos/mapview.cpp,
	client/gui-beos/menu.cpp, client/gui-beos/messagedlg.cpp,
	client/gui-beos/messagewin.cpp, client/gui-beos/optiondlg.cpp,
	client/gui-beos/plrdlg.cpp, client/gui-beos/ratesdlg.cpp,
	client/gui-beos/repodlgs.cpp, client/gui-beos/spaceshipdlg.cpp,
	client/gui-beos/wldlg.cpp:

	Added an increment of functionality:  the connect dialog.  (No
	connecting yet.) Also expanded on developer documentation, to
	reveal directions to pursue.  Prepare for pervasive
	multi-threading, and for lots of implementation.

Tue Jul  4 23:12:38 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/Makefile,
	client/gui-beos/lib/BdhDialog/BdhDialog-data.cpp,
	client/gui-beos/lib/BdhDialog/BdhDialog.cpp,
	client/gui-beos/lib/BdhDialog/BdhDialog.h,
	client/gui-beos/lib/BdhDialog/BdhDialog.txt,
	client/gui-beos/lib/BdhDialog/BdhEntryDialog.cpp,
	client/gui-beos/lib/BdhDialog/BdhEntryDialog.h,
	client/gui-beos/lib/BdhDialog/BdhLibDialog.h,
	client/gui-beos/lib/BdhDialog/makefile:

	Add library to make it much easier to create dialogs.

Tue Jul  4 23:02:07 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/BdhDialog:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib/BdhDialog
	added to the repository

Tue Jul  4 12:18:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Do not show "turns to complete" for Capitalization when showing
	city production on main map.

Tue Jul  4 12:17:00 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/repodlgs.c:

	Fix bug that Gtk+ client misnumbered future techs in science
	dialog (eg was "Future Tech. 90" instead of "Future Tech. 1").

Mon Jul  3 20:28:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Update to PEOPLE file.  Info provided by Olivier Beyssac
	<ob@r14.freenix.org>.

Mon Jul  3 20:22:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/german.ruleset:

	Added three new German leaders.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>, with a correction by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Mon Jul  3 10:35:15 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Jul  2 16:28:06 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/unithand.c:

	In handle_unit_enter_hut() a unit entering a hut might be killed
	in doing so if it contained barbarians, causing a later
	notify_player_ex() to crash because it attempted to use the unit
	location (after it had been killed).  The game crashed everytime
	with huts and aifill 15.

	Patch submitted by Karl-Ingo Friese
	<kif@informatik.uni-hannover.de>

Sun Jul  2 14:12:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/governments.ruleset, data/civ2/governments.ruleset,
	data/default/governments.ruleset, server/cityturn.c:

	Fixed help text about unhappiness generated by Air and Sea units. 
	Also, fixed bug whereby Air units were getting the unhappiness
	bonus of being inside a fortress.  Help text bugs reported by
	Tomasz Wegrzanowski <maniek@beer.com> and Marko Lindqvist
	<caz@assari.cc.tut.fi>.

Sun Jul  2 13:45:32 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/game.h:

	Added extra parentesis to a #define to remove a VC++ 6.0 compiler
	error.

Sun Jul  2 13:43:26 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/hash.c:

	Changed the type of some variables to unsigned to silence VC++ 6.0
	compiler warnings.

Sun Jul  2 08:47:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fix bug that transfering a city would not create first contact.

	Fixes PR#429, reported by Gaute Strokkenes <gs234@cam.ac.uk>

Sat Jul  1 19:16:20 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c:

	Remove a bug in port_is_within() that meant the AI could only
	build one navel attack unit at a time before the port facility
	became available.

Sat Jul  1 18:41:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Fix bug that you could paradrop into cities you were at war with
	even if they contained enemy units.

	Bug reported by Jan Felix Heidefuß <Jan_Heidefuss@yahoo.de>

Sat Jul  1 15:10:06 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/en_GB.po:

	en_GB_po updates: honor -> honour; more cases of railroad ->
	railway and center -> centre.

Fri Jun 30 15:10:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/estonian.ruleset:

	Added leaders and adjusted cities in Estonian nation.  Patch
	submitted by Aivo Kalu <aivo.kalu@mfa.ee>.

Fri Jun 30 15:02:20 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Replace an && with an ||, which would sometimes make ships on goto
	ignore enemy units and cities, causing handle_unit_move_request to
	abort the goto.

	Bug reported by dizzyfish.

Fri Jun 30 14:40:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/settlers.c:

	There is a problem with autosettlers in a city with a boat; since
	the human and AI code is shared, it tries to arrange a transport
	for the settler and strange things happen, like moving the
	transport or the autosettlers stalling!  This is a very simple
	patch to stop that, by simply nulling the ferryboat.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Thu Jun 29 23:39:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.11.0 to 1.11.1-devel.

Thu Jun 29 22:47:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Final source update for Version 1.11.0 release.  Set version to
	1.11.0.

Thu Jun 29 16:19:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Update NEWS file for 1.11.0 release.

Thu Jun 29 11:17:15 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1197t+20f+1024u.

Wed Jun 28 20:23:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.10.6 (beta) to 1.10.7-devel (beta).

Wed Jun 28 18:13:30 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 28 15:22:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Third and final (hopefully) beta release (1.10.6) leading to
	version 1.11.0.

Wed Jun 28 14:25:29 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jun 28 13:50:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/mapview.c:

	Reverted a couple of recent non-bugfix changes: - Titlebar-less
	Select Government dialog.  Why should this dialog be inconsistent?
	- Parentheses around city productions on main map.  These extra
	pixels just add clutter to an already cluttered map for no reason.

Wed Jun 28 13:11:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c:

	Fixed bug whereby info column in Gtk+ client's Change Production
	dialog was not being translated.  The problem was that, when the
	Change Production dialog was improved, the author mistakenly used
	N_(), rather than _().  Bug reported by Egbert Hinzen
	<garfy@ehinzen.de>.

Wed Jun 28 13:00:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Removed redundant help text for Aqueducts and Sewer Systems. 
	(Temporary until generalized improvements is implemented.) Fixes
	PR#423.  Bug reported by Pieter J. Kersten <kersten@dia.eur.nl>.

Wed Jun 28 12:37:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS:

	Added Dipl/Spy investigates city and doesn't see units bug to BUGS
	file.

Wed Jun 28 07:27:15 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated to last changes, including missed strings in
	../client/dialog.c.

Wed Jun 28 05:40:46 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated Hint included about the Solaris notes in the
	english INSTALL

Wed Jun 28 05:11:24 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Jun 27 22:20:25 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	I guess the titlebar should be removed from the government dialog
	instead.

Tue Jun 27 22:10:51 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Patch to remove the titlebar from the popup message dialog.

Tue Jun 27 21:14:12 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* BUGS:

	Removed fixed bug in the gtk+ client from the BUGS file.

Tue Jun 27 21:12:25 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c:

	Added parentesis around city production; Fixed overview canvas not
	refreshing properly (see also previous change to gui_main.c). 
	Added initialization with black of the overview & normap map
	canvas store.

Tue Jun 27 21:09:42 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Fixed gtk+ client closing "undocked" windows causing crashes bug.

Tue Jun 27 21:02:51 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Tue Jun 27 20:02:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, common/capstr.c, common/packets.c,
	server/gotohand.c:

	Changed capability string to simply "+1.11".  Removed all
	correspondingly obsoleted has_capability() calls.

Tue Jun 27 19:12:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog, PEOPLE:

	Further updates to PEOPLE and ChangeLog for 1.11 release.

Tue Jun 27 16:38:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Fixed bug in INSTALL file.  Fix submitted by Reinier Post
	<reinpost@win.tue.nl>.

Tue Jun 27 15:31:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated email addresses in PEOPLE file.

Tue Jun 27 15:20:28 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Jun 27 14:47:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Added section on Solaris build to INSTALL file.  Info from FAQ by
	Reinier Post <rp@win.tue.nl>.

Tue Jun 27 13:20:27 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.h, server/citytools.c, server/diplhand.c,
	server/maphand.c, server/maphand.h:

	When builing a city, do not reveal unknown squares inside the city
	radius.  Also, When transfering a city from another player only
	reveal those squares that are known to the player we get the city
	from.

	(later I would like to make it an option to reveal the squares
	when creating the city, as it is at least required for civ:ctp
	mode)

	Fixes PR#416 reported by Jeff Mallatt <jjm@codewell.com> Fix by me
	and Jeff Mallatt <jjm@codewell.com>

Tue Jun 27 12:58:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Updated French (fr) translation.  Patch submitted by Olivier
	Beyssac <ob@r14.freenix.org>.

Tue Jun 27 12:48:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c:

	I18n'd two missed strings.  Patch submitted by Pieter J. Kersten
	<kersten@dia.eur.nl>.

Tue Jun 27 12:11:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/ruleset.c:

	Fixed grammar error.  Patch submitted by Dan Gohman
	<gohmandj@mrs.umn.edu>.

Tue Jun 27 00:56:11 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1187t+18f992u+2o.

Tue Jun 27 00:07:19 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	In handle_unit_enter_city(), send player info after calling
	get_a_tech() to update the client.

	Bug reported by I.Q.<iquin@techie.com>

Mon Jun 26 19:29:57 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jun 26 18:37:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Added a Reinier's libXpm Solaris Installation Notes section to the
	INSTALL file.  Info supplied by, you guessed it, Reinier Post
	<reinpost@win.tue.nl>.

Mon Jun 26 14:55:21 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated translations of "rulesout" included improvements by
	Christian Knoke <ChrisK@enter.de>

Mon Jun 26 13:16:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Patch to draw city names/productions on expose events.  GTK+ patch
	submitted by Kero van Gelder <kero@ipc3792237.dial.wxs.nl>.  Xaw
	implementation by me.

Mon Jun 26 12:35:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset:

	Sea units in Civ2 are not field units.  Fixed to conform.  Also,
	changed Civ1 ruleset.  Bug reported by Mike Webb
	<mjw@codewell.com>.

Mon Jun 26 12:21:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/Makefile.am, common/Makefile.in, common/netintf.c,
	common/netintf.h, common/packets.c, common/support.c,
	common/support.h, server/sernet.c:

	Fixes bug whereby new FD_ZERO code would not compile cleanly on
	some platforms.  Adds a new module, ./common/netintf.[hc], to hold
	support for incompatible network interfaces.

Mon Jun 26 12:06:56 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/boer.ruleset, data/nation/misc_cities.ruleset:

	Fixes to Boer nation.  Patch submitted by Gerhard Killesreiter
	<killesreiter@physik.uni-freiburg.de>, with some fixes.

Mon Jun 26 03:29:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Sun Jun 25 22:00:08 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 25 13:16:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, client/options.h, client/packhand.c:

	Added local client option to auto-center on all combats involving
	the player.  Defaults to prior behavior of not auto-centering on
	combat.  Suggested (strongly :) by my Anonymous Freeciv Friends.

Sat Jun 24 23:12:31 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1161t+17f+1019u+2o.

Sat Jun 24 18:31:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Fixed minor inconsistency between two messages.  Bug reported by
	Tomasz Wegrzanowski <maniek@beer.com>.

Sat Jun 24 18:26:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Sat Jun 24 13:42:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c:

	Fix server abort when changing FoW setting on a loaded savegame
	before the server is started.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Sat Jun 24 07:34:17 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sat Jun 24 05:03:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/POTFILES.in, server/Makefile.am, server/Makefile.in,
	server/rulesout.c, server/rulesout.h, server/stdinhand.c:

	Add 'rulesout' server command (and new rulesout module), to write
	selected ruleset information to file.  Currently writes 'techs'
	data to support external utility 'techtree'.

Fri Jun 23 19:21:50 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Fix bug with goto not working when targeting cities with freights.
	Now the goto will accept any city or unit at the destination.

	fixes PR#402 reported by Gerhard
	Killesreiter<killesreiter@physik.uni-freiburg.de>

Fri Jun 23 18:27:01 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Jun 23 17:17:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-gtk/gui_main.c,
	client/gui-mui/gui_main.c, client/gui-stub/gui_main.c,
	client/gui-xaw/gui_main.c, client/include/gui_main_g.h:

	Fixed bug whereby new-turn bell was sounding at odd times.  Fixes
	PR#310.  Bug reported by Mark Hayden <hayden@ispchannel.com>.

Fri Jun 23 17:06:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c:

	Added check in server to make sure that if client requests a
	specific infrastructure to pillage, we are in Civ2 mode.  Patch
	submitted by Marko Lindqvist <caz@assari.cc.tut.fi>, committed
	with some surgery.

Fri Jun 23 16:57:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Added a hack to ./configure to modify ./po/Makefile to always call
	msgmerge with "-w 0".  Otherwise, multi-byte encodings could get
	broken.  Bug reported by Sawada Katsuya
	<amanatto@mail2.dddd.ne.jp>.

Fri Jun 23 16:39:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-xaw/connectdlg.c,
	data/Freeciv, server/civserver.c:

	Fixed i18n problems with client metaserver lists.  - The Xaw
	client hadn't marked all its strings.  - Provided for translating
	the "Status" strings.  Status string bug reported by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Jun 23 16:05:55 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	When a unit is on goto find_the_shortest_path() will mark all
	routes on the warmap. find_a_direction() will then choose the path
	one move at a time, judging by various factors like the defense
	bonus, railroad(RR) etc.  The means that if a unit is going to a
	square without RRs, and the unit can choose between going directly
	or via yet another square with RRs, it will choose the RR square.
	This looks very stupid in practice, as you can see with jjm's
	movement throttle on.  This makes it go directly if possible.

Fri Jun 23 15:46:23 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c, server/maphand.h, server/unitfunc.c:

	When moving a unit, Make sure the tiles discovered as a result of
	the move is sent to the client before the unit movement is sent,
	so people have a chance of seeing the new tiles before the client
	moves the screen by advancing the unit focus.

Fri Jun 23 15:37:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/clinet.c:

	Made create_server_list() more robust in the face of long strings.

Fri Jun 23 14:11:50 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements by Christian Knoke <ChrisK@enter.de>.

Fri Jun 23 12:51:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/nl.po:

	Updated Dutch (nl) translation.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>.

Fri Jun 23 02:22:37 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c:

	Fix erroneous assert for result==0 in m_pre_description().

Thu Jun 22 17:39:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE, common/map.c, common/map.h, server/unitfunc.c:

	Removed redundant function tile_move_cost().  Fixes PR#404.  Patch
	submitted by IQ <iquin@technologist.com>, committed with changes
	to comment and prototype.

Thu Jun 22 15:17:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Update to PEOPLE for 1.11 release.

Thu Jun 22 14:58:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/nl.po:

	Updated Dutch (nl) translation.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>, committed with one bugfix and one
	bug left in (use ./check_po.pl nl.po).

Thu Jun 22 14:39:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE, po/pl.po:

	Updated Polish (pl) translation.

Thu Jun 22 13:38:31 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements submitted by Christian Knoke
	<ChrisK@enter.de>.

Thu Jun 22 13:23:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS:

	Added serious bug in Gtk+ client about closing undocked windows.

Thu Jun 22 13:09:46 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset:

	Fix civ1 buildings.ruleset so it loads: City Walls
	"Unit_No_Lose_Pop" line was missing an item.

Thu Jun 22 13:06:04 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 21 22:50:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c:

	Added close_socket_callback() function to close the socket to the
	server in case of an exception condition on a write to the server.

Wed Jun 21 22:48:39 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c, common/support.c, common/support.h:

	Moved nonblocking socket's initialization function from 'sernet.c'
	to 'support.c'.

Wed Jun 21 22:12:12 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	Wrapped FD_SET() of descriptor 0 with an #ifndef
	SOCKET_ZERO_ISNT_STDIN.

Wed Jun 21 21:27:07 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* BUGS:

	Updated the BUGS file to mention that clicking in the main window
	on the gtk+ client now gives it focus.

Wed Jun 21 20:54:51 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1098t+23f+1076u+12o.  Use msgmerge with -w 0
	option.

Wed Jun 21 20:46:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Put a unit on idle after a failed goto.

	Bug reported by Gerhard
	Killesreiter<killesreiter@physik.uni-freiburg.de>

Wed Jun 21 20:36:07 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 21 20:04:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Added two more files missing from POTFILES.in.

Wed Jun 21 18:13:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.10.4 (beta) to 1.10.5-devel (beta).

Wed Jun 21 17:20:38 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/Makefile, client/gui-beos/lib/README,
	client/gui-beos/lib/Bdh/BdhApp.cpp,
	client/gui-beos/lib/Bdh/BdhApp.h,
	client/gui-beos/lib/Bdh/BdhBitmap.cpp,
	client/gui-beos/lib/Bdh/BdhBitmap.h,
	client/gui-beos/lib/Bdh/BdhBuild.h,
	client/gui-beos/lib/Bdh/BdhLib.h,
	client/gui-beos/lib/Bdh/BdhView.cpp,
	client/gui-beos/lib/Bdh/BdhView.h,
	client/gui-beos/lib/Bdh/BdhViewList.cpp,
	client/gui-beos/lib/Bdh/BdhViewList.h,
	client/gui-beos/lib/Bdh/BdhWindow.cpp,
	client/gui-beos/lib/Bdh/BdhWindow.h,
	client/gui-beos/lib/Bdh/TPreferences.cpp,
	client/gui-beos/lib/Bdh/TPreferences.h,
	client/gui-beos/lib/Bdh/makefile,
	client/gui-beos/lib/BdhGame/SquareView.cpp,
	client/gui-beos/lib/BdhGame/SquareView.h,
	client/gui-beos/lib/BdhGame/TextGridView.cpp,
	client/gui-beos/lib/BdhGame/TextGridView.h,
	client/gui-beos/lib/BdhGame/makefile:

	Placeholder GUI for BeOS client.  Backend communications thread,
	with placeholder for later implementation.  Emplace initial
	supporting libraries;  update packager to provide them.  Update
	(what passes for) documentation so that others can review and
	kibitz.

Wed Jun 21 17:11:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Second beta release (1.10.4) leading to version 1.11.0: - Changed
	version to 1.10.4 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Wed Jun 21 16:32:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c:

	Fixed very bad bug in my recent unit-select patch whereby
	selecting a unit would cause all clients to select that unit, not
	just the client of the unit's owner.

Wed Jun 21 16:03:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog:

	Updated ChangeLog for Version 1.11.0 release.

Wed Jun 21 15:56:53 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Update the comment for handle_unit_move_consequences()

Wed Jun 21 15:07:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	When change ocean to land, and new land blocks river estuary, add
	river to new land.  Patch submitted by Cameron Morland
	<cjmorlan@uwaterloo.ca>.

Wed Jun 21 14:27:14 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/packhand.c, client/gui-gtk/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c:

	Fix bug that disbanding a unit via city dialog did not update the
	unit pixmaps on the left-hand side.  Bug (PR#396) reported by
	Stepan Roh <sroh7497@ss1000.ms.mff.cuni.cz>.  Also fix bug that hp
	bar of active unit on left-hand side was not always updated
	correctly.  Make left-hand "other/below" unit icons clickable (to
	select) in Xaw client (already the case in Gtk+ client).  Change a
	game_remove_unit() to client_remove_unit() in packhand.c.  (Leave
	more extensive changes for later.)

Wed Jun 21 14:26:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Removed a check_po.pl warning from de.po.

Wed Jun 21 14:10:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Wed Jun 21 13:46:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Further updates to PEOPLE for Version 1.11.0 release.

Wed Jun 21 13:44:13 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 21 06:38:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated PEOPLE for Version 1.11.0 release.

Wed Jun 21 01:19:27 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/Bdh:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib/Bdh added
	to the repository

Wed Jun 21 01:19:27 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/BdhGame:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib/BdhGame
	added to the repository

Wed Jun 21 01:18:19 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib added to
	the repository

Tue Jun 20 17:12:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Updated NEWS for Version 1.10.0 release.

Tue Jun 20 13:39:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, README:

	Updated BUGS and README for 1.11 release.

Tue Jun 20 12:34:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	I18n'd a missed string.  Bug reported by Gerhard Killesreiter
	<killesreiter@physik.uni-freiburg.de>.

Mon Jun 19 23:28:16 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/.cvsignore, client/gui-beos/About.hpp,
	client/gui-beos/App.cpp, client/gui-beos/App.hpp,
	client/gui-beos/Defs.hpp, client/gui-beos/FreeCiv.rsrc,
	client/gui-beos/Makefile, client/gui-beos/Makefile.am,
	client/gui-beos/Makefile.in, client/gui-beos/README.BeOS,
	client/gui-beos/chatline.cpp, client/gui-beos/chatline.h,
	client/gui-beos/citydlg.cpp, client/gui-beos/citydlg.h,
	client/gui-beos/cityrep.cpp, client/gui-beos/cityrep.h,
	client/gui-beos/civ, client/gui-beos/colors.cpp,
	client/gui-beos/colors.hpp, client/gui-beos/connectdlg.cpp,
	client/gui-beos/connectdlg.h, client/gui-beos/dialogs.cpp,
	client/gui-beos/dialogs.h, client/gui-beos/diplodlg.cpp,
	client/gui-beos/diplodlg.h, client/gui-beos/finddlg.cpp,
	client/gui-beos/finddlg.hpp, client/gui-beos/gotodlg.cpp,
	client/gui-beos/gotodlg.h, client/gui-beos/graphics.cpp,
	client/gui-beos/graphics.hpp, client/gui-beos/gui_main.c,
	client/gui-beos/gui_main.h, client/gui-beos/helpdlg.cpp,
	client/gui-beos/helpdlg.hpp, client/gui-beos/inteldlg.cpp,
	client/gui-beos/mapctrl.cpp, client/gui-beos/mapctrl.h,
	client/gui-beos/mapview.cpp, client/gui-beos/mapview.h,
	client/gui-beos/menu.cpp, client/gui-beos/menu.hpp,
	client/gui-beos/messagedlg.cpp, client/gui-beos/messagedlg.hpp,
	client/gui-beos/messagewin.cpp, client/gui-beos/messagewin.h,
	client/gui-beos/optiondlg.cpp, client/gui-beos/optiondlg.hpp,
	client/gui-beos/plrdlg.cpp, client/gui-beos/plrdlg.h,
	client/gui-beos/ratesdlg.cpp, client/gui-beos/ratesdlg.hpp,
	client/gui-beos/repodlgs.cpp, client/gui-beos/repodlgs.h,
	client/gui-beos/spaceshipdlg.cpp, client/gui-beos/spaceshipdlg.h,
	client/gui-beos/wldlg.cpp, client/gui-beos/wldlg.hpp:

	Proof of BeOS client.  Everything of any interest is stubbed out. 
	This is NOT going into the current beta (which leads up to
	1.11.0).  See README.BeOS for current hand-kluging required to
	build it.  (Note the BeOS client does not participate in the
	current build scheme yet.) All linkages are satisfied, and it
	runs, popping up a few alerts along the way.

Mon Jun 19 21:32:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/.cvsignore:

	Removed mistakenly added file from .cvsignore file.

Mon Jun 19 21:22:17 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gamedlgs.c:

	Added a small spacing to options with integer fields in the "set
	local options" dialog.

Mon Jun 19 21:20:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/diplodlg.c, client/gui-xaw/diplodlg.c:

	When initializing the city list in a diplomacy dialog, avoid
	malloc'ing 0 bytes if no cities are known. Also, free the memory
	afterwards...  Cut-pastes the code to sort cities from the xaw
	client into the gtk client.

Mon Jun 19 21:09:29 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Enabled info popup code (visible by clicking in the info label on
	the toplevel window).

Mon Jun 19 20:57:23 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/.cvsignore, po/ja.po:

	Update ja.po from 819t+42f+1318u+10o to 1073t+40f+1066u+12o.

Mon Jun 19 20:40:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* TODO:

	Remove FoW and edit allience stuff in TODO file.

Mon Jun 19 16:14:06 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jun 19 15:56:38 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Insert a check for sailing units entering non_allied cities in
	handle_unit_move_request() to get the correct error message.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Mon Jun 19 14:54:46 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c, server/unittools.c:

	Fix abort bug in can_unit_attack_unit_at_tile().  The error was
	this code: /* Shore bombardement */ if (fromtile==T_OCEAN &&
	is_sailing_unit(punit) && totile!=T_OCEAN) return
	(get_attack_power(punit)>0);

	if (!players_at_war(punit->owner, pdefender->owner)) return 0;
	where those two should of course have been switched.

	Also makes a small change to handle_unit_move_request, to get the
	non_attack case handled with a better message to the player (but
	no new strings to translate)

	Bug reported by Christian Knoke <ChrisK@enter.de>

Mon Jun 19 13:22:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Added estonian.ruleset, filipino.ruleset and latvian.ruleset to
	POTFILES.in.  Bug reported by Egbert Hinzen <garfy@ehinzen.de>.

Mon Jun 19 06:46:31 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 18 21:45:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Added some of the historians other than Herodotus (Herodot?), and
	made the historical report gives civs the same rank if they're
	tied in what's surveyed.  Patch submitted by Robert Rendell
	<rob@universe.serc.rmit.edu.au>.

Sun Jun 18 21:23:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Unsentry units moved as a consequense of an ocean land change.

	Suggested by Cameron Morland <cjmorlan@uwaterloo.ca>

Sun Jun 18 20:42:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/climisc.h, client/gui-gtk/mapview.c,
	client/gui-mui/mapview.c, client/gui-xaw/mapview.c,
	server/civserver.c:

	Improved the global warming danger indicator.  Idea submitted by
	Robert Rendell <rob@universe.serc.rmit.edu.au>.

Sun Jun 18 20:05:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/player.c, common/player.h, server/plrhand.c:

	Prevent a player suffering the techpenalty more than once in the
	same turn, and allowing them to change back to the tech they
	originally changed from and get all research back again.  This is
	kinder to civ-newbies who don't realize that they'll lose all
	their research when they change topics, and want to undo the
	change.  Patch submitted by Robert Rendell
	<rob@universe.serc.rmit.edu.au>.

Sun Jun 18 19:55:24 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 18 19:52:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/packhand.c,
	server/unitfunc.c:

	Fixed bug in autocenter whereby if had auto-explore units, and
	forced turn done (with some unit(s) having moves left), the
	display remained centered on the last unit to move (an
	auto-explore unit).  Fixes PR#386.  Bug reported by Shalon Wood
	<dstar@pele.cx>.

Sun Jun 18 19:12:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, client/options.h, client/tilespec.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/graphics.c,
	client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-xaw/graphics.c, client/gui-xaw/mapview.c,
	client/gui-xaw/optiondlg.c, data/Freeciv:

	Fixed a bug in both the GTK+ and Xaw clients'
	move_unit_map_canvas() routines: the intermediate images as drawn
	contained a bunch of garbage around the edges (if solid color off
	and flags transparent).  (Actually, in GTK+ the "garbage" was a
	solid white background.)

	Well, to fix the bug, it helps to see it -- and to see this bug
	when running the clients, I had to throttle the smooth move
	drawing.  This being a request from awhile ago, I decided to
	implement it for real (rather than just for test purposes).  To
	put the throttling under user control, I needed to implement
	client options that were integers (rather than just booleans).

Sun Jun 18 18:49:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Fixed bug in recent city-growth warning whereby it sometimes
	reported on growth of a city in rapture.

Sun Jun 18 18:21:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aicity.c, server/cityhand.c, server/unitfunc.c,
	server/unithand.c:

	Fixed inconsistent currency use by changing all "credits" to
	"gold".  Fixes PR#170.  Bug reported by Anthony DeRobertis
	<derobert@erols.com>.

Sun Jun 18 18:15:08 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Sun Jun 18 17:59:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Changed Lalo's e-mail address in PEOPLE file.

Sun Jun 18 17:51:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/shared.c, server/stdinhand.c:

	Fixed a bug in the i18n use of match result strings.  Bug reported
	by Egbert Hinzen <garfy@ehinzen.de>.

Sun Jun 18 15:50:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, common/events.h, server/cityturn.c,
	server/cityturn.h, server/civserver.c, server/plrhand.c,
	server/plrhand.h:

	New event: warning of city growth in next turn.  Only sent in case
	of natural growth (not, e.g., in case of rapture growth).  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>, committed with
	several changes by me.

Sun Jun 18 14:41:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Sun Jun 18 11:35:09 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapview.c:

	Implemented missing timeout info into the MUI client and the turn
	done button toggle function.

Sun Jun 18 09:20:12 2000  freeciv :

	* po/de.po:

	Additions and improvements by Christian Knoke <ChrisK@enter.de>

Sat Jun 17 20:01:04 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/colors.h, client/gui-mui/dialogs.c,
	client/gui-mui/diplodlg.c, client/gui-mui/overviewclass.c,
	client/gui-mui/plrdlg.c, server/stdinhand.c:

	Updated the amiga client to the latest changes.

	Renamed CMD_START, CMD_READ and CMD_WRITE to CMD_START_GAME,
	CMD_READ_SCRIPT and CMD_WRITE_SCRIPT because the previous defines
	are already used in some amiga specific includes

Sat Jun 17 18:07:15 2000  freeciv :

	* po/de.po:

	Patches until 06/17/00 included.

Sat Jun 17 15:21:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c:

	Internationalized the F/R/T strings in GTK+ help dialog.

Sat Jun 17 14:21:05 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c, server/sernet.c:

	Added checking for exception conditions on select() calls.

	Bug reported by Peter Zelezny <zed@linux.com>.

Sat Jun 17 13:10:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Fixed erronious help text for Solar Plants.  Bug reported by
	Christian Knoke <chrisk@enter.de>.

Sat Jun 17 12:32:56 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Make old buggy savegames created with some versions of the
	pre-1.11 CVS work by doing some more checking when loading.

	Bug reported by David Pfitzner <dwp@mso.anu.edu.au>

Sat Jun 17 00:27:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c:

	Fixed bug in client '--help' text: '--tiles' specifies a file name
	fragment, not a subdirectory name.  Bug reported by Marko
	Lindqvist <caz@assari.cc.tut.fi>.

Fri Jun 16 22:23:57 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c, client/gui-xaw/gui_main.c:

	Fix to restore the cursor in case of disconnect.

	Bug reported by Thue Janus Kristensen.

Fri Jun 16 21:57:15 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fixed gtk+ client crash bug when a client was cut while selecting
	race.

	Bug reported by Thue Janus Kristensen.

Fri Jun 16 20:09:45 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	Added callback to close the client connection in case of an error
	while writing to the client socket.

Fri Jun 16 20:08:13 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/stdinhand.c:

	Changed 'cut' command a bit to be more like the player removal on
	sniff_packets().

Fri Jun 16 20:04:57 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c, common/packets.h:

	Added support for a callback function to close a player connection
	in case of a problem on writing to the connection socket arises.

Fri Jun 16 18:35:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Fix an unintended change in ZOC rules that had somehow gotten into
	CVS.

	Bug report by Jussi Asp<ja66598@uta.fi>

Fri Jun 16 18:28:34 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	For some reason the civ 2 rule that firepower is reduced to 1 for
	both the defender and the attacker when a ship bombards a land
	unit was taken into account in the AI, but not the actual combat
	function. This fixes the bug by changing the combat function to
	civ 2 compliance.

Fri Jun 16 17:01:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/helpdata.c, client/packhand.c, common/game.c,
	server/citytools.c:

	Fix 5 memory leaks in the client, and one in the server (same as
	one of the leaks in the client)

Thu Jun 15 14:44:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/swedish.ruleset:

	Fixed misspelling of "Sollentuna".  Patch submitted by Peter
	Welzien <welzien@canit.se>.

Thu Jun 15 14:41:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Minor change to comment.

Thu Jun 15 13:45:00 2000  freeciv :

	* po/POTFILES.in:

	Minor change to comment.

Thu Jun 15 00:13:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.10.2 (beta) to 1.10.3-devel (beta).

Wed Jun 14 23:25:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/Makefile.am, data/Makefile.in:

	Added missing freeciv.rc to list of Makefile.am data files.

Wed Jun 14 22:22:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Begin beta-test period leading to version 1.11.0: - Changed
	version to 1.10.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Wed Jun 14 15:16:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c, common/support.h, server/sernet.c:

	Changed to use the system's FD_ZERO if it exists; fallback to the
	"memset" version if not.  Patch submitted by Dan Gohman
	<gohmandj@mrs.umn.edu>.

Tue Jun 13 23:18:18 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Bugfix for client crash upon disconnection while receiving a
	packet followed by reconnection to the game.

Tue Jun 13 22:19:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c, server/settlers.h:

	Adds comments and renames variables in amortize().  Function
	decoded by Robert Rendell <rob@universe.serc.rmit.edu.au> and
	Andrew McGuinness <cogers@yahoo.com>

Tue Jun 13 21:18:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Adds a few comments.

Tue Jun 13 20:18:32 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c:

	Fix bug where the river trade bonus was being added on an ocean
	tile when autosettlers calculated the value of transforming a
	tile.

Tue Jun 13 19:05:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c, server/mapgen.c:

	Removes infinite loop potential by allowing starts on rivers. 
	(Disallowing them seems to have been an error in the
	rivers-as-specials implementation.) Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Tue Jun 13 18:27:22 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c, server/unithand.c:

	Kludge away an incompatability between the AI and the new handling
	of transporters. This should be fixed later by altering the AI
	code.

Tue Jun 13 15:05:07 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, ai/aiunit.h, common/map.c, common/map.h,
	server/gotohand.c, server/gotohand.h, server/unittools.c,
	server/unittools.h:

	Cleans up and documents gotohand.c

	Fixes bug that sometimes a path would be chosen when another path
	with lower move cost was available.

	Fixes bug with the adjustment of y values at the poles.

	Fixes RR loop bug on maps with uneven map.xsize.  (PR#160,
	reported by Mario <gianmario.scotti@nokia.com>)

Tue Jun 13 13:54:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/maphand.c, server/settlers.c,
	server/unitfunc.c, server/unitfunc.h:

	Resolves some problems in relation to ocean<->land changes.  -Land
	units on a square just transformed to ocean are now moved to land
	or a nearby transport automaticaly (or disbanded if they can't be
	moved) -Stop the autosettlers from changing a square with a city
	to ocean.  -To make sure a settler on a transport transforming
	ocean to land can not move be moved while transforming, reset some
	unit activities when moving a unit.

	A bit unrelated, we also check unit activities when global warming
	changes the terrain of a tile.

Tue Jun 13 13:53:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c, client/gui-xaw/menu.c:

	Remove the redundent word "Help" from the beginning of each item
	in the Help menu.  GTK change by Tuomas Airaksinen
	<tuma@linuxfan.com>, Xaw change by me.

Tue Jun 13 13:05:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Fix a bug where autosettlers without the F_TRANSFORM flag would
	transform anyway.

Mon Jun 12 18:09:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/settlers.c, server/settlers.h:

	Clean up auto_settler_findwork().  Adds allowance for settlers to
	improve squares that are not in use by a city.  Patch submitted by
	Robert Rendell <rob@universe.serc.rmit.edu.au>, with a few fixes
	by me.

Sun Jun 11 21:41:03 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/barbarian.c:

	Make sure there is always a chance of barbarians appearing, even
	if the map area is smaller than MAP_FACTOR.

Sat Jun 10 20:47:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c:

	Reinsert code into remove_player() for the client to handle
	disconnect-connect properly.

Fri Jun  9 13:26:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/options.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/plrdlg.c, common/capstr.c, common/events.h,
	common/map.h, common/player.c, common/player.h,
	server/barbarian.c, server/cityhand.c, server/civserver.c,
	server/gamehand.c, server/plrhand.c, server/plrhand.h,
	server/stdinhand.c, server/unitfunc.c, server/unithand.c:

	Creates the DS_NO_CONTACT state. Treated like DS_WAR for AI
	purposes.  Moves DS_NEUTRAL from players_at_war to
	players_non_attack, ie you must declaire war before you can
	attack.  Every time -a unit moves -a unit is created -a city is
	created it is checked if there is made contact. Each turn we also
	try to make contact via the marco polo wonder.

Fri Jun  9 11:57:01 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, common/game.c, server/maphand.c,
	server/maphand.h, server/plrhand.c, server/stdinhand.c:

	Disables the remove <player> command once the game has started. It
	still works in the pregame state to allow people to disconnect. 
	This is done as it was becoming very messy to adjust data
	structures once the game had started, and the bugs just kept
	piling up.

Wed Jun  7 16:20:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de, po/de.po:

	Updated German (de) translation and README file.  Patch submitted
	by Egbert Hinzen <garfy@ehinzen.de>.

Wed Jun  7 16:17:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/climisc.h, client/packhand.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	common/capstr.c, common/game.h, common/packets.c,
	common/packets.h, server/civserver.c, server/gamehand.c,
	server/sernet.c, server/stdinhand.c:

	Improve timeout handling: * Fixes a bug which made the turn end
	immediately when a timeout was first set.  * When you set the
	timeout, it applies to the current turn, and the updated timeout
	info is sent to the clients.  * Timeouts can be much longer, and
	will come up in the clients in minutes or hours rather than
	seconds if appropriate.  * A new option, "fixedlength", is
	available at the server.  If set to 1, turns always run for the
	full length of the timeout, irresepective of players hitting "Turn
	Done" (if no timeout is set, fixedlength has no effect).  Patch
	submitted by Robert Rendell <rob@universe.serc.rmit.edu.au>.

Wed Jun  7 14:11:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/wldlg.c, client/gui-xaw/wldlg.c, common/map.c,
	server/cityhand.c, server/unithand.c:

	Fixes four bugs...  * the memory allocated for worklist names in
	the xaw and gtk clients could potentially be overrun (this patch
	actually only fixes the xaw client, because the gtk client is
	fixed in the "worklist.diff" patch) * isnt_terrain_near_tile
	tested whether *any* tile nearby wasn't of the nominated type,
	rather than whether *every* tile wasn't.  That is, if you called
	isnt_terrain_near_tile(x,y,T_OCEAN), and there was grassland (say)
	to the north-west of (x,y), it would return true, even if there
	was ocean everywhere else.  (isnt_terrain_near_tile isn't actually
	called anywhere in the code, but it still should be correct.) * an
	exploitable bug: changing a city's production to something of the
	same type would set turn_changed_target, which meant that further
	changes could be made in the same turn to productions of different
	types without incurring any resource loss at all.  * not strictly
	a bug, but incorrect behaviour: when a unit changed home cities,
	the previous home and the new home didn't get recalced.  Patch
	submitted by Robert Rendell <rob@universe.serc.rmit.edu.au>.

Wed Jun  7 13:29:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Fixes a few small problems with city and unit visibility.  It also
	does a little clean-up.

	The city visibility problem is that when the focus unit is in a
	city, and its icon is flashing, when the unit icon was seen,
	_nothing_ of the city was -and- when the unit icon was not seen,
	the city's "occupied" flag was not shown.

	Now, the city is always fully displayed "under" the flashing unit
	icon.

	The unit visibility problem is one that was introduced since
	1.10.0 (though, I don't know exactly when).  When a unit is
	defending a city, the attacker should see the unit.  Currently,
	the attacker only sees the city.

	Now, the defending unit is visible to the attacker.

	Fixed player_color to return a color in proper range (broken when
	MAX_NUM_PLAYERS was increased).

Wed Jun  7 12:23:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/control.c, client/control.h,
	client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h:

	Makes unit selection by players more explicit.  Fixes a bug
	whereby the "cross" was not always displayed correctly.

Tue Jun  6 19:43:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, ai/aiunit.h, server/unitfunc.c, server/unithand.c:

	Put explorers on ACTIVITY_IDLE when they can find no more
	territory to explore.

Tue Jun  6 19:35:18 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Fix bug in autosettler territory assignment. Code assumed type
	short, but it was changed to int when MAX_NUM_PLAYERS was raised
	to 30.  Also remove an outdated comment and a new comment.

Sat Jun  3 23:44:05 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Added comments to handle_unit_attack_request().

Sat Jun  3 12:46:28 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	When trying to assign an out of range argument in the server, make
	the error message report the range of correct values.

	Patch by Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>

Wed May 31 13:35:16 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/tech.c, common/tech.h, server/plrhand.c,
	server/settlers.c:

	Updates/adds a few comments.

	Patch by Robert Rendell <rob@universe.serc.rmit.edu.au>

Wed May 31 12:27:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c:

	Disables the homecity button in the citydialog unit popup when the
	city is already the unit's homecity.

Wed May 31 12:21:55 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h:

	Makes the functions server_remove_unit() and send_remove unit
	unavailable except as static helper functions for wipe_unit(). 
	Use wipe_unit() instead.

Mon May 29 22:04:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.in, ai/Makefile.in, client/gui-gtk/Makefile.in,
	client/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/include/Makefile.in,
	client/gui-xaw/Makefile.in, common/Makefile.in,
	data/civ1/Makefile.in, data/Makefile.in, data/classic/Makefile.in,
	data/civ2/Makefile.in, data/default/Makefile.in,
	data/default/nations.ruleset, data/misc/Makefile.in,
	data/engels/Makefile.in, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/boer.ruleset,
	data/scenario/Makefile.in, doc/Makefile.in,
	data/trident/Makefile.in, po/POTFILES.in, server/Makefile.in:

	Add the Boer nation.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Mon May 29 21:28:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/lithuanian.ruleset, data/nation/misc_cities.ruleset,
	data/nation/polish.ruleset:

	Changes to Lithuanian, Polish and "misc" city sets.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Mon May 29 21:05:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de, po/ru.po:

	Changed some "FreeCiv"s that have snuck in into "Freeciv"s.

Mon May 29 21:01:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de:

	Update German (de) README file.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon May 29 20:58:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, README:

	Update mailing list part of README file.  Inspired by Egbert
	Hinzen <garfy@ehinzen.de>.

Mon May 29 20:36:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon May 29 19:07:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon May 29 18:34:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Fix a few mistakes in the help text in the buildings.rulesets
	files.  Problems reported by Egbert Hinzen <garfy@ehinzen.de>.

Mon May 29 13:23:23 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/shared.h, server/barbarian.c,
	server/citytools.c, server/plrhand.c, server/unitfunc.c:

	Corrects lenght of dipl_states array from MAX_NUM_PLAYERS to
	MAX_NUM_PLAYERS+MAX_NUM_BARBARIANS.  Corrects an index error in
	game_renumber_players (off by 1).

Sat May 27 22:06:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, client/climisc.c, client/climisc.h,
	client/control.c, client/options.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/plrdlg.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/plrdlg.c, common/capstr.c, common/diptreaty.c,
	common/diptreaty.h, common/events.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/unit.c, data/Freeciv, server/autoattack.c,
	server/barbarian.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/diplhand.c, server/gotohand.c,
	server/plrhand.c, server/plrhand.h, server/settlers.c,
	server/stdinhand.c, server/unitfunc.c, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Diplomatic states.  Introduces war, neutral, ceasefire peace and
	alliance between players.  Players now also have a reputation that
	is affected by their actions.  When players have ceasefire, peace
	or alliance their units cannot attack each other unless a war is
	declaired first. The spy actions allowed varies depending on the
	players' diplomatic state.  Allied players' units can overlap, and
	do not cause ZOC against each other.

	What needs to be done: -Reputation has no effect other than
	cosmetic.  -Senate not implemented, ie you can always declaire
	war.  -The ai is always at war with everybody, and will declaire
	war automatically if toggled on to a player that is not at war
	with everybody.

	Patch by Paul Thomas <Paul.Thomas@cmis.CSIRO.AU> Falk Hueffner
	falk.hueffner@student.uni-tuebingen.de Jeff Mallatt
	<jjm@codewell.com> and me

Sat May 27 08:43:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Avoid gettext warnings about unterminated character constants.

Thu May 25 14:37:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, server/cityhand.c, server/cityhand.h:

	Fixes bug where a settler building a city on top of others
	settlers who were in the process of changing the tile terrain to
	ocean would result in a city on water.  Also, when a tile with
	rivers were changed to ocean we now remove the rivers. Later this
	should be changed so that rivers have no effect on ocean tiles and
	are not drawn in the client, meaning that they don't have to be
	removed and will reappeared if the tile is later transformed to
	land again.  And finally, removes misuse of x and y arguments as
	iterators in create_city.

	Patch by me and Jeff Mallatt <jjm@codewell.com>.

Wed May 24 19:12:56 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advmilitary.c, ai/aicity.c, ai/aitech.c, client/helpdata.c,
	client/packhand.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapview.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/mapview.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, data/civ1/buildings.ruleset,
	common/Makefile.am, common/Makefile.in, common/capstr.c,
	common/city.c, common/city.h, common/game.c, common/map.c,
	common/map.h, common/packets.c, common/packets.h, common/player.c,
	common/terrain.h, common/unit.c, common/unit.h,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset,
	server/cityturn.c, server/ruleset.c:

	Generalized Improvements, first phase.  This adds new fields to
	the buildings.ruleset files; adds the code to parse these fields,
	store and transmit them to the client.  So far, none of this new
	information is used, and this patch should have no affect on the
	existing game.  Partial fix for PR#243.  Patch submitted by IQ
	<iquin@technologist.com>, with re-engineering by me.

Tue May 23 22:09:50 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, common/unit.c, common/unit.h, server/gotohand.c,
	server/settlers.c, server/unitfunc.c, server/unittools.c:

	Airunits that can transport groundunits now work.  (configurable
	in the units.ruleset) This patch makes sure that an airunit
	transporting ground units and is on board a carrier does leave the
	ground units behind in the water when the carrier moves.

Tue May 23 20:59:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Deletion of a unit in packhand.c changed to use
	game_remove_unit().

Tue May 23 20:47:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	send_all_known_units() now only send the known units, not ALL
	units.

Mon May 22 18:11:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Since Hoover Dam can now be built anywhere, relaxed constraint
	which kept it out of the worklists.  Bug reported by Richard
	Atkins <rja@pcug.org.au>.  Patch submitted by Daniel Zinsli
	<s830+priv@ii.uib.no>.

Sun May 21 20:04:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/ratesdlg.c:

	Swapped motion direction of sliders in Xaw client's Tax Rates
	dialog.  Bug reported by Reinier Post <reinpost@win.tue.nl>.

Sun May 21 19:53:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/gui_main.c:

	Add gtk_set_locale() call, which informs GTK+ of the locale. 
	Patch submitted by Sawada Katsuya <amanatto@mail2.dddd.ne.jp>.

Sun May 21 13:20:37 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/packhand.c, common/packets.c,
	common/packets.h, server/unitfunc.c, server/unitfunc.h:

	The server now tells the client whether a moved unit was carried
	aboard a transport (the client need to know to draw the movement
	correctly).  This removes some ugly hacks in the client, which
	anyway didn't always work, beside making the code clearer.

Sat May 20 17:41:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/ja.po:

	Added the Japanese (ja) locale.  Initial ja.po file provided by
	Sawada Katsuya <amanatto@mail2.dddd.ne.jp>.

Sat May 20 17:39:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Added the Japanese (ja) locale.  Initial ja.po file provided by
	Sawada Katsuya <amanatto@mail2.dddd.ne.jp>.

Sat May 20 15:46:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Restore functionality to the moving of units on board a
	transporter to not revert the order of the units for every move.

Sat May 20 04:11:48 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/aiunit.c, common/city.c, common/city.h,
	common/game.c, common/game.h, server/gotohand.c:

	Fix some spelling.

Fri May 19 22:59:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Remove obsolete comment from handle_unit_move_consequences().

Thu May 18 19:46:25 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Previously the client removed units due to FoW if a tile went from
	TILE_KNOWN to TILE_KNOWN_FOGGED. For greater flexibility it now
	also do so if a tile goes from TILE_KNOWN to TILE_UNKNOWN. (though
	it isn't currently used)

Thu May 18 19:10:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/shared.h, server/maphand.c, server/maphand.h,
	server/plrhand.c:

	Make the remove command work again after it was broken with the
	introduction of FoW.

Thu May 18 18:45:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, server/barbarian.c,
	server/cityhand.c, server/civserver.c, server/diplhand.c,
	server/gotohand.c, server/maphand.c, server/maphand.h,
	server/plrhand.c, server/unitfunc.c, server/unithand.c,
	server/unittools.c:

	Move the seen field from the common map to the player map (saves a
	good deal of memory) There was a bug when a new player is created
	(revolution or barbarians) while fog is toggled of, and fog later
	is toggled back on.  Many functions take struct player *pplayer as
	argument when what they need is really the player id (for lookup
	in a bitvector). This patch corrects a few cases of that.  Change
	the order of function argument from (player, x, y) to (x, y,
	player) in some functions for consistency. More functions need to
	be changed.

Thu May 18 00:02:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Reinsert code into handle_unit_move_request() that checks if an
	attacker has an attack power >0. It was deleted as I assumed this
	was taken care of in can_unit_attack_unit_at_tile().

Wed May 17 21:00:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c:

	Fix compile-time error in recent commit.

Wed May 17 16:48:36 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Updated the comment for send_unit_info()

Wed May 17 13:32:07 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c, server/gamehand.c, server/maphand.c,
	server/stdinhand.c:

	Remove the restriction that the number of starting positions in a
	scenario must be >= MAX_NUM_PLAYERS.  This makes the scenarios
	work wotk CVS again after MAX_NUM_PLAYERS was increased from 14 to
	30.

	Bug reported by David Pfitzner <dwp@mso.anu.edu.au>

Wed May 17 12:41:42 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Send player info after inciting a revolt in a city, to update the
	player's amount of gold in the client.

	Bug report and patch by Daniel Sjolie <deepone@acc.umu.se>

Tue May 16 22:53:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, ai/aiunit.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unittools.c:

	Remove unused (and unneccesary) dest argument for wipe_unit().

Tue May 16 22:27:48 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, common/unit.h, server/plrhand.c,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Moves the calls common to functions handle_unit_move_request(),
	do_airline(), do_paradrop() and teleport_unit_to_city() down into
	a new function move_unit().  The new function doesn't do any
	checks, just links and unlinks (and handles various consequences
	of the move). If told so it also takes care of units transported
	by the unit.

	Moving transporter cargo units now is much more intelligent: -If
	two transporters accidentally share a square they will remember
	which transported units belong to who.  -A transporter on a goto
	will not pick up units it accidentally moves across, even if they
	are sentried in cities. If given the goto order from within the
	city it will pick sentried units up. I made sure that ai
	controlled transporter always pick up units to be sure I didn't
	break anything.  -Made groundunits that are transporters work
	better, but there is a redraw bug in the client because it assumes
	all transporters are sea units. (I didn't introduce it and I
	didn't fix it in this patch)

	I added a field transported_by in the unit struct for the
	transporter purpose (yes, old savegames work).

Tue May 16 19:28:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h, common/unit.c, common/unit.h, server/gotohand.c,
	server/gotohand.h, server/unitfunc.c, server/unittools.c,
	server/unittools.h:

	Airunit autoreturn home. When an airunit is running out of fuel
	and will otherwise crash it will automatically try to fly to the
	nearest place where it can refuel.

	Patch by me with some edits by Jeff Mallatt <jjm@codewell.com>

Tue May 16 13:27:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Unfog the map for a dead player when loading a savegame.

Mon May 15 16:40:44 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c:

	Add some comments after Thue comments.

Mon May 15 01:28:52 2000  Paul Zastoupil <paulz@adnc.com>:

	* PEOPLE:

	Updated email address for Paul Zastoupil

Mon May 15 00:40:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Silenced many "extension ... is unknown; will try C" warnings
	emitted by xgettext by modifying po/Makefile to filter xgettext's
	output.  Bug reported by Thue Janus Kristensen <thue@diku.dk>.

Mon May 15 00:30:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c, server/unithand.c:

	Fixed several recent LOG_FATALs to be either LOG_NORMAL or really
	fatal.

Sun May 14 21:21:25 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advdomestic.c, common/city.c, common/city.h, common/game.c,
	common/game.h, server/barbarian.c, server/gamehand.c,
	server/plrhand.c:

	Robert Brady <rwb197@zepler.org> has reported the following bug
	(PR#284) :

	The AI will sometimes build the Great Library when there is only
	one other living nation in the game.

	A fix is to ignore Great Library if there are less than 3 players.
	Barbarians aren't counted in this number. A variable nbarbarains
	is added to the struct game. Each time create_barbarian_player is
	successfully called, this number is increased. So, if
	game.nplayers - game.nbarbarians < 3, AI will ignore the great
	library.

	Also, each time a player is removed via game_remove_player,
	nbarbarians is decreased. Each time a game is reload, nbarbarians
	is counted in the function player_load.

	Patch submitted by brunel@esil.univ-mrs.fr

Sun May 14 20:53:48 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unithand.c:

	The AI diplomats use gotos to get to their targets, and that
	worked fine in 1.10 where gotos didn't trigger popped up diplomat
	dialogs.  But that functionality has now been implemented. Here is
	a small patch to stop doing it when in AI mode.

	Patch ( and bug report ) submitted by Thue Janus Kristensen
	<thue@diku.dk>

Sun May 14 12:59:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c:

	Recent commit to CVS does not compile cleanly.  Fixed.

Sun May 14 11:38:41 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	The message dialog now gives focus to the first button in it by
	default.

Sun May 14 11:36:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c:

	Makes clicking on the main map give focus to the turn done button.

Sat May 13 23:08:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Cleans up and documents find_the_shortest_path. Adds a seperate
	case for air units.  Air units now don't go out of their way to
	avoid fog of war, and an optimization from the ground and sea
	movement that would sometimes make units take a suboptimal paths
	is removed in the air case. (making sure air units don't run out
	of fuel)

	Hopefully fixes PR#350, reported by Laurent Vibert
	<lvibert@irisa.fr>

Sat May 13 20:22:02 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/unitfunc.c:

	Make all calls to wipe_unit() inside unit_list_iterate into
	wipe_unit_safe(). No reason not to be on the safe side, even it
	only 2 of them were actual crash bugs.

Sat May 13 19:58:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	Remove a call to resolve_unit_stack in remove_city. It was
	unneccesary, as the resolving was allready done by a previous call
	to wipe_unit_spec_safe, and if it should at some point be given
	functionality it would be possible for it to delete the unit that
	a unit_list_iterate iterator pointed at.

Sat May 13 19:44:33 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c, server/citytools.c:

	Correct one case (not 2 as I said in my mail) of disbanding a unit
	inside a unit_list_iterate loop with the possible consequence that
	the unit unit the unit_list_iterate iterator pointed at could be
	deleted. (Used functionality allready in wipe_unit_spec_safe to
	awoid this).  Make transfer_city_units take into account that the
	argument "pcity" can be NULL.

Sat May 13 15:55:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c:

	When inserting a role into the a unittype's roles bitvector, make
	sure to substract L_START from the role value gotten from
	unit_role_from_str().  Previously we didn't do this, with the
	result that the value we shifted 1 with to get the bitvector was
	L_START (64) too big. For some mysterious reason this worked as if
	we had indeed substracted L_START before we shifted, except on
	netwinder ARM, where this bug was expressed.

	Bug reported, and login on his netwinder computer made available
	for freeciv debugging, by Patrice LaFlamme <patrix@patrix.org>

Sat May 13 03:35:12 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/game.h, server/sernet.h:

	Fix #PR363 Server Frozen.  The maximum number of players was
	increased but not the number of connections.

Sat May 13 02:45:09 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c:

	In function, AI find something to kill, AI was calling
	city_reinforcements_cost_and_value even for its own cities. Now, a
	test prevents this.

Sat May 13 01:41:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>, with some corrections by Frank Osterfeld
	<fraos@gmx.de>, and a small change by me to silence a check_po.pl
	warning.

Sat May 13 01:29:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/INSTALL.de:

	Updated German INSTALL file.  Patch submitted by Jens Georg
	<jgeorg@ldknet.org>.

Sat May 13 01:16:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/governments.ruleset, data/default/governments.ruleset:

	Added maximum tax rate information to help text for governments. 
	Fixes PR#362.  Bug reported by Vincent <skorpion@optonline.net>. 
	Patch submitted by Greg Wooledge <wooledge@kellnet.com>.

Fri May 12 09:13:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c:

	Backed-out Gtk client help dialog terrain pixmap display patch
	until it can be fixed.  It tries to display non-existent specials
	and the author admits it may leak memory.

Thu May 11 14:58:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Fixed some grammar.

Thu May 11 13:10:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/dialogs.c, client/gui-xaw/dialogs.c:

	Complete recent patch so rest of CVS can compile.

Wed May 10 17:51:44 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c:

	Remove an obsolete comment.

Tue May  9 23:30:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Clean up handle_unit_move_request().  Add a check for gotoing
	units to stop most unintented attacks.

Tue May  9 22:38:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Changes map_startpos_load to make pre30players savegames loadable.
	This is done simply by filling in with 0,0 positions. For normal
	savegames this doesn't make a difference, as the starts are not
	used.  The scenario files does not work quite right (players are
	started at 0,0), and this should be fixed later.

Tue May  9 22:26:16 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/control.h, client/packhand.c,
	client/gui-gtk/dialogs.c, server/unithand.c:

	Let handle_unit_move_request handle the case where a diplomat
	enters a tile with an enemy unit. Also changes some client
	diplomat event handling to make it work.  Fixes a bug reported by
	Nicolas BRUNEL <brunel@ham.esil.univ-mrs.fr>

Tue May  9 20:48:26 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Replaces 2 occurences of send_unit_info with
	send_unit_info_to_onlookers, and makes sure information about an
	airlift is sent to all.

Tue May  9 18:33:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/gtkpixcomm.c, client/gui-mui/citydlg.c,
	client/gui-xaw/citydlg.c:

	Yet more variables renamed to be nice to C++ compilers.

Tue May  9 18:13:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c:

	Improved Gtk+ client's technology help dialog.  Patch submitted by
	Richard Atkins <rja@pcug.org.au>.

Tue May  9 17:14:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c, server/unitfunc.c:

	Even more variables renamed to be nice to C++ compilers.  Patch by
	Dan Gohman <gohmandj@mrs.umn.edu>

Tue May  9 16:58:09 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c:

	Rename variable "try" to be nice to C++ compilers.  Patch by Dan
	Gohman <gohmandj@mrs.umn.edu>

Mon May  8 17:53:46 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Remove crash bug in diplomat_incite() when trying to access pcity
	after it had been remove_city()'ed as part of transfer_city.

Sun May  7 01:38:46 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	changed function declaration to static.

Sun May  7 00:20:20 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	changed socket writing functions to minimize possible client
	crashes.

Sat May  6 22:37:10 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c:

	Make code in aicity use upgrade_unit() to upgrade units, making
	sure they update FoW properly. (They didn't, so when a unit was
	upgraded to a unit with larger sight range the server bugged).

Sat May  6 13:23:50 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, client/control.c,
	client/helpdata.c, common/capstr.c, common/packets.c,
	common/unit.c, common/unit.h, data/civ1/units.ruleset,
	data/civ2/units.ruleset, data/default/units.ruleset,
	server/ruleset.c, server/settlers.c, server/unitfunc.c,
	server/unittools.c:

	Split unit flag F_SUBMARINE into several distinct effects:

	- F_PARTIAL_INVIS = invisibility effect (usefulness reduced by fog
	of war, but still some effect vs cities and visibility-2 units); -
	F_MISSILE_CARRIER = transport_capacity is for F_MISSILE units
	only; - F_NO_LAND_ATTACK = cannot attack vs land (no shore
	bombardment).

	Old ruleset files are still read ok, and network compatibility is
	ok for standard rulesets.

Sat May  6 12:54:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, diff_ignore,
	freeciv_hackers_guide.txt:

	Added sample diff_ignore file to distribution, and changed
	corresponding section in freeciv_hackers_guide.txt.  Sample file
	based on contributions from a number of people.

Sat May  6 01:33:02 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Make make_list_of_refuel_points() NOT assume that there is always
	a unit on a tile with an airbase. D'uh.

Fri May  5 22:22:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	A "short" in the code to place workers for a city needed to be
	replaced with an int. (missed in the patch to increase the number
	of players from 14 to 30).  I checked the rest of the code once
	again for missed shorts.

Fri May  5 10:22:33 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* Makefile.in, ai/Makefile.in, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/classic/Makefile.in, data/default/Makefile.in,
	data/engels/Makefile.in, data/misc/Makefile.in,
	data/nation/Makefile.am, data/nation/Makefile.in,
	data/scenario/Makefile.in, data/trident/Makefile.in,
	doc/Makefile.in, server/Makefile.in:

	filipino.ruleset estonian.ruleset and latvian.ruleset were missing
	in data/nation/Makefile.am .  I added them. And run automake. 
	This bug was reported by Lance Levsen <l.levsen@printwest.com>

Thu May  4 22:55:25 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c:

	warmap could be initialized in two places : init_warmap and
	init_gotomap.  Now, only init_warmap can init warmap. And,
	init_gotmap calls init_warmap to initialize the warmap.

Wed May  3 12:51:10 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c, common/speclist_c.h:

	Change occurences of variable "this" to "tthis" to be nice to C++
	compilers. Patch submitted by Dan Gohman <gohmandj@mrs.umn.edu>

Wed May  3 12:48:48 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c, server/plrhand.c:

	Refresh and send a player's cities when changing government.  Make
	sure unit info it sent when a unit's contribution to the resource
	use and unhappiness in a city changes (the little
	shields/food/angry face icons)

Wed May  3 12:44:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/capstr.c, common/map.h, common/packets.c,
	common/shared.h, server/plrhand.c, server/settlers.c:

	Increase the maximum number of players from 14 to 30 at the cost
	of a small amount of RAM (4 player bitvectors changed from short
	to int)

Mon May  1 22:43:20 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unithand.h, server/unittools.c:

	Creates a function handle_unit_move_consequences(). It takes care
	of -moving the units sight points -waking neightboring units on
	sentry -calling handle_unit_enter_city -handle the consequences if
	there is a hut on the target tile.  -if a unit entering or leaving
	a city or a fortress changes the happiness of the city/the units
	homecity the relevant cities are refreshed and resent.  This
	should be used whenever a unit changes position on the map.  As it
	would result in some slowdown of the allready slow AI turn if
	cities were refreshed every time a unit entered or left a city the
	city update is only done for the units controlled by a player.

	The patch also modifies server_remove_unit() to refresh a units
	homecity and the city the unit is in when called. Code that
	allready did this in some cases removed from
	remove_unit_spec_safe().

Mon May  1 06:55:36 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/smakefile:

	Updated amiga/smakefile and amiga/ReadMe files.

Sun Apr 30 23:44:21 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	this patch attempts to fix the networking problems of missing
	packets which cause client crashes.

Sun Apr 30 23:14:54 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Make transporter_cargo_move_to_tile use unit_list_iterate.

Sun Apr 30 23:11:31 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/gui-gtk/menu.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-xaw/menu.c, common/unit.c, common/unit.h,
	server/unitfunc.c:

	Clean up do_paradrop().  Rename can_unit_paradropped to
	can_unit_paradrop().  Fix a bug in the client where the cursor
	would not get updated if the paradrop failed.

Sun Apr 30 13:51:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c:

	Draw "fog" graphic over top of cities, so that it is more apparent
	when the city square is fogged.  Move city size graphics to top
	(ie, top of graphics stack), so size is always readable and
	unobscured.

Sun Apr 30 13:34:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c:

	Initialize unit upkeep fields (to zero) on reload, since otherwise
	units without homecity had junk values, sometimes used by AI
	calculations etc.

Sun Apr 30 13:17:08 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/maphand.c:

	Remove some trailing newlines in freelog calls.

Sun Apr 30 13:15:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c, common/Makefile.am,
	common/Makefile.in, common/city.c, common/city.h, common/game.c,
	common/game.h, common/hash.c, common/hash.h, common/idex.c,
	common/idex.h, common/player.c, common/unit.c, common/unit.h,
	server/cityhand.c, server/citytools.c, server/civserver.c,
	server/plrhand.c, server/settlers.c, server/unitfunc.c:

	Generalize the city "citycache" into "idex": "ident index" for
	both cities and units, in both server and client.  This is done
	using hashes from id values to pointers (separate hashes for
	cities and units, for code simplicity).

Sun Apr 30 07:28:21 2000  Sebastian Bauer <sebauer@t-online.de>:

	* acconfig.h, config.h.in, amiga/config.h, client/options.c,
	client/gui-mui/gui_main.c, common/tech.c:

	Allow the changing of the clients options file name by a config.h
	define (OPTION_FILE_NAME)

	Enabeld the options file saving in the Mui Client.

	Changed the "double res" declaration in tech_turns_to_advance() of
	common/tech.c to "int res".

Sat Apr 29 15:59:03 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/barbarian.c:

	Make sure the server sends tile info when hut is removed.  Fixes
	bug #288 reported by rizos <rizos@rice.edu>

Sat Apr 29 14:35:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/capstr.c, server/gotohand.c:

	Fix typos in definition, comment and usage of advance_focus_packet
	capability string.

Sat Apr 29 10:12:11 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/dialogs.c,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/muistuff.h,
	client/gui-mui/overviewclass.c, client/gui-mui/repodlgs.c:

	Mui client: Updated to the latest changes (Diplomat goto, turns
	per tech, city production on the map) Changed layout of the city
	window and fixed some bugs within the city map.  (Reported by
	Thomas Aglassinger <agi@rieska.oulu.fi>) The special info and
	graphics in the terrain help are displayed now.

Fri Apr 28 20:25:34 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Changes the city configuration dialog to: - Explain what the first
	option displayed does (like the mui client) - Remove the "triggle"
	button, and replace it with three radio buttons labelled
	correctly.  Patch submitted by Richard Atkins <rja@pcug.org.au>,
	with some changes by me.

Fri Apr 28 20:20:09 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Thu Apr 27 22:10:01 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Corrected a comment in find_air_first_destination()

Thu Apr 27 22:04:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/capstr.c, server/gotohand.c:

	Adds a capability string for the airplane goto patch since that
	patch added a new packet PACKET_ADVANCE_FOCUS . if the client does
	not have the capability the packet isn't sent, which is acceptable
	(an airplane on an unfinished goto will just not lose focus by
	itself)

Wed Apr 26 21:07:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/civclient.c, client/control.c, client/control.h,
	common/packets.c, common/packets.h, server/gotohand.c:

	Goto for airplanes. This makes airplanes automatically stop in
	cities and on airbases to refuel.  Adds a new packet
	ADVANCE_UNIT_FOCUS as a way to tell the client that the server
	does not intent to continue moving the plane, even if it has
	movement points left.  Also makes sure that units on goto will be
	put on activity_idle after completing one attack (ie disables
	multiple attacks).

Wed Apr 26 16:16:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	When creating a city unfog the cityarea before the workers are
	arranged, so newly discovered tiles as a result of the city being
	build will not be shown as unavailable when they in fact are
	available.

Wed Apr 26 16:12:40 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Now also takes into account that a unit may be in an enemy city,
	in which case we teleport the unit to the nearest city owned by
	the unit owner.

Wed Apr 26 15:07:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unittools.c:

	Further refinement of comments in resolve_unit_stack().

Tue Apr 25 17:34:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Corrected a misleading comment in resolve_unit_stack

Tue Apr 25 14:54:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Rename static upgrade_unit() in cityturn.c, so it doesn't clash
	with the global one in unithand.[hc].  Renamed static
	upgrade_improvement() in cityturn.c, so it remains consistently
	named.  Bug reported by David Pfitzner <dwp@mso.anu.edu.au>.

Tue Apr 25 14:16:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/barbarian.c, server/citytools.c, server/civserver.c,
	server/civserver.h, server/plrhand.c, server/plrhand.h:

	Fixed bugs caused by player map being initialized with default
	size values, and then having the size change later.  Fixes PR#333.
	Bug reported by Tuomas Airaksinen <tuma@linuxfan.com>.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Tue Apr 25 12:14:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, server/autoattack.c, server/unitfunc.c,
	server/unithand.c, server/unithand.h:

	Makes units given an Auto-Explore order begin the exploration
	immediately.  Also, removes the unused "pplayer" argument from the
	handle_unit_activity_request() and
	handle_unit_activity_request_targeted() functions.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Tue Apr 25 12:00:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/packhand.c, common/map.c,
	common/unit.c, data/default/terrain.ruleset, server/gamelog.c,
	server/unitfunc.c:

	Fixes bugs in the recent code which allows ocean to be changed
	into land.

	Continent information was not being updated:

	- Adds check_terrain_ocean_land_change() to unitfunc.c to handle
	side-effects.

	- Calls check_terrain_ocean_land_change() from all three of the
	Mining, Irrigation and Transforming sections of
	update_unit_activity().

	- Adds a new clause to the "if" statement in handle_tile_info() in
	packhand.c so that climap_update_continents() is called whenever
	ocean is changed into land.

	The terrain ruleset allows for changing land into ocean -- but the
	code didn't handle this case correctly.  The gamelog map becomes
	out of date whenever ocean is changed into land (or vice-versa):

	- Makes sure the new check_terrain_ocean_land_change() can handle
	changing land into ocean.

	- Changes can_unit_do_activity_targeted() to not allow changing
	the land on which a city sits into ocean.

	- Changes map_mine_tile(), map_irrigate_tile() and
	map_transform_tile() to clear all infrastructure when changing
	from land to ocean.

	- Adds a new case in handle_tile_info() that recomputes the
	client's continents whenever land is changed into ocean.

	- Makes a small change to climap_update_continents() which allows
	it to work in the case where the tile "known" flags are set, but
	the tile "continent" values are not (it should not affect normal
	operation).  This allows a simple implementation of the previous
	change.

	- Adds gamelog() calls to the new
	check_terrain_ocean_land_change() function.

	- Does a klugey thing in gamelog() itself (we should fix the
	gamelog format and open/close semantics someday...).

	- Finally, to make use of all this, changes
	default/terrain.ruleset to allow Transforming Swamp into Ocean
	(was Swamp->Plains; may still do Swamp->Forest->Plains (and it's
	faster!)), and Mining Forest into Swamp.

	Finally:

	- Fixes an unrelated bug in the ACTIVITY_MINE case of
	can_unit_do_activity_targeted().

	Bug reported by Cameron Morland <cjmorland@uwaterloo.ca>.

Tue Apr 25 08:17:14 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, client/climisc.c,
	client/control.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-mui/citydlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapview.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, common/unit.c, server/cityturn.c,
	server/gotohand.c, server/settlers.c, server/unitfunc.c,
	server/unithand.c:

	Convert many calls of unit_list_find(&pplayer->units) to new
	function player_find_unit_by_id(), and similarly some calls of
	city_list_find() to player_find_city_by_id(), in preparation for
	future optimisations.

Tue Apr 25 07:39:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h:

	Add function player_find_unit_by_id(), currently just a wrapper
	for unit_list_find(&pplayer->units), but planned to be optimised.

Tue Apr 25 07:36:51 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/packhand.c, common/game.c,
	common/game.h:

	Remove function game_find_unit_by_id() in favour of existing
	identical function find_unit_by_id().

Mon Apr 24 13:15:35 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Move misplaced LOG_DEBUG calls in map_fog_city_area() and
	map_unfog_city_area()

Mon Apr 24 01:32:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Apr 23 23:28:03 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c:

	Allow the player to select one of the unit under the currently
	selected unit by simply clicking on one the pixmaps displayed on
	the left of the screen. GTK client only.  Patch submitted by Eric
	Brunet <ebrunet@clipper.ens.fr>

Sun Apr 23 23:13:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fixes bug where the unit conquering a city were afterwards
	supported by the conquered city.  Bug report and patch by Anders
	Wegge Jakobsen <wegge@wegge.dk> with a little cleanup by me.

Sun Apr 23 22:53:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/citytools.h, server/diplhand.c,
	server/unitfunc.c, server/unithand.c:

	Moving call to raze_city into transfer_city, noticably before
	send_city_info, to make sure the effects are send to the clients.
	Fixes bugs where palace and shield stock were percieved to not be
	erazed.  Bug reported by Cameron Morland <cjmorlan@uwaterloo.ca>
	and Jan Felix Heidefuß

Sun Apr 23 11:31:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c:

	In hash_key_exists() and hash_lookup_data(), check bucket->used
	against BUCKET_USED, not just boolean value, in case
	BUCKET_DELETED.  (Doesn't fix any user-visible bugs, because
	freeciv code currently doesn't use hash_delete_entry(); also
	hash_lookup_data() was accidently ok before because deleted
	buckets are zeroed.)

Sun Apr 23 05:27:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Add a timer (with --debug 2) for total end/start-turn server/ai
	activities.

Sun Apr 23 05:26:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/nation/latvian.ruleset:

	Fix capitalisation of "Cure For Cancer" in Latvian nation ruleset,
	so that it matches correctly.

Sat Apr 22 16:07:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c, server/citytools.h, server/cityturn.c,
	server/unitfunc.c, server/unittools.c, server/unittools.h:

	Bug fixes and general clean-up of unit transfer and unit stack
	conflict resolution code.  Especially fixes bug causing an
	infinite loop in resolve_unit_stack().  Patch submitted by Thue
	Janus Kristensen <thue@diku.dk>.

Fri Apr 21 13:05:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Fix bug in recent transitive unit upgrade patch whereby unit
	production in cities were upgraded to themselves each turn.

Fri Apr 21 03:09:37 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/chatline.c, client/gui-gtk/chatline.h,
	client/gui-gtk/gui_main.c:

	Fix problem that Gtk+ client always put extra line (ie extra
	newline) at end of output window, wasting space.  Bug (PR#328)
	reported by Urban <mueller@relog.ch>.

Thu Apr 20 19:55:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Make the Xaw and Gtk clients actually update the overview map all
	the time.  The code didn't take into account the possibility that
	pos could be less than zero.  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Thu Apr 20 18:33:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, common/unit.c, server/cityturn.c:

	Made unit upgrades transitive.  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Thu Apr 20 16:12:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	Fix bug whereby when a unit was airlifted (via do_airline()) the
	sight- points weren't being transferred.  Patch submitted by Thue
	Janus Kristensen <thue@diku.dk>.

Sun Apr 16 16:45:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Apr 16 16:31:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/estonian.ruleset,
	data/nation/filipino.ruleset, data/nation/latvian.ruleset,
	data/trident/flags.spec, data/trident/flags.xpm:

	Added the Estonian, Filipino and Latvian nations.  Nation data by
	Robert Brady <rwb197@ecs.soton.ac.uk>, flags by me.

Sun Apr 16 14:35:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/control.c, client/control.h,
	client/packhand.c, client/packhand.h, client/gui-gtk/dialogs.c,
	client/gui-stub/dialogs.c, client/gui-mui/dialogs.c,
	client/include/dialogs_g.h, client/gui-xaw/dialogs.c,
	common/capstr.c, common/packets.h, common/unit.c, common/unit.h,
	server/unithand.c:

	Fixed bug whereby Diplomats/Spies moving by GoTo would not pop-up
	the Diplomat/Spy command dialog when they reached a city.  Fixes
	PR#37 and PR#306.  Bug reported by AP Remmers
	<aremmers@nerdherd.org> and Mark Nettle
	<markn@teach.bhs.mq.edu.au>.  Solution proposed by David Pfitzner
	<dwp@mso.anu.edu.au>.  Implementation by Thue Janus Kristensen
	<thue@diku.dk> and me.

Sun Apr 16 13:10:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in, server/gamehand.c, server/plrhand.c:

	Fixed bug where the "Year: " message sent to the message window
	was one off from the actual year (as displayed in the info box). 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>, with i18n
	support added.

Sun Apr 16 12:53:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/map.h,
	common/packets.c, common/unit.c, common/unit.h,
	data/civ1/terrain.ruleset, data/civ2/terrain.ruleset,
	data/classic/terrain.ruleset, data/default/terrain.ruleset,
	server/ruleset.c, server/unitfunc.c, server/unithand.c:

	Fixed terrain ruleset code to allow
	irrigation/mining/transformation of ocean tiles into land tiles. 
	(The ruleset structure appeared to support this, but the code
	didn't.)  Added an extra constraint to changing ocean to land:
	must have at least "ocean_reclaim_requirement" land tiles adjacent
	to the ocean tile being changed.  The default ruleset allows
	Engineering Transformation of Ocean to Swamp.  Patch submitted by
	Cameron Morland <cjmorland@uwaterloo.ca>, committed with several
	fixes.

Fri Apr 14 13:52:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c, server/unittools.c:

	Fixes transporter space functions.  Specifically: - Changed
	is_enough_transporter_space() to count only the given player's
	transporters and units.  (It is currently only used where only one
	players units are on the tile so this won't fix any bugs.) -
	Changed is_transporter_with_free_space() to report only on given
	players' units (as it seems was intended).  - Also, while looking
	at how is_enough_transporter_space() was called, it seemed to me
	that there was a bug in the code near the end of
	resolve_unit_stack() -- the comment says to teleport the *surplus*
	units, but the code teleports *all* units.  This is also fixed. 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>.  Second
	and third changes by me.

Fri Apr 14 12:53:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c, server/unithand.c, server/unittools.c:

	Fixes potential infinite loop in server.  Specifically: -
	Conditionalizes the resolve_unit_stack() call in the loop in
	transfer_city_units() on x,y not being a city location.  - Minor
	clean-up of resolve_unit_stack().  - Removes re-use of x and y in
	transfer_city_units().  - Changes transfer_city() call in
	civil_war() to not ask for resolving stack conflicts.  - Adds a
	stack conflict resolution loop just before the short-circuit
	'return;' in civil_war().  - Adds "if (do_civil_war)
	civil_war(cplayer);" before the short-circuit 'return;' in
	handle_unit_enter_city().

Mon Apr 10 21:55:11 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Increased the default width of the change dialog by 30 pixels.

Mon Apr 10 21:28:54 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Attempt to fix the Apollo Program map bug.

Sun Apr  9 04:59:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/chatline.c:

	Changed type of windowwth in append_output_window() from 'int' to
	'Dimension'.  (Was seeing strange output window wrapping behaviour
	in Xaw client, traced to bogus values for windowwth.)

Sun Apr  9 04:58:26 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/worklist.c:

	In init_worklist() initialize all ids (not just first) to avoid
	junk values in savegames.

Sun Apr  9 04:57:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c:

	Fix bug that AI may use uninitialized data, specifically
	pcity->ai.wallvalue via assess_defense() when called for "foreign"
	cities, in invasion_funct() and ai_military_gothere(). 
	(pcity->ai.wallvalue is only calculated for AI players, and maybe
	only reliable for the "current" ai player?) Replaced these calls
	to assess_defense() with new function has_defense(), which is a
	simplified version of assess_defense() which only returns boolean
	value and doesn't use pcity->ai.wallvalue.

Sun Apr  9 04:42:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/chatline.c:

	Add explicit 'int' type for variable m_width in
	append_output_window() (prevents gcc warning).

Fri Apr  7 22:14:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, common/unit.c, common/unit.h:

	Removed raise_unit_top() function.  It and calls to it made
	obsolete when find_visible_unit() was made independent of unit
	genlist order.  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Fri Apr  7 22:06:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/gui-gtk/mapview.c,
	client/gui-mui/mapview.c, client/gui-stub/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/include/mapview_g.h:

	Cleanup blink_active_unit() function: 1) move it to control.c as
	it seems to be gui-independent; 2) remove legacy code (putting a
	unit on top of linked list) made obsolete by the changes in
	find_visible_unit().  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Fri Apr  7 21:37:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt, ai/aicity.c, ai/aihand.c,
	client/civclient.c, client/packhand.c, client/packhand.h,
	client/tilespec.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/dialogs.h, client/gui-mui/dialogs.c,
	client/gui-stub/dialogs.c, client/include/dialogs_g.h,
	client/gui-xaw/dialogs.c, common/capstr.c, common/packets.c,
	common/packets.h, common/player.c, common/unit.c, common/unit.h,
	server/barbarian.c, server/cityhand.c, server/cityhand.h,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/civserver.c, server/diplhand.c, server/gamehand.c,
	server/maphand.c, server/maphand.h, server/plrhand.c,
	server/plrhand.h, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unittools.c:

	Implemented Full Fog of War.  Now, terrain changes (including
	building infrastructure and cities) will not be seen unless a
	player has a unit or city close enough to witness the change. 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>.

Fri Apr  7 21:14:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c:

	Fix bug in Gtk+ client where scrollbars were not initialized
	correctly if the map size was other than 80x50.  Bug reported and
	patch submitted by Thue Janus Kristensen <thue@diku.dk>.

Fri Apr  7 18:45:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Updated Mini Style Guide section of the Hacker's Guide.

Fri Apr  7 15:59:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c, server/gotohand.c:

	Removed complexity from do_unit_goto() rendered needless by the
	patch which allowed setting unit activity with zero movement. 
	Also removed a "moves_left" that had escaped deletion in
	can_unit_do_activity_targeted().  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Fri Apr  7 15:39:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/chatline.c:

	Changed Xaw client output window to wrap based on actual width of
	window and (assumed fixed) width of font.

Fri Apr  7 15:29:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Add --with-xaw and --enable-client=xaw3d options to ./configure
	script.  Suggested by David Pfitzner <dwp@mso.anu.edu.au>.

Fri Apr  7 15:03:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/.cvsignore, client/gui-gtk/Makefile.am,
	client/gui-gtk/Makefile.in, client/gui-xaw/.cvsignore,
	client/gui-xaw/Freeciv.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in:

	Remove gui-xaw/Freeciv.h from CVS.  Arranged CVS and make so as to
	not have gui-xaw/Freeciv.h and gui-gtk/Freeciv.h included in the
	CVS.  Developers will want to add Freeciv.h to their "diff -X"
	exclude file.  Suggestion by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Apr  3 12:24:23 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h:

	Revert previous change of use of hashing in registry: it had a
	bigger impact on time to save a game than I had realized.

Mon Apr  3 12:23:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Added timing of save_game (with --debug 2).

Sun Apr  2 17:43:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c:

	Display in help dialog which buildings an advance will obsolete. 
	Patch submitted by Moses Lei <trumpkin@wizard.net>, with Xaw
	implementation by me.

Sun Apr  2 17:26:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/options.c,
	client/options.h, client/packhand.c, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-mui/mapview.c,
	client/gui-stub/mapview.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/actions.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/include/mapview_g.h, data/Freeciv,
	data/engels.tilespec, data/engels_shields.tilespec,
	data/trident.tilespec, data/trident_shields.tilespec:

	Add showing city productions on main map.  This is optional. 
	Also, makes display of city names on main map an option.  Patch
	submitted by Raimar Falke <rf13@inf.tu-dresden.de>, with Xaw
	implementation and some fixes by me.

Sun Apr  2 16:48:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-stub/Makefile.am, client/gui-stub/Makefile.in,
	client/gui-stub/dialogs.c, client/gui-stub/graphics.c,
	client/gui-stub/wldlg.c, client/gui-stub/wldlg.h:

	Bring gui-stub up to date.

Sun Apr  2 16:11:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c:

	Fixed two bugs in get_packet_from_connection():  1. The test for
	having received at least the minimum packet length was incorrect; 
	2. When a byte-swapped packet was received, its corrected length
	was written into the packet buffer before the test for having
	received a complete packet was performed.

Sun Apr  2 01:08:07 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/aicity.c, client/cityrepdata.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/wldlg.c,
	client/gui-mui/citydlg.c, client/gui-mui/worklistclass.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/wldlg.c, common/city.c,
	common/city.h, common/player.c, common/player.h,
	server/cityhand.c, server/citytools.c, server/citytools.h,
	server/cityturn.c, server/plrhand.c:

	Minor changes to prepare for future buildings generalisation: -
	Introduced Impr_Type_id typdef, currently to enum
	improvement_type_id; - Renamed get_imp_name_ex() to
	get_impr_name_ex() for consistency or future consistency (?), and
	some other _imp_ functions similarly.

Fri Mar 31 07:06:19 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/civserver.c,
	server/gamehand.c, server/stdinhand.c, server/stdinhand.h:

	Added server option "autotoggle", which toggles AI status on and
	off as players connect and disconnect.

	Added a call to lost_connection_to_player() in
	cut_player_connection(), to tell other clients about the removal
	(probably why 'cut' appeared not to work for some people).

	Removed a call to lost_connection_to_player() in
	handle_request_join_game(), which simply generated messages about
	"lost connection to unknown" when a player tried to connect with a
	wrong name.

Fri Mar 31 07:02:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Show barbarian players in the server-side player list (on console
	or for players with cmdlevel ctrl or better).  Eg, allows seeing
	their name and current skill level.

Fri Mar 31 07:00:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c:

	Made default barbarian skill level be game.skill_level.

Fri Mar 31 06:59:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c:

	Added some more comments about memory management of keys and
	user-data when using hash tables.

Fri Mar 31 06:57:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h:

	Change registry to make better and more consistent use of hashing.
	Instead of building a static hash table at the end, the
	section_file is kept always hashed dynamically, which allows
	simpler code for insertions and lookups.  There is a small
	performance penalty for this extra flexibility, but shouldn't be
	noticeble in practice (eg, < 10% loading typical savegame).

Fri Mar 31 06:54:19 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c:

	Clean up the tilespec code to use a hash table directly, rather
	than via registry.  Since the raw hash table can easily store
	pointers directly, this allows removing the tile_sprites array and
	related code (used to store indices in registry).  This also
	removes the limitation that tilespec tags must be in
	"section.entry" form (ie, contain a '.').

Fri Mar 31 06:52:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c, common/hash.h:

	Extends the functionality of common/hash.c, to remove the previous
	main limitations: individual elements can now be deleted, and the
	hash table dynamically resizes as new elements are added.

Wed Mar 29 21:23:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset,
	server/civserver.c, server/stdinhand.c:

	Added correct Civ2 style of Apollo wonder (shows entire map,
	rather than just cities).  Selected by civstyle server option. 
	Bug reported by Tuomas Airaksinen <tuma@linuxfan.com>.

Wed Mar 29 19:09:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/ruleset.c:

	Fixed bug where game.add_to_size_limit was not being communicated
	correctly to the client.

Tue Mar 28 22:08:24 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Added more debug log messages.

Sun Mar 26 04:22:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt:

	Fix "thedefender" typo in helptext due to missing space.  Bug
	report and patch submitted by Paul Zastoupil <paulz@adnc.com>.

Sun Mar 26 03:42:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/Makefile.am, client/Makefile.in:

	Adjust BeOS stuff in configure:  Remove client/gui-beos/Makefile
	from generation list, because client/gui-beos will not participate
	in the automake machinery.  Adjust flag-handling for recent
	changes to configure.in debug enabling, and allowing
	client/civclient to compile into an executable on this platform
	(using some libraries to come later).  Patch (PR#315) submitted by
	Joseph Beckenbach <jrb3@bdhsw.com>.  Also remove gui-beos from
	client/Makefile.am so, eg, 'make dist' works.

Sat Mar 25 02:47:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/freeciv.rc:

	Change help text font for Gtk+ client (back) to explicitly specify
	iso8859 registry, to display non-ascii letters properly.  Problem
	reported by Egbert Hinzen <egbert@ehinzen.de>.  Fix suggested by
	Jeff Mallatt <jjm@codewell.com>.

Wed Mar 22 22:29:55 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/amigaserver.c, amiga/smakefile:

	Updated amiga/smakefile.

	Fixed Enforcer hit in in amiga/amigaserver.c.

Tue Mar 21 18:02:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/actions.c,
	client/gui-xaw/chatline.c, client/gui-xaw/chatline.h,
	client/gui-xaw/citydlg.c, client/gui-xaw/citydlg.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/connectdlg.h,
	client/gui-xaw/dialogs.c, client/gui-xaw/dialogs.h,
	client/gui-xaw/diplodlg.c, client/gui-xaw/diplodlg.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, data/Freeciv:

	Further cleanup of Xaw client key dispatching.  All key
	translations are now specified in the resource file -- none are
	hard-coded.

Tue Mar 21 17:53:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c:

	Fix bug in show_area() whereby when fogofwar was off, unit info
	was not sent.  Bug reported and patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Tue Mar 21 17:43:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	Fixes bug whereby if a Trireme was in a city on a single-square
	island, it was susceptible to sinking.  Bug reported and patch
	submitted by cjmorland <cjmorland@uwaterloo.ca>.

Tue Mar 21 15:43:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aicity.c:

	Changed ai_new_spend_gold() to discount the "gold reserve".  Patch
	submitted by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu>.

Tue Mar 21 14:42:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/plrdlg.c:

	Xaw client truncate long leader names in Players dialog.

Tue Mar 21 14:34:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c:

	Fixed a bug in Gtk+ Select Nation dialog whereby when one player
	joins, the wrong nation was disabled in all the other clients. 
	Also added random nation and leader selection.  Patch submitted by
	Raimar Falke <rf13@inf.tu-dresden.de>; random selection idea by
	David Pfitzner <dwp@mso.anu.edu.au>.

Tue Mar 21 14:17:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/dialogs.c, client/gui-xaw/repodlgs.c:

	Xaw client implementation of sorting in Science Advisor dialog and
	Select Nation dialog.  Also adds random selection of nation and
	leader.  Random selection idea by David Pfitzner
	<dwp@mso.anu.edu.au>.

Tue Mar 21 14:02:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/finddlg.c, po/POTFILES.in:

	Internationalized gui-gtk/finddlg.c.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>.

Tue Mar 21 13:48:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/dialogs.c, client/gui-gtk/dialogs.c,
	data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/brazilian.ruleset,
	data/nation/cornish.ruleset, data/nation/english.ruleset,
	data/nation/irish.ruleset, data/nation/italian.ruleset,
	data/nation/misc_cities.ruleset, data/nation/roman.ruleset,
	po/POTFILES.in, data/trident/flags.spec, data/trident/flags.xpm:

	Adds new nations and minor fixes/additions to existing ones: *
	adds Irish, Cornish and Italians * makes Romans use Roman flag,
	not Italian flag * female Dictators are Dictatrices * fiddle a bit
	with the English * make Dutch use f.netherlands, not f.holland *
	adds many UK villages and towns with strange names to misc cities
	Patch submitted by Robert Brady <rwb197@ecs.soton.ac.uk>, with
	some fixes and Engels and Shields flags by me.

Tue Mar 21 11:33:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/hash.c,
	common/hash.h, common/registry.c:

	Split hash table functionality from registry.c out into a separate
	module common/hash.  Initially hash.c is missing some important
	functionality in terms of being a general hashing implementation
	(resizing the table and deleting elements), but it should be
	straightforward to extend.

Tue Mar 21 11:26:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/civ1.serv, data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/nations.ruleset, data/default/nations.ruleset,
	data/nation/.cvsignore, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/american.ruleset,
	data/nation/arab.ruleset, data/nation/argentine.ruleset,
	data/nation/australian.ruleset, data/nation/aztec.ruleset,
	data/nation/babylonian.ruleset, data/nation/barbarian.ruleset,
	data/nation/bavarian.ruleset, data/nation/brazilian.ruleset,
	data/nation/canadian.ruleset, data/nation/carthaginian.ruleset,
	data/nation/chinese.ruleset, data/nation/czech.ruleset,
	data/nation/danish.ruleset, data/nation/dunedain.ruleset,
	data/nation/dutch.ruleset, data/nation/egyptian.ruleset,
	data/nation/english.ruleset, data/nation/finnish.ruleset,
	data/nation/french.ruleset, data/nation/german.ruleset,
	data/nation/greek.ruleset, data/nation/hungarian.ruleset,
	data/nation/inca.ruleset, data/nation/indian.ruleset,
	data/nation/israeli.ruleset, data/nation/japanese.ruleset,
	data/nation/kenyan.ruleset, data/nation/korean.ruleset,
	data/nation/krevi.ruleset, data/nation/lithuanian.ruleset,
	data/nation/misc_cities.ruleset, data/nation/mongol.ruleset,
	data/nation/mordor.ruleset, data/nation/olympic.ruleset,
	data/nation/persian.ruleset, data/nation/polish.ruleset,
	data/nation/portuguese.ruleset, data/nation/roman.ruleset,
	data/nation/russian.ruleset, data/nation/scottish.ruleset,
	data/nation/sioux.ruleset, data/nation/spanish.ruleset,
	data/nation/swedish.ruleset, data/nation/thai.ruleset,
	data/nation/turk.ruleset, data/nation/ukrainian.ruleset,
	data/nation/vietnamese.ruleset, data/nation/viking.ruleset,
	data/nation/welsh.ruleset, data/nation/zulu.ruleset,
	po/POTFILES.in:

	Split nations.ruleset up into separate files, one per nation, in
	new data/nation directory.  Added civ1/nations.ruleset, though not
	used by default, even using civ1.serv.

Tue Mar 21 11:13:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/nation:

	Directory /home/freeciv/CVS/freeciv/data/nation added to the
	repository

Mon Mar 20 07:15:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in:

	Attempt to fix problem that -lintl on link line is required on
	some systems but not put there by AM_GNU_GETTEXT in configure. 
	(Add -lintl to LIBS when $gt_cv_func_gettext_libintl is "yes".)
	Problem reported by a number of people including: David Lang
	<dlang@dlang.diginsite.com>, Luis Lastras
	<lastras@ee.cornell.edu>, Johan Andersson <zrq501j@tninet.se>, Jan
	Riedinger <jan@physik.TU-Berlin.DE>, Piotr Sulecki
	<Piotr.Sulecki@ios.krakow.pl>.  Bugs PR#162, PR#190, PR#247,
	PR#255, PR#268.

Sun Mar 19 14:35:56 2000  Sebastian Bauer <sebauer@t-online.de>:

	* acconfig.h, config.h.in, configure, configure.in,
	amiga/.cvsignore, amiga/amigaserver.c, common/packets.c,
	server/sernet.c:

	Added check for the fcntl and ioctl functions in configure. 
	Changed server/sernet.c also to use ioctl() to switch to non
	blocking mode (if fcntl() is not available).  Added and use
	NONBLOCKING_SOCKETS define (will be set in configure if fcntl() or
	ioctl() is available)

	Addapted the amiga/amigaserver.c (provide a ioctl() stub)

	Forgot to commit the amiga/.cvsignore file in my last patch.

Sun Mar 19 13:45:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/mapview.c:

	Fixed bug in Xaw client introduced by "extra bottom line" display
	patch whereby the vertical scrollbar wasn't handled correctly. 
	Bug reported by David Pfitzner <dwp@mso.anu.edu.au>.

Sun Mar 19 04:29:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Made 'barbarians' and 'onsetbarbs' server options
	SSET_RULES_FLEXIBLE so that they can be changed during a game. 
	Added some altered and slightly more extensive comments about
	which options should be SSET_RULES_FLEXIBLE.

Sun Mar 19 04:05:00 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c, common/log.h, common/speclist.h:

	Renamed variables called 'this' to be kind to C++ compilers. 
	Problem reported by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>
	and Joseph Beckenbach <jrb3@bdhsw.com>.  Patch submitted by Joseph
	Beckenbach <jrb3@bdhsw.com>.

Sat Mar 18 09:54:41 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/ReadMe.2Amigas, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/makedirs, amiga/smakefile,
	client/gui-mui/citydlg.c, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapview.c,
	client/gui-mui/muistuff.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/scrollbuttonclass.h,
	client/gui-mui/worklistclass.c, server/cityturn.c,
	server/civserver.c, server/ruleset.c, server/settlers.c,
	server/unitfunc.c:

	Mui client: Now closes the city worklist window if the city window
	is closed.  Added two balance objects in the help window and
	changed the tech tree layout a little bit.  Added a scrollbutton
	for the Map.  Reindented client/gui-mui/connectdlg.c.

	Added amiga/ReadMe.2Amigas document by Ivan kosak
	<ivan.kosak@sk.tel.hr>.

	Improved amiga/smakefile.  Removed amiga/makedirs script (no
	longer required).  Updated amiga/.cvsignore

	select() stub in amiga/amigaclient.c inet_ntoa() stub in
	amiga/amigaserver.c

	Adding some missing static's in some server source files.  Minor
	layout changes in some server source files (to allow compiliation
	with VBCC).

	Removed the inputhandler from amiga/amigaserver.c and use packets
	of dos.library instead.  Modified amiga/amigaserver.c to allow
	compiliation with VBCC.

	The last two things done with help of Tajti Attila
	<hilandr@freemail.hu>.

Sat Mar 18 00:14:14 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Bug fix to enable correct compilation on machines without fcntl().

Fri Mar 17 18:06:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Fix bug where, just after building a Settlers, workers were
	arranged without regard to the newly created unit (hence, the unit
	was immediately disbanded).  Fixes PR#298.  Bug reported by
	Reinier Post <rp@win.tue.nl>.  Fix by Reinier Post <rp@win.tue.nl>
	and me.

Fri Mar 17 17:52:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-xaw/connectdlg.c:

	Disables the Turn Done button for when a game is not yet started. 
	Patch submitted by Mika Korhonen <mikak@ee.oulu.fi>, with Xaw
	implementation and minor fix by me.

Fri Mar 17 17:23:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, common/unit.c, common/unit.h,
	data/helpdata.txt, server/gamehand.c, server/stdinhand.c,
	server/unithand.c:

	Add server option "killcitizen", which determines the types of
	units that cause a city to lose population after a successful
	attack.  Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Fri Mar 17 17:06:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/packhand.c,
	client/tilespec.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-mui/overviewclass.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, common/player.c, common/player.h:

	Fixes bug where transporters contents were shown on top of
	transporter even when not in focus.  Also, never show to enemies
	(except during combat).  Cleans-up focus-unit handling and
	display.  Patch submitted by Thue Janus Kristensen <thue@diku.dk>,
	committed with minor fixes.

Fri Mar 17 16:44:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Corrected a couple Spanish city names.  Patch submitted by martin
	<martin.mcmahon@ukonline.co.uk>.

Fri Mar 17 13:25:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/nl.po:

	Updated Dutch (nl) translation.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>.

Thu Mar 16 19:55:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/nl.po:

	Added the Dutch (nl) translation.  Translation submitted by Pieter
	J. Kersten <kersten@dia.eur.nl>.

Wed Mar 15 20:15:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/gui-gtk/mapctrl.c,
	client/gui-mui/gui_main.c, client/gui-xaw/mapctrl.c:

	Minor clean-up of focus unit handling.  Made punit_focus static. 
	(MUI client needs to be checked.)

Wed Mar 15 19:43:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Allow Hoover Dam to be built anywhere, to conform to Civ2.  Patch
	submitted by Daniel Zinsli <s830+priv@ii.uib.no>.

Wed Mar 15 19:32:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added accents to several Spanish nation city names.  Patch
	submitted by Joaquin Cuenca Abela <cuenca@ie2.u-psud.fr>.

Wed Mar 15 19:18:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Wed Mar 15 19:01:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/repodlgs.c, common/tech.c, common/tech.h:

	Display research turns per advance in Science Advisor dialog. 
	Patch submitted by Daniel Zinsli <s830+priv@ii.uib.no>, with Xaw
	implementation by me.

Wed Mar 15 18:44:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/repodlgs.c:

	Added sorting to Nation Select and Science Advisor dialogs.  Patch
	submitted by Raimar Falke <hawk@A315-2b.wh8.tu-dresden.de>,
	committed with a few bug fixes.

Wed Mar 15 18:08:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c:

	Changed can_unit_do_activity_targeted() to allow units to change
	activity without being in ACTIVITY_IDLE state.  Patch submitted by
	Thue Janus Kristensen <thue@diku.dk>.

Wed Mar 15 17:58:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/gui-gtk/citydlg.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c, data/Freeciv:

	Adds the Sentry and Fortify items to the Xaw City dialog Unit
	pop-up, as were previously added to the GTK+ client.  I moved the
	routines that request the activity change to control.[hc], to
	conform with other usage and so that the Xaw client could use the
	same code.

Wed Mar 15 17:27:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h:

	Fixed Xaw client bug whereby the bottom fractional row was not
	being drawn when a game was loaded/started.

Wed Mar 15 17:18:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-mui/mapview.c,
	client/gui-xaw/mapview.c:

	Fix automatic recentering: 1) Recenter the map when a unit is 2
	tiles from the edge of the screen, instead of 1 as before.  2)
	When moving a unit at the poles previously it would, since the
	pole is at the edge of the map, recenter the screen at every
	move... DUH :) Adds a little extra check to prevent this.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Wed Mar 15 16:10:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Changed drawing so that bottom row is fully visible.

	As of now the top left corner is always aligned with the tiles.
	This is what causes the problem in the first place. The ideal
	solution would be to align the window with the bottom left tiles
	if you tried to center the window on a tile closer than
	(screen_tiles_height/2 -1) to the south pole.

	But, for now, I just grepped for occurrences where the ysize (or
	the values derived from it) were used, and those places that had
	relevance to drawing the map, and I added 1 (using the
	EXTRA_BOTTOM_ROW constant).

	Patch submitted by Thue Janus Kristensen <thue@diku.dk>, with Xaw
	implementation by me.

Wed Mar 15 14:56:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.h:

	Changed default for "onsetbarbs" server option to be 1/3 of the
	way from the default game start to the default game end. 
	Suggested by Tomasz Wegrzanowski <maniek@beer.com>.

Wed Mar 15 14:34:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.h, server/settlers.c:

	When it was made illegal to make cities adjacent to one another
	you forgot to tell the ai autosettlers. As a result, at some point
	most ai autosettlers will just stand and try to make a city turn
	after turn.  This patch fixes that. Note that the patch does not
	just stop the ai settlers from building cities next right next to
	other cities (the actual bug), but also from inside the worked
	area of other cities. The ai did this late in the game on well
	developed continents (because it had a large surplus of settlers
	and no obvious cities to add to within the range they checked, I
	think), as such robbing the existing big cities of their land. 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>.

Wed Mar 15 14:14:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/options.c, client/options.h:

	Added "End Turn when done moving" local option.  Patch submitted
	by Daniel Zinsli <s830+priv@ii.uib.no>.

Wed Mar 15 14:03:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advmilitary.c, ai/aiunit.c, client/control.c,
	client/tilespec.c, client/tilespec.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-xaw/menu.c, common/capstr.c,
	common/unit.c, common/unit.h, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/trident/tiles.spec,
	data/trident/tiles.xpm, server/plrhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c:

	Split ACTIVITY_FORTIFY up into ACTIVITY_FORTIFYING and
	ACTIVITY_FORTIFIED.  Now, when you fortify a unit it starts out as
	ACTIVITY_FORTIFYING and after one turn is changed to
	ACTIVITY_FORTYFIED. If the unit has 0 movepoints when the order is
	given it takes 2 turns. I believe this is how fortifying worked in
	payciv. Also allows you to give settlers orders even when they
	have 0 movement points left.  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>, with artwork by me (so blame me, not
	him :).

Tue Mar 14 13:30:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Changed Sioux to use f.cheyenne flag.

Tue Mar 14 12:54:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/misc/shields.spec, data/trident/flags.spec:

	Name the Cheyenne flag correctly (was named f.sioux).  Patch
	submitted by Lalo Martins <lalo@debian.org>.

Tue Mar 14 12:25:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Brazilian nation.  Patch submitted by Lalo Martins
	<lalo@debian.org> and Richard Garrel <rgarrel@bhnet.com.br>.

Mon Mar 13 23:18:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added some Polish town names to the misc city names list.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Mon Mar 13 07:58:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c:

	Marked a string in GTK+ middle-button popup.  Bug reported by
	Egbert Hinzen <garfy@ehinzen.de>.

Mon Mar 13 04:32:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt, ai/aicity.c, ai/aitools.c,
	ai/aiunit.c, client/climisc.c, client/control.c,
	client/packhand.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-mui/mapclass.c, client/gui-xaw/mapctrl.c,
	common/capstr.c, common/game.c, common/game.h, common/map.c,
	common/map.h, data/engels/tiles.spec, data/engels/tiles.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm,
	server/autoattack.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/civserver.c,
	server/diplhand.c, server/gamehand.c, server/gotohand.c,
	server/maphand.c, server/maphand.h, server/plrhand.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unithand.h,
	server/unittools.c:

	Fog of War for units.  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Mon Mar 13 01:48:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Finnish leader; fixed some names.  Patch submitted by Tuomas
	Airaksinen <tuma@linuxfan.com>.

Sun Mar 12 23:50:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added the Bavarian nation and flags.  Patch submitted by Jan
	Heidefuss <jan_heidefuss@yahoo.de>.

Sun Mar 12 22:39:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added Mordor nation and flags.  Patch submitted by Paul Zastoupil
	<paulz@adnc.com>.

Sun Mar 12 22:05:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Changed section names in nations.ruleset from [nation#] to
	[nation_name].  Patch suggested by David Pfitzner
	<dwp@mso.anu.edu.au>.

Sun Mar 12 21:08:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.spec, data/engels/flags.xpm,
	data/misc/shields.spec, data/misc/shields.xpm,
	data/trident/flags.spec, data/trident/flags.xpm:

	Added flags for Bulgaria, Armenia, Azerbaijan and Boer.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Sun Mar 12 07:06:20 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Do not list barbarian players in metaserver, and do not allow
	connections to barbarian players.  Bug (PR#290, PR#295) reported
	by Rizos Sakellariou <rizos@rice.edu>, Tuomas Airaksinen
	<tuma@linuxfan.com>, and others.  Patch submitted by Reinier Post
	<rp@win.tue.nl>.

Sat Mar 11 14:11:57 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c:

	Fix bug that penalty for production change was not applied when a
	city had been prevented from finishing building a Settler due to
	being size 1.  (Fix: don't update pcity-> turn_last_built until
	unit is actually built.) Bug (PR#281) reported by Mark Hayden
	<hayden@ispchannel.com>.

Sat Mar 11 13:07:58 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/cityrep.c:

	Add a cast to avoid another Solaris cc warning.

Sat Mar 11 13:02:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c:

	Fudge FRETURN macro (no effective change) to avoid spurious
	warning message from Solaris cc.  Warning reported in PR#269 by
	Reinier Post <rp@win.tue.nl>.

Sat Mar 11 12:50:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c:

	Fix bug that using Change (to unit) for multiple cities in Gtk+
	city report only changed the first city.   Bug (PR#270) reported
	by "jf" <jean-francois.bonnet@math-info.univ-paris5.fr>.

Sat Mar 11 12:21:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c:

	Removed an unnecessary/duplicate check for req==A_LAST in
	could_player_eventually_build_improvement().

Fri Mar 10 21:44:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, common/unit.c, common/unit.h,
	server/unittools.c:

	Added "IgTired" unit flag.  Units with this flag do not suffer an
	attack penalty when they have less than one movement point left. 
	Useful for modpacks about guerrilla warfare.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>, though without changes to
	default units.ruleset.

Fri Mar 10 19:45:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Removed out of date, maintainer-specific information from hacker's
	guide.

Fri Mar 10 06:03:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/misc/shields.spec, data/trident/flags.spec:

	Changed tag "f.holland" to more accurate "f.netherlands", as
	suggested by Reinier Post <rp@win.tue.nl>.  Old tag kept as alias,
	for backward compatibility.

Fri Mar 10 00:45:41 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Added sentry and fortify options to the present units popup. 
	Patch submitted by Thue Janus Kristensen.

Fri Mar 10 00:17:48 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	patch to fix a cut in the right of the progress bar.  Bug reported
	by Thue Janus Kristensen.

Sun Mar  5 16:13:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* config.h.in, configure:

	Ran autoheader;autoconf for non-blocking sockets changes. 
	Requested by Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>.

Sun Mar  5 16:00:51 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	oops, forgot a default: in the switch, messy.

Sun Mar  5 15:59:06 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Added a 5 second timeout to write().

Sun Mar  5 15:00:56 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* configure.in, common/packets.c, client/clinet.c,
	server/sernet.c:

	Added support for non-blocking sockets (only for reads, writes
	still block)

Sun Mar  5 13:51:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Re-implemented ai_manage_units() in a way that, I hope, will avoid
	all possible subordinate-routine wipe_unit()-caused dangling
	pointer problems.  Fixes PR#263 (part 3), PR#267.  Bug reported by
	Mike Jing <miky40@hotmail.com> and Tuomas Airaksinen
	<tuma@linuxfan.com>.

Sun Mar  5 13:39:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Fix bug whereby when a boat fails an attack, it causes a core dump
	because the code doesn't check for its death (in
	ai_military_gothere()).  Partial fix for PR#263, PR#267.  Bug
	reported by Mike Jing <miky40@hotmail.com> and Tuomas Airaksinen
	<tuma@linuxfan.com>.

Sun Mar  5 13:28:46 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/meta.c:

	Put inet_addr() and bind() calls back in.  It seems that 'named'
	could not be running and cause gethostbyname() to fail.  This way
	we can still rely on numbers and dots addresses.  Also since this
	is a datagram socket we should call bind() first.  (It still
	worked without bind() though).

Sun Mar  5 01:27:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/Makefile.in:

	Automake update for Gtk+ resources changes, requested by Vasco.

Sat Mar  4 20:09:25 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/Makefile.am, client/gui-gtk/citydlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/spaceshipdlg.c:

	Made changes to remove hardcode values and enable gtk+ resource
	file loading.

Sat Mar  4 20:07:13 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc:

	Added gtk+ resource file for the client.

Sat Mar  4 20:06:16 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/rc2c, client/gui-gtk/resources.c,
	client/gui-gtk/resources.h:

	Added files for gtk+ resource file loading.

Sat Mar  4 18:34:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c, server/meta.c:

	Fixed a couple of "missing prototype" errors introduced by recent
	patches.

Sat Mar  4 15:59:31 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/meta.c:

	removed redundant call to 'inet_addr', removed unnecessary call to
	'bind', removed some global vars and cleaned up the code a bit.

Sat Mar  4 15:58:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Update Hungarian (hu) translation.  Patch submitted by Gabor Dukai
	<dukai@EUnet.yu>, committed with one format mismatch fix.

Sat Mar  4 15:50:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sat Mar  4 15:40:33 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	fixes the incomplete writes problem and has some minor cleanups.

Sat Mar  4 14:31:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added more cities to Dunedain nation.  Patch submitted by Paul
	Zastoupil <paulz@adnc.com>.

Sat Mar  4 03:55:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advattitude.c, ai/advforeign.c, ai/advisland.c,
	ai/advscience.c, ai/advspace.h, ai/advtrade.c, ai/aitools.h,
	common/nation.h, server/cityhand.h, server/ruleset.h,
	server/sernet.h, server/settlers.h, server/unittools.h:

	Remove some unnecessary includes in headers, and related
	adjustments.

Sat Mar  4 02:42:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c:

	Put string_end_line into struct inputfile for better and more
	consistent inf_log messages regarding multi-line strings.

Sat Mar  4 01:42:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h, server/civserver.c:

	Allow duplicate entries in registry files.  This is mainly to
	allow "overriding" entries included from another file.  Does not
	apply to savefiles, where a duplicate entry probably indicates
	that something is wrong in the code which wrote the savefile.

Sat Mar  4 01:41:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c:

	Allow duplicate section tags in registry files, equating to the
	same section.  Main use is with included files, so that different
	files can contribute or override entries for a single section.

Sat Mar  4 01:39:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, common/inputfile.c, common/inputfile.h,
	common/registry.c, server/ruleset.c:

	Allow "include" lines in registry files, with multiple levels of
	includes.  Included files are searched in FREECIV_PATH, by calling
	datafilename().  This means reading a file may change the
	datafilename() static buffer, so some other code modified to
	account for this possibility.

Thu Mar  2 19:41:44 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c:

	Fixed the "double click" problem in the minimap. Where a "double
	click" caused three calls instead of two.

Thu Mar  2 07:02:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c:

	Fix bug that sometimes reading registry-format files would
	mysteriously fail.

	Fixes bugs PR#165, PR#168, PR#275; bugs reported by: David Chester
	<David@chescam.demon.co.uk>, Jim Smith <atilla_ca@yahoo.com>,
	Jamie Love <jdl28@cosc.canterbury.ac.nz>, Igor Nazarov
	<nazarov@math.unm.edu>.

	(Also fixes small bug that previously registry files could not
	have strings with trailing backslash.)

Mon Feb 28 21:08:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c, server/unithand.c:

	Reorder reports of conquering, getting advances and focusing on
	new goal.  Bugs reported by Mike Jing <miky40@hotmail.com> and
	Paul Zastoupil <paulz@adnc.com>.  Patch submitted by Mike Jing
	<miky40@hotmail.com>, applied with fix for Paul's bug.

Mon Feb 28 20:59:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/gui-xaw/dialogs.c, client/gui-xaw/wldlg.c,
	client/include/freeciv.ico:

	Cleaned-up some Sun cc warnings.  Warnings reported by Reinier
	Post <rp@win.tue.nl>.

Mon Feb 28 20:52:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c:

	Inhibit a couple more popups if watching an AI player.  (Most of
	the rest already are inhibited).  One suggested by Anthony J.
	Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon Feb 28 20:43:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c:

	I noticed that messages about random barbarian uprisings get lost
	from the messages window, because summon_barbarians() occurs on
	the wrong side of before_end_year().  This patch moves
	before_end_year() and adds a longer comment.

	But its hard to test this patch, because even with maximum
	barbarians and hard skill level, I hardly ever see such messages
	(using also Popup for Barbarian Uprisings in Message Options, to
	make sure I see them).  I guess because I mostly see sea
	barbarians, coming from unknown squares so I don't get the
	message.  (Another possible case is if I'm not the "real" victim,
	but that would seem less often.)

	This seems a bit of a problem, in terms of not getting a warning
	even when the barbarians do then come within visible range, but
	I'm not sure how to fix.  Maybe the client could generate a
	message when a barbarian unit first comes "on-screen"? 
	("Barbarians sighted near ...")

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Feb 28 20:35:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c:

	Hack to get rid of "bad string in packet" messages.

	Some similar cases were fixed before 1.10.0, but I found that
	there are still more cases where you can get "bad string in
	packet" messages, from using uninitialised strings (ie, the string
	data is not actually used by the server, but is included in the
	packet anyway, causing problems).

	In particular I saw cases with setting the Research and Goal
	techs, but looking at the code other cases with
	packet_player_request are also potential problems.

	Looking into this, I don't understand why the worklist stuff was
	included into packet_player_request, along with tax/sci/lux rates,
	government choice, and tech/goal.  Because we only ever use part
	of the packet at a time, but we send the whole lot every time
	(with unused parts containing uninitialised "junk" data).  Using
	separate packets would have avoided the above problem as well as
	using less bandwidth.

	(Actually, this isn't really the fault of the worklist
	implementation, since even beforehand the non-rates stuff could
	have just been sent as individual values.  The worklist stuff just
	perpetuated the problem, and made it significantly worse by
	happening to contain a string as part of the data.)

	Well, I guess we don't want to change the protocol so soon after
	introducing capstr "+1.10" :-/ But I didn't like trying to find
	all the problem instances, and adding many duplicate lines
	initialising req.worklist.name in non-worklist code.  So the
	attached patch is a slightly hack-ish work-around.

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Feb 28 20:12:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c, server/plrhand.c, server/plrhand.h:

	Show map to all players at end of game.  Patch submitted by Mike
	Jing <miky40@hotmail.com>.

Mon Feb 28 19:56:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c:

	Disallow stealing tech and establishing embassies with barbarians.
	Patch submitted by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon Feb 28 19:50:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Have server automatically sentry units which board a ship on an
	ocean tile.  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Mon Feb 28 18:20:16 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Mon Feb 28 18:07:47 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/repodlgs.c:

	Fixed bug in the city production dialog.  Changed look of the city
	production dialog.  Changed look of the tech list in the science
	dialog.  Added keyboard shortcuts to message windows.  Minor
	change to progress bar in the city dialog.

Mon Feb 28 03:43:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Update Hungarian (hu) translation.  Patch submitted by Gabor Dukai
	<dukai@EUnet.yu>.

Mon Feb 28 03:39:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Update Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Mon Feb 28 00:44:11 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	There was a typo in the spy code causing errors sometimes a client
	chrash when stealing tech using a spy.  Bug reported by Karl-Ingo
	Friese. Fix by Thue Janus Kristensen.

Mon Feb 28 00:06:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	added a progress bar to replace the progress label, like in the
	Amiga client.

Sun Feb 27 16:01:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* README.rulesets:

	Update Michelangelo's info in README.rulesets.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>.

Sun Feb 27 15:27:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed bugs in, and added cities to, the Argentine nation.  Patch
	submitted by riq <riq@ciudad.com.ar>.

Sun Feb 27 13:30:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Update an address.

Fri Feb 25 11:56:59 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/citydlg.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-mui/objecttreeclass.c:

	Mui client:

	When investigating an unfriendly city now longer display the
	browse buttons.

	Now display the unexploxed tiles in the city map as black tiles
	(like on the other clients)

	Fix some problems in the help window in conjunction with the tech
	tree.

	Minor fixes in amiga/ReadMe

Fri Feb 25 00:16:55 2000  Lalo Martins <lalo@debian.org>:

	* po/pt_BR.po:

	Updated a lot of annoyances in the Brazilian Portuguese
	translation.

Fri Feb 25 00:14:48 2000  Lalo Martins <lalo@debian.org>:

	* debian/freeciv-xaw.dirs, debian/freeciv-xaw.menu,
	debian/freeciv-xaw.postinst, debian/freeciv-xaw.postrm,
	debian/freeciv-xaw.xaw:

	removing some files we don't use anymore.

Thu Feb 24 23:58:53 2000  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/control, debian/copyright, debian/dirs,
	debian/freeciv-gtk.dirs, debian/freeciv-gtk.menu,
	debian/freeciv-gtk.postinst, debian/freeciv-gtk.postrm,
	debian/freeciv-xaw3d.dirs, debian/freeciv-xaw3d.menu,
	debian/freeciv-xaw3d.postinst, debian/freeciv-xaw3d.postrm,
	debian/menu, debian/rules:

	Merging in the changes to the Debian build process by Torsten
	Landschoff (NMU 1.9.0-2.1) which fixed a lot of bugs, and updating
	everything for 1.10.0.

Tue Feb 22 23:16:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Fix minor format error in PEOPLE file.

Mon Feb 21 23:31:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version from 1.10.0 to 1.10.1-devel.

Mon Feb 21 21:57:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog:

	Final ChangeLog update for Version 1.10.0 release.

Mon Feb 21 21:43:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Final source update for Version 1.10.0 release.

Mon Feb 21 20:52:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated for Version 1.10.0 release.

Mon Feb 21 20:29:59 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/control.c, client/gui-mui/gui_main.c:

	Fixed paratroopers bug in the MUI client as suggested by Jeff
	Mallatt <jjm@codewell.com>

Mon Feb 21 19:19:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Feb 21 18:46:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Minor elaboration in NEWS file.  Suggested by David Pfitzner
	<dwp@mso.anu.edu.au>.

Mon Feb 21 18:40:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL, README:

	A few additions to INSTALL, and cleanup of INSTALL and README. 
	Suggested by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Feb 21 17:42:28 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/control.c:

	Fast fix for PR#265.  (Paratroopers couldn't be paradropped in the
	GTK+ and Mui client)

Mon Feb 21 16:58:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c:

	Fixed bug whereby Gtk+ client could not paradrop.  Bug reported by
	Gerhard Killesreiter <killesreiter@physik.uni-freiburg.de>.

Sun Feb 20 23:47:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fix a couple of minor errors in tech goals for Thai and Vietnamese
	nations.  Patch submitted by Mike Jing <miky40@hotmail.com>.

Sun Feb 20 23:22:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Updated for Version 1.10.0 release.

Sun Feb 20 22:15:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, TODO:

	Added comments on translations.  Suggested by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Feb 20 21:52:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, README, TODO:

	Updated for Version 1.10.0 release.

Sun Feb 20 20:45:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL, README:

	Added note to INSTALL and README that there may be localized
	versions in the ./doc directory.  Suggested by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Feb 20 16:19:35 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c:

	Mui client Now sorts the nations in the new nations listview.

Sun Feb 20 14:54:25 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/cityrep.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h:

	Mui client Uses now a listview for displaying all the nations and
	display the flag of the current selected nation in the nation
	window.  Minor other changes and fixes.

	Updated amiga/ReadMe in preparation for the next public release.

Sun Feb 20 14:43:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de:

	Update German translation of README file.  Patch submitted by
	Egbert Hinzen <garfy@ehinzen.de>.

Sun Feb 20 14:37:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Removed cities that were duplicated within the same nation.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Sun Feb 20 14:21:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c:

	In the GTK+ client, sorting the list by something then selecting
	the top entry then clicking Popup caused garbage to appear in the
	list and maybe a core dump.  Fixes this bug by avoiding the
	remove/putback thing -- just updates the entry in place.  Fixes
	PR#160 and PR#259.  Bug reported by David R. Relyea
	<relyea@slac.stanford.edu> and Enrico Scholz
	<enrico.scholz@informatik.tu-chemnitz.de>.  Patch submitted by
	David Pfitzner <dwp@mso.anu.edu.au>.

Sat Feb 19 09:02:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version to 1.9.7-devel (beta) from 1.9.6 (beta).

Sat Feb 19 08:09:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Third and final (hopefully) beta release (1.9.6) leading to
	version 1.10.0.

Sat Feb 19 05:03:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/menu.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c:

	Changed capability string to simply "+1.10".  Removed all
	correspondingly obsoleted has_capability() calls.

Sat Feb 19 04:00:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/plrdlg.c:

	In the Gtk+ client, the "Spaceship" button in the Players dialog
	doesn't work unless you have an embassy with that player.  In the
	Xaw client you don't need an embassy.

	This patch changes the Gtk+ client to match the Xaw client.

	Reasons:

	- I think this matches Civ1 (don't know about Civ2; actually, to
	match Civ1 more closely should probably get messages for each
	spaceship part build by opponents);

	- Presumably the spaceships are built in orbit, and it would be
	hard to hide the large-scale details of such a construction from
	another player with reasonably high tech;

	- Like wonders, we could say that the construction of interstellar
	spaceships are big enough news to be known all over the world;

	- I suspect the gtk-client behaviour is a cut-and-paste error in
	players_sship_callback compared to players_intel_callback :-)

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Sat Feb 19 03:37:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/include/freeciv.ico:

	Changed the Freeciv icon to something smaller and simpler.

Sat Feb 19 00:35:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Updated Hungarian (hu) translation.  Patch submitted by Gabor
	Dukai <dukai@EUnet.yu>.

Fri Feb 18 19:23:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Update French (fr) translation.  Patch submitted by Philippe Fremy
	<fremy@yalbi.com>.

Thu Feb 17 21:43:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 17 20:21:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* HOWTOPLAY:

	Minor fix to HOWTOPLAY file.  Suggested by Anthony J. Stuckey
	<stuckey@jaka.ece.uiuc.edu>.

Thu Feb 17 19:23:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 17 19:12:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added a few Korean and French leaders.  Added Polish
	Fundamentalism titles.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Thu Feb 17 18:56:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added the Vietnamese and Thai nations.  Flags already existed. 
	Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Thu Feb 17 18:43:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added the Dunedain nation, including flags.  Patch submitted by
	Paul Zastoupil <paulz@adnc.com>.

Thu Feb 17 17:58:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Adds city names to nations ruleset.  Names suggested by Craig
	Johnston <cjohnston@lycosmail.com> and Eric S. Raymond
	<esr@snark.thyrsus.com>.

Thu Feb 17 16:58:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added Kenyan nation and flags.  Patch submitted by Robert Brady
	<rwb197@ecs.soton.ac.uk>.

Thu Feb 17 13:57:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/misc/shields.spec, data/misc/shields.xpm:

	Added new flags to shields.xpm (and shields.spec).  Patch
	submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Tue Feb 15 16:30:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Updated the ftp reference to the imlib tarball.

Tue Feb 15 15:32:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Tue Feb 15 14:33:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/repodlgs.c, common/shared.c:

	Fixes two i18n bugs: 1. The help toggle in the Science Report
	dialog was not initialized to the localized word; 2. The BC/AD
	tags were not i18n'd.  Bugs reported by Pascal Andoux
	<pascal@yalbinet.com>.

Tue Feb 15 14:21:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/barbarian.c,
	server/gamehand.c, server/stdinhand.c, server/unithand.c:

	Provide more control over barbarians.  It does two things:

	- The server option "barbarians" is changed so that 0 means no
	barbarians at all, 1 means barbarians only in huts, 2 is normal, 3
	is more, 4 is lots.

	- A new server option "onsetbarbs" specifies a year before which
	no barbarians will appear.  This lets all civs get going without
	one being so unlucky as to have barbarians pop up and destroy it
	before it even gets started.  I think this will help game balance
	for multi-human games, and will also help newbies get started.

	Complaint registered by Massimo Campostrini
	<campo@mailbox.difi.unipi.it>.

Tue Feb 15 14:09:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed demographics report to not include dead civilizations. 
	Bug reported by Tomasz Wegrzanowski <maniek@beer.com>.

Tue Feb 15 14:05:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c, server/maphand.c, server/maphand.h:

	Fix bug whereby when a city was bribed, the fields around it did
	not become visible.  Bug submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Tue Feb 15 13:52:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Update the French (fr) translation.  Patch submitted by Eric
	Brunet <ebrunet@clipper.ens.fr>.

Mon Feb 14 19:33:44 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Mon Feb 14 19:05:59 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c:

	fixes for the multiple refreshes bug reported by Karl-Ingo Friese,
	and forwarded by Paul Zastoupil.

	this fix doesn't use global vars and is slightly more generic than
	the one posted earlier: the idea is the same, but instead of using
	that global var, i simply check before issuing an
	update_map_canvas in scrollbar_jump_callback if there were any
	changes in the map_view_[xy]0 position.  If there aren't any i
	don't update the map.

Mon Feb 14 15:03:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated Norwegian (no) translation.  Patch submitted by Stig Erik
	Sandoe <stig@ii.uib.no>.

Mon Feb 14 14:47:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c:

	Speed up the GTK+ client by removing extraneous redraws.  Patch
	submitted by Karl-Ingo Friese <kif@informatik.uni-hannover.de>.

Mon Feb 14 14:19:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Fixes bug whereby civil war could create too many players.  This
	was most noticeable when a 15th player caused opening report
	dialogs to crash the clients.  Client crashing bug reported by
	Jorgen Skjaanes <jorgen@gulesider.no>.

Mon Feb 14 14:06:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Feb 14 13:01:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Keep lone AI diplomats in cities for defense.  Does this by not
	allowing them to try to bribe units outside the city.

Sat Feb 12 10:06:28 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/_main.c, amiga/smakefile,
	client/gui-mui/dialogs.c, client/gui-mui/worklistclass.c:

	Added support for the new spy options in the Mui client.  Made the
	worklist window a little bit nicer.  Reindented amiga/_main.c.

Fri Feb 11 03:10:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version to 1.9.5-devel (beta) from 1.9.4 (beta).

Thu Feb 10 23:55:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Second beta release (1.9.4) leading to version 1.10.0.

Thu Feb 10 20:00:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Cache bribe cost in unit structure prior to calling unit bribe
	code in ai_manage_diplomat().  Gets rid of "Bribe cost -1 in
	diplomat_bribe by..." messages.

Thu Feb 10 15:23:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 10 14:42:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/wldlg.c,
	client/gui-mui/citydlg.c, client/gui-mui/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/wldlg.c, common/city.c, common/city.h,
	server/cityturn.c:

	Fixes several bugs in worklists:

	* Worklists now purge duplicate improvement targets (thanks,
	Patrick, for pointing this out).  * A fix to many of the 'bad
	string length in packet' errors (the worklist.name field of
	packet_city_request wasn't being initialized properly).  * Fixes
	the two worklist-related crashes you've seen (both stem from an
	off-by-one error letting a bad value sneak into the worklist); *
	Fixes many 'bad string length in packet' errors; * Purges
	improvement targets that can never be built (because they already
	exist in the city, because a wonder exists that obsoletes them, or
	because the city isn't on or adjacent to the right terrain); *
	Purges unit targets that can never be built (because the city
	isn't on the right terrain); * Limits the future targets listed
	for a city worklist to those that a specific city can build -- an
	inland city won't ever get to put a harbor on its worklist.  Also,
	inserted global worklists are screened by the same test as they
	are fed into the worklist for the city.  * Fixes problem when
	auto-upgrading obsolete units.

	Bugs reported by Patrick Schmid <patrick@patrick-s.de> and
	John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

	Patch submitted by Corin Anderson <corin@the4cs.com>.

Thu Feb 10 14:02:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/wldlg.c, client/gui-mui/worklistclass.c,
	client/gui-xaw/wldlg.c:

	Changed references to could_player_build_improvement() outside
	city.c into references to can_player_build_improvement().  First
	step in solving PR#256.  Bug reported by IQ
	<iquin@technologist.com>.

Thu Feb 10 13:16:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 10 12:49:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, ai/advdomestic.c, common/city.c,
	data/helpdata.txt, data/civ2/buildings.ruleset,
	data/civ1/buildings.ruleset, data/default/buildings.ruleset,
	server/citytools.c:

	Added Variant 1 of Michelangelo's Chapel, which (like Civ1)
	doubles the effect of Cathedrals.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Thu Feb 10 12:33:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Removed some titles from names of leaders in nations.ruleset. 
	Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Thu Feb 10 12:25:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Force all barbarian players to be of the barbarian nation in
	player_load().  This is so that adding nations to nation.ruleset,
	which shifts the ID of the barbarian nation, won't result in
	barbarians loaded from old save files showing up in the guise of
	one of these new nations.

Thu Feb 10 12:18:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	When building a spaceship and capital was taken, spaceship was
	destroyed only if it had been launched.  This changes the server
	so that a spaceship is destroyed if is has been launched or is
	under construction.

Thu Feb 10 12:12:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Check if unit still exists after ai_manage_explorer() call in
	ai_military_attack().  Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Thu Feb 10 12:06:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Made ai_manage_unit() more robust by adding returns after each
	sub-call.

Sun Feb  6 02:45:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c:

	Ensure that squares where Partisans are created are visible to the
	player owning the Partisans.  Fixes bug (PR#253) reported by Jez
	Bromley <jmb65@cam.ac.uk>.

Sun Feb  6 02:36:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/citydlg.c:

	Avoid non-constant initializer for dummy_improvement_list[0] in
	create_city_dialog().

Sat Feb  5 13:22:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Ukrainian and Lithuanian nations.  Minor fixes to
	nations.ruleset.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Sat Feb  5 13:11:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.spec, data/engels/flags.xpm,
	data/trident/flags.spec, data/trident/flags.xpm:

	Added Lithuanian flag to Trident and Engels tilesets.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Sat Feb  5 12:45:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c:

	Changed Select Nation dialog in Xaw and Gtk clients to be 4
	columns wide.

Sat Feb  5 12:30:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c:

	Added a couple double-click responses to GTK+ client: - City
	Report will Popup the City Dialog of the double-clicked city.  -
	Change Production will select the double-clicked item.  Patch
	submitted by Daniel Burrows <Daniel_Burrows@brown.edu>.

Fri Feb  4 14:54:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Feb  4 13:08:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/no.po:

	Updated no.po; patch submitted by Stig Erik Sandoe
	<stig@ii.uib.no>.

Fri Feb  4 12:53:50 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/es.po:

	Some fixes to es.po, mainly for c-format problems indicated by
	check_po.pl; patch submitted by Paul Zastoupil <paulz@adnc.com>.

Fri Feb  4 12:25:43 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/check_po.pl:

	Added script check_po.pl, which does some checks on po files.

Wed Feb  2 21:30:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version to 1.9.3-devel (beta) from 1.9.2 (beta).

Wed Feb  2 20:19:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Begin beta-test period leading to version 1.10.0: - Changed
	version to 1.9.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Wed Feb  2 19:32:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/include/Makefile.am, client/include/Makefile.in:

	Added missing wldlg_g.h to noinst_HEADERS in
	client/include/Makefile.am.

Wed Feb  2 19:30:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-beos/Makefile.am, client/gui-beos/Makefile.in,
	client/gui-win32/Makefile.am, client/gui-win32/Makefile.in:

	Commented-out the "noinst_LIBRARIES = libguiclient.a" in BeOS and
	Win32 Makefile.am's, until such time as their ports are ready. 
	(Leaving it in disrupted making distributions.)

Wed Feb  2 17:25:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Wed Feb  2 17:06:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/player.c, common/player.h, server/civserver.c:

	Allow for more flexibile setting of initial rates: - set start
	rates according to real max_rates - if tax==lux and must reduce
	sci, surplus will go to tax, not lux - if sci==lux and must reduce
	tax, surplus will go to sci, not lux Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Wed Feb  2 16:31:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Removes two duplicated Finnish city names.  Patch submitted by
	Mika Korhonen <mikak@ee.oulu.fi>.

Wed Feb  2 15:36:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, common/city.h, server/cityturn.c:

	Fixes problems in rapture-triggered city growth.

	The change made on Jan 18 to not empty the food stock during
	rapture-triggeted city growth didn't work, and also introduced
	several other bugs, e.g., the code for rapture tracking is broken
	because city size is increased too early; city could grow and then
	starve during the same turn because the food stock is still
	emptied and the code for checking it is executed twice.

	This patch fixes the above problems by changing city_populate()
	and city_increase_size() to include the case of "rapture growth". 
	It also added a small function city_rapture_grow() in city.c to
	make things easier.  Now everything should work as advertised. 
	The food stock is no longer emptied for rapture-triggered growth.

	Patch submitted by Mike Jing <miky40@hotmail.com>.

Wed Feb  2 14:16:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, server/cityturn.c:

	Removed the bug/feature whereby a city with zero shield surplus
	was given a "free" shield each turn.

	As a related move, I also changed the "if" condition used to check
	for the need to disband units due to lack of shields for upkeep to
	a "while" loop, which means as many units will be disbanded as
	necessary in order to restore the shield surplus of the city to at
	least zero.  Previously, only one unit would be disbanded in this
	situation, and you get a free shield surplus even if it's actually
	still a deficit.

	Patch submitted by Mike Jing <miky40@hotmail.com>.

Wed Feb  2 13:48:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/wldlg.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/wldlg.c, common/worklist.c, common/worklist.h,
	data/Freeciv, server/cityhand.c, server/cityturn.c:

	Fix a few bugs with worklists and one other minor bug:

	(worklist) * If a city can't build a worklist target because the
	tech isn't available, then the target is -postponed- instead of
	purged.  Nothing fancy here -- I don't check each turn to see if
	the tech is now available, or stuff like that.  * When you prepend
	an item, the Delete, Up, and Down buttons are now enabled.  * If
	you put a future-available target at the head of a city's
	worklist, the city now simply postpones that item and proceeds to
	the next available item (or keeps building its current item if the
	entire worklist is presently unavailable).  This fix should remedy
	PR#234.  * If you resize the worklist editor or worklist report
	dialog, the widgets should behave correctly now.

	(non-worklist) * If a city can't build settlers because the city
	is too small, the message is now sent as an E_CITY_CANTBUILD
	event, instead of E_NOEVENT.

	Patch submitted by Corin Anderson <corin@the4cs.com>.

Tue Feb  1 20:51:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/options.c, client/options.h,
	client/gui-gtk/citydlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/citydlg.c, data/Freeciv:

	Adds the "concise city production" option, which causes turns to
	build to be displayed more concisely.  For thr Xaw client, this
	results in a smaller dialog box.  Patch submitted by IQ
	<iquin@technologist.com>.

Tue Feb  1 13:26:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Fixes core dumps in new ai_manage_diplomat(), which happend when a
	diplomat was destroyed trying to do something in an enemy city.

Tue Feb  1 12:47:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Patch to get rid of "uninitialized use" warning in
	ai_manage_diplomat().

Tue Feb  1 01:43:01 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c, server/unittools.c, server/unittools.h:

	New function ai_manage_diplomat().  allows AI diplomats to perform
	some functions.  Specifically, establish embassies, bribe units
	and cities, and steal technology.  Embassies are not referenced in
	any other code at this time, the other effects are immediately
	useful.  Mutated unused, true/false function diplomat_on_tile() to
	integer count_diplomats_on_tile().  Side effects: 
	diplomat_bribe() sometimes called without incite costs having been
	properly prepared,  resulting in a spurious error message. 
	Subverting a city may cause the AI to experience more upkeep cost
	than it planned, leading to emergency sale of city improvements. 
	Patch submitted by AJS.  (stuckey@jaka.ece.uiuc.edu)

Mon Jan 31 17:17:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added a few new German and Polish leaders.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>.

Mon Jan 31 17:09:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Added "and research" to notification of establishment of trade
	route.  Change suggested by Daniel Zinsli <s830+priv@ii.uib.no>.

Mon Jan 31 17:04:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Fixes what looks like a typo bug in map generator 1 that makes the
	distribution of hills/mountains unbalanced between the northern
	and southern hemispheres.  Patch submitted by Corin Anderson
	<corin@the4cs.com>.

Sun Jan 30 14:53:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	Fixed minor bugs where wrong variable was being referenced in
	diplomat/ spy handling code.

Sun Jan 30 12:12:43 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/mapview.c:

	Added unit explosion support in the Mui Client.

Sat Jan 29 23:07:06 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/dialogs.c,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/wldlg.c, client/gui-mui/wldlg.h,
	client/gui-mui/worklistclass.c, client/gui-mui/worklistclass.h:

	Added worklist support in the Mui Client.

Sat Jan 29 13:10:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c:

	Clean up a couple of functions in government.c.  Patch submitted
	by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>.

Sat Jan 29 12:40:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/citydlg.c, common/city.c:

	Fixes city_turns_to_build() to consider the 1 shield given to
	cities that are not in disorder, but have a zero shield surplus. 
	Removes duplicate city_turns_to_build() from gui-mui code. 
	Addresses PR#238.  Patch submitted by Mike Jing
	<miky40@hotmail.com>.

Sat Jan 29 11:59:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Reduce tendency of map generators 2+ to create single tile rivers
	at the coast-lines.  Patch submitted by IQ
	<iquin@technologist.com>.

Sat Jan 29 11:08:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Jan 28 16:38:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed bug in Canadian nation: its plural was not marked
	"?plural:".  Bug reported by Egbert Hinzen <garfy@ehinzen.de>.

Fri Jan 28 14:38:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/gui-gtk/gui_main.c,
	client/gui-mui/gui_main.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/gui_main.c, common/shared.c, data/Freeciv,
	server/civserver.c:

	Clean-up of command-line parsing.  Mostly in the clients: moves
	gui- independent code from gui-*/gui_main.c to civclient.c.  Patch
	submitted by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Fri Jan 28 14:14:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update of German (de) translation.  Patch submitted by Egbert
	Hinzen <garfy@ehinzen.de>.

Fri Jan 28 14:07:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	data/Freeciv:

	Fixed bug whereby Wonders of the World, Top Five Cities, and
	Demographics dialogs' "Close" buttons were not being translated in
	the Xaw client.  Bug reported by Egbert Hinzen <garfy@ehinzen.de>.

Fri Jan 28 13:55:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed a number of misspelled references to techs and governments
	in nations.ruleset.

Fri Jan 28 13:33:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Canadian nation.  Patch submitted by Jason Todd
	<idjason@home.com>, with additions by Sean Connor
	<sec@konatsu.dhs.org>.

Fri Jan 28 00:19:05 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	updated the portuguese translation.

Thu Jan 27 22:35:47 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unithand.c:

	Caravans provide a research benefit when initially establishing a
	trade route.  Patch submitted by AJS. (stuckey@jaka.ece.uiuc.edu)

Thu Jan 27 22:23:30 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* data/default/nations.ruleset:

	Additional information for Israeli nation.  Provided by Elik
	Eizenberg <elikez@yahoo.com>.

Wed Jan 26 14:39:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* acconfig.h, config.h.in, configure, configure.in,
	client/gui-gtk/connectdlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/connectdlg.c, common/Makefile.am,
	common/Makefile.in, common/shared.h, common/version.c,
	common/version.h, data/Freeciv, data/helpdata.txt, po/POTFILES.in,
	server/civserver.c, server/meta.h:

	Rearrange the version information into fewer files.

Wed Jan 26 01:05:46 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/optiondlg.c, data/Freeciv:

	Removed the resources in data/Freeciv for the local options, so
	that data/Freeciv doesn't need to be adjusted when options are
	added or removed in client/options.[ch].  Now the widget labels,
	fromHoriz, and fromVert are done in the code.

	Also sort message options display based on translated strings,
	rather than on English strings.

Wed Jan 26 01:03:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/genlist.c, common/genlist.h:

	Added comments to the genlist code, and fixed some minor problems:

	- find_genlist_position() would break for pos<-1; now it returns
	null_link as in other out-of-bounds cases.

	- genlist_insert() was broken for pos other than 0 or -1.  (But
	existing Freeciv code only ever uses genlist_insert() with pos of
	0 or -1.)  Fixed, and also made sure pos out of range does
	something sensible (treats as -1).

Wed Jan 26 01:00:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c:

	Slightly nicer method of calculating x and y offsets, and handling
	north and south poles, in rand_neighbour().

Tue Jan 25 22:31:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Tue Jan 25 22:16:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Improve the explanation of the --prefix configure option in
	INSTALL.  Patch submitted by Greg Wooledge <wooledge@kellnet.com>.

Tue Jan 25 21:50:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c, server/diplhand.c, server/plrhand.c,
	server/plrhand.h, server/unitfunc.c, server/unithand.c:

	Clean up of the way a player receives a new technology.

	There are several different ways of getting a new tech.  A lot of
	stuff has to be done for each one - checking if city squares need
	to be upgraded to rails, incrementing researchpoints, checking if
	a different tech needs to be researched, and so on.  I have pulled
	most of this into one function, and cleared up a couple of very
	small bugs on the way. (Other players with embassies not being
	informed when tech is stolen by capture, for instance).

	I have also provided a function notify_embassies(), to handle the
	job of notifying players who have embassies with a given player of
	things that have happened.

	Patch submitted by Andrew McGuinness
	<andrew_mcguinness@bigfoot.com>.

Tue Jan 25 16:53:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* README.graphics:

	Clarification of "explode." prefix.  Patch submitted by Falk
	Hueffner <falk.hueffner@student.uni-tuebingen.de>.

Tue Jan 25 16:19:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/es.po:

	Update of Spanish (es) translation.  Patch submitted by Paul
	Zastoupil <paulz@adnc.com>.

Tue Jan 25 16:03:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed a minor problem with nations.ruleset, introduced by the
	recent patch.

Tue Jan 25 15:42:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Update Norwegian (no) translation.  Patch submitted by Stig Erik
	Sandoe <stig@ii.uib.no>.  Contributions from Jorgen Skjaanes.

Tue Jan 25 15:28:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/en_GB.po:

	Update the British (en_GB) translation.  Patch submitted by Robert
	Brady <rwb197@ecs.soton.ac.uk>.

Tue Jan 25 15:14:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Adds more nations and flags.  Nations and Flags: * Welsh * Koreans
	* Scottish * Israelis * Argentines Flags: * European Union *
	Canada * Ireland * Belgium * Iceland * Pakistan * Greenland *
	Austria * the United Nations * NATO * Vietnam * Thailand * The
	Olympic movement * The Kingdom of Elgaland and Vargaland.  Patch
	submitted by Robert Brady <rwb197@ecs.soton.ac.uk>.

Mon Jan 24 00:04:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	* fixed a couple of errors * corrected most "fuzzy" strings *
	translated a couple more strings

Sun Jan 23 20:30:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c:

	Fixes bug whereby player would not get a settler by disbanding a
	city.  Fixes a minor bug in which a test for NULL was done after a
	dereference.

Sun Jan 23 13:16:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update of German (de) translation.  Patch submitted by Egbert
	Hinzen <garfy@ehinzen.de>.

Sun Jan 23 03:13:12 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapview.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapview.c:

	Remove unnecessary instances of "extern int flags_are_transparent"
	(already appears in tilespec.h).

Sun Jan 23 02:58:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c:

	Avoid "calloc with size 0" warning for tilesets with no
	explode.unit graphics.

Sun Jan 23 02:50:51 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv:

	Fix Xaw resources for Local Options for do_combat_animation.

Sun Jan 23 02:33:09 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c:

	In can_player_eventually_build_unit(), use unit_type_exists()
	instead of equivalent code, and check 'exists' before
	'obsolete_by'.

Sun Jan 23 02:32:23 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c, server/barbarian.h:

	Minor fixes to includes.

Sat Jan 22 19:30:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sat Jan 22 19:21:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv, po/POTFILES.in:

	Minor clean-up for i18n: - Marked a couple of strings in
	data/Freeciv.  - Added a few files to po/POTFILES.in.

Sat Jan 22 18:20:56 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/es.po:

	Update to Spanish (es) translation.  Patch submitted by Paul
	Zastoupil <paulz@adnc.com>.

Sat Jan 22 17:14:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/support.c:

	Fixed myusleep() to use its usec argument in the Macintosh and
	default configurations.

Sat Jan 22 17:00:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, client/options.h, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c, common/timing.c, common/timing.h,
	data/engels.tilespec, data/engels_shields.tilespec,
	data/trident.tilespec, data/trident_shields.tilespec,
	data/engels/Makefile.am, data/engels/Makefile.in,
	data/engels/explosions.spec, data/engels/explosions.xpm,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/explosions.spec, data/trident/explosions.xpm:

	Added an explosion animation for when a unit is killed.  Patch
	submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Fri Jan 21 22:18:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added many Norwegian city names for Vikings nation.  Removed many
	Swedish city names from Vikings nation.  Added a few Swedish city
	names for Swedish nation.  Patch submitted by Tobias Brox
	<tobix@irctos.org>.

Fri Jan 21 02:33:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/wldlg.c, client/gui-xaw/wldlg.c:

	Fixes bug causing core dumps when inserting items in worklists. 
	Bug reported by Tobias Brox <tobix@irctos.org>.  Fix submitted by
	Corin Anderson <corin@the4cs.com>.

Wed Jan 19 20:49:44 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c:

	Combine reinforcements_cost and reinforcements_value into a new
	function, city_reinforcements_cost_and_value().  Patch submitted
	by AJS.

Wed Jan 19 18:42:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, server/barbarian.c, server/gotohand.c,
	server/unitfunc.c, server/unithand.c, server/unithand.h,
	server/unittools.c, server/unittools.h:

	Fixed bug whereby barbarians unleashed by entering a hut when the
	hut is nearly surrounded resulted in a server hang.  Bug reported
	by Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>.

Wed Jan 19 18:28:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	common/capstr.c, common/city.h, common/game.h, common/unit.c,
	server/citytools.c, server/cityturn.c, server/diplhand.c,
	server/gamehand.c, server/stdinhand.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unittools.c:

	Cleanup/reimplementation of the Diplomat/Spy code, in an effort to
	make it more closely compliant with Civ2: - Changed all
	Diplomat/Spy actions to more closely conform to Civ2 rules.  -
	Changed "diplchance" to be %-chance of success.  Used in many
	ways.  - Diplomat/Spy may attempt action with any movement left. 
	- Added "At Spy's Discretion" selection to steal tech and sabotage
	dialogs.  - Allow Spies to steal tech from a city more than once
	(gets harder).  - May only poison towns of size > 1.  - May only
	sabotage units that are alone on a square.  - When a city is
	subverted, only nearby units change sides.  - Veteran status
	improves Diplomat/Spy defense against other Dipl/Spies.  - Changed
	interpretation of kill_outside arg to transfer_city_units() to be
	the radius outside which supported units are killed (-1 == none).

Wed Jan 19 17:43:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c, common/city.c,
	common/city.h, data/Freeciv:

	Implement a display of number of turns remaining to build current
	(or potential) improvement in City dialog, Change Production
	dialog and City Report dialog.  Patch submitted by Daniel Zinsli
	<s830+priv@ii.uib.no> and Sebastian Bauer <sebauer@t-online.de>.

Wed Jan 19 16:33:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/options.c, client/packhand.c,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-gtk/citydlg.c, client/gui-gtk/menu.c,
	client/gui-gtk/wldlg.c, client/gui-gtk/wldlg.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/actions.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/wldlg.c,
	client/gui-xaw/wldlg.h, client/include/wldlg_g.h,
	common/Makefile.am, common/Makefile.in, common/capstr.c,
	common/city.c, common/city.h, common/events.h, common/game.c,
	common/game.h, common/packets.c, common/packets.h,
	common/player.c, common/player.h, common/registry.c,
	common/worklist.c, common/worklist.h, data/Freeciv,
	server/cityhand.c, server/cityhand.h, server/cityturn.c,
	server/cityturn.h, server/civserver.c, server/plrhand.c,
	server/plrhand.h:

	Implemented worklists.  Players may specify a list of improvements
	to be built in each city.  Patch submitted by Corin Anderson
	<corin@the4cs.com>.

Tue Jan 18 19:48:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Add more leader and city names for the Chinese nation.  Patch
	submitted by Mike Jing <miky40@hotmail.com>.

Tue Jan 18 19:42:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/Makefile.am, data/Makefile.in,
	data/engels_shields.tilespec, data/trident_shields.tilespec,
	data/misc/Makefile.am, data/misc/Makefile.in,
	data/misc/chiefs.spec, data/misc/chiefs.xpm,
	data/misc/shields.spec, data/misc/shields.xpm,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/auto_ll.spec, data/trident/tiles.xpm:

	Adds an alternative set of "flags": small and shield-like (similar
	to Civ2 shape, but containing the flag).  Moves the hit-point bars
	and all city style occupied flags to the chief position of the
	shields.  Patch submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Tue Jan 18 19:10:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-xaw/gui_main.c,
	server/civserver.c:

	In handle_turn_done() in server/civserver.c the announcement of a
	client indicating "turn done" was sent for each "turn done",
	except the last one.  This changes handle_turn_done() to send
	announcements for all "turn done"s.  Also, now that the last
	client will receive its announcement, fixed a bug in the Xaw
	client where the "Turn Done" button kept flashing after it was
	clicked.

Tue Jan 18 18:32:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* README:

	Update README to reflect recent changes in server commands.

Tue Jan 18 18:28:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c, server/unittools.c:

	Changed to make more like Civ2:  1. Ground units can attack Air
	units when they are parked on an Airbase.  2. Units are defeated
	only singly when on an Airbase, just like when in a Fortress.

Tue Jan 18 18:08:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Changed rapture-triggered city growth to not empty the foodbox. 
	This conforms to Civ2.  Bug reported by Mike Webb
	<mjw@codewell.com>.

Thu Jan 13 20:57:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c:

	Changed so killing the last Barbarian doesn't end a single-player
	game.  Fixes PR#230.  Bug reported by Reinier Post
	<reinpost@win.tue.nl>.

Thu Jan 13 16:57:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, server/plrhand.c:

	Fix the calculation of player.score.techout (needed to remove the
	science bonus of 1 bulb per city per turn, as was done for 1.9.0).
	Also removed the extra "1+" in the denominator in the calculation
	of the percentage because I think that'll give the correct result,
	and AFAICS research_time() should not and could not be zero or
	negative anyway.  Fixes PR#229.  Patch submitted by Mike Jing
	<miky40@hotmail.com>.

Thu Jan 13 11:59:33 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.graphics, client/tilespec.c, common/registry.c,
	common/registry.h, data/engels.tilespec, data/trident.tilespec:

	Extend "tilespec" system to allow duplicate tags, to allow
	convenient overriding of individual graphics without having to
	change base spec files.  For duplicated tags, the last appearing
	tag applies ("last" in terms of order of specified files in
	toplevel tilespec file, and within each file).  Toplevel tilespec
	files can add tag "+duplicates_ok" to options list to require this
	capability.

Thu Jan 13 10:25:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, server/plrhand.c:

	Fixed bug (PR#228) that tile.worked data could become incorrect
	when loading savegames, due to set_worker_city() using the
	pre-existing values in pcity->city_map.  This could result in a
	tile becoming worked by multiple cities.  Also added related fix
	in packhand.c, and minimal fix when loading savegames to handle
	games previously affected by this bug.

Wed Jan 12 20:08:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv:

	A few minor color changes to Intelligence and Diplomatic Meeting
	dialogs.

Wed Jan 12 17:46:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Minor fixes to the French (fr) translation.  Patch submitted by
	Philippe Fremy <fremy@yalbi.com>.

Wed Jan 12 17:01:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c, common/player.c, common/player.h,
	server/citytools.c, server/plrhand.c:

	Rates settings changes: - Changes default science rate to 60%.  -
	Sets science to maximum possible, without changing luxuries, after
	revolution.  - Cleans up the code.  Patches for first two
	submitted by Greg Wooledge <wooledge@kellnet.com>.

Tue Jan 11 21:26:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/trident/cities.xpm:

	Fix a couple City Walls icons in trident/cities.xpm that were
	misaligned.

Tue Jan 11 10:44:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated the Norwegian (no) translation.  Patch submitted by Stig
	Erik Sandoe <stig@ii.uib.no> and Per I. Mathisen
	<permath@ifi.ntnu.no>.

Tue Jan 11 10:14:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Updated French (fr) translation.  Patch submitted by Philippe
	Fremy <fremy@yalbi.com>.

Sat Jan  8 14:33:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Removed a seemingly needless abort() call, which was causing the
	server to crash.

	When an AI-controlled boat that is carrying another unit tries to
	attack an enemy, the server will abort().  While this strategy
	might not always be a good idea, crashing the server just makes
	the AI in question look like a sore loser.

	This patch fixes the problem, allowing the attack to proceed.  I'm
	not sure why the warning comment from Syela is there; this seems
	to indicate there used to be a bug where a boat thought it was
	carrying a unit from a different position?

	Bug reported by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu> and
	John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

	Patch submitted by John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

Sat Jan  8 13:58:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c, common/government.h:

	Cleanup of government flag and hint enum use.  *
	common/government.c (government_flag_from_str): use G_FIRST_FLAG
	(government_has_flag): same (government_hint_from_str): use
	G_FIRST_HINT (government_has_hint): same, and fix assert *
	common/government.h (G_FIRST_FLAG), (G_FIRST_HINT): set symbolic
	values Patch submitted by Markus Linnala <maage@cs.tut.fi>.

Sat Jan  8 13:29:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c, server/maphand.h:

	Cleanup of relight_square_if_known() function.  *
	server/maphand.h, server/maphand.c (relight_square_if_known):
	remove unnecessary parameter Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Fri Jan  7 20:38:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Fixed bug where show_help_option() was not calling gettext() on
	the "extra" help string.

Fri Jan  7 20:31:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Jan  7 02:12:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/tech.c:

	Now moving the "Farmland" flag name to be last to correspond with
	moving the TF_FARMLAND flag to be last (Arrggghhh!).

Fri Jan  7 02:04:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/tech.h:

	Moved TF_FARMLAND to be last in enum of flags, so older
	clients/servers aren't confused.  Bug reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Thu Jan  6 16:04:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Fixed a couple of argument errors to cmd_erply() in stdinhand.c.

Wed Jan  5 18:02:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/meta.c:

	Replaced use of perror() with freelog() and mystrerror().

Wed Jan  5 17:49:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Fix to keep config.h from being changed spuriously on all
	platforms except BeOS.  Addresses PR#222.  Bug reported by David
	Pfitzner <dwp@mso.anu.edu.au>.

Wed Jan  5 17:39:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, ai/advdomestic.c, client/gui-gtk/menu.c,
	client/gui-xaw/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, data/civ1/techs.ruleset, common/city.c,
	common/map.c, common/tech.c, common/tech.h, common/unit.c,
	data/default/techs.ruleset, data/civ2/techs.ruleset,
	server/citytools.c, server/settlers.c:

	Added "Farmland"/TF_FARMLAND techs ruleset flag.  Tests for
	building farmland were changed from depending upon B_SUPERMARKET
	to depending upon TF_FARMLAND.  Farmland is now similar to
	Railroad.

Wed Jan  5 15:26:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/INSTALL.de, doc/Makefile.am, doc/Makefile.in:

	Added German translation of INSTALL file.  Translation provided by
	Jens Georg <jgeorg@ldknet.org>.

Wed Jan  5 11:55:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/console.c,
	server/stdinhand.c:

	Revise and improve the server 'help' command, to allow: - an
	introductory help text ('help'); - more detailed help on
	individual server commands ('help <command>'); - brief listing of
	all (available) commands ('help commands').  - fold in 'explain'
	functionality ('help options' and 'help <option>').  Help argument
	can be abbreviated; 'explain' still exists for backward
	compatibility.

	Also fixes a hole that clients could previoulsy obtain values of
	options they shouldn't have (eg, rand seeds) via 'show' and
	'explain'; now use new function may_view_option().

	Lists of commands and options supplied to clients are now
	restricted to those the client is likely to be interested in, as a
	convenience.  Detailed help is still available on other
	commands/options if the client player knows the command/option
	name to ask for.

	Other minor changes: - add farewell message to quit_game(), and
	change exit result to 0; - in show, move string values from
	(min,max) column to value column; - add some const and static
	qualifiers.

Wed Jan  5 11:45:52 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Use cmd_reply_prefix() to simplify some code in explain_option(),
	and do auto-linewrap and auto-indent of option descriptions.  Ie,
	remove (most) hand-formating of descriptions, and instead format
	automatically.  (Also fix description for spacerace option, which
	was out of date re AI.)

Wed Jan  5 11:42:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/plrhand.h, server/stdinhand.c:

	Enhance cmd_reply() to handle multiple lines, and add
	cmd_reply_prefix() which adds a prefix to lines after the first. 
	(Also const-qualify some args of notify_player() etc.)

Wed Jan  5 11:40:50 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, server/stdinhand.c:

	Modify match_prefix() so max_len_name==0 means no max; use
	match_prefix() instead of "by hand" code in command_named() and
	lookup_option(); in show_command(), for an ambiguous option prefix
	show all matches.

Wed Jan  5 11:39:24 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/options.h, client/tilespec.c,
	client/tilespec.h, client/gui-mui/citydlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/mapclass.c,
	client/gui-xaw/Freeciv.h, data/Freeciv:

	Remove client user option for "flags are transparent", intead
	reading value from tilespec file.

Wed Jan  5 11:36:08 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c:

	Change client-continents scheme to allow more continents (avoid
	"ran out of continent numbers in client") and add more comments.

Mon Jan  3 13:48:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Jan  2 19:35:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Minor bugfix to map generators 2,3,4 in routine makeisland(). 
	Patch submitted by IQ <iquin@technologist.com>.

Sun Jan  2 19:13:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advmilitary.c:

	Avoid divide-by-zero in process_defender_want().  May fix PR#218. 
	Patch supplied by Markus Linnala <maage@cs.tut.fi>.

Sun Jan  2 18:35:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/graphics.c, client/gui-xaw/graphics.c,
	common/shared.c, common/shared.h, data/misc/intro.xpm,
	data/misc/radar.xpm:

	New Freeciv intro graphics, for both main map and overview map. 
	Also, the Freeciv motto is now drawn onto the main intro graphic
	at run-time, so it may be internationalized.  Graphics by Marco
	Saupe <msaupe@saale-net.de>.

Sun Jan  2 18:17:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Jan  2 17:45:37 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/mapclass.c,
	common/tech.c:

	Use BOOL_VAL in two more places (common/tech.c and
	client/gui-mui/mapclass.c).  Minor cleanup in
	client/gui-mui/mapclass.c.  Support for the connect feature in the
	Mui client added (Pulldown and Context Menu)

Sun Jan  2 14:05:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Changed computation of moves left after ships attack, to conform
	more closely to Civ2.  Patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Sun Jan  2 11:55:24 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/cityrepdata.c, client/clinet.c, client/clinet.h,
	client/control.c, client/helpdata.c, client/options.c,
	client/packhand.c, client/tilespec.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-mui/connectdlg.c,
	client/gui-xaw/chatline.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/spaceshipdlg.c:

	Safer string handling in client/*, using *snprintf and *strlcpy
	etc.  Added a buffer length argument to some functions which write
	into user-supplied buffers, to allow checking lengths.  Added
	bounds check for packet->id in handle_ruleset_city().  Other minor
	fixes.  (Buffer checking not fully done in helpdata.c and
	gui-*/helpdlg.c.)

Sun Jan  2 11:32:18 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/civserver.c, server/console.c,
	server/gamehand.c, server/gamelog.c, server/handchat.c,
	server/meta.c, server/plrhand.c, server/ruleset.c,
	server/sernet.c, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c, server/unithand.c:

	Safer string handling in server/, using *snprintf and *strlcpy
	etc.  Re-wrote pick_ai_player_name() to do fewer unnecessary
	string copies, and changed it to try more random names, before
	resorting to sequential.  Added field "sz_svalue" in struct
	settings_s (stdinhand.c), for size available in svalue field (eg,
	demography differs from others).  Other minor fixes.

Sun Jan  2 11:18:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c, common/city.c, common/game.c,
	common/government.c, common/log.c, common/map.c, common/packets.c,
	common/player.c, common/registry.c, common/shared.c,
	common/support.c, common/unit.c:

	Safer string handling in common/, using *snprintf and *strlcpy
	etc.  Also use an astring instead of equivalent code, in
	datafilename().

Sun Jan  2 10:59:44 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/support.h:

	Add convenience macros sz_strlcpy() and sz_strlcat() to avoid
	manual sizeof when destination is char array.

Sun Jan  2 10:58:42 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c:

	Add braces to clearly disambiguate 'else', as suggested by gcc.

Sat Jan  1 20:15:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gamelog.c, server/plrhand.c, server/unitfunc.c:

	In server/gamelog.c#gamelog_save() and
	server/plrhand.c#log_civ_score(), fixed a couple more buggy
	is_barbarian()-qualified references into the game.players[] array.

	In server/unitfunc.c#kill_unit(), added check to make sure
	Barbarian Leader ransom is paid only when he is captured alone.

Sat Jan  1 20:02:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c:

	Adds display of production values to main map "city tiles"
	display.

	Also, fixes bug where if a city was on one side of the
	zero/maximum-x divide, and the tile you shift-clicked on was on
	the other side, then nothing would happen.  This was because
	adjust_workers() did its own conversion from map to city
	coordinates, rather than using the map_to_city_[xy]() routines,
	and this conversion code was flawed.

Sat Jan  1 19:29:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/game.h,
	common/packets.c, common/packets.h, common/unit.c,
	data/default/cities.ruleset, server/ruleset.c, server/settlers.c,
	server/unithand.c:

	Added the add-to size limit for cities to cities.ruleset.  The
	value that was burned-into the code was 8 -- I changed it to 9 in
	the default/cities.ruleset to conform with Civ2.

Sat Jan  1 19:15:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c:

	Fixed bug whereby canceling a "connect" would cause the next
	"goto" to act like a "connect" command.

Sat Jan  1 18:55:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/mapclass.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/actions.c,
	client/gui-xaw/actions.h, client/gui-xaw/chatline.c,
	client/gui-xaw/chatline.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/citydlg.h, client/gui-xaw/cityrep.c,
	client/gui-xaw/cityrep.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/connectdlg.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.c,
	client/gui-xaw/diplodlg.h, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gotodlg.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/gui_main.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/helpdlg.h, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/messagewin.c,
	client/gui-xaw/messagewin.h, client/gui-xaw/plrdlg.c,
	client/gui-xaw/plrdlg.h, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, data/Freeciv:

	This is a clean-up of the Xaw client's menu and key dispatching. 
	(It does impact the other clients, a bit.)

Sat Jan  1 17:05:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Changed ./configure to prefer Xaw3d over Xaw when guessing. 
	Addresses the problem where some installations link libXaw.* to
	libXaw3d.*.  Problem reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Sat Jan  1 15:47:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/control.c, client/control.h,
	client/packhand.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/dialogs.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/menu.c, client/include/dialogs_g.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	data/Freeciv, data/helpdata.txt, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/trident/tiles.spec,
	data/trident/tiles.xpm, server/autoattack.c, server/civserver.c,
	server/gotohand.c, server/gotohand.h, server/plrhand.c,
	server/settlers.c, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h, server/unittools.c:

	Added Settler's "Connect" feature.  Settlers/Engineers may be
	ordered to connect two points with a specified infrastructure (one
	of: Road, Railroad, Irrigate, Fortress).  Patch submitted by Jarda
	Benkovsky <pvt.benkovsk@pvtnet.cz>.

Sat Jan  1 07:23:15 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h, server/civserver.c, server/mapgen.c,
	server/mapgen.h, server/maphand.c:

	Replace flood_it() with clearer functions
	assign_continent_numbers() and  setup_isledata().  Add field
	game.num_continents, and do some related re-org in mapgen.c,
	including making islands[] dynamically allocated.  Added some
	comments about problems in "goodies" calculations.

Sat Jan  1 07:20:11 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/advmilitary.h, server/citytools.c,
	server/civserver.c, server/stdinhand.c:

	New function assess_danger_player(), and use it in a few places to
	try to avoid AI using unitialized data: when toggling a player to
	AI, and when civil war happens.

Sat Jan  1 07:17:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/tilespec.c,
	client/gui-xaw/mapview.c, common/registry.c, common/shared.h,
	common/unit.c:

	Add convenience macro BOOL_VAL() (to convert to boolean value),
	and use it for return value of unit_flag() and unit_has_role(),
	and in a few other places to replace equivalent code.  Also add
	extra brackets to make WIPEBIT() macro safer.

Sat Jan  1 07:14:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/gui-mui/mapview.c,
	client/gui-gtk/mapview.c, client/gui-xaw/mapview.c, common/city.c,
	common/government.c, common/nation.c, common/player.c,
	common/shared.c, common/shared.h, common/support.c,
	common/support.h, common/tech.c, common/unit.c, po/POTFILES.in,
	server/ruleset.c, server/sernet.c, server/stdinhand.c:

	Move functions mystrcasecmp(), mystrncasecmp(), mystrerror() and
	myusleep() from shared.c to new home in support.c, and related
	adjustments.

Sat Jan  1 06:45:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/tilespec.c, client/gui-gtk/cityrep.c,
	client/gui-xaw/canvas.c, client/gui-xaw/pixcomm.c,
	server/barbarian.c, server/barbarian.h:

	Code cleanups, and silence some compiler warnings: make more
	functions static; give proper prototypes/argument lists; ifdef-out
	unused helptext_unit_upkeep_str_short().  Patch by Markus Linnala
	<maage@cs.tut.fi> and Jeff Mallatt <jjm@codewell.com>.

Wed Dec 29 16:51:23 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c:

	Map of the mui client can be scrolled via cursor keys now.

Wed Dec 29 16:47:00 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/default/cities.ruleset, data/engels/cities.spec,
	data/engels/cities.xpm, data/trident/cities.spec,
	data/trident/cities.xpm:

	Corrected the new city style graphics and added postmodern style
	to cities.ruleset.

	Patch by Jeff Mallatt <jjm@codewell.com>

Wed Dec 29 13:51:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h:

	Make tile.continent field a signed short instead of char, to allow
	possibility of more continent numbers (especially for client,
	where unknown terrain and Apollo effect can inflate continent
	numbers).  Value is signed to eg account for negative return from
	map_get_continent().  Patch submitted by Peter Schaefer
	<schaefer@dfu.de>.

Wed Dec 29 11:11:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, common/shared.c,
	common/shared.h, server/handchat.c, server/stdinhand.c:

	Allow specifying unambiguous player name prefix, instead of full
	player name, for server commands taking a player name argument. 
	Patch includes a general function match_prefix() (and related
	definitions) in shared.h, and a function
	cmd_reply_no_such_player() in stdinhand.c to handle standard
	"failure" replies.

Wed Dec 29 11:07:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/support.c,
	common/support.h:

	Provide replacement/wrapper functions mystrlcpy() and mystrlcat(),
	with semantics from OpenBSD.

Wed Dec 29 11:05:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h:

	Added utility functions end_of_strn() and cat_snprintf(), to be
	used shortly.

Tue Dec 28 13:17:05 1999  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Updated INSTALL to reflect new, multi-client configure support.

Tue Dec 28 12:47:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c:

	Fixed bug in gtk and xaw Player dialogs where callbacks were
	referencing the wrong player, if there were any Barbarian
	player(s) in the players list before the selected player.

Tue Dec 28 12:25:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.c, common/map.h,
	server/civserver.c, server/gamehand.c, server/gamehand.h,
	server/mapgen.c, server/maphand.c, server/stdinhand.c:

	Removed game.scenario field, and instead use multiple fields, for
	improved code clarity.  New fields game.is_new_game (replaces
	is_new_game variable in civserver.c), map.fixed_start_positions
	(with existing map.num_start_positions) and map.have_specials.

Tue Dec 28 12:16:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/government.h,
	common/packets.c, common/packets.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/citytools.c, server/ruleset.c:

	Added governments ruleset field which allows for making larger
	cities less happy.  Patch submitted by IQ
	<iquin@technologist.com>.

Tue Dec 28 12:03:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/support.h:

	Use fc__attribute to allow gcc to check arguments of
	my_snprintf().

Tue Dec 28 12:00:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c:

	Fix an include: mem.h instead of mem.c!

Tue Dec 28 01:22:49 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update to de.po.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Dec 27 17:55:14 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/cityhand.c, server/citytools.h, server/cityturn.c,
	server/plrhand.c:

	Keep AI from building barracks in cities without enough
	production.  Addresses PR#200.  Patch submitted by Peter Schaefer
	<schaefer@dfu.de>.

Mon Dec 27 17:33:16 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h:

	Minor gui changes in the mui client.  No longer reacts on turn
	done if game is not running.  menu_entry_sensitive() of the mui
	client didn't worked for menu titles.  Updated amiga/ReadMe to
	reflect the changes made since the last public release.

Mon Dec 27 17:25:00 1999  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.in, configure, configure.in, ai/Makefile.in,
	client/Makefile.am, client/Makefile.in, client/packhand.c,
	client/gui-beos/.cvsignore, client/gui-beos/Makefile.am,
	client/gui-beos/Makefile.in, client/gui-gtk/Makefile.in,
	client/gui-stub/.cvsignore, client/gui-stub/Makefile.am,
	client/gui-stub/Makefile.in, client/gui-stub/chatline.c,
	client/gui-stub/chatline.h, client/gui-stub/citydlg.c,
	client/gui-stub/citydlg.h, client/gui-stub/cityrep.c,
	client/gui-stub/cityrep.h, client/gui-stub/colors.c,
	client/gui-stub/colors.h, client/gui-stub/connectdlg.c,
	client/gui-stub/connectdlg.h, client/gui-stub/dialogs.c,
	client/gui-stub/dialogs.h, client/gui-stub/diplodlg.c,
	client/gui-stub/diplodlg.h, client/gui-stub/finddlg.c,
	client/gui-stub/gotodlg.c, client/gui-stub/gotodlg.h,
	client/gui-stub/graphics.c, client/gui-stub/graphics.h,
	client/gui-stub/gui_main.c, client/gui-stub/gui_main.h,
	client/gui-stub/helpdlg.c, client/gui-stub/helpdlg.h,
	client/gui-stub/inteldlg.c, client/gui-stub/mapctrl.c,
	client/gui-stub/mapctrl.h, client/gui-stub/mapview.c,
	client/gui-stub/mapview.h, client/gui-stub/menu.c,
	client/gui-stub/menu.h, client/gui-stub/messagedlg.c,
	client/gui-stub/messagewin.c, client/gui-stub/messagewin.h,
	client/gui-stub/plrdlg.c, client/gui-stub/plrdlg.h,
	client/gui-stub/ratesdlg.c, client/gui-stub/repodlgs.c,
	client/gui-stub/repodlgs.h, client/gui-stub/spaceshipdlg.c,
	client/gui-stub/spaceshipdlg.h, client/gui-win32/.cvsignore,
	client/gui-win32/Makefile.am, client/gui-win32/Makefile.in,
	client/gui-xaw/Makefile.in, client/include/Makefile.in,
	client/include/mapctrl_g.h, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/classic/Makefile.in, data/default/Makefile.in,
	data/engels/Makefile.in, data/misc/Makefile.in,
	data/scenario/Makefile.in, data/trident/Makefile.in,
	doc/Makefile.in, server/Makefile.in:

	Multi-client configure support added.  Changes configure.in to
	handle named clients.  Adds new clients named "stub", "beos" and
	"win32"; keeps "gtk" and "xaw" clients.  The "stub" client is a
	template for a new client.  The "beos" and "win32" clients are
	currently empty.  Addresses PR#181.  Patch submitted by Joseph
	Beckenbach <jrb3@bdhsw.com>.  Applied with a number of changes.

Mon Dec 27 17:16:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-beos:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos added to the
	repository

Mon Dec 27 17:16:46 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-win32:

	Directory /home/freeciv/CVS/freeciv/client/gui-win32 added to the
	repository

Mon Dec 27 17:16:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-stub:

	Directory /home/freeciv/CVS/freeciv/client/gui-stub added to the
	repository

Mon Dec 27 16:32:02 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, ai/aiunit.h:

	Fixed segfault caused by spontaneous retiring of barbarian ships
	which contain passengers.  Fixes PR#187.  Bug submitted by Mikko
	Tiihonen <Mikko.Tiihonen@hut.fi>.

Mon Dec 27 16:01:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Fix infinite loop in Barbarian Leader goto.  Briefly, the problem
	was that the goto code that the Barbarian Leader used (same goto
	code that all AIs use) may opt to -not- move a unit if there
	aren't quite enough movement points left to guarantee the move. 
	Unfortunately, the Barbarian Leader code has a big while loop that
	tries to exhaust the moves_left of the unit, by doing gotos.  You
	can see the problem -- the goto won't actually move, so the
	barbarian leader will continue to loop.  Fixes PR#189.  Patch
	submitted by Corin Anderson <corin@the4cs.com>.

Mon Dec 27 15:41:42 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	AI bodyguard code remains active even after turning AI off.  This
	patch breaks the bodyguard relationship if AI is not on.  Fixes
	PR#197.  Patch submitted by Peter Schaefer <schaefer@dfu.de>.

Mon Dec 27 15:25:26 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/gamehand.c,
	server/stdinhand.c, server/unithand.c:

	Added new server option "occupychance".  When a unit attacks and
	wins, it has "occupychance" chance of moving into the defeated
	unit's square (if no more units are left there).  Patch submitted
	by Greg Wooledge <wooledge@kellnet.com>.

Mon Dec 27 15:11:52 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/gamehand.c:

	I found that randseed is read from savefiles only when the
	"unirandom" option is set, but was being written unconditionally. 
	This patch changes it so that randseed is written only in the
	"unirandom" case.

Mon Dec 27 14:42:07 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, ai/advdomestic.c, ai/aiunit.c,
	client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-xaw/menu.c, common/capstr.c, common/city.h,
	common/packets.c, common/unit.c, common/unit.h,
	data/civ2/units.ruleset, data/civ1/units.ruleset,
	data/default/units.ruleset, server/cityturn.c, server/gamehand.c,
	server/gotohand.c, server/plrhand.c, server/ruleset.c,
	server/settlers.c, server/settlers.h, server/unithand.c,
	server/unittools.c:

	Added a flag, "Cities", to units rulesets which specifies a unit's
	ability to found cities.  Distinct from "Settlers" flag.  Patch
	submitted by Daniel Sjolie <deepone@acc.umu.se>.

Mon Dec 27 14:33:40 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/options.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapctrl.c, client/gui-mui/mapview.c,
	client/gui-mui/objecttreeclass.c, server/barbarian.c:

	Added the new files (common/rand.c, common/support.c and
	client/cityrepdata.c) to amiga/smakefile.  Removed some unused
	variables inside the mui client and changed some #include lines. 
	Made server/barbarian.c more ANSI C conform.  In the new
	client/options.c code there was no check if the
	section_file_load() call was successful.

Mon Dec 27 14:09:00 1999  Jeff Mallatt <jjm@codewell.com>:

	* README, client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-xaw/menu.c,
	client/include/helpdlg_g.h, data/helpdata.txt, po/de.po:

	Added some Native Language Support information: -- Added a Native
	Language Support section to the README file.  -- Added a Languages
	item to the Hlp menu in all clients.  Suggestion and update to
	de.po by Egbert Hinzen <garfy@ehinzen.de>.

Mon Dec 27 13:33:54 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aihand.c, common/city.c, common/city.h, common/government.c,
	common/government.h, data/helpdata.txt,
	data/civ1/governments.ruleset, data/civ2/governments.ruleset,
	data/default/governments.ruleset, server/cityhand.c,
	server/cityturn.c, server/plrhand.c:

	Improved rapture specs in governments rulesets: -- added new flag
	"G_RAPTURE_CITY_GROWTH" in common/government.h and the
	corresponding flag name "Rapture_City_Growth" in
	common/government.c -- added the new flag for Republic and
	Democracy and set rapture_size to 3 for all forms of government
	in: data/civ1/governments.ruleset data/civ2/governments.ruleset
	data/default/governments.ruleset -- fixed Help on Happiness in
	data/helpdata.txt to reflect the new rapture_size of 3 -- fixed
	the old use of rapture_size in ai/aihand.c to use the new flag
	instead -- fixed city_celebrating() in common/city.c to use
	rapture_size instead of the number 5 -- use city_celebrating() and
	the new flag to determine when city should grow by celebrating in
	server/cityturn.c -- added new variable "rapture" in the "city"
	construct (and use it much the same way as the "anarchy" variable)
	in common/city.h -- initialize and handle the new "rapture"
	variable in server/cityhand.c and server/plrhand.c (same way as
	"anarchy") -- use the "rapture" rounds count to fix the display of
	game messages about city celebrations in server/cityturn.c Patch
	submitted by Mike Jing <miky40@hotmail.com>.

Mon Dec 27 12:20:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c:

	Replace special purpose parsing code in load_options() (to parse
	.civclientrc) with calls to registry functions.

Mon Dec 27 12:18:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/cityrepdata.c,
	client/cityrepdata.h, client/options.c, client/gui-gtk/cityrep.c,
	client/gui-xaw/cityrep.c, client/gui-mui/cityrep.c,
	po/POTFILES.in, client/include/cityrep_g.h:

	Consolidated configuration data and some supporting functions for
	the city report into a new module client/cityrepdata.[ch], instead
	of being duplicated between the gui clients.

Mon Dec 27 12:16:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/Makefile.am,
	common/Makefile.in, common/log.c, common/support.c,
	common/support.h:

	Added common/support module for replacement/wrapper functions;
	initially contains my_vsnprintf() and my_snprintf(), implemented
	using a simple/portable method with a large internal buffer.

Mon Dec 27 12:12:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, ai/aiunit.c, common/Makefile.am,
	common/Makefile.in, common/player.c, common/rand.c, common/rand.h,
	common/shared.c, common/shared.h, server/barbarian.c,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/gamehand.c, server/gotohand.c,
	server/mapgen.c, server/maphand.c, server/plrhand.c,
	server/unitfunc.c, server/unithand.c, server/unittools.c:

	Move myrand() stuff to a separate module: common/rand.[ch], and
	make some things slightly nicer: Wrap random state variables up
	into a struct; avoid using globals/extern to save/restore random
	state in savefile; more flexible method to have multiple
	concurrent rand sequences (replace old save_restore_random() with
	get_myrand_state() and set_myrand_state()).

Mon Dec 27 11:25:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-mui/cityrep.c:

	Make gui-gtk and gui-mui clients obey center_when_popup_city
	option when use Popup from city report (as well as from messages
	window; gui-xaw client is already ok).

Sun Dec 26 19:47:47 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/Makefile.in:

	Missing objects and dependencies on barbarian.* in Makefile.in
	added.

Sat Dec 25 09:25:08 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/trident/cities.spec, data/trident/cities.xpm:

	Improved city style graphics of the trident tileset and activated
	them.  Graphics send by Marco Saupe <msaupe@saale-net.de>

Fri Dec 24 19:08:37 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/ru.po:

	Added the Russian localization (ru.po).  Patch submitted by Valek
	Filippov <frob@df.ru>.

Sat Dec 18 12:05:20 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/objecttreeclass.c,
	client/gui-mui/objecttreeclass.h:

	Amiga client: Added technology tree into the help window similiar
	to the xaw client.

Wed Dec 15 18:11:33 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Fixed bug in show_ending() in server/plrhand.c that was causing
	segfaults and reporting bad rankings.  Bug reported by Anthony J.
	Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon Dec 13 09:37:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c:

	There was a bug in ai/aiunit.c, around line 1635, which will send
	the server into an endless loop, if a barbarian unit is found
	within 3 squares from the point where the map wraps around.

	Patch submitted by Anders Wegge Jakobsen <wegge@wegge.dk>

Thu Dec  9 21:28:13 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* PEOPLE:

	Update information for AJS.

Thu Dec  9 18:57:22 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/gotohand.c:

	Fix segfault problem with recent dynamic allocation of warmap
	patch.  Submitted by pja@pdc.kth.se.

Sun Dec  5 21:37:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated Norwegian translation.  Patch submitted by Stig Erik
	Sandoe <stig@ii.uib.no>.

Thu Dec  2 17:33:21 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* common/tech.c:

	Modify update_research to cache value returned by get_invention()
	rather than calling it consecutively.  Patch submitted by AJS.

Wed Dec  1 23:42:41 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unithand.c:

	Get prototype for do_unit_goto() from gotohand.h rather than
	declaring it here.  Patch submitted by AJS.

Wed Dec  1 22:30:15 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unithand.c:

	Fixing mispelling of "horde".  Patch submitted by Greg Wooledge.

Mon Nov 29 20:59:25 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/gotohand.c, server/gotohand.h:

	Make the gotomap be dynamically allocated, rather than a static
	structure.  Patch submitted by AJS.

Sun Nov 21 17:07:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sat Nov 20 16:46:53 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c:

	Amiga client: In the unit selection window now a custom layout
	hook is used. So the number of units displayed in a row depends on
	the window's height.

Sat Nov 20 10:02:52 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/.cvsignore, client/gui-mui/.cvsignore:

	Added .cvsignore files in the amiga and client/gui-mui
	directories.

Fri Nov 19 21:48:37 1999  Sebastian Bauer <sebauer@t-online.de>:

	* server/plrhand.c:

	Fixed some function definitions.

Fri Nov 19 21:47:00 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gui_main.c:

	Added Balance object between map and output listview in the amiga
	client.

Fri Nov 19 21:45:40 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/dialogs.c,
	client/gui-mui/plrdlg.c:

	Updated the amiga port to support barbarians.

Fri Nov 19 18:38:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c:

	Fixed bug in translate_menu_path() in client/gui-gtk/menu.c that
	was causing a core dump when a localized string was longer than
	the English equivalent.  Bug reported by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Nov 19 16:30:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* README, server/civserver.c, server/gamehand.c, server/meta.c,
	server/meta.h, server/stdinhand.c, server/stdinhand.h:

	Added 'read' and 'write' server commands.  Also, changed the
	various metaserver commands so that each does a single thing (no
	more does metaserver both set the metaserver address and turn
	reporting on).  Patch submitted by Reinier Post
	<reinpost@win.tue.nl>, with metaserver commands changes by myself.

Fri Nov 19 15:41:29 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aicity.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c,
	ai/aiunit.h, client/options.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/plrdlg.c,
	common/capstr.c, common/events.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/unit.c, common/unit.h,
	data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/nations.ruleset, data/default/units.ruleset,
	server/Makefile.am, server/Makefile.in, server/autoattack.c,
	server/barbarian.c, server/barbarian.h, server/citytools.c,
	server/civserver.c, server/gamehand.c, server/gamelog.c,
	server/plrhand.c, server/ruleset.c, server/settlers.c,
	server/spacerace.c, server/stdinhand.c, server/stdinhand.h,
	server/unitfunc.c, server/unithand.c, server/unittools.c,
	server/unittools.h:

	Added support for barbarians.  Patch supplied by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Fri Nov 19 15:31:15 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Added suport for using the cursor keys to move units.

Wed Nov 17 18:50:06 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/chatline.c, client/gui-mui/chatline.h,
	client/gui-mui/citydlg.c, client/gui-mui/citydlg.h,
	client/gui-mui/cityrep.c, client/gui-mui/cityrep.h,
	client/gui-mui/colors.c, client/gui-mui/colors.h,
	client/gui-mui/connectdlg.c, client/gui-mui/connectdlg.h,
	client/gui-mui/dialogs.c, client/gui-mui/dialogs.h,
	client/gui-mui/diplodlg.c, client/gui-mui/diplodlg.h,
	client/gui-mui/finddlg.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gotodlg.c, client/gui-mui/gotodlg.h,
	client/gui-mui/graphics.c, client/gui-mui/graphics.h,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/helpdlg.c, client/gui-mui/helpdlg.h,
	client/gui-mui/inteldlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapctrl.c,
	client/gui-mui/mapctrl.h, client/gui-mui/mapview.c,
	client/gui-mui/mapview.h, client/gui-mui/messagedlg.c,
	client/gui-mui/messagewin.c, client/gui-mui/messagewin.h,
	client/gui-mui/muistuff.c, client/gui-mui/muistuff.h,
	client/gui-mui/optiondlg.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/plrdlg.h, client/gui-mui/repodlgs.c,
	client/gui-mui/repodlgs.h, client/gui-mui/spaceshipdlg.c,
	client/gui-mui/spaceshipdlg.h:

	Added amiga directory.  Added all files which are needed to
	compile Freeciv on the Amiga with the SAS C compiler.

Wed Nov 17 18:36:11 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/ReadMe.developer, amiga/_main.c,
	amiga/amigaclient.c, amiga/amigaserver.c, amiga/config.h,
	amiga/makedirs, amiga/smakefile:

	Added amiga directory.  Added all files which are needed to
	compile Freeciv on the Amiga with the SAS C compiler.

Wed Nov 17 17:37:20 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga:

	Directory /home/freeciv/CVS/freeciv/amiga added to the repository

Wed Nov 17 17:23:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui:

	Directory /home/freeciv/CVS/freeciv/client/gui-mui added to the
	repository

Tue Nov 16 14:55:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Changed the attack-success message to gracefully handle plural
	unit type names (at least, in English).  Patch submitted by Greg
	Wooledge <wooledge@kellnet.com>.

Tue Nov 16 14:42:55 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Update Norwegian translation.  Patch submitted by Stig Erik Sandoe
	<stig@ii.uib.no>.

Tue Nov 16 14:31:31 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Tue Nov 16 14:05:08 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/pt.po:

	Removed trailing '\n's from two translations in pt.po, so it could
	compile.

Tue Nov 16 00:01:09 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aicity.c, ai/aihand.c, common/player.h:

	The AI players would sometimes use gold to finish production which
	would cause them to not be able to pay upkeep elsewhere next turn.
	This patch restricts the AI buying to things they can easily
	afford.  AJS.

Mon Nov 15 23:37:32 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* po/pt.po:

	I forgot to fix one line in the previous commit.  AJS.

Mon Nov 15 23:35:54 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* po/pt.po:

	Fixing quoting problems in pt.po. AJS.

Mon Nov 15 19:11:55 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	updated the Portuguese translation.

Mon Nov 15 12:54:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Corrected help text for United Nations wonder.  Bug submitted by
	Egbert Hinzen <garfy@ehinzen.de>.

Mon Nov 15 12:38:36 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/game.h, server/plrhand.c, server/stdinhand.c:

	Added "best nation" column to Demographics report (like Civ2). 
	Patch submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sun Nov 14 22:47:34 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update to German translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Nov 14 17:36:53 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/.cvsignore:

	Removed explicit references to all .mo and .gmo files from
	po/.cvsignore.  Replaced them with "*.mo" and "*.gmo".

Sun Nov 14 17:17:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Added common/city.c to po/POTFILES.in.

Sun Nov 14 16:55:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Changed wonder state characters (w, B, O) from character constants
	into qualified translatable strings.

Sun Nov 14 13:40:06 1999  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.am, Makefile.in, configure, configure.in,
	doc/.cvsignore, doc/Makefile.am, doc/Makefile.in:

	Added config/build support for new ./doc directory.

Sat Nov 13 18:58:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/no.po:

	Added new Norwegian (no) locale.  Translation provided by Stig
	Erik Sandoe <stig@ii.uib.no>.

Fri Nov 12 13:33:40 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update to de.po file.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Nov 11 21:48:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.xpm, data/trident/flags.xpm:

	Fixed the flag(s) for the Republic of South Africa (Zulu).  The
	little triangle on the left is black, not blue.  Bug submitted by
	Jan Pool <jpool@dsp.sun.ac.za>.

Thu Nov 11 21:08:54 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	data/Freeciv:

	Marked the "Turn Done" button label for the Xaw client.

Thu Nov 11 20:51:10 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in, server/mapgen.c:

	Marked a few strings in server/mapgen.c.  Prompted by a request
	from Egbert Hinzen <garfy@ehinzen.de>.

Thu Nov 11 19:56:07 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c:

	Improvements to City Report dialog.

	- Change button presents all possibilities that can be built in at
	least one of the selected cities.

	- Add a "Select" button, which allows for selecting sets of cities
	according to some simple criteria.

	Patch submitted by Sebastian Wilhelmi <wilhelmi@ira.uka.de>.

Thu Nov 11 19:29:41 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po, server/ruleset.c:

	Update to de.po, and a patch to mark the "Loading rulesets"
	string.  Both submitted by Egbert Hinzen <garfy@ehinzen.de>.

Thu Nov 11 18:51:04 1999  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de:

	Added doc directory.  Added README.de to doc directory.  README.de
	submitted by Egbert Hinzen <garfy@ehinzen.de>.

Thu Nov 11 18:47:49 1999  Jeff Mallatt <jjm@codewell.com>:

	* doc:

	Directory /home/freeciv/CVS/freeciv/doc added to the repository

Thu Nov 11 00:30:50 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/meta.c:

	Fix metaserver server command causing server to stop accepting
	input (PR 136).

	The metaserver command causes server_close_udp() to be called. 
	However, if server_open_udp() hadn't been called, then
	server_close_udp() closed file descriptor 0.  I added some checks
	to make sure this doesn't happen.

Wed Nov 10 23:09:29 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/cityhand.c:

	Adding comment for future suggested enhancements re: AI buying
	accelerated production.

Mon Nov  8 03:36:46 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed to fetch plural form of nation name for Revolution
	response.  Bug submitted by Egbert Hinzen <garfy@ehinzen.de>.

Mon Nov  8 03:22:24 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updates to German translation.  Patch by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Nov  8 03:12:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, client/options.c, client/gui-gtk/gamedlgs.c:

	Added calls to _() and fixed some strings so that the Local
	Options dialog and the Rivers help text are translated.  Bugs
	submitted by Egbert Hinzen <garfy@ehinzen.de>.

Sun Nov  7 16:26:15 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c:

	Fixed bug (PR 163) where units in disbanded city that were not
	supported by the city were transported to nearby cities, and
	re-homed there.  Patch submitted by Thue Janus Kristensen
	<Thue.kristensen@get2net.dk>.

Sat Nov  6 16:03:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Rearranged a few cities for the Polish nation.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>.

Sat Nov  6 15:19:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/units.ruleset, data/default/units.ruleset:

	Changed Fighters and Stealth Fighters in the default and civ2
	rulesets to not cause unhappiness.  This conforms to Civ2 rules. 
	Changed submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Sat Nov  6 14:16:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, server/stdinhand.c:

	When civstyle is 2, cities on mountains will produce an extra
	food.  Patch submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Fri Nov  5 21:45:52 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/gui-gtk/repodlgs.c:

	Make report title translatable in GTK client.  Patch submitted by
	Egbert Hinzen.

Fri Nov  5 18:33:50 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/settlers.c:

	Rewrite of is_wet() to be more efficient.  AJS

Fri Nov  5 18:23:11 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unittools.c:

	Moving enemies_at() check for early termination to an earlier
	point in the function.

Fri Nov  5 15:12:14 1999  Lalo Martins <lalo@debian.org>:

	* po/pt_BR.po:

	Improve a little more the pt_BR translation. The patch is by
	Thiago J. Bauermann <jungmann@cwb.matrix.com.br> and he may be
	taking over pt_BR.po. Cheers Thiago.

Fri Nov  5 10:48:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c:

	Initialize packet.name in client_change_all(); otherwise server
	sometimes reports, eg: "1: received bad string in packet (type 18,
	len 53)" when do "Change All" from City Report.  Fixes bug
	reported by Mikolaj Konarski <mikon@mimuw.edu.pl>.

Tue Nov  2 19:03:03 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/dirs, debian/freeciv-gtk.dirs,
	debian/freeciv-gtk.postinst, debian/freeciv-xaw.dirs,
	debian/freeciv-xaw.postinst, debian/freeciv-xaw3d.dirs,
	debian/freeciv-xaw3d.postinst, debian/rules:

	Disabled the "freeciv-xaw" package (partially, ugh, bug);

	Made the translated message files really install;

	Dealt with the change in policy from /usr/man to /usr/share/man;

	Introduced a few extra Debian bugs, probably :-)

Tue Nov  2 17:03:53 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Further improvements to the German (de) translation.  Patch by
	Egbert Hinzen <garfy@ehinzen.de> and Moritz Muehlenhoff
	<muehlenhoff@gmx.de>.

Sun Oct 31 13:08:51 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	New and improved German translation.  Translation by Egbert Hinzen
	<garfy@ehinzen.de> and Moritz Muehlenhoff <muehlenhoff@gmx.de>.

Sat Oct 30 12:35:01 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/capstr.c:

	Made river_help_text capability non-mandatory.

Fri Oct 29 17:29:46 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/map.h, common/packets.c, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/classic/terrain.ruleset,
	data/default/terrain.ruleset, server/ruleset.c:

	Adds help text for Civ-2 style rivers.  Patch submitted by Greg
	Wooledge <wooledge@kellnet.com>, committed with minor changes.

Fri Oct 29 15:33:13 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Qualifies all plural forms in nations.ruleset with '?plural:'.

Fri Oct 29 15:16:50 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Adds Caravan's home city to the message sent upon establishing a
	trade route.  Patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Fri Oct 29 15:01:27 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/.cvsignore:

	Added en_GB.mo and en_GB.gmo to po/.cvsignore.

Fri Oct 29 14:56:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-xaw/mapctrl.c:

	Adds some text to the middle-button popup if a city has walls. 
	Patch submitted by Greg Wooledge <wooledge@kellnet.com>.

Fri Oct 29 14:38:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/en_GB.po:

	Addes the en_GB.po file.  File provided by Robert Brady
	<rwb197@ecs.soton.ac.uk>.

Fri Oct 29 14:35:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, configure, configure.in,
	data/civ2/buildings.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/default/buildings.ruleset,
	data/default/nations.ruleset, data/trident/flags.spec,
	data/trident/flags.xpm:

	Distinguishes English and British: - fixes use of British English
	instead of US English in buildings.ruleset - adds English flag,
	and used instead of UK flag, for the "English" - removes Scottish,
	Welsh, Irish cities from "English" cities list - adds some more
	English cities - addsd the en_GB locale Patch submitted by Robert
	Brady <rwb197@ecs.soton.ac.uk>.

Fri Oct 29 13:40:39 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Restored --keyword=Q_ AutoConf code, and fixed it to be more
	general (able to be run on more platforms).

Fri Oct 29 13:27:04 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c:

	Fixes bug where map generator did not put specials near Civ2-style
	rivers.  Bug reported and patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Wed Oct 27 17:53:58 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c:

	Small change to find_beachhead to make it more efficient.

Sat Oct 23 20:28:06 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog:

	version 0.1.9-1 in debian/changelog

Sat Oct 23 14:20:01 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Change version from 1.9.0 to 1.9.1-devel.

Sat Oct 23 13:46:33 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Fixed bug where Lighthouse was not producing veteran sea units. 
	Bug reported and patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Fri Oct 22 16:07:26 1999  Paul Zastoupil <paulz@adnc.com>:

	* PEOPLE:

	Changed email address for David Serrada

Wed Oct 20 05:44:58 1999  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Removed "Mirror Sites" section from PEOPLE, since the only site is
	no longer an active mirror.  Also, made a minor formatting change.
	Suggested by David Pfitzner <dwp@mso.anu.edu.au>.

Tue Oct 19 13:21:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS, NEWS, README, configure, configure.in,
	client/gui-xaw/Freeciv.h, data/Freeciv, common/version.h: Version
	number to 1.9.0.

Tue Oct 19 13:04:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Commented out (for now) commands which
	massage po/Makefile to make xgettext recognise Q_() as marking
	strings, since has a minor problem and there are no strings marked
	this way yet.

Tue Oct 19 12:52:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po,
	po/pt_BR.po: Ran 'make update-po' (mostly line numbers, some minor
	updates and reformatting).

Tue Oct 19 11:57:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/es.po: Updated (still only partial) Spanish translations,
	submitted by David Perez Serrada <dperezs@nexo.es>, with some
	small fixes by me.

Mon Oct 18 12:14:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS, PEOPLE, data/default/nations.ruleset,
	data/trident/flags.spec, data/trident/flags.xpm,
	data/engels/flags.spec, data/engels/flags.xpm: Added Czech nation,
	by Jarda Benkovsky <pvt.benkovsk@pvtnet.cz>, and Australian
	nation, by Jerzy Klek <qpkjeek@epk.ericsson.se>.  New flag for
	Czech, and also a barbarian flag for future use.  Patch submitted
	by Jerzy Klek.

Mon Oct 18 10:23:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/pl.po: Updated (still partial) Polish translations, submitted
	by Artur Biesiadowski <abies@pg.gda.pl>.

Sun Oct 17 15:38:12 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in: Fixed bug where '--keyword=Q_' was
	being added to 'po/Makefile' multiple times, in some
	circumstances.  Bug reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Sun Oct 17 13:02:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE: Added recent bug reporters.

Sun Oct 17 12:47:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS: Added Known Bugs info about Gtk+ chatline focus problem
	(and moving units with arrow keys), and Great Wall not allowing
	building City Walls.

Sun Oct 17 12:29:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Added some NEWS information about maintainer and webmaster
	changes, and noted which languages are included with (partial)
	translations.

Sun Oct 17 12:10:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c: Changed capability string to final "+1.9".

Sun Oct 17 12:04:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ1/governments.ruleset,
	data/civ1/techs.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/buildings.ruleset,
	data/civ2/governments.ruleset, data/civ2/techs.ruleset,
	data/civ2/terrain.ruleset, data/civ2/units.ruleset,
	data/classic/terrain.ruleset, data/default/buildings.ruleset,
	data/default/cities.ruleset, data/default/governments.ruleset,
	data/default/nations.ruleset, data/default/techs.ruleset,
	data/default/terrain.ruleset, data/default/units.ruleset,
	server/ruleset.c: Simplified all ruleset options strings to be
	just: "1.9" (all are new or incompatibly changed since previous
	stable release).

Sun Oct 17 11:35:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c: Added call to gtk_widget_realize() in
	popup_notify_dialog(), to avoid strange warnings when using
	gtk-1.2.6.  Problem/fix/patch all by Jeff Mallatt.

Sun Oct 17 11:28:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS, INSTALL, README, README.AI, TODO: Minor documentation
	updates, with help from Jeff Mallatt.  - INSTALL: updated version
	numbers for external packages listed here; - README: adjusted
	'help' example; adjusted comments about tilesets re trident as
	default; fixed metaserver address; updated comment about games on
	the metaserver.  - README.AI: AI spaceships and traderoutes.  -
	TODO: some items removed (done), some new or altered.  Others/all:
	minor fixes.

Sat Oct 16 16:20:58 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-xaw/mapview.c,
	client/gui-gtk/mapview.c: Add code to update the map grid in the
	case of a new city being created.  It also changes the grid
	drawing code to draw a more symmetric/consistent grid when part of
	a city's radius is in unknown territory.  Bug reported by Nils
	Jeppe <nils@jeppe.de>.

Sat Oct 16 15:35:14 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	data/Freeciv: Change layout code in city dialog to use translated
	strings during the initial layout.  Now, long translated strings
	will not be truncated.  Bug submitted by Christoph Kutzinski
	<kutzi@gmx.de>.

Sat Oct 16 08:03:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c: Fixed a typo whereby life support modules
	used solar panels graphic.

Sat Oct 16 07:20:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.rulesets: Update to README.rulesets reflecting various
	changes in current code.  Removed "Changes outline" section since
	no longer very interesting.

Sat Oct 16 07:16:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/hu.po: Updated (partial) Hungarian translation, submitted by
	"Ba'rdosi Zolta'n" <hck@lin.lkg.c3.hu>.

Sat Oct 16 02:06:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE, configure, configure.in, po/.cvsignore, po/pt_BR.po:
	Added Brazilian Portuguese translation (partial), based on pt.po,
	submitted by Lalo Martins <lalo@webcom.com>.

Fri Oct 15 14:47:34 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt: Changed a lingering
	http://www.freeciv.org/metaserver/ to
	http://meta.freeciv.org/metaserver/ in helpdata.txt.

Fri Oct 15 12:16:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/clinet.h, data/Freeciv,
	server/meta.h: Use meta.freeciv.org for default metaserver URLs
	instead of www.freeciv.org; idea and host setup thanks to Paul
	Zastoupil <paulz@adnc.com>.

Fri Oct 15 11:53:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE, data/helpdata.txt: List Jeff Mallatt <jjm@codewell.com>
	as Freeciv administrator.

Wed Oct 13 13:59:36 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/fcintl.c, common/fcintl.h: Removed "const" from return of
	skip_intl_qualifier_prefix() function, so its prototype matches
	that of gettext(), so we can use Q_() anywhere that we could use
	_().

Wed Oct 13 13:17:20 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in: Arranged for qualified translatable
	strings to be "marked" by their use of the Q_() macro.

	This was done by extending configure (via configure.in) to add
	"--keyword=Q_" to the xgettext call in 'po/Makefile'.

Wed Oct 13 12:02:29 1999  Jeff Mallatt <jjm@codewell.com>:

	* Imakefile, Makefile.noimake: Removed no-longer supported files
	'Imakefile' and 'Makefile.noimake'.

Tue Oct 12 13:12:24 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/Makefile.am, data/Makefile.in: Here are data/Makefile.am
	and data/Makefile.in for the previous commit.

Tue Oct 12 13:04:17 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/tilespec.c, data/default.tilespec, data/trident.tilespec:
	Changed to use 'trident.tilespec' as default tilespec filename. 
	Renamed data/default.tilespec to data/trident.tilespec.  After
	long discussion with Tony Stuckey <stuckey@jaka.ece.uiuc.edu> and
	David Pfitzner <dwp@mso.anu.edu.au> :)

Tue Oct 12 11:03:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS, data/default/nations.ruleset: Added Sioux nation; patch
	submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sun Oct 10 04:25:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: Added pcity->did_sell to savefile, otherwise
	selling was messed up on first turn from reload.

Sun Oct 10 02:33:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po:
	Updated po files to match latest freeciv.pot (via 'make
	update-po').

Sun Oct 10 02:30:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Removed _("") in a comment because gettext
	was picking it up!

Sun Oct 10 02:29:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, server/unittools.c: Check return of
	get_units_with_flag_string() in two cases where it could be NULL
	(ruleset dependent), before printing.

Sun Oct 10 02:29:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS, PEOPLE: Updated PEOPLE file for contributions since 1.8.1.
	Updated NEWS with changes since 1.8.1 -- lots!

Sat Oct  9 11:36:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c: Fix bug in GTK+ client where some
	citizen icons look "faded" (PR#100).  Bug reported by David
	Pfitzner <dwp@mso.anu.edu.au>.

Sat Oct  9 03:54:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset: Add the Finnish nation, and
	correct a spelling mistake for a Swedish city.  Patch submitted by
	Mika Korhonen <mikak@ees2.oulu.fi>.  Also marked "Portuguese" for
	i18n.

Sat Oct  9 03:42:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/gui-gtk/helpdlg.c: Fix bug
	that accessing help in gtk client, after connecting but before
	game start, would exit client.  Bug (PR#142) reported by Idan
	Sofer <sofer@ibm.net>; fix submitted by Reinier Post
	<rp@win.tue.nl>.

Thu Oct  7 22:15:50 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c: Changing the
	client Trade Popup window terminology from "Gold/Year" to
	"Trade/Year".  "Gold" has other game meanings that aren't
	appropriate to the continuing income from trade routes.

Thu Oct  7 21:59:31 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/terrain.ruleset, common/Makefile.am,
	common/Makefile.in, common/fcintl.c, common/fcintl.h,
	common/game.c, data/civ2/terrain.ruleset,
	data/classic/terrain.ruleset, data/default/terrain.ruleset,
	po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po: Added
	capability to qualify translatable strings.  Qualified strings are
	prefixed by "?qualifier:", which is stripped by the new Q_()
	macro, which, in turn, calls the new skip_intl_qualifier_prefix()
	function to do the real work.  This also changes "Game Animals"
	back to "Game".

Thu Oct  7 19:59:01 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/advdomestic.c, ai/aicity.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, common/capstr.c, server/cityturn.c:
	Committing foodbox patch.  Capability string updated to include
	+foodbox.

Thu Oct  7 19:31:36 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/trident/flags.spec,
	data/trident/flags.xpm: Added Portuguese race.

Mon Oct  4 13:36:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, client/civclient.c, client/control.c,
	client/tilespec.c, client/gui-gtk/diplodlg.c,
	client/gui-xaw/colors.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/gui_main.c,
	common/log.c, common/mem.c, common/shared.c, po/POTFILES.in,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/diplhand.c, server/gamelog.c,
	server/handchat.c, server/maphand.c, server/meta.c,
	server/plrhand.c, server/ruleset.c, server/spacerace.c,
	server/stdinhand.c, server/unitfunc.c, server/unithand.c,
	server/unittools.c: Marked a few more strings, and adjusted
	others, in particular for more consistent capitalisation and
	punctuation of messages.

Mon Oct  4 11:32:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/control.c, ai/aicity.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/messagewin.c,
	client/gui-xaw/chatline.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, common/log.c, common/map.c,
	common/shared.c, common/unit.c, po/POTFILES.in, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/civserver.c,
	server/console.c, server/diplhand.c, server/handchat.c,
	server/maphand.c, server/meta.c, server/plrhand.c,
	server/spacerace.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c: Marked more strings for
	translation, especially in common, server, ai.  (Parts will only
	work well if server and client use same language.) Adjusted
	treatment of "Game: " message prefix in add_notify_window() to try
	to strip both untranslated and locally translated prefix.  In
	set_title_topic() check for translated "About".  Changed some
	cases where building and unit names (especially spy and diplomat)
	were hardcoded in messages strings, to now use eg unit_name()
	instead, for better support for modpacks.

Sun Oct  3 09:41:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.mac.h: Update to config.mac.h, submitted by Andy Black
	<ablack@bvsd.k12.co.us>.

Sun Oct  3 08:52:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	server/plrhand.c: Fixed bug that clicking on rates icons after
	connection but before game start could cause server crash (or at
	least complaint, for recent servers).  Fixed in clients, and also
	made server more defensive.  Fixes bug (PR#140) reported by Jerzy
	Klek <qpkjeek@epk.ericsson.se>.

Sun Oct  3 07:49:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ1/techs.ruleset,
	data/civ1/units.ruleset, data/civ2/buildings.ruleset,
	data/civ2/techs.ruleset, data/civ2/units.ruleset,
	data/default/buildings.ruleset, data/default/techs.ruleset,
	data/default/units.ruleset: Some fixes and improvements to
	helptext, suggested by Per Mathisen <permath@ifi.ntnu.no>.

Sun Oct  3 07:19:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/gui-gtk/helpdlg.c,
	client/gui-xaw/helpdlg.c, data/helpdata.txt, po/POTFILES.in:
	Converted helpdata.txt to registry format, to allow i18n.

Sun Oct  3 07:15:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c, ai/aitech.c, common/game.c, common/game.h,
	common/government.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/ruleset.c: Added ai_goal and subgoal entries to governments
	rulesets so can remove remains of G_ANARCHY etc, in
	ai_manage_government() and get_government_tech() (without going
	yet to full (unfixed, untested) government evaluation code).

Sun Oct  3 07:13:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: When writing repeated log messages, use prev_level
	instead of level.

Sat Oct  2 05:34:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po: Updated de.po, by Manop Huber
	<saphir@cs.tu-berlin.de>, submitted by Sebastian Feuerstack
	<Sebastian@Feuerstack.de>.

Sat Oct  2 05:29:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/dialogs.c, common/city.h, common/game.c,
	common/nation.c, data/Freeciv, data/default/cities.ruleset,
	po/POTFILES.in, server/ruleset.c: Marked city style changes for
	i18n, including names of styles.  Added bounds checking in
	get_nation_city_style().  In load_ruleset_cities, changed order so
	no need to malloc for replacements.

Sat Oct  2 04:28:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/roads.spec, data/trident/roads.xpm: Improved the
	trident roads to be more like current engels tileset: each road
	tile slightly different, to reduce repetition on map, rather than
	having each tile based on exactly the same template.

	Added narrower rails (like current engels tileset), which obscure
	less terrain than original trident rails.  But they don't look
	quite as nice as originals, so left originals in xpm as well, and
	can change back by editing one number in trident/roads.spec.

Sat Oct  2 04:12:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c: Modified the capability string, because the
	city style stuff made changes to the protocol.

Fri Oct  1 16:06:48 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/connectdlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/gui_main.c: Fix a few oddities in dialog
	positioning in the Xaw client.

Fri Oct  1 15:09:48 1999  Jeff Mallatt <jjm@codewell.com>:

	* README.graphics, README.rulesets, client/civclient.c,
	client/packhand.c, client/packhand.h, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/dialogs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c, common/city.c,
	common/city.h, common/game.c, common/game.h, common/nation.c,
	common/nation.h, common/packets.c, common/packets.h,
	common/player.c, common/player.h, data/Freeciv,
	data/default.tilespec, data/engels.tilespec,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/cities.ruleset, data/default/nations.ruleset,
	data/engels/Makefile.am, data/engels/Makefile.in,
	data/engels/cities.spec, data/engels/cities.xpm,
	data/engels/tiles.spec, data/trident/Makefile.am,
	data/trident/Makefile.in, data/trident/cities.spec,
	data/trident/cities.xpm, data/trident/tiles.spec,
	server/civserver.c, server/gamehand.c, server/plrhand.c,
	server/ruleset.c, server/stdinhand.c: Patch to implement varying
	city display styles, depending upon city size and civilization
	advancement.  Patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Thu Sep 30 14:25:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c: Added sanity checks to
	get_government_max_rate() and get_government_name().  Calls to
	these before starting a game (hence, before loading government
	ruleset) was causing core dumps.  Specifically addresses bug
	report PR#138.  Bug reported by Matt Starnes <matt@mail.ltlb.com>.

Thu Sep 30 13:10:25 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/pt.po: Fixed bug in latest pt.po -- one translation did not
	have consistent newlines.  Error message was: pt.po:1272: `msgid'
	and `msgstr' entries do not both end with '\n'

Thu Sep 30 12:38:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/repodlgs.c: Fixed bug where gtk+ client's
	Military Report showed only Unit Type column.  Caused by
	introduction of intl_slist() i18n mechanism.  Bug reported by Tony
	Stuckey <stuckey@jaka.ece.uiuc.edu>

Thu Sep 30 12:21:52 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po: *** empty log message ***

Tue Sep 28 21:09:28 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-gtk/graphics.c,
	client/gui-xaw/graphics.c: A few, minor UI fixes.  Increased the
	height of the gtk client's connect dialog, so the betatest message
	is not clipped.  Used font metrics and sprite extents to determine
	where to draw version text onto the overview initial graphic (both
	clients).

Tue Sep 28 19:38:35 1999  Jeff Mallatt <jjm@codewell.com>:

	* README.graphics: Changed references to trident tileset into
	engels tileset.

Tue Sep 28 15:02:10 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/classic_terrain.ruleset, data/default.tilespec,
	data/engels.tilespec, data/intro.xpm, data/radar.xpm,
	data/trident.tilespec, data/classic/.cvsignore,
	data/classic/Makefile.am, data/classic/Makefile.in,
	data/classic/terrain.ruleset, data/default/Makefile.am,
	data/default/Makefile.in, data/default/flags.spec,
	data/default/flags.xpm, data/default/roads.spec,
	data/default/roads.xpm, data/default/small.spec,
	data/default/small.xpm, data/default/space.spec,
	data/default/space.xpm, data/default/tiles.spec,
	data/default/tiles.xpm, data/default/treaty.spec,
	data/default/treaty.xpm, data/default/units.spec,
	data/default/units.xpm, data/engels/.cvsignore,
	data/engels/Makefile.am, data/engels/Makefile.in,
	data/engels/flags.spec, data/engels/flags.xpm,
	data/engels/roads.spec, data/engels/roads.xpm,
	data/engels/tiles.spec, data/engels/tiles.xpm,
	data/engels/units.spec, data/engels/units.xpm,
	data/misc/.cvsignore, data/misc/Makefile.am,
	data/misc/Makefile.in, data/misc/intro.xpm, data/misc/radar.xpm,
	data/misc/small.spec, data/misc/small.xpm, data/misc/space.spec,
	data/misc/space.xpm, data/misc/treaty.spec, data/misc/treaty.xpm,
	po/POTFILES.in, po/pt.po: Reorganized the data directory.  Added
	the data/engels and data/misc directories.  Moved Engels tiles
	files into data/engels, and all other image files into data/misc. 
	Changed the default tileset to be the Trident tileset.  Moved
	classic_terrain.ruleset to classic/terrain.ruleset.  Also, fixed
	minor, unrelated bug in po/pt.po.

Tue Sep 28 11:51:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po: Translated a couple of strings here and there.

Mon Sep 27 14:58:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv: Named cvs version as "1.8.4-devel"
	(beta).

Mon Sep 27 14:29:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv: Update version number to 1.8.3
	(beta).

Mon Sep 27 14:24:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po:
	Updates to po files by "make dist": normalised vs freeciv.pot, and
	it tried to do automatic ("fuzzy") updates; many of these look
	disastrous, but it seems they don't get used by gettext until the
	fuzzy tag is later removed by hand by translator.

Mon Sep 27 13:21:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/menu.c, common/capstr.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/menu.c: Consolidated capability string to
	"+1.9pre1", in preparation for final "+1.9" protocol; adjusted
	code which previously checked particular capability tags.

Mon Sep 27 13:19:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c: When reading .civclientrc, sanity-check index
	from "message_where_*" entries to avoid possible core dumps. 
	Patch submitted by Corin Anderson <corin@the4cs.com>.

Mon Sep 27 13:17:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/connectdlg.c, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, server/meta.c, server/meta.h:
	Changed notices about "beta release" to say "beta version", so it
	applies not just to point releases.  Moved a comment block from
	meta.h to meta.c.

Mon Sep 27 13:14:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: Interim ChangeLog update.

Sun Sep 26 21:26:26 1999  Sebastian Bauer <sebauer@t-online.de>:

	* common/packets.c: Renamed the _int* functions to _sint* and
	surrounded them with #ifdef #endif pair because they are not used
	currently and gcc generates a warning otherwise. Also use a
	probably safer method to ensure the sign of a value.

	Suggested by David Pfitzner <dwp@mso.anu.edu.au>

Sun Sep 26 11:54:39 1999  Sebastian Bauer <sebauer@t-online.de>:

	* common/packets.c: New *_int* functions in packet.c which take
	care of the sign. They are currently not used.

Sun Sep 26 09:59:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv, data/helpdata.txt: Fixed
	some cases where metaserver URL was still the daimi address.

Sun Sep 26 09:58:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* freeciv_hackers_guide.txt: Added some maintainer-notes about
	incrementing the version number.

Sun Sep 26 09:58:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, configure, configure.in,
	client/clinet.c, client/gui-gtk/graphics.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/graphics.c,
	common/packets.c, common/packets.h, common/version.h,
	data/Freeciv, server/civserver.c: Added support for a descriptive
	label as part of the version string; label is currently "-devel".

Sun Sep 26 09:56:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, common/city.h, common/game.c, common/game.h,
	common/government.h, common/map.h, common/nation.h, common/tech.h,
	common/unit.h, server/ruleset.c: Activate translations for names
	marked in rulesets (unit names etc).  Keep copies of untranslated
	names too, since useful for some purposes (eg, for server to send
	to clients).

Sun Sep 26 09:53:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/helpdlg.c: In gtk help_hyperlink_callback(),
	check against gettext versions of "(Never)" and "None", to work
	properly when i18n'd.  Also check vs advances[A_NONE].name
	(necessary for now).

Sat Sep 25 16:16:31 1999  Sebastian Bauer <sebauer@t-online.de>:

	* common/packets.c, common/packets.h, server/meta.c: Renamed all
	packet functions from *_int* to *_uint* because they are no real
	signed functiones. This is a first step to solve the problems with
	signed values in packets.  Added comment which describes next
	steps.

Sat Sep 25 14:02:06 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt: Added some Airbase information to
	helpdata.txt.

Sat Sep 25 12:06:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/helpdata.h, client/gui-gtk/helpdlg.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/helpdlg.c, data/Freeciv:
	Added explicit information about unit upkeep parameters to help
	dialogs about unit types, covering full upkeep generality now
	allowed by rulesets.  For Gtk+ client, also moved vision range
	information to separate widget instead of being in text part.

Sat Sep 25 12:05:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c: Use user_home_dir() instead of explicit
	getenv("HOME") in open_option_file().

Sat Sep 25 12:04:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c, client/tilespec.h, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c: Solid background colors were broken for
	nations 14 and above, since there are only 14 nation colors
	defined.  Fixed by making the color depend on the player number
	instead of the nation number, since the player number is still
	restricted to less than 14.

Sat Sep 25 12:04:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/government.c, common/government.h, common/nation.c,
	common/nation.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	data/default/nations.ruleset, server/ruleset.c: Moved all
	nation-specific ruler titles to nations ruleset, leaving only the
	default ruler titles in government ruleset.  So government ruleset
	is not dependent on nations.  This allows also to simplify nation
	struct by removing the goals strings and init_nation_goals()
	function.  Patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.  Also added some i18n marking for ruler
	titles (but not yet used).

Sat Sep 25 12:02:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset, po/POTFILES.in: Mark nation names
	for i18n (not yet used).  From patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Sat Sep 25 12:02:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/flags.spec, data/default/flags.xpm,
	data/default/nations.ruleset, data/trident/flags.spec,
	data/trident/flags.xpm: Added graphics for Sioux and Norway flags,
	and changed Viking flag to f.norway, since f.denmark is now used
	by Danish.  Submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sat Sep 25 12:01:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/default/terrain.ruleset: Changed
	terrain special named "Game" to "Game Animals", to distinguish
	from "Game" menu in translations (problem pointed out by Artur
	Biesiadowski <abies@pg.gda.pl>).

Sat Sep 25 12:00:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gamedlgs.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/ratesdlg.c, data/Freeciv: Made buffers longer in
	rates_set_values() and popup_rates_dialog(), to avoid overflow
	when words are longer in different LANGs; also made default Xaw
	resource text longer to allow more space.

Sat Sep 25 11:59:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, po/.cvsignore, po/de.po, po/es.po,
	po/fr.po, po/hu.po, po/pl.po, po/pt.po: Updates to po files: new
	de.po, by Manop Huber <Saphir@cs.tu-berlin.de>, submitted by
	"Sebastian Feuerstack" <Sebastian@Feuerstack.de>; fixes and
	updates to fr.po, by Denis Bodor <dbodor@linuxmag-france.org>;
	tidied up and standardized first few lines for all .po files,
	including adding standard Freeciv copyright line.

Sat Sep 25 03:56:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/helpdlg.c, client/helpdata.c, client/helpdata.h,
	client/packhand.c, client/gui-xaw/helpdlg.c,
	client/include/helpdlg_g.h, common/capstr.c, common/city.h,
	common/government.h, common/map.h, common/packets.c,
	common/packets.h, data/classic_terrain.ruleset, data/helpdata.txt,
	data/civ1/buildings.ruleset, data/civ1/governments.ruleset,
	data/civ1/terrain.ruleset, data/civ2/buildings.ruleset,
	data/civ2/governments.ruleset, data/civ2/terrain.ruleset,
	data/default/buildings.ruleset, data/default/governments.ruleset,
	data/default/terrain.ruleset, po/POTFILES.in, server/ruleset.c:
	Moved helptext on buildings (improvements, wonders), terrain, and
	governments into ruleset files.  (Added new help category for
	governments.)

Thu Sep 23 17:57:42 1999  Sebastian Bauer <sebauer@t-online.de>:

	* server/unitfunc.c: Heli units no longer loose hitpoints when
	over an airbase (like Civ2)

Thu Sep 23 16:55:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c: Displace gtk client middle-button
	popup so it is not obscured by the mouse cursor.  Patch submitted
	by Peter Schaefer <schaefer@cys.de>, applied with a minor change.

Thu Sep 23 16:08:27 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/governments.ruleset, data/default/governments.ruleset:
	Changes rapture_size to 3, to conform to Civ2.

Thu Sep 23 15:53:57 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/graphics.c, data/radar.xpm,
	client/gui-xaw/graphics.c: Changes radar.xpm to use the "Freeciv"
	capitalization.  Also cleans-up the code that draw the version
	number onto the radar image.

Thu Sep 23 15:22:01 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/helpdlg.c,
	data/Freeciv: Fix problem with using I_L() family on widgets after
	they are realized by having the underlying functions make the
	widgets temporarily resizable.

Thu Sep 23 13:01:26 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/gui_main.c, client/control.c, client/control.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h, data/Freeciv:
	Implemented <Escape> key cancels Go-To/Paradrop/nuke mode.

Thu Sep 23 12:09:12 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/graphics.c, client/gui-gtk/mapview.c,
	client/gui-xaw/graphics.c, client/gui-xaw/mapview.c,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/drop_cursor.xbm,
	client/include/drop_cursor_mask.xbm,
	client/include/goto_cursor.xbm,
	client/include/goto_cursor_mask.xbm,
	client/include/nuke_cursor.xbm,
	client/include/nuke_cursor_mask.xbm: Added Paradrop and Nuke
	cursors, and changed Go-To cursor.

Tue Sep 21 13:36:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/finddlg.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_stuff.c,
	client/gui-xaw/gui_stuff.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inputdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/optiondlg.c,
	client/gui-xaw/plrdlg.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c,
	po/POTFILES.in, data/Freeciv: Added i18n marking to many
	resources/widgets, and some code strings, for Xaw client.  Changed
	slightly the meaning of popup_message_dialog() arguments.

Tue Sep 21 13:07:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/connectdlg.c: Updated gtk client beta notice.

Tue Sep 21 12:44:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/gui_stuff.c,
	client/gui-gtk/gui_stuff.h, client/gui-gtk/messagewin.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c: Fix i18n
	handling of widget column titles in gtk client.  Added/used
	function intl_slist() in gui_stuff.c.

Tue Sep 21 12:29:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, common/nation.c, common/packets.c: In
	handle_player_info(), only call update_info_label() if game is
	running.  Avoids various problems, in particular fixes bug
	(PR#128) reported by Markus Linnala, and possibly a bug reported
	by Corin Anderson <corin@the4cs.com>.  Allows more verbose logging
	of bounds failure in get_nation_name().  In iget_bit_string(),
	don't complain about empty strings.

Tue Sep 21 07:06:12 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/dialogs.c: Fix the return-key crashing bug in
	Select Nation dialog that I introduced when adding pick-leader
	support.

Mon Sep 20 20:50:42 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/tiles.spec, data/default/tiles.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm: Artwork for
	Airbases and Airbase builders.  (Airbase patch by Sebastian Bauer
	<sebauer@t-online.de>.)

Mon Sep 20 19:11:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-gtk/menu.c, client/control.c, client/control.h,
	client/helpdata.c, client/tilespec.c, client/tilespec.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/menu.c, common/capstr.c, common/map.c,
	common/map.h, common/tech.c, common/tech.h, common/unit.c,
	common/unit.h, data/Freeciv, data/helpdata.txt,
	data/civ1/techs.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset, data/default/techs.ruleset,
	data/default/tiles.spec, data/default/units.ruleset,
	server/unitfunc.c, data/trident/tiles.spec: Added Airbase map
	special and "Airbase" flag in units.ruleset and techs.ruleset to
	allow the building of the airbases known from civ2.

	New Menu Item "Build Airbase" with shortcut 'e', to allow special
	units to build airbases.

	Modified default and civ2 rulesets to support these new flags.
	(Settlers and Engineers can build Airbases after Radio tech has
	been researched)

Mon Sep 20 16:22:25 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c: Indented the extra_help text for the
	"specials" server option, so it conforms to the rest.

Mon Sep 20 16:01:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset, server/plrhand.c, server/ruleset.c,
	server/unitfunc.c: Maked paratroopers rules a little more
	configurable in units.ruleset and changed the included rulesets to
	match the civ2 rules, as suggested by Jeff Mallatt
	<jjm@codewell.com>

Sun Sep 19 22:13:58 1999  Sebastian Bauer <sebauer@t-online.de>:

	* ai/aitech.c, client/helpdata.c, client/packhand.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/repodlgs.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/repodlgs.c,
	common/capstr.c, common/game.c, common/game.h, common/packets.c,
	common/packets.h, common/player.c, common/tech.c, common/tech.h,
	data/civ1/techs.ruleset, data/civ2/techs.ruleset,
	data/default/techs.ruleset, server/citytools.c, server/gamehand.c,
	server/plrhand.c, server/ruleset.c, server/unitfunc.c: Allow
	variable number of techs (upto 199) in techs.ruleset.

Sun Sep 19 21:12:40 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/earth-160x90.sav, data/earth-80x50.sav, data/europe.sav,
	data/scenario/.cvsignore, data/scenario/Makefile.am,
	data/scenario/Makefile.in, data/scenario/earth-160x90-v1.sav,
	data/scenario/earth-160x90-v2.sav,
	data/scenario/earth-80x50-v1.sav,
	data/scenario/earth-80x50-v2.sav,
	data/scenario/europe-200x100-v1.sav,
	data/scenario/europe-200x100-v2.sav: Reorganization of scenario
	files: - All scenario files now live in new "data/scenario"
	directory.  - Kept, but renamed, old scenario files.  - Converted
	all scenario files to new format (with rivers as overlays).

Sun Sep 19 20:32:49 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, INSTALL.debian,
	freeciv_hackers_guide.txt, client/gui-xaw/Freeciv.h, data/Freeciv,
	data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/default/terrain.ruleset,
	debian/changelog, debian/civclient.6, debian/civserver.6,
	debian/control, debian/freeciv-gtk.menu, debian/freeciv-xaw.menu,
	debian/freeciv-xaw3d.menu, debian/freeciv.desktop, debian/menu,
	po/es.po, po/pl.po: Normalized the Freeciv name by changing all
	occurrences of "FreeCiv" in the code to "Freeciv".

	I did not change the intro graphic.

Sun Sep 19 20:04:52 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.h, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/graphics.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/include/graphics_g.h, data/default.tilespec,
	data/trident.tilespec, common/player.c, common/player.h: Changes
	to main map drawing:

	- Adds distinctive drawing within city radii to the grid draw
	code.  - Adds city_names_font to the tilespec files, allowing for
	changing the font size based on the tile size.  - Uses font
	metrics to place the city names, rather than guessing based on
	tile size.  - For the Xaw client, adds a 1-pixel shadow to
	lower-right of city names (the gtk+ client already did this).

	Also, I moved the tile size variables from gui-specific files into
	tilespec.[hc] (which is where I put the city_names_font variable).

Sun Sep 19 18:23:41 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c, server/stdinhand.c, server/unithand.c: Added two
	Civ2 comformities: - Overflight of a hut causes it to disappear. 
	- Can't build cities next to each other.  Also, added full
	explaination of all civstyle effects to its help text.

Sun Sep 19 17:54:44 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	common/capstr.c, common/nation.c, data/Freeciv,
	server/civserver.c: Add leader selection to xaw Select Nation
	dialog.  Add Disconnect and Quit buttons to Select Nation dialogs.
	Fix a couple of bugs this uncovered: - If kill client when races
	dialog open, server cores.  - If disconnect first connected of two
	connected clients, remaining pops-up an empty select government
	dialog and hangs.

Sun Sep 19 15:47:13 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/tiles.spec, data/default/tiles.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm: A few, small
	changes to the two main tilesets: Trident: Farmland -- obscure
	less.  OIL -- remove word.  Engels: Unrest -- changed to not
	obscure city size.  Both: MINE -- remove word.  Distinct Pillage
	marker.  Two-food support confined to right side.

Sun Sep 19 14:37:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/citydlg.c, client/include/citydlg_g.h,
	data/Freeciv: Improvements to xaw city dialog: - Allow space for
	three digits in F/P/T and G/L/S boxes.  - Put a '*' in Granary
	line if have granary effect.  - Compute numbers of controls
	dynamically.  - If more civs than fit on line, show right-arrow in
	last position.  - Scrollable unit lists.

Sun Sep 19 11:20:51 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/tilespec.c, client/gui-xaw/mapview.c: Fixed indentation
	bugs I created in my last patch.

Sun Sep 19 03:55:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/gui-xaw/graphics.c: No need to
	calculate player's color in create_overlay_unit().

Sun Sep 19 03:25:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/colors.h, client/include/Makefile.am,
	client/include/Makefile.in, client/include/colors_g.h,
	client/gui-xaw/colors.h: Created colors_g.h with gui-independent
	parts from colors.h.  Named the COLOR_STD_* enum as "enum
	color_std".

Sun Sep 19 02:57:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/techs.ruleset, data/civ1/techs.ruleset,
	data/default/techs.ruleset: Mark tech names for i18n (but not used
	yet).

Sun Sep 19 02:57:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/helpdlg.c, client/packhand.c,
	client/gui-xaw/helpdlg.c, common/capstr.c, common/packets.c,
	common/packets.h, common/tech.h, data/helpdata.txt,
	data/civ1/techs.ruleset, data/civ2/techs.ruleset,
	data/default/techs.ruleset, server/ruleset.c, po/POTFILES.in: Move
	tech helptext to rulesets (although current rulesets don't make
	use of this, with auto-generated tech helptext only).

Sun Sep 19 02:55:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, data/helpdata.txt: Automatic helptext for
	techs allowing governments.

Sun Sep 19 02:54:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset: Mark unit names for i18n (but not used
	yet).

Sun Sep 19 02:53:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in: Since top-level client
	files are supposed to be gui-independent (including what they
	include), don't use CLIENT_CFLAGS (which contains gui-dependent
	flags) for these.

Sun Sep 19 02:52:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, common/government.c, server/cityturn.c: Cleaned up
	some minor government related stuff done previously for regression
	testing.  Updated comments in government.c.

Sun Sep 19 02:51:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv, server/civserver.c,
	server/meta.h: Updated beta notices (currently off).

Sun Sep 19 02:50:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, client/helpdata.c, server/cityturn.c: Use
	utype_shield_cost() instead of is_military_unit() to calculate
	prodneed in ai_find_elvis_pos(), and to choose unit to forcibly
	disband if city does not have enough shield support.  Update
	helptext explanation for F_NONMIL, and add text for F_FIELDUNIT.

Sun Sep 19 02:49:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/units.ruleset: Turn on shield upkeep (as well as
	food upkeep) for Settlers and Engineers in default ruleset, in
	accordance with civ1 and civ2.

Sun Sep 19 02:48:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.h,
	data/helpdata.txt, data/civ1/units.ruleset,
	data/civ2/units.ruleset, data/default/units.ruleset,
	po/POTFILES.in, server/ruleset.c: Moved helptext for units into
	ruleset files.  Allows better customization for rulesets, and i18n
	of unit helptext.  Adjusted help system so helptext line wrapping
	is done in code, and adjusted some unit flag helptext accordingly.
	Minor helptext changes for civ1.  Added capability string tag
	"+helptext1".

Sun Sep 19 02:46:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Allow registry strings to have escaped
	literal newlines.

Sat Sep 18 19:27:09 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/tilespec.c, client/tilespec.h, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h: Moved code from client dependent
	mapview.c out to client independent tilespec.c.

Sat Sep 18 03:44:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/nation.c: Added bounds checking to nation accessor
	functions; in particular get_nation_name() is sometimes called by
	client before nations are setup or with bad nation id (now returns
	"" in such cases).  Fixes bug reported by Tony Stuckey.

Sat Sep 18 03:22:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset: Update to nations ruleset
	featuring more nations and leaders, submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.  New nations are: Polish, Hungarian,
	Danish, Dutch, Swedish, Japanese.

Sat Sep 18 03:16:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Minimal fix in cmdlevel_command() to work
	with spaces in player names.

Sat Sep 18 02:55:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/clinet.c, client/control.c,
	client/helpdata.c, client/options.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/messagedlg.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-xaw/messagedlg.c, po/POTFILES.in: Mark lots of strings
	for i18n in Gtk+ client.  There is a problem with titles set via
	gtk_clist_new_with_titles() (added FIXME comments).  Based on
	patch by Zbigniew Chyla <chyla@alice.ci.pwr.wroc.pl>, submitted 
	by Artur Biesiadowski <abies@pg.gda.pl>.

Sat Sep 18 02:49:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/fcintl.h: Put test in fcintl.h to ensure that files
	including it pre-include config.h.

Sat Sep 18 01:30:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, configure, configure.in,
	server/sernet.c, common/shared.c: Changes to help compilation of
	server on BeOS: check defined(__BEOS__) in dont_run_as_root();
	check for snooze() in configure and use in myusleep() if found and
	don't have real usleep(); changes in server.c if
	SOCKET_ZERO_ISNT_STDIN defined (but not set by configure).  Based
	on patches/information submitted by Joseph Beckenbach III
	<jrb3@best.com>.

Sat Sep 18 00:58:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: Make sure pre-processor '#' is in first column in
	log_parse_level_str() (also re-arranged a bit).  Fixes bug
	(PR#126) reported by Emmanuel PARIS <ep@axene.com>.

Sat Sep 18 00:57:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h: Renamed
	remove_leading_spaces() to more appropriate skip_leading_spaces().

Wed Sep 15 09:09:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advleader.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, client/civclient.c, client/civclient.h,
	client/climisc.c, client/packhand.c, client/tilespec.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, common/Makefile.am, common/Makefile.in,
	common/capstr.c, common/city.c, common/city.h, common/game.c,
	common/government.c, common/government.h, common/nation.c,
	common/nation.h, common/packets.c, common/packets.h,
	common/player.c, common/player.h, data/Freeciv,
	data/default/nations.ruleset, server/cityhand.c,
	server/cityhand.h, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/civserver.h, server/diplhand.c,
	server/gamehand.c, server/gamelog.c, server/plrhand.c,
	server/ruleset.c, server/spacerace.c, server/unitfunc.c,
	server/unithand.c: Improvements and cleanups to nations ruleset
	stuff, from patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

	1. Separate common/nation.* files.  2. Bit more functions
	operating on struct nation_type.  3. Better handling of less than
	14 nations - I think that some scenarios will want to have less
	than 14 nations. It reduces aifill value, removes ai players made
	with 'create' command and rejects players, when there is no
	nations left.  4. Race -> nation changes in server/ and common/
	dirs.  Practically everywhere. Clients still have races_dialog. 
	5. city_name_suggestion() moved to cityhand.c from city.c 6.
	Support for many leaders in nation ruleset file, with random
	selection for ai leader names.  Xaw client not adapted, but works.
	7. Rulesets sent earlier, less in PACKET_NATION_SELECT.  8. Nation
	city names now in struct nation_type.  9. Adjusted Roman and
	German city names.

	Pushed capability tag "+nationsruleset" to "+nationsruleset2", due
	to packet changes for (6) and (7) above.

Wed Sep 15 08:01:57 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.h,
	data/civ2/units.ruleset, data/default/units.ruleset,
	server/ruleset.c, server/unitfunc.c: Added new new field
	paratroopers_range in the units.ruleset which depends on the
	"Paratroopers" flag.

Wed Sep 15 07:56:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/civ1/techs.ruleset, data/civ2/techs.ruleset, common/tech.h,
	data/default/techs.ruleset, server/ruleset.c: Removed the
	necessity of [advanve_none] technology in the techs.ruleset.

Tue Sep 14 17:06:32 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/default/nations.ruleset: Corrected a misspelling in
	nations.ruleset.  Patch submitted by Mattias Andersson
	<tamasis@softhome.net>

Tue Sep 14 15:40:40 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/menu.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/menu.c, data/Freeciv,
	data/helpdata.txt, po/POTFILES.in, po/es.po: The patch to i18n
	menus in the xaw client, and to add spanish translations for them.
	Patch submitted by David Perez Serrada <dperezs@nexo.es>.  Applied
	with some modifications.

Mon Sep 13 10:17:57 1999  Sebastian Bauer <sebauer@t-online.de>:

	* config.h.in, configure, configure.in, client/clinet.c,
	client/clinet.h, client/gui-gtk/connectdlg.c, server/meta.h,
	client/gui-xaw/connectdlg.c: Moved the metaserver code out of
	connectdlg.c to the gui independed clinet.c.

	A new config depend variable HAVE_FDOPEN has been added and will
	be setted in configure. In case fdopen() is not available a
	differnt code is used (in clinet.c).

	Also changed the default metaserver (from a patch submitted by
	Reinier Post <rp@win.tue.nl>)

Sun Sep 12 20:24:50 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/tilespec.c, client/gui-gtk/graphics.c,
	client/gui-xaw/graphics.c, client/include/graphics_g.h,
	data/default.tilespec, data/trident.tilespec,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/flags.spec, data/default/flags.xpm.spec,
	data/default/roads.spec, data/default/roads.xpm.spec,
	data/default/small.spec, data/default/small.xpm.spec,
	data/default/space.spec, data/default/space.xpm.spec,
	data/default/tiles.spec, data/default/tiles.xpm.spec,
	data/default/treaty.spec, data/default/treaty.xpm.spec,
	data/default/units.spec, data/default/units.xpm.spec,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/flags.spec, data/trident/flags.xpm.spec,
	data/trident/roads.spec, data/trident/roads.xpm.spec,
	data/trident/tiles.spec, data/trident/tiles.xpm.spec,
	data/trident/units.spec, data/trident/units.xpm.spec: Renamed all
	.xpm.spec files to .spec and added possiblity for clients to
	support more than one graphics file format.

Sun Sep 12 19:28:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* acconfig.h, acinclude.m4, aclocal.m4, config.h.in, configure,
	configure.in, client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/colors.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/resources.c, client/gui-xaw/spaceshipdlg.c: Fix for
	the XawScrollbarSetThumb bug reported by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

	The problem is a mismatch in the setting of a couple of control
	constants between when the X libs were compiled and when Freeciv
	is compiled.

	This patch adds new Autoconf tests to set these constants
	correctly.

Sun Sep 12 18:39:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/units.xpm.spec: The "u.paratroopers" tag needed to
	be un-commented out in the default/units.xpm.spec file so we can
	see the paratroopers icon when running with the default tileset.

Sun Sep 12 16:01:25 1999  Sebastian Bauer <sebauer@t-online.de>:

	* ai/advdomestic.c, ai/aiunit.c, client/helpdata.c,
	client/packhand.c, common/capstr.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/tech.c, common/tech.h, common/unit.c,
	common/unit.h, data/civ1/techs.ruleset, data/civ1/units.ruleset,
	data/civ2/techs.ruleset, data/civ2/units.ruleset,
	data/default/techs.ruleset, data/default/units.ruleset,
	server/cityhand.c, server/cityturn.c, server/diplhand.c,
	server/plrhand.c, server/ruleset.c, server/settlers.c,
	server/unitfunc.c, server/unithand.c: Changed techs.ruleset to use
	flags and changed capability string tag "+gen_techs" to
	"+gen_techs1"

Sun Sep 12 15:54:51 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-gtk/menu.c, client/control.c, client/control.h,
	client/helpdata.c, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	data/civ2/units.ruleset, data/default/units.ruleset,
	server/civserver.c, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h: Added the paratroopers unit
	known from Civ2 and added capability string tag "+paratroopers".

	The changes in the menu.c files still need to be localized.

Sun Sep 12 12:07:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/gui-gtk/dialogs.c,
	client/gui-xaw/dialogs.c, common/capstr.c, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	server/civserver.c, server/plrhand.c, server/stdinhand.c: Allow
	long player names (up to MAX_LEN_NAME instead of MAX_LEN_USERNAME)
	and allow user to reconnect to game with their original username
	(nation leader name still works too).  Added capability string tag
	"+long_names".  Based on patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Sun Sep 12 12:05:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, po/.cvsignore, po/hu.po, po/pl.po:
	Added Polish translations by Artur Biesiadowski <abies@pg.gda.pl>,
	and Hungarian translations by "Ba'rdosi Zolta'n"
	<hck@lin.lkg.c3.hu>.  (Polish translation includes many strings
	not yet marked in cvs sources, but should be useful in future.)

Sun Sep 12 03:15:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/flags.xpm, data/default/flags.xpm.spec,
	data/trident/flags.xpm, data/trident/flags.xpm.spec: Lots more
	flags graphics.  Patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>, including some flags contributed by
	Reineir Post <rp@win.tue.nl>.

Fri Sep 10 09:22:51 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/clinet.c, server/sernet.c: Removed the "extern int errno"
	stuff in two files

Thu Sep  9 15:05:14 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/gamehand.c, server/maphand.c, server/maphand.h: Allows
	loading scenario files which have been modified to express rivers
	as specials (like Civ2), rather than terrain types (like Civ1). 
	Patch submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>, applied
	with minor modifications.

Mon Sep  6 10:16:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/dialogs.c: Substitute a printf by
	freelog(LOG_NORMAL,...) as suggested by Andy Black
	<ablack@bvsd.k12.co.us>

Sun Sep  5 15:17:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt: Updated helpdata.txt Controls/Keyboard
	section to reflect recently added keyboard equivalences in both
	GTK and XAW clients.

Sun Sep  5 14:08:58 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/fcintl.h: In common/fcintl.h, the N_() macro was defined
	to add parentheses around its argument in the nls-disabled case. 
	This caused compile-time concatenation of static strings to fail. 
	I changed the definition to be the same as in the nls-enabled
	case.  (Note: leaving the parens around the argument to the _()
	macro in the nls-disabled case is probably good, because in the
	nls-enabled case it has to be interpreted as the single argument
	to the gettext() function.)

Sun Sep  5 09:05:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c: Add missing include for string.h to
	tilespec.c; from patch submitted by Sebastian Bauer.

Sun Sep  5 07:29:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/civclient.h, client/control.c,
	client/packhand.c, client/packhand.h, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/dialogs.c,
	client/gui-gtk/graphics.c, client/gui-gtk/mapview.c,
	client/gui-gtk/plrdlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/dialogs.c, client/gui-xaw/graphics.c,
	client/gui-xaw/mapview.c, client/gui-xaw/plrdlg.c,
	client/include/dialogs_g.h, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/map.c, common/map.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, data/Freeciv, data/default/Makefile.am,
	data/default/Makefile.in, data/default/nations.ruleset,
	server/citytools.c, server/civserver.c, server/civserver.h,
	server/gamehand.c, server/mapgen.c, server/maphand.c,
	server/plrhand.c, server/ruleset.c, server/spacerace.c,
	server/stdinhand.c, server/unithand.c: Moved nations (races) data
	to nations.ruleset file, and allow adding additional nations (up
	to 63).  Also allow player to choose sex of leader.  Added new
	nations: Turk, Spanish, Persian, Arab, Carthaginian, Inca, Viking.
	(But not yet flag graphics for most.) From patch submitted by
	Jerzy Klek <qpkjeek@epk.ericsson.se>, with some minor changes by
	me.

Sun Sep  5 02:47:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advspace.c: Fixed case of government_has_flag(g, G_IS_NICE)
	to correct government_has_hint(g, G_IS_NICE) in
	ai_spaceship_autoplace().

Sun Sep  5 02:28:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c, po/POTFILES.in, po/es.po,
	common/fcintl.h: Internationalize menus for Gtk+ client, and
	provide Spanish translations.  Also adjust N_() macro in fcintl.h
	so that marked strings are able to preprocessor-concatenate. 
	Based on patch submitted by David Perez Serrada <dperezs@nexo.es>.

Sun Sep  5 02:28:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: In section_file_insert_internal(), if
	delimiter '.' is wrong, die with appropriate message rather than
	return 0 (latter leads to core dump).  For example, may occur if
	tilespec file has tag which is not in "section.entry" format
	(problem reported by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>).

Sun Sep  5 02:25:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c, common/inputfile.h, common/registry.c: In
	inputfile, new function inf_discard_tokens(); use in
	section_file_load() to allow multiple newlines (eg, comment lines)
	in cases where allow an optional newline.  Fixes problem reported
	by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sun Sep  5 02:24:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/gamehand.c: When loading savegame,
	load rulesets slightly earlier, and only have one place where free
	loaded sectionfile and check for unused.  (Previously could not do
	this way due to strbuffermalloc constraints, but now ok because of
	change to sbuffer.)

Sun Sep  5 02:22:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/tech.c, common/tech.h: Replaced "enum tech_type_id" with
	"typedef int Tech_Type_id", for same reasons as change to
	Unit_Type_id.

Sun Sep  5 02:21:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/unit.c, common/unit.h,
	server/citytools.c, server/citytools.h, server/unitfunc.c,
	server/unitfunc.h: Replaced "enum unit_type_id" with "typedef int
	Unit_Type_id", since we no longer enumerate the unit types; see
	comments in unit.h for discussion of change.

Sun Sep  5 02:19:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/packhand.c, ai/advdomestic.c,
	ai/aicity.c, ai/aitech.c, common/capstr.c, common/game.h,
	common/government.c, common/government.h, common/packets.c,
	common/packets.h, common/shared.h, common/tech.h, common/unit.c,
	data/helpdata.txt, data/civ1/buildings.ruleset,
	data/civ1/governments.ruleset, data/civ1/techs.ruleset,
	data/civ2/buildings.ruleset, data/civ2/governments.ruleset,
	data/civ2/techs.ruleset, data/default/buildings.ruleset,
	data/default/governments.ruleset, data/default/techs.ruleset,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/diplhand.c, server/plrhand.c, server/ruleset.c,
	server/settlers.c, server/unitfunc.c, server/unithand.c: Added
	some more data about techs to ruleset files, so that the
	tech_type_id enum values are not used anywhere in the code.  This
	is better for modpacks, and allows for soon making the number of
	techs variable like unit types.  Added more game.rtech entries,
	and added ai_gov_tech_hints to generalize some code in aicity.c:
	ai_manage_cities().  Some of this may soon be replaced by
	generalization to tech flags.

Sun Sep  5 01:20:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, common/capstr.c, common/packets.c: Fixed a
	mistake in my recent city name suggestion change.  City name
	suggestion reply used only 8 bits for unit id, which is usually
	not enough!  Bumped to 16 bits as used for unit ids in other
	packets.  Cap str tag changed to "citynamesuggest2".

Sat Sep  4 16:49:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	data/helpdata.txt: Fix dangling pointer threat in pillage
	selection patch (found by David Pfitzner).  Also changed
	helpdata.txt to reflect selectable pillaging.

Sat Sep  4 02:28:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapctrl.c, client/civclient.c, client/control.c,
	client/packhand.c, client/packhand.h, client/gui-xaw/mapctrl.c,
	common/capstr.c, common/city.c, common/packets.c,
	common/packets.h, server/civserver.c: Allow client to request a
	city name suggestion from the server.  The idea is to allow city
	name lists to be server-only when introduce nations ruleset.

Sat Sep  4 02:19:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* freeciv_hackers_guide.txt: Added "Mini Style Guide" section to
	hackers guide, submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Sat Sep  4 01:47:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/gui_stuff.h,
	po/POTFILES.in, data/Freeciv: Introduce method/fuctions/macros to
	do i18n on translatable strings in the data/Freeciv resources file
	(for Xaw client).

	1. Strings in data/Freeciv as marked as usual (eg _("foo")).  This
	means X sees the strings with the marking _inside_ the string.

	2. When a widget using a marked resource is created, check to see
	if the resource string has those markings inside the string, and
	if so, remove the marking, pass string to gettext, and re-set the
	resource to the gettext result.

	Added functions xaw_intl_label(), xaw_intl_label_width(),
	xaw_intl_title(), xaw_intl_icon_name() and abbreviation macros
	I_L(), I_LW(), I_T(), I_IN() in gui_stuff module.  As test case
	added markup to strings and code for connection dialog, but not
	yet any translations.

Sat Sep  4 01:25:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: Two small fixes in eval_buildings():  Put
	B_STOCK case in same block as B_BANK, as suggested by existing
	indentation and similarity; For B_SUPERHIGHWAYS trigger on
	g->trade_bonus, not G_IS_NICE (used to be (gov > G_COMMUNISM)).

Sat Sep  4 01:19:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aitools.c, client/packhand.c, common/capstr.c,
	common/government.c, common/government.h, common/packets.c,
	common/packets.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/citytools.c, server/ruleset.c: Split the government flags
	field into actual flags (those that effect the game rules), and
	those that are in fact just hints to the AI.  Also added a no-op
	flag "-", that is handy if a government have no hints or flags. 
	Patch submitted by Sune Kirkeby <sune@mel.tpu.org>.

Sat Sep  4 00:53:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.mac.h: Update to config.mac.h, provided by Andy Black.

Thu Sep  2 11:49:55 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/civserver.c, server/meta.c: Introduce some changes for
	the Mac version needed after the metaserver patch was introduced. 
	Patch written by Andy Black <ablack@bvsd.k12.co.us>

Wed Sep  1 20:26:29 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, data/Freeciv: Minor improvements in the
	xaw client's main window layout.  Also fixes bug whereby large
	fonts were clipped on main window info panes.

Wed Sep  1 19:52:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/repodlgs.c, data/Freeciv:
	Adds new columns to the Active Units report, and, therefore,
	renames it to Military Report.  The new "in progress" column is
	from Civ2, and the new "support" columns were suggested by David
	Pfitzner.

Wed Sep  1 16:45:26 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/civclient.c, client/control.c,
	client/control.h, client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/menu.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/menu.c,
	client/include/dialogs_g.h, common/capstr.c, common/map.c,
	common/map.h, common/packets.c, common/packets.h, common/unit.c,
	common/unit.h, data/Freeciv, server/autoattack.c,
	server/plrhand.c, server/settlers.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unithand.h: Add the
	Civ2-like capability of selecting what infrastructure to pillage. 
	This is controlled by the civstyle server option.  Also, several
	units may now pillage at the same time.

Sat Aug 28 06:25:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h, server/civserver.c, server/gamehand.c,
	server/stdinhand.c: Add server option "turnblock" for
	turn-blocking mode, where the turn does not advance until all
	players have hit "end turn", including disconnected players.  From
	patch submitted by Gary Moyer <garymoyer@home.com>.

Sat Aug 28 06:24:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/government.c, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/ruleset.c: Converted government ruleset files to new-style
	(non-tabular) format.

Sat Aug 28 06:22:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aitech.c: Fixed get_wonder_tech() and
	ai_next_tech_goal_default() for case where races[] goal wonder is
	not found or does not exist.

Sat Aug 28 06:16:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/mapview.c, client/gui-xaw/ratesdlg.c: Reverted
	my_XawScrollbarSetThumb() changes for now (#if-ed) because the new
	version doesn't work for me.

Fri Aug 27 22:32:04 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/mapview.c, client/gui-xaw/ratesdlg.c: As
	my_XawScrollbarSetThumb was useless, XawScrollbarSetThumb is
	directly called.

Fri Aug 27 22:26:34 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/mapview.c: The wrapper my_XawScrollbarSetThumb
	now call XawScrollbarSetThumb.  It is now an useless wrapper.

	Patch submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>

Fri Aug 27 22:03:48 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/civclient.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/gui_main.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/resources.h, data/Freeciv, server/civserver.c,
	server/civserver.h, server/gamehand.c, server/meta.c,
	server/meta.h, server/sernet.c, server/stdinhand.c: This patch
	allows servers to report to any metaserver and clients to use
	whatever metaserver they want.

	Server side: - new option --Metaserver (There is already --meta.)
	An address is expected. The server won't warn you if you open a
	socket to wrong address which exists.

	- new command 'metaserver' to set metaserver to a given address. 
	- new command 'nometa' to disconnect whenever you want.

	Clients side: - new option --metaserver (Caps make freeciv options
	ugly.) An URL is expected.

	Patch submitted by brunel@ham.esil.univ-mrs.fr

Fri Aug 27 13:02:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/Makefile.am, client/Makefile.in, client/civclient.h,
	client/climisc.h, client/clinet.h, client/control.h,
	client/helpdata.h, client/options.h, client/packhand.h,
	client/tilespec.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/include/Makefile.am,
	client/include/Makefile.in, client/include/civclient.h,
	client/include/climisc.h, client/include/clinet.h,
	client/include/control.h, client/include/helpdata.h,
	client/include/options.h, client/include/packhand.h,
	client/include/tilespec.h: Moved client header files to toplevel
	client dir, for headers which have a corresponding .c file in that
	dir.  (Matches usage elsewhere in source tree, that .h files
	reside next to their corresponding .c file.)  Based on patch
	submitted by Sebastian Bauer.

Fri Aug 27 12:36:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapctrl.c, client/control.c,
	client/include/control.h, client/gui-xaw/mapctrl.c: Move a little
	bit more code out of mapctrl.c to control.c.  Now the external
	references of goto_state and nuke_state are no longer required in
	mapctrl.c.  Patch submitted by Sebastian Bauer.

Fri Aug 27 12:17:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, civ, config.h.in, config.mac.h, configure,
	configure.in, ser, common/shared.c: Let config.h define the
	default data path, since the built-in default does not make much
	sense on some platforms; configure defines it to the previous
	default.  Also removed all cases of old FREECIV_DATADIR, both
	environment variable and define (configure now puts the
	appropriate (install) dir in DEFAULT_DATA_PATH instead).  Patch
	submitted by Sebastian Bauer <sebauer@t-online.de>.

Fri Aug 27 11:21:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, acinclude.m4, aclocal.m4, config.h.in, config.mac.h,
	configure, configure.in, client/gui-xaw/graphics.c: Try to work
	around problem that some sites may put xpm.h in a directory whose
	parent isn't "X11".  Problem reported by mancini
	<mancini@enst.fr>, patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Fri Aug 27 10:53:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c,
	client/include/packhand.h, common/capstr.c, common/government.c,
	common/government.h, common/packets.c, common/packets.h,
	server/gamehand.c, server/ruleset.c: Tidied up some things about
	ruleset data and packets, especially for government rulesets.
	(Government ruleset stuff had problems if the client disconnected
	and re-connected: would leak memory, and could get the number of
	governments wrong.)

	Added new packet "ruleset control" (like separate terrain control)
	which contain government_count explicitly, and also move ruleset
	control data from game_info packet to here, since this stuff
	doesn't need to be sent every turn like game_info is.

	Added more sanity checking on received ruleset packet data by
	client (compared to static arrays or mallocs).

	Changed strings in government data (gov name and ruler titles) to
	use MAX_LEN_NAME char arrays instead of (char*) and mystrdup, to
	make memory management in client easier (eg, on re-connection),
	and since we can't use longer than MAX_LEN_NAME anyway (due to
	packets), and since having a max len is easier in other respects,
	eg for display.

	Also made the ruler_titles array have number of titles stored
	explicitly in government struct (rather than use special
	terminator title), which allows client to sanity-check packet
	data.

	Plus minor fix: government flags data was in government packet,
	but never initialized in send_ruleset_governments()!

Fri Aug 27 10:51:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, README.graphics, client/Makefile.am,
	client/Makefile.in, client/climisc.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/gui-xaw/spaceshipdlg.c, client/include/Makefile.am,
	client/include/Makefile.in, client/include/climisc.h,
	client/include/graphics_g.h, client/include/mapview_g.h,
	client/include/tilespec.h, common/capstr.c, common/government.c,
	common/government.h, common/map.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	common/shared.h, common/unit.h, data/Makefile.am,
	data/Makefile.in, data/classic_terrain.ruleset,
	data/default.tilespec, data/trident.tilespec,
	data/civ1/governments.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/governments.ruleset,
	data/civ2/terrain.ruleset, data/civ2/units.ruleset,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/flags.xpm.spec, data/default/governments.ruleset,
	data/default/roads.xpm.spec, data/default/small.xpm.spec,
	data/default/space.xpm.spec, data/default/terrain.ruleset,
	data/default/tiles.xpm.spec, data/default/treaty.xpm.spec,
	data/default/units.ruleset, data/default/units.xpm.spec,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/flags.xpm.spec, data/trident/roads.xpm.spec,
	data/trident/tiles.xpm.spec, data/trident/units.xpm.spec,
	server/ruleset.c: New "tilespec" system, where client graphics
	filenames, and file contents and layout, are specified in a set of
	"spec" files.  Tag strings are assocated with each graphic in the
	spec files, and these tags are hardwired into the client and/or
	specified in ruleset files.

Fri Aug 27 10:22:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/units.xpm: Added unit icons for Paratroopers,
	Elephant, Crusaders and Fanatic to default tileset.  Taken from
	trident tileset (by Tatu Rissanen), just re-scaled and re-indexed.

Wed Aug 25 12:30:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h: Store filename in
	section_file when available, to use in registry error messages.

Wed Aug 25 12:28:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/government.c, server/unitfunc.c: Initialize unit food and
	gold upkeep to zero in create_unit_full() (fixes bug of food
	upkeep icons appearing for military units).  Adjusted related TODO
	in government.c

Wed Aug 25 12:27:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advspace.c, ai/aitools.c, client/packhand.c,
	common/government.c, common/government.h, server/citytools.c,
	server/cityturn.c, server/ruleset.c, server/unitfunc.c: Changed
	government flags from bit-wise defines to a simple enum (enum
	government_flag_id), with accessor function
	(government_has_flag()) and conversion from string
	(government_flag_from_str()).  (Like unit flags.)

	Added some FIXME comments in citytools.c: eval_buildings().

Tue Aug 24 13:07:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/menu.c, data/Freeciv: Reorganizes the xaw client's
	menus to be more like those in the gtk client.  Adds several
	keyboard equivalents.

Tue Aug 24 12:45:50 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, common/map.h, common/player.h,
	server/gamehand.c, server/plrhand.c, server/stdinhand.c: Adds
	Population, Land Area and Settled Area to Demographics Report. 
	Adds a server option to make the Demographics Report completely
	configurable (suggested by Reinier Post <rp@win.tue.nl>).  Adds
	the new player-score fields to the civscore.log file.

Tue Aug 24 12:13:06 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/cityrep.c, data/Freeciv: Implemented the "Change
	Production Everywhere" dialog for the xaw client, as was
	implemented for gtk by John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

	Found that client_change_all() in client/climisc.c didn't work for
	all cases, and fixed it.

Sun Aug 22 11:28:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/governments.ruleset, server/unitfunc.c,
	data/default/governments.ruleset: Government fixes: Democracy was
	missing Unbribable flag, and Partisan flag did not work properly,
	with all governments effectively inspiring partisans ('!' binds
	tighter than bitwise '&'!).

Sun Aug 22 11:25:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/diplodlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	common/government.c, common/government.h, common/player.c,
	common/player.h, server/plrhand.c: Moved some functions from
	player.c to government.c: get_government_max_rate(),
	get_government_civil_war_prob(), get_government_name(),
	get_ruler_title(), can_change_to_government().  Added some
	includes for government.h elsewhere to see moved prototypes.

Sat Aug 21 04:35:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, common/shared.c: Allow manual config.h
	to define PATH_SEPARATOR to specify the separater to be used in
	the freeciv data path (FREECIV_PATH).  If this is not defined (and
	configure does not do so), falls back to using colon.  Patch
	submitted by Sebastian Bauer <sebauer@t-online.de>.

Sat Aug 21 04:17:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapctrl.c: In set_turn_done_button_state(),
	actually use the state! (Although currently is only ever called
	with state==FALSE.) Reported by Andy Black
	<ablack@bvsd.k12.co.us>.

Sat Aug 21 04:14:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Move setting of server options on Mac into
	function Mac_options().  Patch submitted by Andy Black
	<ablack@bvsd.k12.co.us>.

Sat Aug 21 03:52:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Adjusted error message when configure
	doesn't find X11 to say "Need X11 libraries and development
	headers; ..." instead of just "Need X11; ...".  (And similarly for
	Xpm.)

Sat Aug 21 02:22:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/flags.xpm, data/trident/roads.xpm,
	data/trident/tiles.xpm, data/trident/units.xpm: Updated trident
	tiles, from trident_30x30-cvs-1.0.tar.gz, by Tatu Rissanen
	<tatu.rissanen@hut.fi>.

	roads.xpm: The road tiles are redrawn.  The design is like in the
	default tileset.

	tiles.xpm: Added graphics for the new specials and new rivers
	introduced by Jeff Mallatt's terrain ruleset patch.  Added a tiny
	flag (tile 196) (for "occupied flag").

	units.xpm: Changed a bit alpine troops, caravan and settlers.

Sat Aug 21 02:13:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/graphics.c,
	client/gui-gtk/graphics.h, client/gui-gtk/mapview.c,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/mapview.c,
	common/inputfile.c, common/inputfile.h, common/registry.c,
	common/registry.h, common/shared.c, common/shared.h,
	server/ruleset.c: Various minor changes: Made some functions
	static in graphics.c and mapview.c; Marked dtor_sprite() as unused
	in graphics.c; Made some (char*) function args to be (const
	char*); Removed unused UNIT_TILES in gui-xaw/helpdlg.c, and unused
	intro_gfx_sprite and radar_gfx_sprite in packhand.c; Export
	secfilehash_build() secfilehash_free() and secfilehash_hashash()
	from registry, to allow hashing on section_files built using
	secfile_insert_*(); Do better checking of datafile.options for
	ruleset files, to check all required options in both directions.

Sat Aug 21 02:11:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, config.mac.h, configure, configure.in,
	client/gui-xaw/gui_main.c, client/gui-gtk/gui_main.c,
	common/shared.c, common/shared.h: Moved the check for the user's
	username into a function user_username() in shared.c.  Also
	removed the "please report this" note if getpwuid() fails, and
	also try USER environment variable.  Actually, now check $USER
	before getpwuid().  Added configure check for getpwuid.  Small
	reorder in gui-gtk so call user_username() only after log_init().

Sat Aug 21 02:10:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, client/helpdata.c,
	client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/graphics.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/repodlgs.c, common/capstr.c, common/game.c,
	common/game.h, common/packets.c, common/packets.h,
	common/shared.h, common/unit.c, common/unit.h,
	data/civ2/units.ruleset, data/civ1/units.ruleset,
	data/default/units.ruleset, server/gamehand.c, server/ruleset.c,
	server/unittools.c: Allow a variable number of unit types to be
	specified in the units ruleset file, up to 200.  Keeps U_LAST as
	flag value and for fixed allocations, but for other purposes use
	game.num_unit_types.  Removed almost all entries in 'enum
	unit_type_id', since the new number varies and they should not be
	used anymore anyway; did not remove it entirely, because it is
	used as a type in many places (but should be removed some time). 
	Added "+num_units" to capability string.

Sat Aug 21 02:07:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/advspace.c, ai/aicity.c,
	ai/aihand.c, ai/aitech.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c,
	client/civclient.c, client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapview.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapview.c,
	client/include/packhand.h, common/Makefile.am, common/Makefile.in,
	common/capstr.c, common/city.c, common/city.h, common/game.c,
	common/government.c, common/government.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h, common/unit.c,
	common/unit.h, data/Freeciv, data/civ1.serv, data/civ2.serv,
	data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/governments.ruleset, data/civ1/units.ruleset,
	data/civ2/Makefile.am, data/civ2/Makefile.in,
	data/civ2/governments.ruleset, data/civ2/units.ruleset,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/governments.ruleset, data/default/units.ruleset,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/gamehand.c, server/ruleset.c, server/settlers.c,
	server/stdinhand.c, server/unitfunc.c, server/unittools.c: Many
	changes, for partial implementation of governments rulesets, based
	on patches submitted by Sune Kirkeby <sune@interspace.dk>, but
	with some substatial changes by me.  This also includes (but
	currently #ifdef-ed out) code based on patch submitted by Rizos
	Sakellariou <rizos@cs.rice.edu>, to dynamically evaluate
	government types.

	This change is intended to be a no-op in terms of actual effects
	when using the default rulesets; some changes to actual effects
	should follow.  The code to dynamically evaluate governments is
	included in this patch, but currently #ifdef-ed out for regression
	testing, and because it needs updating.  See list in
	common/government.c for other things which still need doing.

Tue Aug 17 16:44:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/mapctrl.c, data/Freeciv: Middle-button info-popup
	improvements: Adds count of units in a stack, and a highlight of
	the tile selected.  For xaw client, makes sure popup is not
	off-screen.

Tue Aug 17 16:43:52 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* common/city.c: Small change to streamline get_shields_tile and
	get_food_tile.

Tue Aug 17 16:38:53 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c: Adding comments and small change to AI caravan
	code.

Tue Aug 17 12:15:07 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c: Fixed cut-and-paste error in recent terrain
	ruleset patch.  Patch submitted by Lindqvist Marko
	<caz@assari.cc.tut.fi>.

Mon Aug 16 11:18:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aitools.c, common/inputfile.c,
	common/player.h, common/registry.c, server/cityturn.c,
	server/cityturn.h: Minor fixes and debug output changes:

	In aitools.c: ai_assess_military_unhappiness(), take account of
	Republic allowing one aggressive/field unit before unhappiness.

	In aicity.c: ai_new_spend_gold(), fixed LOG_DEBUG message where
	could use units[id] for id==-1.

	In player.h: in struct player_ai, make tech_want and tech_turns be
	[A_LAST+1] instead of [A_LAST], since I think sometimes these are
	used with index A_LAST (unit requirement without checking).

	In cityturn, made worker_loop() static and added some more
	LOG_DEBUG output.  Added extra LOG_DEBUG output in advmilitary.c:
	process_attacker_want().  Less detailed LOG_DEBUG output by
	default in inputfile and registry.

Sun Aug 15 07:19:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, ai/aicity.h, ai/aitools.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h, client/gui-gtk/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/gui-xaw/repodlgs.c,
	common/capstr.c, common/game.c, common/game.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	common/registry.c, common/registry.h, server/citytools.c,
	server/cityturn.c, server/gamehand.c, server/plrhand.c,
	server/ruleset.c: Minor changes to prepare for future government
	rulesets.

	Add and use game.government_when_anarchy and
	game.default_government instead of G_ANARCHY and G_DESPOTISM (in
	some places).  (Put in gameinfo packet so added capstr
	"+pregovrs1".) Added game.government_count,
	game.ruleset.governments.

	Interfaces changes for put_unit_gpixmap_city_overlays(), and
	get_ruler_title().  Added player.is_male (currently fixed at 1). 
	Converted some uses of enum government_type to be int.

	Added find_race_by_name() in player.c, and
	secfile_lookup_str_int() in registry.c.

	Parts from or based on patches submitted by Sune Kirkeby
	<sune@interspace.dk>.

Sun Aug 15 07:14:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Fixed bug where B_COURTHOUSE value was
	assigned to values[B_COLOSSEUM] when in Democracy.  (Anomaly noted
	by Sune Kirkeby.)

Sat Aug 14 19:11:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv: One more foreground
	color resource, in case default isn't black.

Sat Aug 14 03:35:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c: Suppress warnings about unused entries when
	loading older savegames, for game.rail_food, rail_prod,
	rail_trade, farmfood.

Sat Aug 14 03:03:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/flags.xpm, data/trident/roads.xpm,
	data/trident/tiles.xpm, data/trident/units.xpm: Updated trident
	tiles by Tatu Rissanen <tatu.rissanen@hut.fi>, taken from
	trident_30x30-1.8.1-1.3.tar.gz.

	For all, adjusted palette. The overall looks is now brighter and
	sharper.  Adjusting brightness and contrast previously left the
	images a bit grayish.  This time I used gimp's Color curve -dialog
	to achieve the result.  All the files share a palette so that the
	total number of distinct colors is 64.

	For units.xpm, completed all units.  Added graphics for missing
	units from Civ2.  For flags.xpm, removed raster from Chinese flag.
	For tiles.xpm, added a tile for farmland.  (Plus hacked by dwp to
	suit CVS freeciv, and changed (nicer?) flag for occupied tile.)

Sat Aug 14 02:57:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/clinet.c, client/packhand.c, client/gui-gtk/Makefile.am,
	client/gui-gtk/Makefile.in, client/gui-gtk/clinet.c,
	client/gui-gtk/clinet.h, client/gui-gtk/connectdlg.c,
	client/gui-gtk/gui_main.c, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/clinet.c,
	client/gui-xaw/clinet.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/gui_main.c, client/include/Makefile.am,
	client/include/Makefile.in, client/include/clinet.h,
	client/include/clinet_g.h, client/include/gui_main_g.h: Moved
	clinet out of gui-dependent dirs; moved get_meta_list() to
	connectdlg.c because it is still gui-dependent, at least for now. 
	From patch submitted by Sebastian Bauer <sebauer@t-online.de>.

Fri Aug 13 20:30:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/packhand.c, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/map.c, common/map.h,
	common/packets.c, common/packets.h, data/civ1.serv,
	data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/default/terrain.ruleset,
	server/gamehand.c, server/maphand.c, server/ruleset.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c: Implements David Pfitzner's
	river movement cost idea, as a terrain ruleset parameter.  Moves
	railprod, railtrade, railfood and farmfood into new terrain
	ruleset parameters.  Adds some further terrain ruleset parameters.
	Fixes bug where entered huts which become cities were not building
	railroads.

Fri Aug 13 19:57:31 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: can't use freelog during option
	checking as log is initialized after all options has been checked.

Fri Aug 13 19:26:36 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/repodlgs.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/repodlgs.c, client/include/dialogs_g.h,
	server/plrhand.c, server/plrhand.h, server/stdinhand.c: Add a
	"caption" line as the first line of a PACKET_PAGE_MSG packet,
	which is useful for captioning dialogs.  This makes the second
	line in the packet the "headline".  This problem was reported by
	Artur Biesiadowski.

Fri Aug 13 11:36:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c, client/gui-xaw/clinet.c: Don't wrap
	include for signal.h with #ifdef HAVE_SIGNAL_H, because we never
	define HAVE_SIGNAL_H!  (And note signal.h is standard.)  Should
	fix problem reported by Tony Stuckey.  Also check for HAVE_SIGPIPE
	around client use of SIGPIPE.

Fri Aug 13 11:27:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, config.mac.h, configure, configure.in,
	server/sernet.c: Check for SIGPIPE in configure instead of using
	#ifdef HAVE_SIGPIPE.  Patch submitted by Sebastian Bauer
	<sebauer@t-online.de>.

Fri Aug 13 11:11:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, acconfig.h, config.h.in, config.mac.h,
	common/shared.c, server/civserver.c, server/meta.c,
	server/sernet.c: Added config.mac.h, to use instead of config.h on
	Mac, thanks to Andy Black <ablack@bvsd.k12.co.us>.

	In acconfig.h, removed PACKAGE and VERSION since are included by
	autoheader, and added defines used for handwritten config.h files:
	ALWAYS_ROOT, STRICT_WINDOWS, GENERATING_MAC, and
	HAVE_OPENTRANSPORT.

	In code, use #ifdef GENERATING_MAC or #ifdef HAVE_OPENTRANSPORT
	instead of #if (defined(GENERATING68K) || defined(GENERATINGPPC)).

	In shared.c:dont_run_as_root(), check ALWAYS_ROOT to provide a way
	for non-configure root-only systems to avoid this, from suggestion
	by Sebastian Bauer <sebauer@t-online.de>.

	In meta.c, added include for OpenTptInternet.h for Mac.

Fri Aug 13 10:34:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt, data/civ2/terrain.ruleset,
	data/default/terrain.ruleset: Corrected a few typos and spelling
	mistakes.  Patch submitted by Andrew Donkin
	<ard@scms.waikato.ac.nz>.

Fri Aug 13 10:10:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/buildings.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset, data/civ1/buildings.ruleset,
	data/civ1/techs.ruleset, data/civ1/units.ruleset,
	data/default/buildings.ruleset, data/default/techs.ruleset,
	data/default/units.ruleset, server/ruleset.c: Converted the
	buildings and techs rulesets to the new-style format (non-tabular,
	per-section), and removed code support for old-style units ruleset
	(to keep the code simple).

Tue Aug 10 12:41:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, ai/aitech.c, server/ruleset.c:
	Changed the goal initialization fields in the races struct to be
	strings instead of enums, and convert back to integers (for enums)
	at runtime (after loading rulesets).  This lets these goals work
	better with rulesets.  (Although note that currently these goals
	are not actually all implemented).

	Also changed TECH_GOALS to MAX_NUM_TECH_GOALS to follow recent
	regularized identifier scheme.

Tue Aug 10 12:32:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, common/shared.c, common/shared.h,
	server/civserver.c: Moved NLS initialization into function
	init_nls() in shared.c

Tue Aug 10 12:31:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, common/shared.c, common/shared.h,
	server/civserver.c: Moved check for running as root into new
	function dont_run_as_root() in shared.c, and also call this
	function for client.

Tue Aug 10 12:30:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Fixed registry handling of vector as last
	columns of table (problem exposed by governments ruleset patch).

Tue Aug 10 12:29:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Fixed initialization of log file for
	gtk client.  Fixes bug reported by Lindqvist Marko
	<caz@assari.cc.tut.fi>.

Tue Aug 10 08:07:45 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: Allow to give gtk options in the
	command line.  There is still this problem with --name.

Mon Aug  9 14:47:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv: Just a few more default
	color resource settings for the xaw client, in case the user has
	set global foreground/background other than black/white.

Mon Aug  9 00:20:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, server/ruleset.c,
	data/default/terrain.ruleset: Converted all terrain.ruleset files
	to David's new-and-improved ruleset file format.  Changed the code
	to handle the new format.

Sun Aug  8 23:43:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/menu.c: In xaw client: Fixed Goto/Airlift dialog to
	be able to handle being opened with no cities owned by player, but
	with known cities owned by others.  Disabled Find City and
	Goto/Airlift menus if no known cities.

Sun Aug  8 21:14:30 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/civclient.c, client/gui-xaw/gui_main.c,
	client/gui-gtk/gui_main.c: A small change for FreeCiv not to be
	ugly.  ( --Name renamed --name)

Sun Aug  8 14:08:02 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c,
	server/cityturn.c: Prevents pollution generated by a city from
	being placed outside that city's radius.  Also, draws pollution
	graphic on top of the city graphic.

Sun Aug  8 11:23:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/gui_main.c,
	common/city.c, common/registry.c, common/shared.c,
	common/shared.h, server/gamelog.c, server/meta.c,
	server/plrhand.c: Minor fixes: made some functions static; added
	some const qualifiers; removed declaration for unused errno in
	meta.c.  In plrhand.c made some more things static and fixed
	bizarre indentation in historian_generic().

Sun Aug  8 05:50:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: In handle_unit_build_city(), dereference
	punit to get unit_name and pcity only _after_ checking whether
	punit is non-NULL.  Fixes bug that server could segfault if a unit
	building a new city was killed before the city was named (PR#95)
	reported by Per Persson <pp@sno.pp.se>.

Sun Aug  8 05:32:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/sernet.c: Use #ifdef SIGPIPE around signal(SIGPIPE,
	SIG_IGN).  Patch submitted by Sebastian Bauer
	<sebauer@t-online.de>.

Sun Aug  8 04:52:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, server/civserver.c: Moved include lines for
	fcintl.h to follow policy.

Sun Aug  8 04:13:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/packets.c, common/sbuffer.c,
	common/tech.c, server/cityturn.c, server/ruleset.c: Add some
	missing includes for string.h, and correct some function
	declarations to match their prototypes (static).  Patch submitted
	by Sebastian Bauer <sebauer@t-online.de>.

Sun Aug  8 04:05:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c, common/registry.c: Enforce slightly stricter
	format regarding some newlines in registry; handle missing newline
	at EOF better in inputfile; do less in inputfile:assert_sanity()
	unless DEBUG defined.

Sun Aug  8 03:57:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/astring.c, common/astring.h, common/registry.c: Removed
	ATHING_SIZE macro, and call ath_init() explicitly instead, since
	ATHING_SIZE relied on a gcc extension.  Based on problem reports
	and patches submitted by Nicolas Brunel
	<brunel@ham.esil.univ-mrs.fr> and Sebastian Bauer
	<sebauer@t-online.de>.

Sat Aug  7 18:29:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/include/control.h, client/include/mapctrl_g.h: Some
	little changes to conform to dwp wishes.

Sat Aug  7 04:44:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Changes to registry to use new astring and
	inputfile modules.  Enables new registry features of
	gettext-marked strings and multi-line strings; also allow some
	optional extra line breaks in some places in format.  Updated
	documentation on format at top of registry.c to reflect changes.

Sat Aug  7 04:37:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/inputfile.c,
	common/inputfile.h: New module common/inputfile, for low-level
	reading and tokenizing of a registry-format file, to support
	registry enhancements.  New features include:

	- Allow gettext markings on string values in registry, based on a
	patch by David Perez Serrada <dperezs@nexo.es>.

	- Allow multi-line strings.  The purpose of this is to make it
	feasible to easily include help data in ruleset files.

Sat Aug  7 04:30:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/astring.c,
	common/astring.h: New module common/astring, for
	"allocated/allocatable strings".  That is, allocated strings where
	we remember the allocated size, to enable doing "lazy realloc": if
	the required size shrinks, don't realloc; if it grows, maybe
	realloc a bit more to avoid future reallocs on incremental growth.
	Also "athing", for similar functionality for general pointers.

Sat Aug  7 04:21:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h: Use speclists in registry,
	to make code slightly nicer.

Sat Aug  7 04:16:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, client/civclient.c,
	client/climisc.c, client/gui-gtk/clinet.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-xaw/clinet.c, client/gui-xaw/gui_main.c,
	common/packets.c, common/shared.c, server/civserver.c,
	server/meta.c, server/sernet.c: Added and use more configure
	checks for non-standard header includes.

Sat Aug  7 04:01:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/helpdata.c, client/packhand.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/helpdlg.c,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/helpdata.h, client/include/helpdlg_g.h: New module
	client/helpdata.c, for generic handling of client help data,
	independent of gui considerations.  Combines lots of code
	previously duplicated between the gui helpdlg.c files.

Sat Aug  7 03:42:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, configure, configure.in,
	client/civclient.c, server/civserver.c: Use LOCALEDIR instead of
	GNULOCALEDIR, and set LOCALEDIR in configure making sure it
	matches the directory where the .mo files are installed by
	po/Makefile.  (Fixes problem on Solaris.)

Sat Aug  7 02:50:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/meta.c: Correct MAX_PACKET_SIZE to MAX_LEN_PACKET in Mac
	meta code.  Patch submitted by Andy Black <ablack@bvsd.k12.co.us>.

Sat Aug  7 02:47:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapctrl.c,
	client/gui-xaw/mapctrl.c: Moved an include to different line, and
	removed includes for log.h in mapctrl.c

Fri Aug  6 18:40:52 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/civclient.c, client/gui-gtk/gui_main.c: I mended my
	patch. There was ) missing in gui_main.c and I put an extra i in
	in the rusage string.

Fri Aug  6 18:16:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c, client/civclient.c,
	client/gui-xaw/gui_main.c, server/civserver.c, common/shared.c,
	common/shared.h: Function get_option is added in shared.c to get
	the argument of an option.  Function is_option is added in
	shared.c to recognize an option either with a long name or a short
	name.  Both functions are used in client/gui-gtk/gui_main.c and
	server/civserver.c.  As gtk withdraw the options it uses, gtk_init
	is now called before.  I don't know the result for --help and
	--version.  As one gtk option is called --name, the freeciv option
	--name is renamed --Name or -N for short.  Patch submitted by
	Nicolas Brunel <brunel@ham.esil.univ-mrs.fr> Previous patch where
	control.c and control.h were created was submitted by Sebastian
	Bauer <sebauer@t-online.de>

Fri Aug  6 17:53:49 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/climisc.c, client/control.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/include/control.h, client/include/mapctrl_g.h,
	client/include/mapview_g.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/mapview.c,
	client/gui-xaw/menu.c: This patch moves code out of mapctrl.c to a
	new gui independent file control.c. A new header control.h has
	been added in client/include.

Thu Aug  5 15:58:44 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aitech.c: Cache information in find_prerequisites().

Sun Aug  1 11:35:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/genlist.h: Added macro TYPED_LIST_ITERATE_REV() to
	iterate in reverse.

Sun Aug  1 11:33:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/meta.c: Revisions to Mac metaserver code; patch submitted
	by Andy Black <ablack@bvsd.k12.co.us>.

Sun Aug  1 11:32:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c: Removed comments containing old
	gui-dependent X calls in now-gui-indep set_client_state(). 
	Suggested by Andy Black.

Sun Aug  1 11:32:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, server/meta.c, server/sernet.c: Include
	config.h in a few places where added use of configure checks.

Sun Aug  1 11:31:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, client/civclient.c,
	client/gui-gtk/clinet.c, client/gui-gtk/mapview.c,
	client/gui-xaw/clinet.c, common/packets.c, common/shared.c,
	server/civserver.c, server/meta.c, server/sernet.c: Check for
	sys/types.h in configure, to replace some Mac-specific checks.

Sun Aug  1 11:30:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Exclude check for running as root when
	compiling on OS/2.  Suggested by Alexander Mai
	<st002279@hrzpub.tu-darmstadt.de>.

Sun Aug  1 11:29:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, client/gui-gtk/clinet.c,
	client/gui-xaw/clinet.c, client/gui-xaw/mapview.c,
	common/shared.c, server/sernet.c: Check for sys/select.h in
	configure, and use HAVE_SYS_SELECT_H instead of system-dependent
	defines.  Include sys/select.h in shared.c.  Suggested by
	Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.

Sat Jul 31 02:32:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, server/cityturn.c,
	server/settlers.c: When placing workers around a city, they used
	to be preferentially placed far to the north-west.  There, they
	frequently interfered with workers from a neighboring city.  This
	patch preferentially tries to place workers near the city.  To
	help support this a new macro city_map_iterate_outwards is
	supplied.  Patch submitted by Jeff Mallatt <jjm@codewell.com>.

Sat Jul 31 02:31:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: New citizen placement used to ignore city
	option for new citizens if the city did not have enough food, even
	if there were no squares to place workers, and hence no way to
	improve food anyway.  This patch checks for available squares, and
	if there are none, then respects the "Make new citizens" setting. 
	Patch submitted by Jeff Mallatt <jjm@codewell.com>.

Sat Jul 31 02:30:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/gotodlg.c: The xaw client Airlift/Goto dialog
	leaked memory whenever the "All Cities" button was toggled; fixed.
	Based on patch submitted by Jeff Mallatt <jjm@codewell.com>.

Fri Jul 30 12:20:08 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po: Fixed a small typo "client" should read as "cliente".

Fri Jul 30 10:53:13 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gtkpixcomm.c, client/gui-gtk/gtkpixcomm.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h: Fixes for memory leaks and refresh
	problems in the citizen pixmap widgets on the city dialog (i.e.
	they now use the GtkPixcomm widget).  Modified GtkPixcomm API to
	help clean up the code a bit.

Fri Jul 30 01:27:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* po/.cvsignore, po/pt.gmo: Remove po/pt.gmo which is generated
	automacally.  Add pt.gmo and pt.mo in po/.cvsignore Patch sugested
	by David Pfitzner <dwp@mso.anu.edu.au>

Fri Jul 30 01:06:32 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* configure, configure.in, po/pt.gmo, po/pt.po: Add Vasco
	Alexandre Da Silva Costa <vasc@camoes.rnl.ist.utl.pt> .po file for
	"Standard Portuguese".  Change ALL_LINGUAS to "pt es fr"

Fri Jul 30 00:54:58 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/Makefile.in: New Makefile.in generated by
	automake after Vasco change to Makefile.am in client/gui-gtk

Thu Jul 29 23:19:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/shared.c, server/mapgen.c: This patch fixes cast problems
	from uint to int and int to long int.  These problems occured in
	mapgen.c.  Bug reported and patch submitted by Matthew OConnor
	<matthew@anti-earth.org>.

Thu Jul 29 16:25:35 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h: Removed
	now redundant (and buggy) code that was used in the unit pixmaps. 
	The new GtkPixcomm widget takes care of that now.

Thu Jul 29 16:24:00 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h: Changed style of tearoff widgets in the
	toplevel window to look nicer.  Changed code of unit pixmaps to
	use the new GtkPixcomm widget, this fixes bug PR#27 properly so
	there is no more need for the kludge that was used then to fix it.

Thu Jul 29 16:19:22 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/helpdlg.c: Changed style of labels in unit stats
	in the help dialog.

Thu Jul 29 16:16:31 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/Makefile.am: Added lines to enable the correct
	compilation of the new GtkPixcomm widget.

Thu Jul 29 16:14:41 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gtkpixcomm.c, client/gui-gtk/gtkpixcomm.h: Added
	new GtkPixcomm widget based on the GTK+ library's GtkPixmap code. 
	This widget will be used in the unit pixmaps in the city dialog
	and toplevel window.

Thu Jul 29 00:15:18 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/plrhand.c: Remove science bonus of +1 per city.  People
	wishing to play with this can re-enable it by compiling with
	CITIES_PROVIDE_RESEARCH defined.

Wed Jul 28 22:47:17 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/shared.c, common/shared.h: Change the type of the
	parameter size in my_rand from int to RANDOM_TYPE. It was done to
	be sure to use % on a greater or equal to zero number.

Wed Jul 28 14:12:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* intl/.cvsignore, po/.cvsignore: Missed some files to ignore.

Wed Jul 28 14:08:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* intl/.cvsignore, po/.cvsignore: Added some .cvsignore files for
	new gettext stuff.

Wed Jul 28 13:36:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, acconfig.h, aclocal.m4, config.h.in,
	configure, configure.in, ai/Makefile.am, ai/Makefile.in,
	client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, common/Makefile.am,
	common/Makefile.in, common/fcintl.h, data/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/default/Makefile.in, data/trident/Makefile.in, po/ChangeLog,
	po/POTFILES.in, po/es.po, po/fr.po, server/Makefile.am,
	server/Makefile.in, server/civserver.c: Added Native Language
	Support (gettext support) in configure and makefiles, and some
	initial (test) translations.  Based on a patch submitted by David
	Perez Serrada <dperezs@nexo.es>.

Wed Jul 28 13:05:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c,
	common/map.c, common/map.h, server/maphand.c: Replaced S_NONE in
	enum tile_special_type with S_NO_SPECIAL, to avoid clash with
	S_NONE in sys/signal.h on Solaris.

Wed Jul 28 13:02:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Give server help on 'start' command in
	'help' even when the game is running, to avoid confusion.  (But
	say that command is unavailable.) Fixes bug PR#61 reported by
	Reuben Thomas <rrt1001@cam.ac.uk>.

Wed Jul 28 12:31:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c: Made terrain
	at map north and south poles "seamless", as if the terrain in the
	top/bottom row was continued off the map.

Tue Jul 27 22:00:46 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/advmilitary.c: Streamline and reorganize code in
	assess_danger_unit().

Mon Jul 26 22:37:54 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c: find_something_to_kill() does not cache handicap
	information.  This patch makes it cache that information.

Mon Jul 26 14:08:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: In remove_tiny_islands() clear the S_RIVER
	special on removed islands, to avoid rivers in the ocean.

Mon Jul 26 11:53:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/tiles.xpm: Fixed off-by-one-pixel error in new
	transparent rivers for trident tiles.

Mon Jul 26 11:52:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/tiles.xpm: Made a nicer wheat special graphic for
	trident tiles, based on the trident settler upkeep icon.

Sun Jul 25 01:58:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2.serv, data/civ2/Makefile.am, data/civ2/Makefile.in,
	data/civ2/buildings.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset: Added copies of default ruleset files
	(units, buildings, techs) to civ2 directory, for future
	modifications.  Added explicit use of these ones in civ2.serv.

Sun Jul 25 01:56:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h, common/unit.c,
	common/unit.h, data/civ1/units.ruleset,
	data/default/units.ruleset, server/ruleset.c: Changed
	units.ruleset format to have the data for each unit in a separate
	section, instead of separated over several tables.  Reading
	old-format units.ruleset files is still supported, but this may go
	away in future.

	Includes new registry function secfile_get_secnames_prefix(), and
	new lists of names in unit.c for unit move_types, flags and roles,
	plus new functions to do lookups on these lists:
	unit_move_type_from_str(), unit_flag_from_str(),
	unit_role_from_str().

Sun Jul 25 01:49:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Made the initial window size of the
	Gtk+ client smaller, to fit better on smaller screens.  Also
	changed the way the dettachable widgets in the toplevel window
	work, so that the chat window is now resizeable.  Patch submitted
	by Vasco Alexandre Da Silva Costa.

Sun Jul 25 01:48:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c: Allow sorting the city report by
	different columns, by clicking on the column headings.  Gtk+
	client only.  Clicking on the same heading a second time reverses
	the sort order.  Patch submitted by Daniel Sjolie
	<deepone@acc.umu.se>.

Sun Jul 25 01:44:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/gui-gtk/cityrep.c,
	client/include/climisc.h, common/city.c, common/city.h: This patch
	allows changing production between two specified items (from an
	item, to another item) in all cities at once (that is, all cities
	currently building the first item).  Gtk+ client only.  Includes
	some new helper functions: could_player_build_improvement(),
	can_player_build_improvement(), can_player_build_unit_direct(),
	can_player_build_unit().  Patch submitted by John-Marc Chandonia
	<jmc@cmpharm.ucsf.edu>.

Sat Jul 24 03:22:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.rulesets, ai/advdomestic.c, client/civclient.c,
	client/packhand.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/include/helpdlg_g.h, client/include/mapview_g.h,
	client/include/packhand.h, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/map.c, common/map.h,
	common/packets.c, common/packets.h, common/shared.h,
	common/unit.c, data/Freeciv, data/helpdata.txt, server/gamehand.c,
	server/mapgen.c, server/maphand.c, server/ruleset.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c: Bulk of
	terrain ruleset patch, by Jeff Mallatt <jjm@codewell.com>.

	Added "+terrainrulesets" to the CAPABILITY string.

	Added the 'terrain' server option.

	Added the terrain ruleset support code, including adding the new
	PACKET_RULESET_TERRAIN and PACKET_RULESET_TERRAIN_CONTROL packets,
	and their supporting code.

	Since I needed more bits in the tile_special_type enumeration
	(bits beyond the 8th), I had to extend PACKET_TILE_INFO to pass
	more than the lower 8 bits.  Also, had to extend the saved-game
	file format for the same reason.

	Added the S_RIVER special.  There are now two types of rivers:
	Civ1 style (signaled by a tile of type T_RIVER) and Civ2 style
	(signaled by having the S_RIVER special bit set).  Any given map
	should have only one type of river.  This is controled by the
	river_style flag in the new terrain.ruleset file.  Adding this
	forced lots of changes to many places in the code.

	Added the S_FARMLAND special.  This gets set when player can build
	the Supermarket, and irrigates a square a *second* time.  Adds 50%
	to food yield.

	Added the farmfood server option.  It's like rail_food, except it
	applies when S_FARMLAND is set for a tile.

	Extended PACKET_GAME_INFO to include new server options.

	Changed S_SPECIAL to S_SPECIAL_1 and added S_SPECIAL_2 to support
	up to *two* specials per tile type, as is done in Civ2.

	Lots of changes to struct tile_type to support new terrain
	concepts and the terrain ruleset stuff.  Added struct terrain_misc
	terrain_control for the global flags from terrain.ruleset.

	Added the TERRAIN category to the help dialog.  Now, when you
	select a terrain in the help dialog, you see the actual values
	from the tile_type array.

	Added a "generated table" mechanism to the help dialog. 
	Currently, only the $TerrainAlterations generated table is
	implemented.

	Updated the text in helpdata.txt for all terrains.

	To figure out when road building was done, the code used to use
	">", which meant that it took one turn longer than the value in
	the tile_type array.  For consistency, I changed the compare to
	">=" (like all the rest in the function), and added one to all the
	values in the array.

Sat Jul 24 03:18:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/include/mapview_g.h, data/default/tiles.xpm,
	data/trident/tiles.xpm: Added new graphics for terrain ruleset:
	transparent rivers to overlay on other terrains; farmland tile;
	new specials.  Also occupied tile for trident tiles (already in
	default).  Note this breaks old tilesets.  Feel free to submit
	improved graphics! From patch submitted by Jeff Mallatt
	<jjm@codewell.com>.

Sat Jul 24 03:15:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/civ1.serv, data/civ2.serv, data/classic_terrain.ruleset,
	data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/terrain.ruleset, data/civ2/.cvsignore,
	data/civ2/Makefile.am, data/civ2/Makefile.in,
	data/civ2/terrain.ruleset, data/default/Makefile.am,
	data/default/Makefile.in, data/default/terrain.ruleset: Added new
	files for terrain rulesets, and new files for civ2 style.  From
	patch submitted by Jeff Mallatt <jjm@codewell.com>.

Wed Jul 21 13:17:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/version.h: The "fallback" (non-configure) #define
	VERSION_STRING was wrong ("1.8.0"); fixed it so it won't be wrong
	again.

Tue Jul 20 15:45:56 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/helpdata.txt: Here's some help text for pillaging.  I also
	noted a small error in the road description, so I fixed that. 
	Comment and patch by Greg Wooledge <wooledge@kellnet.com>

Tue Jul 20 15:41:39 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unithand.c: This patch fixes a grammatical problem that
	was pointed out a long time back.  Patch submitted by Greg
	Wooledge <ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>

Tue Jul 20 12:57:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/.cvsignore, data/classic/Makefile.am,
	data/classic/Makefile.in, data/classic/flags.xpm,
	data/classic/roads.xpm, data/classic/tiles.xpm,
	data/classic/units.xpm: Removed the classic tiles from CVS.  The
	are still available from ftp.freeciv.org as the "brunus" tileset.

Tue Jul 20 12:39:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/include/mapview_g.h,
	client/gui-xaw/graphics.c: Consolidated the numbers of rows in
	each .xpm file in mapview_g.h in ROWS_???? constants.  From a
	patch submitted by Jeff Mallatt <jjm@codewell.com>.

Tue Jul 20 12:22:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c,
	client/include/mapview_g.h, data/default/tiles.xpm: Added an extra
	graphic overlay (the OCCUPIED tile) for when a town is occupied by
	at least one defender.  Both Civ1 and Civ2 had this.  (New graphic
	in default tiles.xpm only so far; its the tile just to the left of
	the red-box/crosshairs/attention graphic.) From a patch submitted
	by Jeff Mallatt <jjm@codewell.com>.

Tue Jul 20 11:52:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/ruleset.c: Look for ruleset files as, eg,
	"civ1_units.ruleset", as well as the previous "civ1/units.ruleset"
	(both with respect to the data path), to allow adding ruleset
	files without requiring additional directories.  (Todo: update
	documentation to cover this new alternative.)

Tue Jul 20 11:50:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapctrl.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/plrdlg.c,
	common/capstr.c, common/city.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.h,
	common/shared.c, common/shared.h, common/tech.h, common/unit.h,
	server/autoattack.c, server/civserver.c, server/handchat.c,
	server/meta.c, server/sernet.c, server/sernet.h,
	server/spacerace.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c: Made some identifiers more uniformly named:
	MAX_PLAYERS        -> MAX_NUM_PLAYERS 
	MAX_CONNECTIONS	   -> MAX_NUM_CONNECTIONS
	MAX_LENGTH_NAME    -> MAX_LEN_NAME
	MAX_LENGTH_ADDRESS -> MAX_LEN_ADDR 
	ADDR_LENGTH        -> "
	MAX_PACKET_SIZE    -> MAX_LEN_PACKET 
	NAME_SIZE	   -> MAX_LEN_USERNAME 
	MSG_SIZE	   -> MAX_LEN_MSG 
	MAX_CAPSTR_LEN	   -> MAX_LEN_CAPSTR 
	MAX_CMD_LEN	   -> MAX_LEN_CMD

Tue Jul 20 11:46:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/city.c,
	common/city.h, common/genlist.h, common/speclist.h,
	common/speclist_c.h, common/unit.c, common/unit.h: Added
	'speclist' header files, to automate details of creating specific
	("typed") genlists like the struct city_list and struct unit_list,
	and their related (generic) functions.

Tue Jul 20 11:43:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, client/civclient.c, client/climisc.c,
	client/options.c, client/packhand.c, client/gui-gtk/Makefile.am,
	client/gui-gtk/Makefile.in, client/gui-gtk/cityrep.h,
	client/gui-gtk/helpdlg.h, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/messagewin.h,
	client/gui-gtk/plrdlg.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/cityrep.c,
	client/gui-xaw/cityrep.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/gui_main.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/helpdlg.h, client/gui-xaw/menu.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/messagewin.h,
	client/gui-xaw/plrdlg.c, client/gui-xaw/plrdlg.h,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/cityrep.h, client/include/cityrep_g.h,
	client/include/helpdlg.h, client/include/helpdlg_g.h,
	client/include/messagewin_g.h, client/include/meswindlg.h,
	client/include/plrdlg.h, client/include/plrdlg_g.h: More fixes to
	client gui-includes, splitting some previously gui-independent
	headers into gui-indep and gui-dep parts, to make places for
	prototypes previously misplaced in gui_main.h in the Xaw client. 
	Renamed meswindlg.h to messagewin.h (and messagewin_g.h) to match
	corresponding .c file.

Mon Jul 19 13:40:28 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c: Fix for bug PR#57 (active units
	report doesn't scale)

Mon Jul 19 12:28:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c: Changed spelling of "Ramesses" to "Rameses". 
	On advice by Reuben Thomas <rrt1001@cam.ac.uk>, with patch by Greg
	Wooledge <wooledge@kellnet.com>.

Mon Jul 19 12:10:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Fixed 'show' output so that the "changable"
	symbol takes into account game state (as well as access level).

Sun Jul 18 03:14:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/fcintl.h: Macros
	for internationalization.  This also provides no-op macros if
	HAVE_GETTEXT is not defined, so markup of strings can begin, using
	these no-ops for now.  From a patch by David Perez Serrada
	<dperezs@laguna.dvnet.es>.

Sat Jul 17 11:49:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Changed railroad_trade() checking S_RAILROAD
	to road_trade() checking S_ROAD, since Superhighways effect
	depends on road not railroad.  Idea from a patch by Rizos
	Sakellariou <rizos@rice.edu>.

Sat Jul 17 11:48:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ABOUT-NLS: Forgot to add this with rest of NLS stuff.

Sat Jul 17 11:47:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/Makefile.in: Auto-gen update for advspace files.

Sat Jul 17 11:46:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* intl/ChangeLog, intl/Makefile.in, intl/VERSION,
	intl/bindtextdom.c, intl/cat-compat.c, intl/dcgettext.c,
	intl/dgettext.c, intl/explodename.c, intl/finddomain.c,
	intl/gettext.c, intl/gettext.h, intl/gettextP.h,
	intl/hash-string.h, intl/intl-compat.c, intl/l10nflist.c,
	intl/libgettext.h, intl/linux-msg.sed, intl/loadinfo.h,
	intl/loadmsgcat.c, intl/localealias.c, intl/po2tbl.sed.in,
	intl/textdomain.c, intl/xopen-msg.sed, po/Makefile.in.in: Added
	some preliminary infrastructure for Native Language Support, from
	gettext-0.10.35.

Sat Jul 17 11:43:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/repodlgs.c: Allow
	multiple selections (and operations) in the City Report and Trade
	Report dialogs.  (Gtk+ client only.)  Selections are made by
	dragging, or clicking while holding shift or ctrl (or alt?). 
	Patch submitted by Markus Linnala <maage@cs.tut.fi>.

	Examples:  In the City Report: - Select 1 city and issue command,
	works as before; - Select 2 or more cities and issue buy, client
	tries to buy improvement or unit at all cities, you can easily use
	all your money; - Select 2 or more cities and issue change, select
	one, client tries to change production to the one you selected, if
	you select building and city already has building, there is no
	change, if you have 10 cities with all buildings, 10 without
	supermarket and one brand new, you can select all, then press alt
	and mouse on brand new twice and select supermarket on a list; -
	Select all cities and deselect one which is building wonder,
	select another city again, change to caravan; - Game just sold
	your barracks, select all and change to barracks N+1, issue buy,
	you have barracks again; - You have lot of money, more than you
	can use, select all and buy, too bad you don't buy capitalization;
	- Pollution is not your friend, select every city with pollution
	and change them to build recycling.

	Also in the Trade Report: Select all buildings and push 'Sell
	obsolete'.  You get lot of popups with confusing messages, but
	don't be alarmed.  You just sold all possible obsolete buildings. 
	You can also easily sell all buildings.  Beware.

Sat Jul 17 02:06:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/include/Makefile.am,
	client/include/Makefile.in, client/Makefile.am,
	client/Makefile.in: New configure option --enable-make-include, to
	force make to recurse into the client/include directory.  Normally
	this is useless, but it is useful for 'make tags' to get tags from
	the headers.  Also changed client/include/Makefile.am to list
	files as "noinst_HEADERS" instead of "EXTRA_DIST", so that they
	get processed by 'make tags'.

Fri Jul 16 20:33:58 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/advspace.c, ai/advspace.h: New files to support AI spaceship
	building.

Fri Jul 16 20:29:52 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/Makefile.am, ai/Makefile.in, ai/advdomestic.c, ai/aihand.c:
	Committing patch to make AI aware of spacerace.  More intelligent
	spaceship composition is a suggested future enhancement.

Fri Jul 16 13:55:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c, server/unitfunc.c: Allow pillaging fortresses;
	occurs after mine/irrigation but before railroad/road.  Patch
	submitted by Greg Wooledge <wooledge@kellnet.com>.

Fri Jul 16 13:25:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, Makefile.am, Makefile.in, PEOPLE, THANKS: Recombined
	AUTHORS and THANKS files, into a single file PEOPLE, plus AUTHORS
	just containing the original authors.  Includes some changes
	thanks to Martin Willemoes Hansen <mwh@stampede.org>.

Fri Jul 16 12:40:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Fixed arctic roads bug.  Roads/railroads in
	top or bottom map rows sometimes lost their "roadness"
	inexpectedly.  Bug report and fix submitted by Jeff Mallatt
	<jjm@codewell.com>.

Fri Jul 16 12:28:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/include/mapctrl_g.h: Removed X11 include accidently left
	in mapctrl_g.h; problem reported by Andy Black
	<ablack@bvsd.k12.co.us>.

Wed Jul 14 15:50:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/mapview.c: In the GTK+ client, in both the unit
	info panel and the city dialog (supported and present units) the
	display of an Engineer that is transforming terrain is incorrect
	-- the small "O" in the upper right hand corner is replaced by
	tile number zero.

	It's simply a missing case in put_unit_gpixmap() in mapview.c:

	Patch and bug report submitted by jjm@codewell.com

Wed Jul 14 11:23:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, client/civclient.c, client/climisc.c,
	client/options.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/clinet.c, client/gui-gtk/colors.c,
	client/gui-gtk/colors.h, client/gui-gtk/connectdlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_stuff.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/colors.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/dialogs.h,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/gui-xaw/menu.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c,
	client/include/graphics_g.h, client/include/packhand.h,
	common/map.c, server/civserver.c, server/mapgen.h,
	server/plrhand.c, server/plrhand.h, server/sernet.c,
	server/stdinhand.c, server/unitfunc.c: More code cleanup fixes,
	mainly making more things static.  Also: Commented out some more
	unused functions; Removed some duplicated prototypes and
	declarations; Variables in headers should be extern; Moved
	handle_* protos in civclient.c to correct place in packhand.h; For
	now, moved misplaced protos in gui-xaw/gui_main.c to gui_main.h
	(still to be fixed properly a-la changed gui include structure).

Wed Jul 14 11:18:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h: Removed unused/unimplemented
	function stub get_dot_separated_int() in common/shared.c

Wed Jul 14 11:18:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h: Be more careful when reading
	packets, to protect against short packets, or too-long strings in
	packets.  Should help fix bug reported by Sami Farin
	<sfarin@ratol.fi>.

Wed Jul 14 11:15:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/climisc.c, client/options.c, client/packhand.c,
	client/gui-gtk/chatline.h, client/gui-gtk/citydlg.h,
	client/gui-gtk/clinet.h, client/gui-gtk/connectdlg.h,
	client/gui-gtk/dialogs.h, client/gui-gtk/diplodlg.h,
	client/gui-gtk/gotodlg.h, client/gui-gtk/graphics.c,
	client/gui-gtk/graphics.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/gui_main.h, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.h, client/gui-gtk/menu.h,
	client/gui-gtk/optiondlg.h, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.h, client/gui-xaw/chatline.h,
	client/gui-xaw/citydlg.h, client/gui-xaw/clinet.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/connectdlg.h,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.h,
	client/gui-xaw/gotodlg.h, client/gui-xaw/graphics.c,
	client/gui-xaw/graphics.h, client/gui-xaw/gui_main.h,
	client/gui-xaw/mapctrl.h, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.h, client/gui-xaw/optiondlg.h,
	client/gui-xaw/repodlgs.h, client/gui-xaw/spaceshipdlg.h,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/chatline_g.h, client/include/citydlg_g.h,
	client/include/clinet_g.h, client/include/connectdlg_g.h,
	client/include/dialogs_g.h, client/include/diplodlg_g.h,
	client/include/gotodlg_g.h, client/include/graphics_g.h,
	client/include/gui_main_g.h, client/include/mapctrl_g.h,
	client/include/mapview_g.h, client/include/menu_g.h,
	client/include/repodlgs_g.h, client/include/spaceshipdlg_g.h:
	Changes to gui include files to reduce duplication in separate gui
	headers, and so that non-gui client code depends only on a single
	set of headers.  (Removed -I$(srcdir)/@gui_sources@ in
	client/Makefile.am)  The gui-independent parts are in
	include/foo_g.h; the gui-dependent parts in gui-*/foo.h, which
	also includes foo_g.h.  Also some minor includes fixes so headers
	are all individually includable.

Wed Jul 14 11:10:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, ai/aiunit.c,
	common/Makefile.am, common/Makefile.in, common/timing.c,
	common/timing.h, server/autoattack.c, server/civserver.c,
	server/settlers.c: Added a new module common/timing to isolate
	some timing code.  The new module allows both CPU timing, and user
	("wall clock") timing; for the latter it uses gettimeofday() if
	available, or else falls back to time().  For CPU timing it uses
	clock().

	Replaced the old #ifdef CHRONO stuff; the timing of loading
	savegame; and timing for metaserver updates.  Changed the CHRONO
	stuff to do CPU timing (more appropriate for those cases) rather
	than user timing.

Wed Jul 14 11:08:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/mapgen.c, server/meta.c: Removed some
	unncessary time includes.

Wed Jul 14 11:07:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aiunit.c, common/tech.c,
	common/unit.h, server/autoattack.c, server/citytools.c,
	server/cityturn.c, server/cityturn.h, server/civserver.c,
	server/civserver.h, server/diplhand.c, server/gamehand.c,
	server/gamelog.c, server/gotohand.c, server/mapgen.c,
	server/maphand.c, server/plrhand.c, server/sernet.c,
	server/settlers.c, server/settlers.h, server/stdinhand.c,
	server/unithand.c: Various code cleanups, especially making
	functions and variables which are used entirely internal to a
	single module to be explicitly "static".  (Based partly on a list
	by Andy Black <ablack@bvsd.k12.co.us>.) Removed some duplicate
	function prototypes.  Commented out (#ifdef UNUSED) some unused
	functions.  Removed some unused/uncalled/empty function stubs
	(aicity.c:free_tiles(), civserver.c:end_game()).

Wed Jul 14 11:04:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/include/climisc.h,
	client/gui-xaw/gui_main.c, common/shared.h: Moved #define
	CITY_NAMES_FONT from common/shared.h to client/include/climisc.h

Wed Jul 14 11:03:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aiunit.c, server/gotohand.c, server/settlers.c,
	server/unitfunc.c: Changed <<1 to *2, >>1 to /2 etc. to increase
	readability of the code.  (Rely on the compiler the optimize them
	correctly.) Patch submitted by Markus Linnala <maage@cs.tut.fi>.

Wed Jul 14 11:01:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Fixed logic/typo bug in make_river(); bug and
	fix reported by Andy Black <ablack@bvsd.k12.co.us>.

Wed Jul 14 11:00:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/shared.c, common/shared.h,
	server/civserver.c, server/mapgen.c, server/meta.c,
	server/sernet.c: Changes to allow compiling the server on a Mac. 
	From patches submitted by Andy Black <ablack@bvsd.k12.co.us>, with
	some minor formatting/comments changes by me.

Wed Jul 14 10:58:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, server/settlers.c: Fixed some warnings about
	possibly uninitialized variables (only used so in LOG_DEBUG
	messages).

Sun Jul 11 13:03:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c, server/settlers.h, common/city.h: With this
	patch your autosettlers can and will also use transform.  Patch
	submitted by Markus Linnala <maage@cs.tut.fi>.

Sun Jul 11 13:02:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Commented out experimental part of
	ai_calc_mine() which allowed autosettlers to "mine" plains and
	grasslands to make forests.  The behaviour was annoying for human
	players, and often bad for AI players too.  Patch submitted by
	Markus Linnala <maage@cs.tut.fi>.

Sun Jul 11 13:02:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Added more debug info about battles.  Patch
	submitted by Markus Linnala <maage@cs.tut.fi>.

Sun Jul 11 13:01:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: If you have Electric Fence Malloc
	Debugger, you can link against it using "./configure
	--with-efence".  (Mainly for use by developers.) From a patch
	submitted by Markus Linnala <maage@cs.tut.fi>.  I also spread out
	the AC_OUTPUT over multiple lines.

Sun Jul 11 12:59:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/aitools.c, common/city.h,
	server/citytools.c, server/cityturn.c, server/unittools.c: Removed
	min/max macros in city.h, and use MIN/MAX from shared.h instead. 
	Also calculate complex arguments or functions calls in temp
	variables since don't trust compiler to be able to optimize them
	out rather than compute twice.  Patch submitted by Markus Linnala
	<maage@cs.tut.fi> (except I don't like variables called 'l' since
	too similar to '1').

Sun Jul 11 12:57:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capability.h, common/diptreaty.h, ai/advattitude.h,
	ai/advdomestic.h, ai/advforeign.h, ai/advisland.h, ai/advleader.h,
	ai/advscience.h, ai/advtrade.h, ai/aicity.h, server/autoattack.h,
	server/gamehand.h: Minor fixes to header files so all headers can
	(in principle) be individually included without including other
	headers first.  Also some end-of-header comments.  Based partly on
	a patch submitted by Markus Linnala <maage@cs.tut.fi>.

Sat Jul 10 20:01:26 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog: Updating the changelog for 1.8.1

Thu Jul  8 12:23:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, BUGS, NEWS, configure, configure.in,
	client/gui-xaw/Freeciv.h, common/version.h, data/Freeciv: Push
	version number to 1.8.1.

Tue Jul  6 12:05:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS: Remove bug PR#27 (Gtk+ city dialog icons) from Known Bugs;
	fixed by previous check-in.

Tue Jul  6 12:00:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c: Fix for bug PR#27 (the city dialog
	icons not refreshing properly), submitted by Vasco Alexandre Da
	Silva Costa.

	Basically what this does is hide those widgets and then show them
	again (to force a redraw).

	There's probably a better way to do this by changing the code for
	pixmap widgets handling (which probably has a bug which causes
	this), but that would take way too much time.  This little hack
	should to the trick.

Mon Jul  5 20:19:15 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c: Client help
	changes for AEGIS defense factor.

Mon Jul  5 20:17:01 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* data/helpdata.txt: Documentation changes to go along with AEGIS
	defense change.

Mon Jul  5 17:30:58 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unitfunc.c: Modifying AEGIS defense factor versus air
	units to match Civ2 documentation.

Mon Jul  5 14:38:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, ChangeLog, HOWTOPLAY, NEWS, THANKS: Updates.  Recent
	ChangeLog, AUTHORS, THANKS, NEWS.  Added links to Manual in
	HOWTOPLAY.

Mon Jul  5 14:28:05 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* AUTHORS: Add Tony Stuckey <stuckey@jaka.ece.uiuc.edu> as freeciv
	administrator.

Mon Jul  5 13:37:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/europe.sav: Updated/improved (more accurate) Europe
	map/scenario, by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Mon Jul  5 12:35:04 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/stdinhand.c: Corrected Markus Linnala <maage@cs.tut.fi>
	Thanks to Peter Schaefer <schaefer@cys.de>.

Mon Jul  5 09:44:28 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/stdinhand.c: Instead of using 0 use H_NONE. Also use &
	instead of + as I think it is best choice when you are messing
	with bitfields.  Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Sun Jul  4 04:54:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS: Updated list of known bugs, based on current "open" bugs
	in the BTS.

Sun Jul  4 03:48:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/repodlgs.c: In science_change_callback() and
	science_goal_callback(), call science_dialog_update() when popping
	up help, to reset the Researching/Goal menus to the correct items.
	Fixes PR#31.

Sun Jul  4 03:41:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c, server/unithand.h: Fixed bug where unit
	killed by barbarians in hut could cause core dump.  Changed
	handle_unit_enter_hut() to return 0 if unit was killed; in
	handle_unit_move_request(), handle situation where unit is killed
	by barbarians.  Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Sun Jul  4 03:34:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Updated helpdata.txt "About" section, for
	maintainers, and to direct to the Bug Tracking System to report
	bugs.

Sat Jul  3 13:23:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c: Translated some comments from danish to english. 
	Patch submitted by Sune Kirkeby <sune@interspace.dk>.

Sat Jul  3 13:02:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Updates to README: removed stale note about alliances
	patch; specify client command line options using double dash form,
	since that works for both Xaw and Gtk+ clients; second included
	tileset is now "trident" instead of "classic"; use new full server
	command names 'start', 'list' instead of 's' and 'l'; replaced
	some cases of "1.8.0" with "1.8.0 or later" and similar; replaced
	term "server-op" with "server operator".

Sat Jul  3 12:59:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* INSTALL: Revisions to INSTALL info: explain more about the two 
	clients and separate prerequisites; explain about needing 
	"development" library packages on some systems; explain default 
	choice of Gtk+ by configure; removed/altered note about 
	Makefile.noimake; refer to BUGS file instead of Bugs section of 
	README; downplay use of "civ" and "ser" scripts; replaced discussion 
	of FREECIV_DATADIR with new discussion of FREECIV_PATH; updated ftp 
	refs for gtk/glib to more recent versions (1.2.1 -> 1.2.3).

Sat Jul  3 04:41:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: In gtk client, check that arguments
	are there for options which require them, and give a message
	rather than segfault.  Fixes bug (PR#36) reported by Alexandre
	BERAUD <a_beraud@lemel.fr>.

Sat Jul  3 03:57:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/trident/.cvsignore, data/trident/Makefile.am,
	data/trident/Makefile.in, data/trident/flags.xpm,
	data/trident/roads.xpm, data/trident/tiles.xpm,
	data/trident/units.xpm: Replaced "classic" tiles in distribution
	with "trident" tiles, by Tatu Rissanen <tatu.rissanen@hut.fi>. 
	Used tiles from "trident_30x30-1.8.0-1.2.tar.gz".  In flags.xpm I
	swapped the positions of the Russian and Soviet flags, for
	consistency with the default tileset.

Sat Jul  3 03:11:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Updated mailing list instructions to say
	<listar@freeciv.org> instead of <majordomo@freeciv.org>.

Fri Jul  2 09:55:33 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/citydlg.c: This very small patch removes all the
	warnings produced by the gtk client when the city dialog opens.  I
	tested it with gtk+-1.2.1 and gtk+-1.2.3.  Patch submitted by
	"P.E.Jean" <pejean.lists@iname.com>.

Thu Jul  1 12:36:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c: Don't give
	foreign intelligence reports for dead civilizations.  Fixes bug
	reported by Chris Lawrence <lawrencc@debian.org>.  (Freeciv PR#38,
	Debian bug #39650.)

Wed Jun 30 12:04:02 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: Fix to preceding patch to detach the
	windows in the GTK client.  You can't anymore make the output/chat
	too big.  The map window is correctly resized whataver the size of
	the output/chat window.  Patch submitted by Olivier Rolland
	<billl@esil.univ-mrs.fr>.

Wed Jun 30 11:54:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/cityturn.c: Fix Server Segfault on City being Disbanded
	following dwp pronostic.  Bug reported by Chris Buchanan
	<csbuchan@undergrad.math.uwaterloo.ca>.  (Also previously reported
	and patch submitted by Markus Linnala <maage@cs.tut.fi>.)

Sat Jun 26 03:15:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Added some NEWS for future release.

Sat Jun 26 03:15:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Previous detach-gtk patch included
	some unnecessary/unrelated changes (includes structure; mysrand
	re-added); reversed.

Fri Jun 25 21:53:12 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: This patch allows to detach the
	freeciv version 1.8.0 window, the turn done window, the unit
	window and the text window. Doing that, the GTK client contains
	only the map window. And, it looks great. Windows can go back to
	the main window by clicking on the handles (left part of the
	windows).

	Patch submitted by Olivier Rolland <billl@esil.univ-mrs.fr>.

Fri Jun 25 12:08:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS, Makefile.am, Makefile.in, NEWS, README, TODO: New files
	TODO and BUGS, extracted from parts of NEWS and README.  Some
	updates to TODO and BUGS info (for GTK+ vs Xaw, and to reference
	the Bug Tracking System).

Fri Jun 25 12:05:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: In configure, by default try Xaw3d
	before plain Xaw.  This may reduce cases of Xaw segfault problem
	on systems with Xaw3d.  The change only applies if the system
	doesn't have GTK+ (of a recent enough version) and where the user
	doesn't specify --with-xaw or --with-xaw3d explicitly.

Tue Jun 22 12:52:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* install-sh, missing, mkinstalldirs: Updated files from recent
	automake.

Tue Jun 22 12:40:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in: Removed Imakefile and Makefile.noimake
	from dist (they are not currently working, nor supported).  Also
	cleaned EXTRA_DIST to list only those files not automatically
	included by automake.

Tue Jun 22 12:24:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, Makefile.in, THANKS: Updated AUTHORS file.  Extracted
	some parts into a new file "THANKS".

Tue Jun 22 11:22:34 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/city.c: Moving repeated code to a common area.  Patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Tue Jun 22 10:45:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, server/autoattack.c, server/civserver.c,
	server/settlers.c: Ensure CLOCKS_PER_SEC is defined in civserver.c
	(eg, for SunOS, problem reported by several people), to a wildly
	guessed value if necessary.  Some fixes to #ifdef CHRONO stuff
	(includes, format strings).

Sat Jun 19 12:24:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure: configure update for previous patch.

Thu Jun 17 13:07:54 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* acconfig.h, config.h.in, configure.in, client/civclient.c,
	common/shared.h, server/civserver.c: The defines MAILING_LIST and
	SITE has been replaced by BUG_EMAIL_ADDRESS and WEBSITE_URL.  They
	have been withdrawn from acconfig.h.  We now hint people to report
	bugs via bugs@freeciv.org .  Patch submitted by David Pfitzner
	<dwp@mso.anu.edu.au>.

Thu Jun 17 12:11:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c: Fixed bug in save_restore_random(), where
	setting new value of "mode" had a precedence error.  This bug did
	not actually ever appear, because it only caused problems on the
	third (or later) call to save_restore_random(), and currently
	freeciv calls it at most twice!

Thu Jun 17 11:28:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h: Made some registry
	internal stuff really internal: moved struct section and struct
	section_entry from .h to .c, and made _lookup_internal functions
	static and not in .h file.  Also some minor formating
	changes/re-org.

Thu Jun 17 11:26:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/gui-gtk/gui_main.c,
	client/gui-xaw/gui_main.c, common/shared.h: Changed RANDOM_TYPE
	from a define to a typedef.  In clients, moved mysrand() call from
	gui_main() to main().

Thu Jun 17 11:24:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/options.c, client/gui-gtk/clinet.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c,
	client/gui-xaw/clinet.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, common/Makefile.am, common/Makefile.in,
	common/shared.c, common/shared.h, common/version.h,
	server/civserver.c, server/gamehand.c, server/meta.h: Moved
	versions stuff out of shared.h into a new version.h, mainly so
	that shared.h no longer has to include config.h, so much less
	needs to be re-compiled if config.h changes.

Tue Jun 15 14:22:47 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/log.c: I remove the possibility to give in the civserver
	option a loglevel of 3 if compiled without DEBUG.

Tue Jun 15 11:59:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/chatline.c, common/shared.c, common/shared.h:
	Fixed bug in Xaw client that output window didn't automatically
	scroll to the bottom properly if there were lines which were too
	long and needed to be wrapped.  Actually, this fix isn't ideal
	(lines are wrapped manually to a fixed length) but I couldn't find
	a better fix.  (The problem seems to me to be an Xaw bug.)  Added
	new function wordwrap_string() in shared.c.  Bug (PR#2) was
	reported by Nicolas Brunel.

Tue Jun 15 11:47:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Renamed tiny_island() to is_tiny_island(), and
	filter_land() to remove_tiny_islands().  Made both static.

Tue Jun 15 11:46:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, common/map.c, common/map.h, server/mapgen.c,
	server/mapgen.h, server/maphand.c: Renamed init_workmap() in
	mapgen.c to map_allocate(), and moved to map.c.  Replaced
	duplicated code in packhand.c/handle_map_info() with call to
	map_allocate().  In map_allocate(), use realloc instead of malloc,
	for client.  (Previously there was a memory leak here in client
	when reconnecting multiple times to a running game).

Tue Jun 15 10:04:58 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/mapview.c, common/shared.c, common/shared.h,
	client/gui-xaw/mapview.c: This patch wraps up the
	HAVE_USLEEP/usleep/select stuff into a function myusleep() in
	shared.c

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>

Sun Jun 13 13:34:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: ChangeLog updates.

Sun Jun 13 05:15:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, acconfig.h, aclocal.m4, config.h.in, configure,
	configure.in, undep.sh.in, ai/Makefile.in, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/classic/Makefile.in,
	server/Makefile.in, data/default/Makefile.in: Updated to
	automake-1.4 and autoconf-2.13.

Sat Jun 12 17:52:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c: This pair of
	near-identical patches (one for each widget set) replaces some
	hardcoded text that is overly specific to the standard game with
	some more general verbiage that will be more correct under certain
	ruleset modifications.  I am referring to the situation where
	"Pikemen" have their defense doubled against "horseback (except
	Cavalry)"; the flags in units.ruleset allow a more general
	combination of the units participating in the effect.

	I also corrected a helptext spelling error that I noticed nearby
	in the code ("aboad" --> "aboard").

	Patch submitted by "Bobby D. Bryant" <bdbryant@mail.utexas.edu>

Sat Jun 12 08:06:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h:
	Parameters of gtk_scale_pixmap did not match prototype or usage;
	removed unused parameter "root"; now include gui_stuff.h to check
	prototypes.

Sat Jun 12 07:41:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advattitude.c, ai/advattitude.h, ai/advdomestic.c,
	ai/advdomestic.h, ai/advforeign.c, ai/advforeign.h,
	ai/advisland.c, ai/advisland.h, ai/advleader.c, ai/advleader.h,
	ai/advmilitary.c, ai/advmilitary.h, ai/advscience.c,
	ai/advscience.h, ai/advtrade.c, ai/advtrade.h, ai/aicity.c,
	ai/aicity.h, ai/aihand.c, ai/aihand.h, ai/aitech.c, ai/aitech.h,
	ai/aitools.c, ai/aitools.h, ai/aiunit.c, ai/aiunit.h,
	client/civclient.c, client/climisc.c, client/options.c,
	client/packhand.c, client/gui-gtk/chatline.c,
	client/gui-gtk/chatline.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/citydlg.h, client/gui-gtk/cityrep.c,
	client/gui-gtk/clinet.c, client/gui-gtk/clinet.h,
	client/gui-gtk/colors.c, client/gui-gtk/colors.h,
	client/gui-gtk/connectdlg.c, client/gui-gtk/connectdlg.h,
	client/gui-gtk/dialogs.c, client/gui-gtk/dialogs.h,
	client/gui-gtk/diplodlg.c, client/gui-gtk/diplodlg.h,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gotodlg.h,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inputdlg.h, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/mapview.h,
	client/gui-gtk/menu.c, client/gui-gtk/menu.h,
	client/gui-gtk/messagedlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/optiondlg.h, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/spaceshipdlg.h,
	client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/chatline.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/citydlg.h, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/clinet.h,
	client/gui-xaw/colors.c, client/gui-xaw/colors.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.c,
	client/gui-xaw/diplodlg.h, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/gotodlg.h,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/gui_stuff.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h,
	client/gui-xaw/messagedlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/optiondlg.h,
	client/gui-xaw/pixcomm.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/resources.c,
	client/gui-xaw/resources.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, client/include/civclient.h,
	client/include/finddlg.h, client/include/helpdlg.h,
	client/include/inteldlg.h, client/include/meswindlg.h,
	client/include/packhand.h, client/include/plrdlg.h,
	client/include/ratesdlg.h, common/city.c, common/city.h,
	common/diptreaty.c, common/game.c, common/genlist.c,
	common/genlist.h, common/log.c, common/log.h, common/map.c,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/registry.c, common/registry.h,
	common/shared.c, common/tech.c, common/tech.h, common/unit.c,
	common/unit.h, server/autoattack.c, server/cityhand.c,
	server/cityhand.h, server/citytools.c, server/citytools.h,
	server/cityturn.c, server/cityturn.h, server/civserver.c,
	server/console.h, server/diplhand.c, server/diplhand.h,
	server/gamehand.c, server/gamehand.h, server/gamelog.c,
	server/gamelog.h, server/gotohand.c, server/gotohand.h,
	server/handchat.c, server/handchat.h, server/mapgen.c,
	server/maphand.c, server/maphand.h, server/meta.c, server/meta.h,
	server/plrhand.c, server/ruleset.c, server/ruleset.h,
	server/sernet.c, server/sernet.h, server/settlers.c,
	server/spacerace.c, server/stdinhand.c, server/stdinhand.h,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unithand.h, server/unittools.c, server/unittools.h: 
	Tidied up include files and include lines.  
	- Use #include "foo.h" instead of #include <foo.h>, for all foo.h 
	  files which are part of freeciv; 
	- Better grouping and sorting of include lines; 
	- Standardized the define used to avoid multiple inclusions, as 
	  eg, FC__FOO_H for foo.h; 
	- For each .c file, always include the corresponding .h file to 
	  check prototypes; 
	- Removed duplicate definition of ai_choice in city.h and 
	  aitools.h (now only in city.h, and include city.h in aitools.h); 
	- Removed some unnecessary includes (just some I happened to 
	  notice).

Sat Jun 12 07:35:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c: Fixed example capability line in comments, and
	a stray semicolon in define.

Thu Jun 10 20:47:55 1999  Lalo Martins <lalo@debian.org>:

	* debian/freeciv-gtk.dirs, debian/freeciv-xaw.dirs,
	debian/freeciv-xaw3d.dirs, debian/freeciv.desktop, debian/rules:
	Last fixes for building for Debian the "new" way, plus a gnome
	.desktop file

Thu Jun 10 16:05:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c: When the
	turn-done button is blinking, other widgets using the same style
	occasionally get drawn with the inverted colors (at least they do
	here with gtk+-1.2.3). The attached patch against very recent cvs
	fixes this by setting a seperate style for the turn_done_button
	widget. The second part of the patch is cosmetic.

	Patch submitted by Daniel Deckers <fh5y076@public.uni-hamburg.de>

Thu Jun 10 15:35:13 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/control, debian/dirs,
	debian/freeciv-gtk.dirs, debian/freeciv-gtk.menu,
	debian/freeciv-gtk.postinst, debian/freeciv-gtk.postrm,
	debian/freeciv-xaw.dirs, debian/freeciv-xaw.menu,
	debian/freeciv-xaw.postinst, debian/freeciv-xaw.postrm,
	debian/freeciv-xaw.xaw, debian/freeciv-xaw3d.postinst,
	debian/freeciv-xaw3d.postrm, debian/menu, debian/postinst,
	debian/postrm, debian/rules, debian/xaw-wrappers: Finally fixed
	the xaw-wrappers new version problem and have the new packaging
	"status quo" really working and ready to upload.

Thu Jun 10 12:26:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c, client/gui-gtk/menu.c,
	client/gui-gtk/menu.h, client/gui-gtk/messagewin.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gotodlg.h, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/messagewin.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/repodlgs.h,
	client/include/cityrep.h, client/include/meswindlg.h,
	common/game.c, common/game.h, server/civserver.c,
	server/civserver.h, server/mapgen.c, server/mapgen.h,
	server/meta.h, server/plrhand.c, server/plrhand.h,
	server/settlers.c, server/settlers.h, server/unittools.c,
	server/unittools.h: Declare functions taking no arguments as
	foo(void) rather than foo().

Thu Jun 10 12:23:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h, server/diplhand.c: Fixed
	spelling of "recieve" to "receive" (mainly in function names).

Thu Jun 10 12:22:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c, client/gui-gtk/gui_main.c,
	client/civclient.c, client/packhand.c, client/gui-xaw/clinet.c,
	client/gui-xaw/gui_main.c, common/Makefile.am, common/Makefile.in,
	common/capstr.c, common/capstr.h, common/packets.c,
	common/packets.h, common/shared.h, server/civserver.c: Moved the
	definition of the capability string into a new module "capstr". 
	This means we don't have to recompile almost everything when the
	capability string is changed.  Also moved our_capability into
	capstr, and the comment block (somewhat revised) about the
	capability string.  Consolidated the code setting our_capability
	into a new function init_our_capability() in capstr, and in the
	client, moved this initialisation from the gui_main() functions
	into main().  Also introduced a new define, MAX_CAPSTR_LEN (the
	previous use of MSG_SIZE for this seemed excessive, though the new
	size is still quite generous).

Thu Jun 10 12:15:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capability.c, common/capability.h: Declare the arguments
	of has_capability() and has_capabilities() as "const char *"
	instead of "char *", to indicate that the strings are not
	modified, and so that we can pass "const char*" strings to these
	functions without warnings.

Thu Jun 10 12:11:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in: Update for usleep patch.

Wed Jun  9 11:52:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	ai/advdomestic.c, ai/aicity.c, ai/aihand.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	server/cityturn.c: Removed the granary patch for version 1.8.0 to
	be fully compatible with 1.8.1 .

Wed Jun  9 11:33:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/helpdata.txt: Document in help control the new available
	keys: 0 to 9.

Wed Jun  9 10:22:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c, acconfig.h,
	configure, configure.in, client/gui-xaw/Freeciv.h,
	client/gui-xaw/mapview.c, data/Freeciv: This patch allows the use
	of key '0-9' to move a unit.  Also, it checks if the function
	sleep is present.  If it's not, it uses select in replacement. 
	Patch submitted by sebauer@t-online.de (Sebastian Bauer).

Tue Jun  8 11:41:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Improvements to registry to allow reading and
	writing strings with internal escaped double-quote, backslash or
	newline characters, and to write such escapes when saving. 
	(Previously read escaped baskslashes and newlines only, but not
	double-quotes, and didn't do any escapes when saving.)  Fixes bug
	reported by Reinier Post and others.

Tue Jun  8 11:39:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/optiondlg.c,
	data/Freeciv: Made Xaw options dialog have Ok and Cancel buttons
	instead of just Close.

Tue Jun  8 11:38:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/cityrep.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/plrdlg.c: Some Xaw dialogs caused core dumps if
	closed via window manager controls, while some such dialogs have
	been fixed previously.  This patch fixes the remaining ones I
	could find: the city report, the help dialog, the messages window,
	and the players dialog.  (Bug reported by several people.)

Tue Jun  8 11:34:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: Changed a strdup to mystrdup in
	log_parse_level_str().

Mon Jun  7 12:14:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Commented out some "unit not implemented"
	messages in the help text, to avoid bogus help text if a modpack
	_does_ implement a unit with that name.

Sun Jun  6 06:40:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/gamelog.h: In
	handle_diplomacy_accept_treaty(), call to gamelog() for tech trade
	had a wrong argument, leading to core dumps; fixed (PR#17).  Bug
	reported by Chip Richards <chipr@niestu.com>.

	Also fixed omission that gamelog() is a printf-like function, and
	so should use fc__attribute accordingly, to catch such bugs.

Sun Jun  6 05:44:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aiunit.c, client/civclient.c,
	client/climisc.c, client/options.c, client/packhand.c,
	client/gui-gtk/colors.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/menu.c,
	client/gui-xaw/colors.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/helpdlg.c, common/game.c, common/map.c,
	common/packets.c, common/shared.c, server/autoattack.c,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/gamehand.c, server/gotohand.c,
	server/mapgen.c, server/ruleset.c, server/sernet.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c: Changed some LOG_DEBUG
	messages to LOG_VERBOSE.  Removed lots of "if(0)" checks which
	some people didn't like; such loggging can now be selectively
	enabled via LOG_DEBUG features.

Sun Jun  6 05:40:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README, client/civclient.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/repodlgs.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/resources.h, common/log.c, common/log.h,
	server/civserver.c, server/console.c: Added a new log level
	LOG_VERBOSE, between LOG_NORMAL and LOG_DEBUG.  Made LOG_DEBUG
	messages only occur when compiled with DEBUG defined (eg configure
	with --enable-debug), and allow LOG_DEBUG messages to be
	controlled on a per-file, per-line basis from command line (see
	README).  Based on patches submitted by Markus Linnala
	<maage@cs.tut.fi>.

Sat Jun  5 12:26:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c, client/gui-xaw/menu.c, data/helpdata.txt:
	Put Help->Chatline in menu for gtk client; moved Chatline help to
	after Controls help.

Sat Jun  5 11:48:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README, freeciv_hackers_guide.txt, client/gui-gtk/menu.c,
	client/gui-xaw/menu.c, client/include/helpdlg.h, common/packets.h,
	common/player.c, common/player.h, common/shared.h,
	data/helpdata.txt, server/civserver.c, server/console.c,
	server/handchat.c, server/sernet.c, server/stdinhand.c,
	server/stdinhand.h: This patch provides the ability for civclients
	to execute server commands.  Chatline input which starts with '/'
	is interpreted as a server command.  The resulting output is
	written to the client output window and a note about the command
	is written to the server console.

	The patch works fine with regular 1.8.0 clients, but patched
	clients have a new Help->Chatline menu option explaining the
	feature.

	The following changes were made to the server:

	+ chatlines from clients starting with '/' are interpreted as
	  commands 
	+ commands may be prefixed with '/' on the server cmdline (for 
	  consistency) 
	+ command names can be abbreviated; when ambiguous, a warning 
	  is issued 
	+ 'show optionname' works as expected now
	+ with 'show', the status of options is shown in a slightly 
	  different way 
	+ setting the AI level now provides feedback in all cases
	+ a new command, 'cmdlevel', is used to	control access to commands

	There are four access levels: 'none', 'info', 'ctrl', and 'hack'. 
	With 'none', no commands are allowed from civclients at all.  With
	'info', the default, only informational commands are allowed. 
	With 'ctrl', commands are allowed that can be used to control the
	game, including starting the game, adding and removing players,
	and setting options.  The 'hack' level allows all commands,
	including the ones that read or write files.  Note that the save
	command can be used to overwite any file where the civserver
	process has write-premission; note system security implications.

	The 'ctrl' level allows hosts to be operated without direct access
	to the server command line prompt, but some refinements are needed
	to make this a viable option in practice.

	Player names must now be unique even in pre-game, so that players
	can be uniquely identified for various server commands.

	Patch submitted by Reinier Post <rp@win.tue.nl>, plus changes by
	me.

Sat Jun  5 11:41:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Added player_init() call in
	accept_new_player(), sometimes needed if a previous player
	disconnects or is removed, to avoid inheriting stale AI status
	etc.

Sat Jun  5 11:40:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: In notify_player_ex(), only send (x,y) if
	RUN_GAME_STATE.  Fix submitted by Reinier Post <rp@win.tue.nl>.

Sat Jun  5 03:43:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/chatline.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/mapview.c,
	client/gui-xaw/chatline.c, client/gui-xaw/mapview.c,
	client/gui-xaw/optiondlg.c: Removed "#include <log.h>" lines in
	files where not needed.  Changed a freelog() call in
	client/gui-gtk/gui_main.c where logging not yet initialized.

Wed Jun  2 20:28:18 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog: freeciv/debian finally knows about 1.8 :-)

Mon May 31 18:17:01 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advmilitary.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c: The
	following patch creates a new function to evaluate military
	unhappiness for ai purposes. It removes code duplication and adds
	support for Democracy.

	Patch submitted by rizos@rice.edu.

Mon May 31 08:25:36 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unithand.c: When going over a hut and being rewarded
	credits, the message for 25, 50, or 100 credits are "You found 25
	credits." "You found 50 credits." and "You found 100 credits"
	respectively.  The bug being that there is no period after the 100
	credit message.  This patch fixes this bug.

	Patch submitted by  Jonathan Hall <jonhall@futureks.net>

Sat May 29 02:09:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* civ, ser, client/climisc.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/helpdlg.c, server/ruleset.c, common/shared.c,
	common/shared.h: Replaced single data directory with a data
	"path".  Can be set with FREECIV_PATH environment variable, but
	usually default should be ok:
	".:data:~/.freeciv:<installation_dir>".  The FREECIV_DATADIR
	environment variable should not longer be necessary, but if set it
	is prepended to the data path.

	Main changes in datafilename().  New utility functions
	user_home_dir(), remove_leading_spaces(),
	remove_trailing_spaces(), remove_trailing_char(),
	datafilename_required().  Changed usages of datafilename() to suit
	slightly altered semantics (may return NULL), and to give modified
	error messages.  Commented out FREECIV_DATADIR stuff in ser and
	civ scripts, since it is no longer needed.

Fri May 28 18:57:44 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c: Reverting previous change as warmap.cost and
	warmap.seacost are declared with MAX_MAP_WIDTH and MAP_MAX_HEIGHT
	leading to useless initialization with memset.

Fri May 28 18:26:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c: Init_warmap should just call memset() to
	initialize the array that it is supposed to work on.  Patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Fri May 28 17:28:27 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/citytools.c: In city_corruption changes the corruption
	array to avoid 2 unnecessary multiplications.

Fri May 28 11:26:55 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/gui_main.c: fix for
	warnings in gtk+ 1.2.3.  fixed a small memory leak.

Fri May 28 11:24:16 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c: fix for memory leak in the
	gtk_new_pixmap () function.

Wed May 26 23:35:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/settlers.c: In is_ok_city_spot, only some forms of land
	are considered good places to start new cities.  Looking at the
	terrain production numbers shows that Oasis should be considered
	"good".  Patch submitted by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>

Wed May 26 11:59:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/space.xpm: Replaced space.xpm with one with an
	individually optimised 64-color palette (based on original
	full-color xpm).

Wed May 26 11:58:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/small.xpm: New small.xpm images submitted by
	Alexandre BERAUD <a_beraud@lemel.fr>.  (With a small pixel offset
	problem fixed by me; re-indexed colors to individually optimised
	64-color palette based on submitted full-color file.)

Wed May 26 11:58:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c: Changed Xaw client to load tiles.xpm
	and small.xpm first, then setup_widgets(), then the rest of the
	graphics, instead of all graphics before setup_widgets().  This
	allows us to use more colors for the rest of the xpm files and
	still work ok on 256-color systems (which will dither colors once
	they run out).  No changes to gtk client since it handles colors
	differently and doesn't need this change.

Wed May 26 11:15:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Removed an extra newline which was printed
	when changing string-valued server options.

Mon May 24 17:36:34 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c: reverting this file back to previous
	commit by me.  I've also added Nicolas's changes to the "Granary:"
	line.

Mon May 24 17:26:56 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: i made a big mistake in my last
	commit. reversing changes.

Mon May 24 16:56:12 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	server/cityturn.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c: This patch makes freeciv use
	(citysize+1)* game.foodbox as the base granary size.  This is the
	formula used by both Civ1 and Civ2.  Patch submitted by Tony
	Stuckey <stuckey@jaka.ece.uiuc.edu>

Mon May 24 16:36:49 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/city.c: When calculating trade produced in a square, Civ1
	calculates railroad trade effects before governmental trade
	effects.  This patch fixes this.  If Civ2 does it differently,
	that needs to be protected by a game.civstyle test.

	This patch also streamlines other trade production math.  Working
	the numbers shows that many calculations could be avoided for
	squares that generate no trade.

	Patch submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon May 24 16:15:49 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: lign 404 I added a 'd' in wiget.

Mon May 24 13:48:03 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/gui_main.c: fix for
	gtk+ warnings.

Mon May 24 10:38:51 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/helpdlg.c, client/gui-gtk/spaceshipdlg.c: fix to
	free fonts in gtk styles. fixed "first time I popup help gives a
	small text region" bug.

Mon May 24 10:38:02 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c: improved list in the science report
	to be multi-columned. added context help to the science report.
	fixed several lists to make their columns autoresizeable.

Mon May 24 10:37:08 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c: fix to initial "only top left square
	visible" bug. minor code cleanups.

Mon May 24 10:36:05 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: added hack to make the output window
	text readable when it's insensitive. made command line parsing
	more flexible.

Mon May 24 10:35:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/clinet.c: added missing initialization of pointer
	to NULL.

Mon May 24 10:34:55 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/plrdlg.c: fixed several lists to make their columns
	autoresizeable.

Mon May 24 10:34:23 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c: fixed middle click "selects unit and
	closes dialog" shortcut.

Mon May 24 09:28:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.h: Previous nuke patch included some duplicate
	defines in shared.h; removed.

Sun May 23 18:50:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/menu.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c, common/packets.c,
	common/packets.h, common/shared.h, data/Freeciv,
	server/civserver.c, server/unithand.c, server/unithand.h: This
	patch adds a new command nuke.  This commands works as the goto
	command.  Now, nuke can detonate at an empty square.  It solves
	also a problem with goto.  If the unit in focus changes during
	goto selection, goto_state is set to zero.  Patch submitted by
	"Divis, Vaclav" <DivisV@logica.com>

Sat May 22 05:19:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: This patch fixes the problem that on the first
	turn after a game is loaded, the red border around tiles occupied
	by workers from other cities is not displayed.  From the three
	states at which the tiles around a city can be (C_TILE_EMPTY,
	C_TILE_WORKER, C_TILE_UNAVAILABLE) only the first two were saved;
	now all three are saved.  Based on a patch submitted by Rizos
	Sakellariou.

Sat May 22 04:56:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/plrhand.c: Replaced some explicit
	genlist stuff with city_list_iterate and unit_list_iterate macros.

Sat May 22 04:40:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* aclocal.m4, configure, configure.in: For the Xaw client,
	X_PRE_LIBS were appearing twice in the client link line, since
	they were included in X_EXTRA_LIBS and then again in CLIENT_LIBS. 
	I removed the direct inclusion in CLIENT_LIBS.

Sat May 22 04:23:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/game.h, server/gamehand.c,
	server/plrhand.c: Made treatment of destroyed wonders more
	consistent.  (That is, wonders in destroyed cities.)  Previously,
	destroyed wonders could not be rebuilt, except if you saved and
	reloaded they could be rebuilt.  Now destroyed wonders are
	included in the savefile and can never be rebuilt.  Destroyed
	wonders also now show up as being destroyed in the Wonders report;
	I also slightly changd the format of the Wonders report.  Note
	that some effects (Manhatten allowing Nuclears and Apollo allowing
	spaceship parts) still work even if the wonder is destroyed.

Fri May 21 20:25:56 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/helpdlg.c: changed tech trees in the help dialog
	to have all nodes expanded by default.

Fri May 21 20:10:53 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/messagewin.c: made the
	city report and message windows longer by default.

Fri May 21 20:07:26 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c: removed superfluous colons on right
	hand side of the city options dialog.

Thu May 20 12:37:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-xaw/cityrep.c: Added a
	"corruption" column to the city report.  Patch submitted by
	Michael Gastright <gastrig@snmpi.com>.  (And adapted to gtk client
	by me.)

Thu May 20 12:22:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c: The
	following patch fixes a problem that occasionally occurs when
	dropping nukes: the quantity (x-1+abs_x0-map_view_x0) may get
	negative values, hence, nuke tiles won't be displayed.  Patch
	submitted by Rizos Sakellariou; adapted to current sources (Xaw
	and Gtk) by me.

Thu May 20 12:22:09 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/messagewin.c: more fixes to the gkt+ color style
	code.

Thu May 20 12:19:56 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/messagewin.c: changed gtk+ styles for colors so
	fix memory leaks.

Thu May 20 12:03:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c, client/gui-xaw/clinet.c: Corrections to
	previous $http_proxy patch.  Patch submitted by Reinier Post
	<rp@win.tue.nl>.

Thu May 20 11:51:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: In set_city_shield_bonus() don't bother
	calculating whether the city is affected by Hoover etc if the city
	doesn't have a Factory.  (Code cleanup only, no change to actual
	effect.)  Patch submitted by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>.

Thu May 20 11:44:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: Bugfix to third arg of send_city_info() in
	diplomat_sabotage().  Fix submitted by Rizos Sakellariou, who
	writes: On some (rare) occasions, players may have noticed that a
	city name appears "out of the blue" in non-explored areas of the
	map.

Thu May 20 11:34:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Clarifications in the help text (Apollo
	allows spaceship parts; Hoover works for _all_ cities; Liberty
	allows _all_ governments as choices; Submarine visibility range;
	unhappiness details).  Also a new table showing the number of
	turns required for terrain improvements.  Patch submitted by Rizos
	Sakellariou <rizos@cs.rice.edu>.  Minor formatting changes by me,
	and I also removed all trailing spaces.

Thu May 20 11:19:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Make the server refuse to run if it has root
	privileges, since running the server as root is unsafe.  From a
	patch submitted by Reinier Post <rp@win.tue.nl>.

Thu May 20 11:14:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_stuff.c: Vasco's previous patch was missing
	some semicolons.

Thu May 20 07:45:50 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c: made the client free the temporary
	images used in scaling pixmaps.

Tue May 18 12:48:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/dialogs.h, client/gui-gtk/mapctrl.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/dialogs.h,
	client/gui-xaw/mapctrl.c, common/shared.h, server/unithand.c,
	server/unithand.h: Some fixes/changes to handling of caravans:

	- Caravans adjacent to a city but with insufficient moves_left
	used to be able to still establish trade routes or help build
	wonders; this is now fixed.

	- A caravan entering a friendly city via goto (as well as
	manually) will now popup a caravan dialog if the caravan can
	establish trade or help build a wonder, if that city is the
	destination of the goto.  A caravan entering a city by boat or
	airlift also gets a popup.

	- A caravan entering an enemy city automatically builds a
	traderoute with no dialog, if a traderoute is possible.  Else the
	client gets a message why the move is not possible.  This applies
	whether moving by goto or manually.

	Code changes: the server detects caravans moving into enemy cities
	and takes appropriate action; the client detects caravans after
	they move into friendly cities and pops up a dialog if
	appropriate.  The client queues data for multiple caravan entries
	since the caravan popup uses global variables so there can only be
	one popup at a time.  For compatability there is a new capability
	tag "caravan1", to handle new clients with old servers, where the
	new client must know to initiate trade route packets for enemy
	cities.

Tue May 18 12:37:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c: Replaced some calls to snprintf with
	equivalent calls to sprintf (with %.63s format), since not all
	platforms have snprintf.

Tue May 18 10:11:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* INSTALL: fixed some typos in the changes i made earlier.

Mon May 17 13:18:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Fix typo in instructions about $http_proxy environment
	variable.  Patch submitted by Reinier Post <rp@win.tue.nl>.

Mon May 17 10:04:23 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h: patched the
	gtk+ client to match code reorganization changes made in the xaw
	client.

Mon May 17 10:01:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c: similar fix to the one done to the
	city list dialog.

Mon May 17 09:59:32 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/gotodlg.c: fix for "city list dialog open when
	creating a new city crashes the gtk+ client" bug.  it should be ok
	now (i hope).

Mon May 17 09:55:45 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: some more goto mouse cursor patch
	stuff...

Mon May 17 09:54:46 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/mapview.c: Added goto mouse cursor patch as from
	the Xaw client.

Mon May 17 09:52:29 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c: Update to fix a bug in the bitmap
	scaling code  - taken from the Xaw client.

Sat May 15 04:55:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/cityturn.c: Minor code simplifications
	suggested by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>.

Sat May 15 04:45:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Made the help text for the Hanging Gardens
	wonder more precise.  Patch submitted by Rizos Sakellariou
	<rizos@rice.edu>.

Sat May 15 04:36:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Added call to make_plains() at end of
	mapgenerator3().  Fix suggested by Ive Kohnenkamp
	<ive@rocketmail.com>.  Also put in free(height_map).

Fri May 14 21:41:57 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c: Human players boats will no more try to go
	through cities.

Fri May 14 19:57:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/player.c, data/helpdata.txt,
	data/default/buildings.ruleset: The following patch activates the
	Marco Polo's Embassy wonder.  Patch written by Rizos Sakellariou
	rizos@rice.edu

Thu May 13 22:39:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/include/.cvsignore, client/include/Makefile.am,
	client/include/Makefile.in: Added client/include/Makefile.am and
	Makefile.in to CVS.  Added .cvsignore for the Makefile.

Thu May 13 20:02:39 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* configure, configure.in, client/Makefile.am, client/Makefile.in,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in: Dwp mended
	autostuff files to be abble to do 'make dist'.  He added
	client/include/Makefile.am.  He added several .h which were
	missing.

Thu May 13 12:14:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c, server/unitfunc.h, server/unithand.c: New
	functions get_location_str_in() and get_location_str_at(), in
	unitfunc.c;  used to clean up code in unitfunc.c:kill_unit() and
	unithand.c:handle_unit_attack_request(), and to add location to
	the message when Leonardo's Workshop upgrades a unit.

Thu May 13 12:02:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c, data/Freeciv:
	Added a "View" menu to the Xaw client, with (essentially) the same
	items as in the Gtk client: Grid On/Off (Ctl-g), and Center View
	(c).

Thu May 13 11:52:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, common/events.h, server/cityturn.c,
	server/spacerace.c: Added a new event/message type E_SPACESHIP,
	for important spaceship events: spaceship started, launched, lost,
	landed.  (Only once event type for all of these, since they will
	not happen often, and there are already too many event types.)

Wed May 12 09:55:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* README, client/gui-gtk/clinet.c, client/gui-gtk/clinet.h,
	client/gui-gtk/connectdlg.c, client/gui-gtk/menu.c,
	client/gui-xaw/clinet.c, client/gui-xaw/clinet.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/menu.c,
	client/include/helpdlg.h, data/helpdata.txt: Patch written by
	Reinier Post <rp@win.tue.nl> Here what he says :

	Players behind firewalls that use a non-transparent WWW proxy
	(i.e. outgoing port 80 is blocked) cannot use the Metaserver
	button in civclient.  The attached patch fixes this for the Xaw (
	now also for gtk ) client by making it use the $http_proxy env
	var.

	For example, wa local Squid proxy (my test environment), use

	% env http_proxy=http://localhost:3128/ civclient

Wed May 12 09:19:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/graphics.c, data/Makefile.am, data/Makefile.in: I
	had to do a make maintainer-clean to remove the dependency to
	../data/goto_cursor.xbm and ../data/goto_cursor_mask.xbm.  In
	gui-xaw/graphics, updated include for the mouse cursor.

Wed May 12 08:31:01 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/include/goto_cursor.xbm,
	client/include/goto_cursor_mask.xbm, data/goto_cursor.xbm,
	data/goto_cursor_mask.xbm: Move the files goto_cursor.xbm and
	goto_cursor_mask.xbm to client/include.

Tue May 11 20:42:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/goto_cursor.xbm, data/goto_cursor_mask.xbm: here is the
	data files for the mouse patch.

Tue May 11 20:28:10 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* AUTHORS, client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	data/Makefile.am, data/Makefile.in, server/unithand.c,
	server/unittools.c: Goto mouse cursor patch written by Falk
	Hueffner <falk.hueffner@student.uni-tuebingen.de> Small changes in
	the AUTHOR file.

Mon May 10 08:23:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/registry.c,
	common/registry.h: Changes to makefiles and registry to use new
	sbuffer module.

Mon May 10 08:20:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/sbuffer.c, common/sbuffer.h: New "sbuffer" module based
	on strbuffer code from registry module.  Generalises strbuffer
	code so that there is no longer a single global strbuffer, and
	hence will be able to have more than one registry file open at a
	time.

Sun May  9 16:53:38 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/settlers.c: In Settler_findwork, if the settler is owned
	by ai, I use ai_fuzzy to see if it really check for a spot to
	build a town.

Sun May  9 16:25:30 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/citytools.c: This patch halves corruption for Communism. 
	Patch written by Per Mathisen <permath@ifi.ntnu.no>.

Sun May  9 16:15:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: Here is a patch so the GTK+ client
	treats the numeric keypad more sensibly, even with numlock off. 
	Without this patch, and running with numlock off, using the keypad
	to move units causes the input focus to wander around, and
	eventually the keypad no longer moves the units.  Patch written
	Patrick Smith <patsmith@pobox.com>

Sat May  8 21:07:24 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c: This patch will cause the AI to create trade routes
	under certain minimal conditions.  Trade will be created between
	towns on the same continents owned by the same player.  Patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Sat May  8 21:12:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c: add best_city = -1 if no city is found to etablish
	trade.

Sat May  8 12:34:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: For functions internal to mapgen.c, put protos
	back in mapgen.c (after moved to mapgen.h, then removed from
	there).

Sat May  8 12:28:32 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/plrhand.c: Add an enum type historian_type to be used in
	historian_generic.  Change some indentations to try to follow
	freeciv indentation style.  Hints suggested by dwp.

Sat May  8 12:27:40 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/mapgen.h: Wipeout in mapgen.h the declarations of
	functions which were used only in mapgen.c

Sat May  8 01:12:35 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unittools.c: Patch done by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu> to save some CPU cycles around lign
	358 when best_value is calculed.

Thu May  6 18:05:23 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/mapgen.c, server/mapgen.h, server/maphand.c,
	server/maphand.h: 4 ligns in maphan.c were similar to
	init_workmap.  I deleted those ligns and remplace them by
	init_workmap.  I modified maphand.h and mapgen.h so that it works.

Thu May  6 16:05:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* AUTHORS: There were some tabulations.  I withdraw them and
	replace them by spaces.

Thu May  6 15:57:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/plrhand.c: Historian reports no more include dead
	civilisations.  Bug reported by Alexande Beraud
	<berauda@crit2.univ-montp2.fr>

Tue May  4 11:33:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/handchat.h,
	server/Makefile.am, server/Makefile.in, server/handchat.c,
	server/handchat.h: Moved handchat.h from common to server, since
	the prototype it contains only applies to the function in
	server/handchat.c and not to a similarly named function in the
	client; the client does not include handchat.h anywhere.

Tue May  4 11:25:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/diplodlg.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/diplodlg.c: Changed
	defines etc with NO_ to NUM_ where approriate, since NO meaning
	"number" is easily confused with NO meaning "the opposite of yes".
	Changed: NO_UNITS_SHOWN; NO_CITIZENS_SHOWN; MAX_NO_CLAUSES;
	city_dialog.change_list_no_improvements.

Tue May  4 11:23:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: The messages about "wonder started" sometimes
	included cityname, sometimes not (specifically, "not" if the
	player changed production, but "with" if the AI or auto-next-build
	chose); this change makes the cityname always appear in the
	message.

Mon May  3 22:03:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.c: Another little fix to prevent non usefull
	initializations.  Thank to Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>

Mon May  3 21:14:05 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.c: Add 2 'kind silly' ligns in
	is_transporter_with_free_space This was suggested by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>

Mon May  3 20:46:58 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/cityturn.c: Merged the function set_trade_prod and
	set_food_trade_shields

Mon May  3 15:19:35 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: Made log_init() log to stderr by
	default. Fix was sent by various people.

Mon May  3 12:38:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/gui-gtk/messagedlg.c,
	client/gui-xaw/messagedlg.c, client/include/options.h: Calculate
	sorted event list (sorted by message_text) once in
	init_messages_where(), instead of each time in
	create_messageopt_dialog().

Mon May  3 12:37:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/messagedlg.c, client/gui-xaw/optiondlg.c,
	client/civclient.c, client/options.c, client/packhand.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/messagedlg.c,
	client/include/messagedlg.h, client/include/options.h: Moved
	gui-independent message options data and functions out of
	messagedlg.[ch], into options.[ch].  Specifically: message_text[],
	messages_where[], init_messages_where(), compar_message_texts(). 
	Changes to other files are adjustments to "#include" lines.

Sun May  2 18:21:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.h: Sub the declaration of can_unit_move_to_tiles in
	common/unit.h .  The code is in unittools.c .

Sun May  2 17:46:26 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/gui_stuff.c: In the function put_line_24, there
	was +1 instead of a +2 for the third byte. Bug reported by Peter
	Berg Larsen <pebl@math.ku.dk>

Sun May  2 04:24:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c: Rewrote tile_move_cost(), initialize_move_costs()
	and reset_move_costs(), to simplify code and reduce duplication;
	new functions tile_move_cost_ptrs(), tile_move_cost_ai(),
	debug_log_move_costs().

	Also introduced code to make the river movement bonus not apply
	for diagonal moves, but have not yet "turned on" the change.

Sun May  2 04:23:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c, ai/aiunit.c: Changed lots of cases of xx[i],
	yy[j] to temp variables x1, y1.

Sun May  2 04:22:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, common/map.c, common/map.h, server/gotohand.c: New
	functions map_calc_adjacent_xy() and map_calc_adjacent_xy_void(),
	to reduce code duplication.

Sun May  2 04:21:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c, common/map.c, common/map.h: Removed unused
	map.age; moved isledata, MAP_NCONT, and islands[], from common/map
	to server/mapgen, since that is the only place they are used. 
	Initialize void_tile in map_init() instead of in
	initialize_move_costs().  In map.h, removed protos for
	non-existent functions: send_full_tile_info(),
	map_fractal_create(); duplicate proto for reset_move_costs(). 
	Renamed same_island() to map_same_continent().  Other minor map.c
	formating changes and additional comments.

Sun May  2 04:19:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unittools.c: In get_defender(), don't unnecessarily
	re-calculate rate_unit_d() for the same units.  Based on a patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>.

Sat May  1 04:09:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/helpdlg.c,
	data/Freeciv: Added scrollbars to the "tech trees" in the help
	pages of the Xaw client.

Sat May  1 04:04:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/registry.c,
	common/registry.h, server/Makefile.am, server/Makefile.in,
	server/registry.c, server/registry.h: Moved "registry" module from
	server/ to common/.  (To allow future use by client, eg, for
	parsing .civclientrc).

Sat May  1 03:57:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/mem.h: Include stdlib.h in mem.h to make sure we have
	size_t.

Fri Apr 30 11:53:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Put back log_init() change which got
	clobbered by a recent check-in.

Thu Apr 29 09:41:36 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c: Increased
	size of the timeout label in the toplevel window so that 3 digits
	can fit there.  Fixed help window so that clicking on hyperlinks
	which point to "None" don't get you that weird error page.  Added
	a scrollbar to the text dialog in the help window.

Wed Apr 28 04:01:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c, client/gui-xaw/menu.c: Minor fixes to Gtk
	client: make disconnect always available (whenever Game menu is
	available); fixed names of Server options menu items in
	menus_set_sensitive() calls.  For both Xaw and Gtk client: made
	Server opt initial, Server opt ongoing, Export Log, and Clear Log
	menu items always available (whenever the Game menu is), including
	before the game has been started by the server.

Tue Apr 27 12:26:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt, server/gotohand.c, server/unittools.c: Made
	changes to ZOC rules (and docs) to bring the rules in line with
	Civ1/Civ2.  Specifically: empty cities no longer impose ZOC; and
	units moving from ocean squares (that is, disembarking from boats)
	are not subject to ZOC (but are still subject to normal attack
	rules; ie no attacks except for Marines).

Tue Apr 27 12:17:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/gui-xaw/gui_main.c,
	common/log.c, common/log.h, server/Makefile.am,
	server/Makefile.in, server/civserver.c, server/meta.c,
	server/sernet.c, server/stdinhand.c, server/stdinhand.h: Changes
	related to new console module: enhanced logging to accept a
	callback function to control log output; gui_main.c changes for
	new log_init(); use console functions instead of printf/puts in
	civserver.c, meta.c, stdinhand.c; removed old show_prompt() stuff;
	new prompt stuff (console function calls) in
	sernet.c:sniff_packets().  Based on patches submitted by Per
	Mathisen <permath@ifi.ntnu.no>.

Tue Apr 27 12:15:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/console.c, server/console.h: New "console" module to
	handle server console output, and prompt printing, and new
	"rfcstyle" feature (option for more parser-friendly server console
	output).  Main visible benefit at the moment is to eliminate
	unnecessary new console prompt every turn.  Based on patches
	submitted by Per Mathisen <permath@ifi.ntnu.no>.

Tue Apr 27 12:00:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/small.xpm: Replaced light bulbs in small.xpm with
	nicer ones drawn by Alexandre BERAUD <a_beraud@lemel.fr> (bulbs
	re-indexed to current default palette).

Mon Apr 26 09:27:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/options.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/menu.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/optiondlg.h, client/gui-xaw/Freeciv.h,
	client/gui-xaw/cityrep.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/menu.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/optiondlg.h,
	client/include/cityrep.h, client/include/options.h, data/Freeciv:
	This patch takes the (client) option list out of the gui-*
	directories, so new options only have to be added in one place. 
	Note that new options still have to be added in data/Freeciv.

	The patch also moves the open/load/save option functions out into
	client/options.c.  Also the patch changes the names of the
	option*label and opiton*toggle resources in data/Freeciv to be the
	same as in the code; this allows the Xaw GUI to runtime get the
	resources names, instead of using some form of hardcoded lookup
	table.

	Patch submitted by Sune Kirkeby <sune@interspace.dk>, with minor
	changes by me; renamed options[] array (client command line
	options) in gui-xaw/gui_main.c to cmd_options[].

Mon Apr 26 07:55:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Put back a call to show_prompt() which I
	accidently removed recently.

Mon Apr 26 07:19:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/mem.c, common/mem.h: New "mem" module in common/, to
	provide malloc wrappers which check malloc return value and do
	freeciv-specific processing if it is NULL.  Wrappers for malloc,
	realloc, calloc, and strdup (as mystrdup).  (Any missed/future
	code which accidently uses malloc will not cause problems, just
	will not gain the benefits of the wrappers.)

Mon Apr 26 07:15:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/menu.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/spaceshipdlg.c, common/Makefile.am,
	common/Makefile.in, common/capability.c, common/city.c,
	common/diptreaty.c, common/genlist.c, common/packets.c,
	common/shared.c, common/shared.h, common/unit.c,
	server/cityhand.c, server/citytools.c, server/diplhand.c,
	server/gamelog.c, server/mapgen.c, server/maphand.c,
	server/plrhand.c, server/registry.c, server/unitfunc.c,
	server/unithand.c: Changes for new mem module providing wrappers
	for malloc etc, as fc_malloc etc.

Mon Apr 26 07:10:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/attribute.h,
	common/log.h, server/plrhand.h, server/registry.h: When using gcc,
	use gcc's __attribute__ keyword to check variadic parameters to
	printf-like functions.  (When using other compilers, should have
	no effect.)

Mon Apr 26 07:04:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/mapctrl.c, common/packets.c, server/meta.c: Fixed
	some warnings from Sun cc on Solaris: in packets.c, re-wrote
	put_string() and get_string() to avoid using strcpy() and strlen()
	on an (unsigned char*).  In other places added some casts.

Sun Apr 25 11:46:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/mapgen.c, server/mapgen.h: Renamed
	poorly named choose_start_positions() to create_start_positions().
	From a patch by Per Mathisen <permath@ifi.ntnu.no>.

Sun Apr 25 11:44:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h, common/map.h, server/stdinhand.c,
	server/unithand.c: Minor cleanups: moved GAME_{DEFAULT,MIN,MAX}_*,
	from map.h to game.h; map.h doesn't use genlist.h; added
	GAME_MIN_TIMEOUT, GAME_MAX_TIMEOUT.

Sun Apr 25 11:42:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: In really_handle_city_buy(), moved the test
	for anarchy out the front with the other tests.

Sun Apr 25 11:40:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: Make veteran status of newly built diplomats
	not depend on whether the city has Barracks (now only on whether
	government is Communism).  (This will matter when diplomat veteran
	effects go in.)  Patch submitted by Kris Bubendorfer
	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.

Sun Apr 25 11:38:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/connectdlg.h, client/gui-xaw/inputdlg.c,
	client/include/climisc.h, client/include/packhand.h: Added
	standard freeciv copyright header to a few more files where it was
	missing.

Sun Apr 25 02:30:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aiunit.c, common/map.c,
	common/packets.c, server/cityhand.c, server/cityturn.c,
	server/civserver.c, server/gamelog.c, server/gotohand.c,
	server/mapgen.c, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c, server/unithand.c, server/unittools.c:
	Converted debug printf's (including commented, now if(0)) to use
	freelog(), in preparation for server console improvements.

Sat Apr 24 04:38:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamelog.c: Fixed memory leak and possible buffer overflow
	in gamelog_map().

Sat Apr 24 04:38:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/mapgen.c, server/maphand.c: Fixed some
	cases of printf-like functions with arguments not matching format
	string.

Thu Apr 22 12:12:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c: In
	popdown_all_city_dialogs(), also popdown the cityopt dialog, if
	applicable.

Thu Apr 22 11:53:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/gui-xaw/graphics.c: New
	function crop_sprite() in graphics.c, to clean up where there was
	too much cut&paste code; also added a sanity check for spacerace
	tiles.  From a patch submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de> (with corresponding
	changes for gtk graphics.c intuited by dwp).

Thu Apr 22 11:19:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/stdinhand.c: Adjusted code in
	accept_new_player() and handle_request_join_game() so players get
	the same info about other players whether the game is new or a
	reload.  Adjusted that info.  New functions join_game_accept() and
	introduce_game_to_player().  Made accept_new_player() set
	pplayer->is_connected properly, and removed some then unnecessary
	code to adjust it elsewhere.

Mon Apr 19 17:46:34 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* INSTALL: added some info about the requirements and how to
	compile the new integrated gtk+/xaw client.  isn't perfect, but
	it's better than nothing.

Mon Apr 19 14:11:48 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.am, client/Makefile.in, client/climisc.c,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-gtk/citydlg.h, client/gui-gtk/climisc.c,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in,
	client/gui-xaw/citydlg.h, client/gui-xaw/climisc.c: moved
	climisc.c to client/ dir.  (this file is toolkit independent).

Sun Apr 18 02:44:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* undep.sh.in: Update for undep.sh for new client directory
	structure.

Sun Apr 18 02:44:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h: Include shared.h in city.h, since we use
	MAX_LENGTH_NAME.  Problem noted by Frank Schaefer
	<fransch@netscape.net>.

Sun Apr 18 02:43:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/game.c, common/unit.c,
	server/citytools.c: Removed some obsolete code which had been
	#if-ed out a while ago: city.[ch]:city_list_find_coor(),
	game.c:old_city_name_compare(), unit.c:string_center(),
	citytools.c:old_is_worked_here().  (Left in some other similar
	#if-ed out code which may still be instructive, eg, AI code.)

Fri Apr 16 13:06:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv: Added/adjusted resources
	to make resizing the xaw diplomatic treaty dialog behave nicer.

Fri Apr 16 13:05:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in,
	client/gui-xaw/resources.c: Fix so can build from a directory
	other than the source directory; including ensuring
	gui-xaw/resources.c depends on locally generated Freeciv.h
	(possibly based on locally modifed data/Freeciv) rather than on
	source distribution Freeciv.h.

Fri Apr 16 13:02:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, ai/Makefile.in, common/Makefile.in,
	data/Makefile.in, data/civ1/Makefile.in, data/classic/Makefile.in,
	data/default/Makefile.in, server/Makefile.in: Auto-gen changes
	after gtk configure changes, for non-client dirs (these changes
	don't actually do anything, but checking them in avoids patch
	clutter).

Fri Apr 16 13:01:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/.cvsignore, client/gui-gtk/.cvsignore: Added
	.cvsignore files for gui-xaw and gui-gtk dirs.

Thu Apr 15 09:43:25 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c: added changes from the xaw client to 
	focus handling of units.

Wed Apr 14 18:01:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c: changed included file from strings.h 
	to string.h because that is the correct ANSI c header.

Wed Apr 14 17:57:24 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c: added include for string.h because strstr() 
	needs it.

Tue Apr 13 12:27:51 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* aclocal.m4, configure, configure.in: changed files to acommodate
	the xaw & gtk+ integrated client.

Tue Apr 13 12:24:59 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c, client/packhand.c: renamed functions to be
	more consistent.

Tue Apr 13 12:17:33 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.am, client/Makefile.in: changed makefiles.

Tue Apr 13 12:14:41 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-gtk/chatline.c, client/gui-gtk/chatline.h,
	client/gui-gtk/citydlg.c, client/gui-gtk/citydlg.h,
	client/gui-gtk/cityrep.c, client/gui-gtk/climisc.c,
	client/gui-gtk/clinet.c, client/gui-gtk/clinet.h,
	client/gui-gtk/colors.c, client/gui-gtk/colors.h,
	client/gui-gtk/connectdlg.c, client/gui-gtk/connectdlg.h,
	client/gui-gtk/dialogs.c, client/gui-gtk/dialogs.h,
	client/gui-gtk/diplodlg.c, client/gui-gtk/diplodlg.h,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gotodlg.h,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inputdlg.h, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/mapview.h,
	client/gui-gtk/menu.c, client/gui-gtk/menu.h,
	client/gui-gtk/messagedlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/optiondlg.h, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/spaceshipdlg.h:
	added gtk+ client source code.

Tue Apr 13 11:11:00 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in: added
	makefiles.

Tue Apr 13 11:09:04 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/gui_stuff.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inputdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/messagedlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/pixcomm.c,
	client/gui-xaw/plrdlg.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c: renamed
	functions to be more consistent.

Tue Apr 13 11:01:46 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/gui_stuff.h,
	client/gui-xaw/xmain.c, client/gui-xaw/xmain.h,
	client/gui-xaw/xstuff.c, client/gui-xaw/xstuff.h: renamed files to
	be more consistent.

Tue Apr 13 10:53:11 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Freeciv.h, client/ad2c, client/canvas.c, client/canvas.h,
	client/canvasp.h, client/chatline.c, client/chatline.h,
	client/citydlg.c, client/citydlg.h, client/cityicon.ico,
	client/cityrep.c, client/cityrep.h, client/civclient.h,
	client/climisc.c, client/climisc.h, client/clinet.c,
	client/clinet.h, client/colors.c, client/colors.h,
	client/connectdlg.c, client/connectdlg.h, client/dialogs.c,
	client/dialogs.h, client/diplodlg.c, client/diplodlg.h,
	client/finddlg.c, client/finddlg.h, client/freeciv.ico,
	client/gotodlg.c, client/gotodlg.h, client/graphics.c,
	client/graphics.h, client/helpdlg.c, client/helpdlg.h,
	client/inputdlg.c, client/inputdlg.h, client/inteldlg.c,
	client/inteldlg.h, client/mapctrl.c, client/mapctrl.h,
	client/mapview.c, client/mapview.h, client/menu.c, client/menu.h,
	client/messagedlg.c, client/messagedlg.h, client/messagewin.c,
	client/meswindlg.h, client/optiondlg.c, client/optiondlg.h,
	client/packhand.h, client/pixcomm.c, client/pixcomm.h,
	client/pixcommp.h, client/plrdlg.c, client/plrdlg.h,
	client/ratesdlg.c, client/ratesdlg.h, client/repodlgs.c,
	client/repodlgs.h, client/resources.c, client/resources.h,
	client/spaceshipdlg.c, client/spaceshipdlg.h, client/xmain.c,
	client/xmain.h, client/xstuff.c, client/xstuff.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/ad2c,
	client/gui-xaw/canvas.c, client/gui-xaw/canvas.h,
	client/gui-xaw/canvasp.h, client/gui-xaw/chatline.c,
	client/gui-xaw/chatline.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/citydlg.h, client/gui-xaw/cityrep.c,
	client/gui-xaw/climisc.c, client/gui-xaw/clinet.c,
	client/gui-xaw/clinet.h, client/gui-xaw/colors.c,
	client/gui-xaw/colors.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/connectdlg.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.c,
	client/gui-xaw/diplodlg.h, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/gotodlg.h,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h,
	client/gui-xaw/messagedlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/optiondlg.h,
	client/gui-xaw/pixcomm.c, client/gui-xaw/pixcomm.h,
	client/gui-xaw/pixcommp.h, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/resources.c,
	client/gui-xaw/resources.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, client/gui-xaw/xmain.c,
	client/gui-xaw/xmain.h, client/gui-xaw/xstuff.c,
	client/gui-xaw/xstuff.h, client/include/cityicon.ico,
	client/include/cityrep.h, client/include/civclient.h,
	client/include/climisc.h, client/include/finddlg.h,
	client/include/freeciv.ico, client/include/helpdlg.h,
	client/include/inteldlg.h, client/include/messagedlg.h,
	client/include/meswindlg.h, client/include/packhand.h,
	client/include/plrdlg.h, client/include/ratesdlg.h: moved client
	source files around to gui-xaw and include dirs.

Sun Apr 11 11:33:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/unitfunc.c: Include punit->moved in the
	savefile (otherwise hp regeneration can be wrong on reload turn). 
	Also explicitly set punit->moved in create_unit_full().  (Assume
	that if moves_left<0 (flag value) then the unit is "fresh", and
	not moved; else the unit has had something happen to it (eg,
	bribed) which we treat as equivalent to having moved).

Sun Apr 11 02:38:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Bounds checking in handle_stdin_input()
	wasn't quite militant enough, causing stack-clobbering segfaults
	with too long commands (parameters were immune, though).  Patch
	submitted by Juho Snellman <jsnell@iki.fi>.

Sun Apr 11 02:37:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Allow server option names to be abbreviated
	where unambiguous (for the "set" and "explain" commands).  The
	patch also prints a notification of the change to the server
	console, since abbreviations could cause a typo to change the
	wrong option, and without any feedback that would never be
	noticed.  Patch submitted by Juho Snellman <jsnell@iki.fi>.

Sun Apr 11 02:36:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: In upgrade_unit_prod(), check for multiple
	upgrades.  Based on a patch submitted by Juho Snellman
	<jsnell@iki.fi>.

Sun Apr 11 02:34:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Prevent units with attack strength 0 from
	attacking, since they will always lose.  The message produced is,
	e.g., "A Galleon cannot attack other units."  Patch submitted by
	Patrick Smith <patsmith@pobox.com>.

Sun Apr 11 02:34:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c: Fixed a problem that if
	!flags_are_transparent, then when the focus unit was in a city,
	you didn't see the city when the unit was blinked off.

Sun Apr 11 02:33:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, server/gotohand.c, server/unittools.c,
	server/unittools.h: Cleanups of various ZOC code; no changes to
	actual ZOC effects in this patch.  Includes new functions
	zoc_ok_move_gen() (zoc_ok_move() generalised to specified start
	position) and unit_really_ignores_zoc() (takes into account
	non-ground units and F_IGZOC).

Sun Apr 11 02:32:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/autoattack.c, server/civserver.c: Suppressed some
	"--debug 2" messages.

Sat Apr 10 05:16:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/diptreaty.h, common/events.h, server/meta.c,
	server/meta.h: Added the standard freeciv copyright header to some
	files where it was missing.

Sat Apr 10 05:15:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/civserver.h, server/stdinhand.c:
	Eliminated code duplication in save_game() and save_command(). 
	Now save_game() takes filename arg; new function save_game_auto().

Sat Apr 10 05:14:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Eliminated code duplication in can_build_unit(),
	can_build_unit_direct().

Sun Apr  4 00:12:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/helpdata.txt, server/unitfunc.c: Add a variant of
	Leonardo's Workshop to upgrade all units each turn.  Patch written
	by Jeff Mallatt <jjm@codewell.com>.

Fri Apr  2 05:26:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.h: Changed capability string to "+1.8".

Fri Apr  2 05:18:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Some NEWS additions for 1.8.0: explained leadership
	changeover; added note of new website since previous release;
	added bug about goto-ing ships attacking cities.  Moved some parts
	around.

Fri Apr  2 05:06:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, server/civserver.c: Only call generate_ai_players() at
	the start of a game if is_new_game is true, since can cause
	problems otherwise (eg if aifill is set and any players have been
	removed).  Fixes bug reported by Anders Wegge Jakobsen
	<wegge@wegge.dk>.

Mon Mar 29 12:45:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Added a "Past administrator" section to credit Mitch.

Mon Mar 29 11:26:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/diplodlg.c: Fixed a possible problem when trading cities
	in a game with more than 10 players.  (With help from Kris
	Bubendorfer.)

Mon Mar 29 11:09:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/diplodlg.c: Fixed bug where if a player only has 1 city
	(the capital), either player clicking on the trade cities button
	in the diplomacy dialog would crash their client.  Patch submitted
	by Kris Bubendorfer.

Sun Mar 28 04:22:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: This fixes the help text for the celebration
	("We Love the __ Day") effect, as well as a couple other little
	changes in the help text.  Patch submitted by Greg Wooledge.

Sun Mar 28 04:15:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, ChangeLog: Updated ChangeLog provided by Mitch Davis.

Sun Mar 28 04:06:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: In remove_city(), wipe all supported units
	_before_ sending the PACKET_REMOVE_CITY.  If we do this after,
	then since we now refresh the home city when a unit is lost (to
	update the upkeep etc) the refresh makes the client recreate its
	copy of the destroyed city!

Sat Mar 27 11:43:17 1999  Trent Piepho <xyzzy@u.washington.edu>:

	* common/player.c, common/player.h, common/unit.c, common/unit.h,
	client/mapctrl.c, client/mapview.c: Finally fixed the submarine
	visibility bugs.  Subs can't be see (old), nor can missiles in
	subs (new), unless there is an adjacent unit/city.  They can also
	no longer be found by clicking the middle mouse button on them. 
	However, a ship on the same tile as a hiding sub _can_ be seen. 
	New function in unit.c, is_hiding_unit(), returns true for subs or
	missiles in subs.  New function in player.c,
	player_find_visible_unit(), which returns a pointer to the first
	visible unit in a tile, or NULL if there are none.

Thu Mar 25 11:19:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, client/xmain.c, server/unithand.c: Fixed some warning
 	indicated on Solaris: cast return value of getuid() for printf in
 	xmain.c; fixed ambiguous 'else' in unithand.c.  From a patch
 	submitted by Fabrice Noilhan <Fabrice.Noilhan@ens.fr>.
	
Thu Mar 25 10:37:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, client/cityrep.c: This patch fixes a bug that would
 	sometimes cause the client to crash with a segmentation violation
 	if you requested the city report and had built or otherwise
 	acquired many cities since the last time you requested the report.
  	Patch submitted by Patrick Smith <patsmith@pobox.com>.
	
Wed Mar 24 10:48:06 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/canvas.c, client/canvasp.h: Promote the canvas widget
 	from a subclass of Core to a subclass of Simple.  This shouldn't
 	effect different Xaw variants, because they don't modify the
 	widget tree until after Simple.
	
Wed Mar 24 10:37:26 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c, client/repodlgs.h, client/xmain.c: Made the
 	dialogs in the repodlgs.c file (trade, science, active units)
 	understand the window manager delete protocol.  This way they can
 	be closed via the window manager as well as the close button.
  	This will hopefull reduce confusion to X newbies who have their
 	window manager kill Freeciv's X connection and wonder why the
 	client dies.
	
Wed Mar 24 10:31:15 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/civclient.c,
 	client/mapctrl.c, client/mapctrl.h, client/mapview.c,
 	client/xmain.c, data/helpdata.txt: Added ability to display grid
 	lines in the map.  Turned on/off with control-G.  Based on patch
 	from Rizos Sakellariou <rizos@cs.rice.edu>.
	
Tue Mar 23 13:11:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Revised AUTHORS file.  Adjusted some orderings, and
 	give more information on previous contributions.
	
Tue Mar 23 12:59:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Mention "civclient -tiles classic".
	
Tue Mar 23 12:44:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Added more names to the Bug Reports section; corrected
 	mwh's email address again.
	
Tue Mar 23 11:34:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Adjusted the note on '--meta' again, to explain more why
 	one might use it.
	
Tue Mar 23 11:24:09 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure, configure.in, common/shared.h: set IS_BETA_VERSION to 0.
	
Tue Mar 23 10:50:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: Minor change to previous fix to refresh home
 	city of removed unit: if can't find home city, still remove the
 	unit!
	
Mon Mar 22 10:08:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/Freeciv.h: New file Freeciv.h generated by the new
 	Freeciv ressource file.  In the output of cvs diff -u, i see no
 	change to aclocal.m4
	
Mon Mar 22 10:00:13 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/Freeciv: This patch adds constraint resources for the
 	Change City Production dialog.  It also removes a couple of
 	duplicated lines from my previous patch.  Written by Jeff Mallatt
 	<jjm@codewell.com>.
	
Mon Mar 22 09:53:20 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: Losing a unit now update the home city
 	dialog.  Patch written by Andrew Donkin <ard@scms.waikato.ac.nz>
 	with a test suggested by --dwp.
	
Sat Mar 20 12:26:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Improved the help text for the "generator"
 	server option, so the text better matches what actually happens.
	
Sat Mar 20 11:58:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/earth-160x90.sav, data/earth-80x50.sav, data/europe.sav:
 	Commented out game.randseed in scenarios, since it is not used
 	(and thus gave a warning when loading the scenario).
	
Sat Mar 20 11:53:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Fixed bug in flood_it(), where continents were
 	not calculated for scenarios (generator=0), or for for reload
 	games with generator other than 1.  Could have caused problems for
 	continent-based wonders (non-default rulesets only), and for the
 	AI (invasions etc).
	
Sat Mar 20 07:09:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, data/Freeciv: This patch adds some constraint
 	resource definitions so that the Find City and Goto City dialogs
 	resize a little nicer (IMO).  It also adds a comment for the
 	section of resources for the Notify dialogs.  Patch submitted by
 	Jeff Mallatt <jjm@codewell.com>.
	
Sat Mar 20 06:53:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* HOWTOPLAY, README, README.AI: Some minor doc updates:
	
	HOWTOPLAY: Pointer to web page on tutorials instead of just
 	12-steps.  Adjusted section about the generator option, though its
 	a bit vague since I don't properly understand the options.
	
	README: Adjusted sample output of "explain xsize" to match code.
  	Modified the note about '--nometa' to now explain '--meta'.
  	Direct people to the web page of the new manual.  Ask
 	bug-submitters to say which Xaw variant they're using.
	
	README.AI: The "easy" skill level is no longer new; the AI now
 	does use diplomats and spies for defense.
	
Sat Mar 20 04:52:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c: Added #include <sys/types.h>, needed on OS/2.
  	Submitted by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.
	
Sat Mar 20 04:18:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h: Update client/Freeciv.h for previous change to
 	data/Freeciv.
	
Thu Mar 18 16:28:55 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ai/advmilitary.c: A boat is no more considered as a diplomat
 	threat.  Limit the radius to build diplomats.
	
Thu Mar 18 14:26:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/Freeciv, server/civserver.c: Change the date of release
 	from second week of march to third week.
	
Thu Mar 18 14:14:57 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/citydlg.c, client/spaceshipdlg.c: Fix a potential with 2
 	variables having the same name in the 2 files.
	
Thu Mar 18 11:15:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/space.xpm: New spaceship graphics by Alexandre
 	Beraud <a_beraud@lemel.fr>, indexed to the colour palette of the
 	default tileset.
	
Thu Mar 18 11:10:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/flags.xpm, data/default/roads.xpm,
 	data/default/tiles.xpm, data/default/units.xpm: Re-indexed the
 	colours of the default (Engels) tiles, based on the original xcf
 	files and a new optimised palette.
	
Thu Mar 18 10:43:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/maphand.c, server/maphand.h,
 	server/plrhand.c, server/unitfunc.c, server/unithand.c: New
 	function upgrade_city_rails() in maphand.c, to upgrade all cities
 	squares to railroads when a player first gets Railroad advance.
  	Used this function to replaced several sections of duplicated code
 	for when player gets Railroad by various means (research, hut,
 	treaty, diplo/spy stealing).  Also, for the case of a diplomatic
 	treaty, the message about new railroads previously went to the
 	wrong player.  Added calls to upgrade_city_rails() for cases where
 	the Railroad upgrade was previously omitted: when gaining Railroad
 	from the Great Library, or from conquering or inciting a city.
  	(Railroad from Great Library case fixes bug reported by Patrick
 	Smith <patsmith@pobox.com>.)
	
Thu Mar 18 02:19:56 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/graphics.c: Give the unit pictures in the help dialog a
 	background color based on unit type, rather than just black.
  	Based on a patch by Jeff Mallatt <jjm@codewell.com>
	
Mon Mar 15 12:25:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c: Engineers should not be permitted to start
 	transform when they have no moves left.  Bug and fix reported by
 	Rizos Sakellariou.
	
Mon Mar 15 12:11:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: Set skill level correctly for AI player
 	created by civil war.  Fixes bug reported by Frank Schaefer
 	<fransch@netscape.net>.
	
Mon Mar 15 11:48:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c, client/ratesdlg.c: In the main window, the big
 	map's scroll bars didn't work, in that both left- and right-
 	clicks scrolled in the same direction.  The same behavior was
 	observed in the Rates dialog.  Now they can scroll in both
 	directions.  Patch submitted by Jeff Mallatt.
	
Mon Mar 15 11:46:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c: The function civ_score i
	n common/game.c seems to have not been counting
	Elvii correctly.  Now it accrues them, just like all others.
	Patch submitted by Jeff Mallatt.
	
Mon Mar 15 11:44:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: In the Help dialog, for those items without a
 	tree, resizing the window didn't affect the large text area.  Now
 	it does.  For those items with a tree, the tree was arbitrarily
 	sized, which led to funny clipping.  Now it's sized to fit.  Patch
 	submitted by Jeff Mallatt.
	
Mon Mar 15 11:42:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: In the Active
 	Units report dialog, the "Upgrade" button is now disabled if the
 	selected unit type cannot be upgraded.  Also added a column title
 	to the "Upgradable" column.  Patch submitted by Jeff Mallatt
 	<jjm@codewell.com>.
	
Mon Mar 15 02:34:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, data/helpdata.txt,
 	server/citytools.c, server/citytools.h, server/unithand.c: Add a
 	random element to whether civil war occurs when a player's capital
 	is captured.  Random chance depends on government type, and on the
 	numbers of cities celebrating and in revolt.  Patch submitted by
 	Kris Bubendorfer.
	
Sun Mar 14 22:15:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/city.c: Correct a bug i introduce one or 2 hours ago.
	
Sun Mar 14 20:05:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* stamp-h.in, common/city.c: Allow to build HOOVER_DAM and
 	HYDRO_PLANT on a MOUNTAIN or river tiles as said in the helpfile.
  	Diff in could_build_improvement Bug reported by Patrick Smith
 	<patsmith@pobox.com>
	
Sun Mar 14 01:24:29 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* README: Little changes to README
	
Sun Mar 14 01:06:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Adjusted slightly initial server message,
 	and made -v output concise.
	
Sun Mar 14 01:02:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS: in These people helped us previous to the 1.8 series:
 	add Daniel Gudlat <gudlat@informatik.hu-berlin.de> (Earth
 	scenarios) Kris Bubendorfer <Kris.Bubendorfer@MCS.VUW.AC.NZ>
 	(diplomats) Trent Piepho <xyzzy@u.washington.edu> (Core)
	
Sun Mar 14 00:48:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/meta.c: The civserver --help still
 	said --nometa; fixed.  Commented out printf's suggesting use of
 	--nometa when can't connect to metaserver.
	
Sun Mar 14 00:17:36 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* acconfig.h, config.h.in, configure, configure.in,
 	common/shared.h, server/civserver.c: Change the message the server
 	displayed when launched.  Give the http address of freeciv.  Idea
 	suggested by reinier Post <rp@win.tue.nl>
	
Sun Mar 14 00:01:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/citydlg.c, client/citydlg.h, client/civclient.c: New
 	function popdown_all_city_dialogs(), called when client loses
 	connection.  Fixes bug reported by Brent Nelson
 	<nelson@realcase.com>.
	
Sat Mar 13 23:09:12 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/civserver.c: Change the option -n to -m.  Change the text
 	in the help message from "Don't send" to "Send" The default now is
 	not to send info to the metaserver.
	
Sat Mar 13 22:31:42 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS: Add Matt Busigin in the bug report section.
	
Sat Mar 13 12:17:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c: You can put two settlers on a tile then set one
 	mining and the other irrigating.  Both processes run to
 	completion, so whichever finishes last has the final effect.  This
 	patch prevents one order when another is being carried out, but it
 	gives no explanation to the user.  Patch submitted by Andrew
 	Donkin <ard@scms.waikato.ac.nz>.
	
Sat Mar 13 11:58:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/plrhand.c: Moved update_research() in
 	player_load() to later in game_load(), so happens after rulesets
 	are loaded.
	
Sat Mar 13 11:42:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/unitfunc.c, server/unithand.c: Removed
 	an unnecessary call to city_incite_cost() in
 	plrhand.c:player_load() (which was problematic because rulesets
 	are not set up at that stage).  Adjusted handle_incite_inq() and
 	diplomat_incite() so that the 1/2 factor for inciting a city you
 	originally built will be correct, even if several players try to
 	incite the same city at about the same time.  Removed some
 	obsolete (#if 0) code in diplomat_incite().
	
Sat Mar 13 11:32:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Put "city is too big to add settlers" message
 	before "city cannot add: needs Sewer System" message.  Bug
 	reported by Patrick Smith <patsmith@pobox.com>.
	
Sat Mar 13 06:07:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/helpdlg.h, client/menu.c, data/Freeciv,
 	data/helpdata.txt: Added a "Space Race" item to the Help menu, and
 	adjusted the "Space Race" help text, mentioning the spacerace
 	server option.  Clarified for the help on each space part to say
 	that the Apollo Program wonder must be built first.  Standardised
 	spelling to "spaceship" (not "space-ship" or "space ship").
	
Sat Mar 13 05:44:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/unitfunc.c: Removed calls to
 	unit_bribe_cost in plrhand.c:player_load() and
 	unitfunc.c:create_unit_full().  They were unnecessary, and the
 	call in player_load() could cause segfault because rulesets are
 	not set up at that stage.  (The bribe cost gets set as required in
 	unit_hand.c:handle_incite_inq().)  Fixes bug reported by Falk
 	Hueffner.
	
Sat Mar 13 05:23:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Fixed attribution in a comment.
	
Sat Mar 13 05:11:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Adjust order in which client chooses to place
 	spaceship modules.  Now "nice" governments (Republic, Democracy)
 	build support/solar before habitation so the success rate stays
 	high.
	
Sat Mar 13 05:10:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/spaceshipdlg.c: Made order of parts in space.xpm more
 	explicit in the code.
	
Sat Mar 13 05:09:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Spelling/grammar fixes; a few more/less newsworthy items;
 	mentioned new manual and civworld; removed some obsolete known
 	bugs; some new stuff for "Things to do".
	
Sat Mar 13 05:08:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: Removed a duplicated (and misplaced) log message.
	
Sun Mar  7 20:06:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS: Change the address of Martin Willemoes Hansen
	
Sun Mar  7 10:35:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, client/menu.c, client/packhand.c,
 	common/unit.c, common/unit.h, server/unithand.c: Improved "Build
 	City" menu item and related issues.
	
	Patches submitted by Jeff Mallatt <jjm@codewell.com>:
	
	When a Settler/Engineer is sitting on a City, pressing 'b' will
 	order it to add itself to that City (if the City is small enough).
  	However, the Orders menu Build City item remains disabled.  This
 	patch enables the menu item in this case, and also renames it to
 	"Add to City" when appropriate.  The menu item is disabled if the
 	city is already too big.  This patch also changes handle_city_info
 	to call update_menus after the City size has increased due to a
 	Settler being added.
	
	Additional changes by me:
	
	New function can_unit_add_to_city(), which also takes into account
 	aqueduct_size and sewer_size (for rulesets generality).  In
 	request_unit_build_city(), let the server decide the message if
 	the build order in inappropriate (to avoid unnecessary code
 	duplication).  In handle_unit_build_city(), did some
 	re-organisation, and adjusted some of the messages for when the
 	build/add-to order is inapproriate.
	
Sun Mar  7 10:33:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Authors updates and minor fixes.
	
Sat Mar  6 19:46:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/sernet.c: Correct bug when timeout was set before game
 	begin.  Diff in fct sniff_packets.  Bug reported by Rizos
 	Sakellariou <rizos@cs.rice.edu>
	
Sat Mar  6 00:36:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, server/civserver.c: Minor adjustments to
 	--help messages.
	
Sat Mar  6 00:28:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, server/civserver.c: Changed menu items "Server
 	options 1" and "Server options 2" to more descriptive "Server opt
 	initial" and "Server opt ongoing".  Also changed "Msg Options" to
 	"Message Options" now that other items are longer.  Changed old
 	REPORT_SERVER_OPTIONS clause in civserver.c
 	handle_report_request() as capabilities should mean this never
 	happens anyway.
	
Sat Mar  6 00:05:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/diplodlg.c: Fix problem on Solaris with scrollbar for
 	treaty clauses.  Patch submitted by Rizos Sakellariou.
	
Fri Mar  5 23:58:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c: Changed Anarchy max_rate to 100%, to avoid
 	unnecessarily limiting rates during government change.  (Rates in
 	anarchy being irrelevant.)
	
Fri Mar  5 23:56:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/plrhand.h, server/stdinhand.c: The
 	following patch fixes a long-standing problem w.r.t. the rates,
 	namely: if one switches from a goverment of higher rate to another
 	of lower rate, rates are not checked and one is allowed, for
 	example, to have 100% science with a Republic (if switched to this
 	from Democracy). The side-effect of this is that the
 	taxmen/scientists/elvis icons may be blocked and the player will
 	have to change rates through the menu option.
	
	The patch assigns whatever amount exceeds maxrate to the 2nd
 	highest rate and sends an appropriate message.  AI's are still
 	allowed to set rates as they wish.
	
	Patch submitted by Rizos Sakellariou <rizos@cs.rice.edu>.
	
Fri Mar  5 23:43:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h, common/shared.h,
 	server/sernet.c: Changed protocol the network byte order, because
 	its "the right thing to do".  Byte order patch by Trent Piepho.
  	Also put in code to handle the first packet received from a
 	connection (on the server) specially, to detect and deal with
 	connection from a client with the old byte order.
	(Only enough so that we can reject the client cleanly via
 	capabilities, and so the old client gets a message it can deal
 	with.)  New clients connecting to old servers will still cause
 	problems (connection at socket level, but no packet
 	communication).  Incremented the capability string to "+1.8pre2".
  	Minor code cleanups in sernet.c
	
Fri Mar  5 23:29:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: There was an "#include <string.h>" inside a
 	function definition (createisland()).  Moved include to the top of
 	the file where it should have been.
	
Wed Mar  3 20:51:53 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* acconfig.h, config.h.in, configure, configure.in,
 	client/civclient.c, common/shared.h, server/civserver.c: Add
 	message Report bugs to freeciv-dev@freeciv.org when civserver or
 	civclient is launched with --help option.
	
Wed Mar  3 14:12:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/citydlg.c, client/cityrep.c, client/clinet.c,
 	client/dialogs.c, client/diplodlg.c, client/helpdlg.c,
 	client/mapctrl.c, client/mapview.c, client/menu.c,
 	client/ratesdlg.c, client/repodlgs.c: Size of pointer is 8 on
 	alpha.  This patch changes cast to pointer from (int) to (size_t).
  	Patch written by christopher C Chimelis
 	<chris@classnet.med.miami.edu> with 2 (int) to (size_t)
 	modifications added by me.
	
Wed Mar  3 11:10:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/flags.xpm, data/classic/roads.xpm,
 	data/classic/tiles.xpm, data/classic/units.xpm: Substituted the
 	"brunus" tiles (by Bruno Gilleta <gilleta@esil.univ-mrs.fr>) for
 	the "classic" tiles, as the brunus tiles are very similar to the
 	classic tiles, but improved (with 3-d effects).  I re-indexed the
 	colours of the brunus xpm's, to a common pallete of 64 colours for
 	all xpms.  I also re-indexed the flags.xpm with this palette.
	(The "old_classic" tiles will be made available at the ftp site
 	for any die-hard fans who don't like the new ones.)
	
Wed Mar  3 10:17:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c: Changed game_next_year() to adjust year
 	progression, for better game balance (and better match to Civ2),
 	and to ensure that turns = years for spaceships.  Based on patch
 	submitted by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Wed Mar  3 10:02:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: I changed my mind a bit about helicopters
 	which get hp=0.  Now test all unit types, not just heli's, in case
 	any other units somehow get hp=0, and say "ran out of hit points"
 	instead of "out of fuel", since fuel is a definite game concept,
 	which _doesn't_ apply to helicopters.
	
Wed Mar  3 09:54:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, common/packets.h, server/civserver.c,
 	server/stdinhand.c: Removed obsolete "Server options" menu item
 	(which was only kept before for backward compatiblity); use the
 	"Server options 1" or "Server options 2" menu items instead.
	
Tue Mar  2 22:33:37 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS, NEWS, server/mapgen.c: Patch written by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de> so that the new mapgen
 	behaves more like gen1.
	
Tue Mar  2 21:58:54 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ChangeLog: New Changelog up to date with pre-1.8.0.  Thx Mitch !
	
Tue Mar  2 21:55:30 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: Helicopter with 0 or less hp after hit point
 	calculation are removed of the game with a message saying that the
 	helicopter has run out of fuel.  Patch written by David Pfitzner
 	<dwp@mso.anu.edu.au>

Tue Mar  2 10:18:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/cityrep.c: Cosmetic patch to prevent `+' signs appearing
 	in the city report when a city has no gold surplus.  Based on a
 	patch submitted by Andrew Donkin <ard@scms.waikato.ac.nz>.
	
Mon Mar  1 23:12:06 1999  Lalo Martins <lalo@debian.org>:

	* debian/README.debian, debian/changelog, debian/control,
 	debian/dirs, debian/docs, debian/freeciv-xaw3d.dirs,
 	debian/freeciv-xaw3d.menu, debian/freeciv-xaw3d.postinst,
 	debian/freeciv-xaw3d.postrm, debian/postinst, debian/rules,
 	debian/watch: Finally updated the debian/ directory to cope with
 	the new build system (for the freeciv-xaw3d package)
	
Mon Mar  1 08:15:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h, server/autoattack.c, server/cityhand.c,
 	server/plrhand.c: Default auto-attack options to all on, for new
 	cities.  That is, if you put a unit in auto-attack mode, it will
 	attack all types of enemy units (unless you change the city
 	options).  (Otherwise, a unit put in auto-attack mode did nothing,
 	unless you also remembered to change the city options.)
	
Mon Mar  1 07:57:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/map.h: Default game.spacerace to 1 (on).
	
Mon Mar  1 07:54:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/Freeciv.h, data/Freeciv,
 	server/civserver.c: Removed third arg to AM_INIT_AUTOMAKE.
  	Slightly adjusted the beta notices.
	
Mon Mar  1 07:49:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/flags.xpm, data/default/flags.xpm: Adjusted flags,
 	so that they match for the default and classic tilesets.  Also
 	tidied up a few, and added some bonus/future-use flags.
	
Sun Feb 28 21:26:15 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* config.h.in, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Switch number version to 1.8.0.
	
Sun Feb 28 20:20:52 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* acconfig.h, config.h.in, configure, configure.in,
 	client/Freeciv.h, client/citydlg.c, client/clinet.c,
 	client/clinet.h, client/connectdlg.c, client/diplodlg.c,
 	client/mapctrl.c, client/menu.c, client/packhand.c,
 	common/packets.c, common/shared.h, data/Freeciv,
 	server/civserver.c, server/meta.h: This patch cleans up the
 	printing of beta version notices (which was used before the
 	release of 1.7) so that they are now controlled by a define
 	IS_BETA_VERSION, in configure.in (and also in shared.h, for
 	non-configure builds
	
	This patch replaces all the current capability tags by the single
 	tag "+1.8pre1".  The idea is that for 1.8.0 the capability string
 	will be "+1.8", and this patch is to test things properly before
 	release.
	
	I also changed researched and researchpoints into 32 bit ints, to
 	avoid possible over/under-flows.
	
	Patches written by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sun Feb 28 18:34:11 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/clinet.c, client/dialogs.c, client/packhand.h: When two
 	race selection dialogs are generated, e.g. by disconnecting after
 	the first has appeared, and connecting again, then the second try
 	at nation selection will result in core dump.  Bug spotted by Lalo
 	Martins <lalo@webcom.com> I try to fix it by checking if a
 	races_dailog_shell exist when the connection to the server is
 	lost.  If it exists, it is closed. nb
	
Sun Feb 28 17:48:33 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure.in: Wipe out the option -pipe for gcc.  It wasn't
 	supported by gcc on cygwin Bug reported by Todd Goodman
 	<tsg1@earthlink.net>
	
	Additionnal files are due to prevously applied and removed
 	patches.
	
Sun Feb 28 01:50:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Adjusted help texts for spacerace server
 	option, so that it is no longer called experimental.
	
Sat Feb 27 18:58:21 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/default/tiles.xpm: This patch to data/default/tiles.xpm
 	moves the hitpoint bar from the top left of the tile to the bottom
 	center.	 (That is, so as to not obscure the flags.)
  	Patch cut and pasted by David Pfitzner <dwp@mso.anu.edu.au>
	
Sat Feb 27 18:54:23 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/Freeciv.h, client/citydlg.c, common/city.h,
 	common/shared.h, data/Freeciv, server/autoattack.c,
 	server/cityturn.c: Here is a modified version of Massimo's patch,
 	which uses a tri-state toggle.  Dwp also removed the NEW_WORKER
 	option which Massimo pointed out was not needed, and changed the
 	new option order so that this is still compatible with the
 	previous "autoattack1" and previous savefiles.
	
Sat Feb 27 07:36:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c: Moved a comment about is_terrain_near_tile() to
 	correct place.
	
Sat Feb 27 07:33:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/autoattack.c, server/gotohand.c, server/gotohand.h:
 	Renamed calculate_cost() to calculate_move_cost(), and changed
 	treatment in this function for air/heli units, since warmap
 	doesn't take account of air units.  (Eg, before, auto-attacking
 	air/heli units didn't attack boats.)
	
Sat Feb 27 07:10:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/cityhand.h, server/citytools.c,
 	server/diplhand.c, server/unitfunc.c, server/unithand.c: Fixed
 	several problems with the traderoutes of a city that changes
 	owner.  Fixed typo in remove_city(); new function
 	reestablish_city_trade_routes(); changes to transfer_city() and
 	handle_unit_enter_city().  Also put in some extra calls to
 	update_map_with_city_workers(), when city changes owner.  Based on
 	patches submitted by Rizos Sakellariou <rizos@cs.rice.edu>.
	
Sat Feb 27 01:31:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm: Adjusted palette to match units and
 	tiles.
	
Thu Feb 25 22:50:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure, configure.in: Add the flag -pipe for gcc options.
  	Patch suggested by Tony & <stuckey@jaka.ece.uiuc.edu>
	
Thu Feb 25 10:23:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Removed duplicate entry for Markus Linnala.
	
Wed Feb 24 19:59:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ChangeLog: ChangeLog is uptodate till the 23th of february.
	
Wed Feb 24 09:32:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, client/mapctrl.h, client/menu.c,
 	common/unit.c, common/unit.h, data/helpdata.txt: Allow caravan
 	actions (help build wonder, or establish trade route) for caravan
 	(or freight) units inside cities, via orders menu and key
 	commands.  Re-use keys: "b"=(b)uild wonder, "r"=trade (r)oute.
	
Wed Feb 24 09:21:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/inteldlg.c, common/player.c,
 	common/player.h, data/Freeciv, server/citytools.c,
 	server/citytools.h: Added information about Capital (city name) to
 	intelligence report.  Only shows name of capital if that city is
 	known by the client -- that is, within the known map.  Moved
 	find_capital() from server/citytools to common/player.
	
Tue Feb 23 21:47:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapctrl.c, server/unithand.c: The following patch handles
 	in a more user-friendly way the case where a caravan cannot
 	establish a trade route with an enemy city.  At the moment, if
 	this is not possible, the message appearing is the meaningless
 	"You can't attack there". This no longer appears and a more
 	elaborate message is displayed. Also, the modification of the
 	server function allows to display an appropriate message in cases
 	where the client `gives ok' but a traderoute cannot finally be
 	established.  Patch written by Rizos Sakellariou
 	<rizos@cs.rice.edu>
	
Tue Feb 23 17:07:34 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Updated help to reflect ability to adjusting
 	workers from the main map.
	
Mon Feb 22 02:30:06 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/mapctrl.c, client/mapctrl.h,
 	client/mapview.c, client/mapview.h, client/packhand.c,
 	client/xmain.c, data/Freeciv: Added ability to adjust the location
 	of city workers from the main map.  Use the 't' key to just
 	display where the workers are, and use Shift-Button1 to adjust the
 	workers just as you would in the city dialog.  The effects of your
 	change are displayed on the main map when the city info update is
 	received from the server.
	
Sun Feb 21 10:31:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/Makefile.am, data/classic/Makefile.in,
 	data/default/Makefile.am, data/default/Makefile.in: Added
 	flags.xpm files to dist.
	
Sun Feb 21 02:55:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt, server/unitfunc.c: Fixed up units gaining hit
 	points, and movement, helicopter, and United Nations hit points
 	effects.  Based on a patch by Daniel Burrows
 	<Daniel_Burrows@brown.edu>.  Tidied up the help pages to reflect
 	code.  Now units only regain hitpoints if they have not moved,
 	regardless of cities, Barracks etc (to match Civ2).  The United
 	Nations and helicopter effects apply whether or not a unit has
 	moved.
	
Sun Feb 21 01:35:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/tiles.xpm: Fixed an off-by-1-pixel mistake I
 	introduced into default/tiles.xpm
	
Sun Feb 21 01:00:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/flags.xpm, data/default/flags.xpm: Added the extra
 	flags.xpm files.
	
Sun Feb 21 01:00:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/graphics.c, client/mapview.h, data/classic/tiles.xpm,
 	data/default/tiles.xpm: Moved race flags to separate flags.xpm
	
Sun Feb 21 00:49:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/cityrep.c, client/civclient.c,
 	client/messagewin.c, client/optiondlg.c, data/Freeciv: Added
 	client option "Center when Popup city".  Affects whether the map
 	is also centered when a city dialog is popped up from the Popup
 	buttons for the City Report and Messages Window.  This makes the
 	centering behaviour of these two buttons consistent.
	
Sun Feb 21 00:43:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Adjusted where X_PRE_LIBS (usually -lSM
 	-lICE) get placed in the client link line.  Now they come just to
 	the left of "-lXext -lX11".  Hopefully this fixes problems with
 	IRIX (reported by Dee Jay Randall <randal@cs.uregina.ca>) and
 	Cygwin (reported by Todd Goodman <tsg1@earthlink.net>).
	
Sat Feb 20 05:13:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c, data/helpdata.txt,
 	data/default/buildings.ruleset: Fixed tech_required for Barracks
 	III to match Civ2 (now Mobile Warfare instead of Combustion);
 	also obsolete_by for Barracks II.  Based on a patch by Greg
 	Wooledge, but I made the help about obsolescence dynamic so
 	that its correct for Civ1 too.
	
Sat Feb 20 05:09:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset: Fixed tech_required for Space
 	Module for Civ1	(Robotics, not Superconductors).
	
Sat Feb 20 05:08:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Fixed initial display of "0 People" when
 	client re-connects to a reloaded game.  Fixed by putting
 	update_info_label() in handle_game_state().
	
Fri Feb 19 22:24:53 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/mapgen.c: little change asked for mapgen4 by Peter
 	Schaefer <schaefer@malaga.math.uni-augsburg.de>
	
Fri Feb 19 21:21:19 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: Units finishing their turn in a barracks
 	recover hitpoints regarless of movement.  Patch suggested by David
 	Pfitzner <dwp@mso.anu.edu.au>
	
Fri Feb 19 20:45:55 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c:
 	
	Substitute  
	pcity=city_list_find_id(&pplayer->cities, 
	                        game.global_wonders[B_UNITED]);
 	if(pcity && !wonder_obsolete(B_UNITED))
	by 
	if (player_owns_active_wonder(pplayer, B_UNITED))

	as suggested by David Pfitzner <dwp@mso.anu.edu.au>

        substitute
 	if(!punit && (is_heli_unit(punit))) by
	(!map_get_city(punit->x,punit->y) && (is_heli_unit(punit)))
	and remove the variable pcity.
	
Fri Feb 19 11:54:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/mapview.c, client/mapview.h,
 	client/xmain.c, data/Freeciv: Fixed problem with layout of main
 	window with 45x45 tiles (gap between left side information and map
 	window), due to larger pixmaps for the display of units below the
 	current unit.  Made the number of such units displayed depend on
 	the tile size.
	
Thu Feb 18 23:00:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/city.c: In the list of American city names, Tucson was
 	incorrectly rendered as "Tuscon".  Mystake spotted by "Andrew
 	E. Schulman" <andrex@alw.nih.gov>
	
Thu Feb 18 03:36:16 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/cityrep.c: Change city report so it uses a list of city
 	pointers instead of city IDs.  Got rid of some arrays that aren't
 	necessary anymore in the creation of the city report.
	
Wed Feb 17 21:21:34 1999  Trent Piepho <xyzzy@u.washington.edu>

	* Imakefile, Makefile.noimake, client/Makefile.am,
 	client/Makefile.in, client/citydlg.c, client/cityrep.c,
 	client/cityrep.h, client/climisc.c, client/menu.c,
 	client/optiondlg.c, client/packhand.c, client/repodlgs.c,
 	client/repodlgs.h: Split the repodlgs.c file into two files.  The
 	second files is called cityrep.c and has the city report code in
 	it.  Adjusted includes in other files to refer to cityrep.h if
 	necessary.  Added cityrep.c and spacerace stuff to various
 	makefiles.
	
Tue Feb 16 12:13:28 1999  Trent Piepho <xyzzy@u.washington.edu>

	* server/mapgen.c, server/plrhand.c: Cleaned up some egcs warnings
 	about ambiguous braces.
	
Tue Feb 16 11:44:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/spaceshipdlg.c, common/packets.c,
 	data/Freeciv, server/spacerace.c: Cosmetic fixes for spaceships
 	launched/arriving in BC years; bug reported by Massimo
 	Campostrini.  There could still be some quirks.
	
Tue Feb 16 10:57:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/civclient.c, client/packhand.c,
 	client/packhand.h, client/spaceshipdlg.c, common/Makefile.am,
 	common/Makefile.in, common/city.c, common/game.c, common/game.h,
 	common/packets.c, common/packets.h, common/player.c,
 	common/player.h, common/shared.h, common/spaceship.c,
 	common/spaceship.h, data/Freeciv, data/helpdata.txt,
 	server/Makefile.am, server/Makefile.in, server/cityturn.c,
 	server/civserver.c, server/gamehand.c, server/plrhand.c,
 	server/plrhand.h, server/spacerace.c, server/spacerace.h,
 	server/unithand.c: Improved spacerace, based partly on a patch by
 	Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>.
  	New/changed features: - Travel time, success chance etc are
 	implemented, based on reverse-engineered Civ1; you can now only
 	launch a spaceship if it is "viable".  - Only parts of the
 	spacehip connnected to structurals count.  - The protocol is such
 	that the player could choose which type of module to build (like
 	in Civ1), but currently the client makes this choice.  That is,
 	fixing this further should require changes to the client only.  -
 	Better handling of spaceships arriving in the same turn.  - An
 	arrived spaceship adds to your final score.  But I don't know what
 	the score bonus should be; for now, I chose an arbitrary bonus.  -
 	Capturing a player's capital stops that player's spaceship.  -
 	There is some help about spaceships and spaceship parts.  The
 	capability string now has "+spacerace2".  There are still problems
 	if you launch in BC years.
	
Tue Feb 16 10:44:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c: Reverted to cvs revision 1.8, since 1.9 was
 	checked in by mistake, and the 1.10 fix caused segfault if
 	FREECIV_DATADIR is set.
	
Tue Feb 16 00:28:02 1999  Trent Piepho <xyzzy@u.washington.edu>

	* common/shared.c: Clean up a gcc warning about an assignment to a
 	const string.
	
Mon Feb 15 22:55:57 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ChangeLog: Last ChangeLog entry is now on Sat Feb 13 16:36:18
 	1999 by David Pfitzner <dwp@mso.anu.edu.au>
	
Mon Feb 15 11:10:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/shared.c, server/unitfunc.c: fixing problem with city
 	workers when city changes owner...  patch written by Rizos
 	Sakellariou <rizos@cs.rice.edu>
	
Sun Feb 14 00:36:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm: New roads and rails for the Engels 45x45
 	tiles, including diagonals.
	
Sun Feb 14 00:19:33 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/default/tiles.xpm, data/default/units.xpm: Changed the
 	tiles from the crappy 30x30 reduction to the original 45x45.
	
Sat Feb 13 23:38:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c: Default flags_are_transparent=1, now that
 	the default tiles are the Engels ones which look best transparent.
	
Sat Feb 13 23:28:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/Makefile.am, data/default/Makefile.in: Also refix
 	pkgdatadir in data/default/Makefile.am, and undo accidental change
 	previously uploaded for data/default/Makefile.in.
	
Sat Feb 13 23:23:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/Makefile.am, data/default/Makefile.in: Changed back
 	previous incorrect fix.  When we install the "classic" tiles, they
 	should go in, eg, /usr/local/share/freeciv/classic.
	
Sat Feb 13 20:08:40 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/classic/.cvsignore, data/classic/Makefile.am,
 	data/classic/Makefile.in, data/classic/roads.xpm,
 	data/classic/tiles.xpm, data/classic/units.xpm: Added the
 	directory classic for the classic tilesets.  Change needed for the
 	2 tilesets version 1.8.0 .
	
Sat Feb 13 19:59:11 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
 	data/default/Makefile.am, data/default/tiles.xpm,
 	data/default/units.xpm: Change written by David Pfitzner
 	<dwp@mso.anu.edu.au> to allow the use of a new dir data/classic.
  	The ralph engels tiles 30 are now the default ones.  The classic
 	ones have been put into classic.  I did a little change in
 	data/default/Makefile.am and data/classic/Makefile.am.  change
 	$(datadir)/@PACKAGE@/classic to $(datadir)/@PACKAGE@/data/classic
 	and $(datadir)/@PACKAGE@/default to
 	$(datadir)/@PACKAGE@/data/default
	
	I forgot to add the dir data/classic.  I will do this in my next
 	commit.
	
Sat Feb 13 18:25:35 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: lign 851 substitute
 	(punit->type==U_HELICOPTER) by (is_heli_unit(punit)) Sequel of the
 	patch submitted by Daniel Burrows <Daniel_Burrows@brown.edu>
 	concerning hit point regeneration.
	
Sat Feb 13 03:59:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/climisc.h: Include repodlgs.h for proto
 	of city_report_dialog_update(), and declare "stuct city;" in
 	climisc.h to quiet gcc -Wall warning.
	
Sat Feb 13 00:41:15 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/climisc.h, client/packhand.c: Changed
 	client_remove_city() to use a city pointer instead of a city ID.
  	Also have client_remove_city() update the city report.
	
Fri Feb 12 21:36:20 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.h, data/helpdata.txt, server/unitfunc.c,
 	server/unithand.c, server/unittools.c: Hit point regeneration.
  	Now moving units don't regenerate their hitpoints.  patch written
 	by Daniel Burrows <Daniel_Burrows@brown.edu>
	
Fri Feb 12 21:21:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/map.c, common/map.h, server/gamehand.c, server/mapgen.c,
 	server/mapgen.h, server/stdinhand.c: mapgen4 by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de> "I've included saveguards
 	against a previously possible overflow of the islands array.  I
 	took care to include/not cancel the change made to mapgen.c I
 	saw.(szenario==1) description text is included in server."
	
Fri Feb 12 19:00:06 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/helpdata.txt: Terrain transformation help Patch written by
 	Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Fri Feb 12 18:39:41 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/Freeciv.h, client/mapctrl.c, client/mapctrl.h,
 	client/mapview.c, client/mapview.h, client/menu.c, client/xmain.c,
 	common/map.c, common/map.h, common/unit.c, common/unit.h,
 	data/Freeciv, data/helpdata.txt, data/default/tiles.xpm,
 	data/default/units.ruleset, server/unitfunc.c: Terrain
 	transformation patch.  Now engineers and settlers can achieve
 	major transformation of terrain.  Changing tundra to grassland is
 	feasible.  ( It will take a huge time. ) Patch submitted by Greg
 	Wooledge <ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
 	with 2 minors changes

	- in menu.c change declaration of irrtext,mintext,roadtext
 	  and transtext to avoid segfault.  
	- add a line in	helpdata.txt concerning the terrain transform
 	  feature.
	
	The use of capability has to be implemented.
	
Thu Feb 11 07:43:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Adjusted present administrators part.
	
Thu Feb 11 07:39:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/chatline.c: log_output_window() had a FILE ptr called
 	flog (now freelog); changed to avoid confusion.
	
Wed Feb 10 22:42:48 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/civserver.c, server/gamehand.c, server/mapgen.c,
 	server/maphand.c, server/stdinhand.c: - patch to gamehand.c: This
 	deals with a problem that seem to persist since before the stable
 	1.7.2 distribution: If you saved the server settings with any
 	1.7.2+ server, you couldn't load them again, as the unirandom
 	section was missing while the savefile options said they should be
 	there. (Did really no-one find this before me?!)  - patch to
 	server/stdinhand.c, gamehand.c, maphand.c: this allows now to save
 	scenarios after loading them into the server and just changing
 	some settings. now, the correct amount of information is saved for
 	any of: server settings, all 3 types of scenario's and normal
 	savegame.  This means that for the first time, type 1 scenarios
 	really work...  Also did some clean up in game_load() and deleted
 	an (incorrect) comment by dwp. (The thing may still need an
 	overhaul, but the rest was wrong...)  Patch written by Daniel
 	Gudlat <gudlat@informatik.hu-berlin.de>
	
Wed Feb 10 22:24:40 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/earth-160x90.sav, data/earth-80x50.sav, data/europe.sav:
 	scenario enhancement and modifications needed by CivWorld Patch
 	written by Daniel Gudlat <gudlat@informatik.hu-berlin.de>
	
Wed Feb 10 21:49:28 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/autoattack.c, server/autoattack.h: add the file
 	autoattach.c and autoattach.h needed by the autoattach patch
	
Wed Feb 10 21:45:09 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* Imakefile, Makefile.noimake, client/Freeciv.h, client/citydlg.c,
 	client/civclient.c, client/clinet.c, client/clinet.h,
 	client/mapctrl.c, client/menu.c, client/packhand.c,
 	client/packhand.h, common/city.h, common/packets.c,
 	common/packets.h, common/shared.h, common/unit.c, common/unit.h,
 	data/Freeciv, data/helpdata.txt, server/Makefile.am,
 	server/Makefile.in, server/cityhand.c, server/cityhand.h,
 	server/civserver.c, server/gotohand.c, server/gotohand.h,
 	server/plrhand.c, server/settlers.c, server/unithand.c:
 	Autoattack-patch : unit can attach an approacing unit to defend a
 	town patch written by sfischme@nexus.lzk.tuwien.ac.at and David
 	Pfitzner <dwp@mso.anu.edu.au>
	
Wed Feb 10 21:04:54 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/dialogs.c, server/unitfunc.c: cannot sabotage wonders
 	patch by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Wed Feb 10 19:49:31 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/cityhand.c, server/cityhand.h, server/diplhand.c,
 	server/unithand.c: fixing problem with city workers when city
 	changes owner...  Patch by rizos@rice.edu
	
Wed Feb 10 19:23:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ai/advdomestic.c: "In the games that I have watched the AI play,
 	they almost never build Marketplaces, Banks, or Stock Exchanges.
  	These are some of the most useful buildings in the game.  These
 	equations give a higher and more realistic valuation to the
 	buildings.  This causes the AI to build them somewhat more often,
 	but still only in cities with circa 20+ trade."  Comment and patch
 	by Tony Stuckey <stuckey@jaka.ece.uiuc.edu> in function
 	ai_eval_buildings(struct city *pcity)
	
Wed Feb 10 19:11:29 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c: show veteran status in Unit Commands popup Patch
 	submitted by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Wed Feb 10 18:27:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, client/chatline.c,
 	client/civclient.c, client/climisc.c, client/clinet.c,
 	client/colors.c, client/graphics.c, client/helpdlg.c,
 	client/optiondlg.c, client/packhand.c, client/repodlgs.c,
 	client/xmain.c, common/city.c, common/game.c, common/log.c,
 	common/log.h, common/packets.c, common/unit.c, server/citytools.c,
 	server/cityturn.c, server/civserver.c, server/diplhand.c,
 	server/gamehand.c, server/gotohand.c, server/mapgen.c,
 	server/maphand.c, server/plrhand.c, server/registry.c,
 	server/ruleset.c, server/sernet.c, server/stdinhand.c,
 	server/unitfunc.c, server/unittools.c: remplace flog by freelog to
 	avoid linking problems with the standard mathematic library.
  	Patch suggested by Vasco Alexandre da Silva Costa
 	<vasc@camoes.rnl.ist.utl.pt> for an easiest integration of gtk in
 	cvs.
	
Tue Feb  9 22:44:20 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: remove punit->moves_left = 0 in
 	update_unit_activity change hinted by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Tue Feb  9 19:35:33 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapview.c, client/mapview.h: put tiles definition from
 	mapview.c to mapview.h change needed by Daniel Gudlat
 	<gudlat@informatik.hu-berlin.de>
	
Tue Feb  9 16:27:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/helpdata.txt: add help about teamwork now available for
 	settlers and engineers.  patch submitted by Greg Wooledge
 	<wooledge@kellnet.com> correct the name of the present
 	administrators.
	
Tue Feb  9 00:38:26 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c, server/unitfunc.c: Settlers and engineers can do
 	teamwork.  The activity of one unit is the sum of the activity all
 	of units doing the same activity on the same tile.  I added
 	punit->moves_left = 0 for the following activities :

		POLLUTION
		FORTRESS
		IRRIGATE
		ROAD
		RAILROAD
		MINING

	patch submitted by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Mon Feb  8 22:36:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/gotohand.c: 

Sat Feb  6 23:35:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: In end_turn(), fixed possible sefault when
 	shuffled[i] is NULL due to a civil war caused by end-of-turn
 	goto-ing units.  Now process additional players in non-shuffled
 	order after pre-existing players.  Fixes bug reported by Rizos
 	Sakellariou <rizos@rice.edu>.
	
Thu Feb  4 15:29:31 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/packhand.c, server/cityhand.c,
 	server/cityhand.h, server/unitfunc.c, common/city.c,
 	common/city.h, common/game.c, common/game.h: Moved the citycache
 	stuff from server to common.  Modified find_city_by_id, and
 	related functions so they will work with or without the citycache.
  	Removed game_find_city_by() and refrences to it.
	
Thu Feb  4 02:11:14 1999  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Added a few braces to clean up some egcs
 	-Wall warnings.
	
Wed Feb  3 18:46:32 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/gotohand.c: in init_warmap simplify the initiazation of
 	warmap.
	
Tue Feb  2 21:52:56 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapctrl.c: Can activate any unit.  Patch submitted by
 	Massimo Campostrini <campo@mailbox.difi.unipi.it>
	
Tue Feb  2 21:35:04 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c: Settlers or engineers who want to build a new
 	town must have at least one move left.  Patch submitted by Massimo
 	Campostrini <campo@mailbox.difi.unipi.it>
	
Mon Feb  1 22:56:31 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapctrl.c: Disallow to build town with 0 moves left Patch
 	suggested by Massimo Campostrini <campo@mailbox.difi.unipi.it>
	
Sat Jan 30 16:43:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/civserver.c: In handle_request_join_game swap server and
 	client in sprintf.
	
Sat Jan 30 03:41:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, README.rulesets: Some documentation
 	for rulesets.
	
Sat Jan 30 03:39:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/helpdlg.c, data/Freeciv,
 	data/helpdata.txt: Changes to help system for rulesets: show
 	improvement/wonder variants, and make some help text more dynamic
 	based on game.rtech etc.
	
Sat Jan 30 03:36:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
 	ai/aiunit.h: Changes to AI for rulesets: generalize unit roles.
	
Sat Jan 30 03:35:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c: Core changes to client
 	for rulesets: handle the new packets.
	
Sat Jan 30 03:34:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile, Makefile.noimake, server/Makefile.am,
 	server/Makefile.in, server/cityhand.c, server/civserver.c,
 	server/gamehand.c, server/settlers.c, server/unitfunc.c,
 	server/unithand.c, server/unittools.c: Core changes to server for
 	rulesets, including using ruleset.c functions and using unit_role
 	functions.
	
Sat Jan 30 03:28:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/game.c, common/game.h, common/shared.h,
 	common/tech.c, common/unit.c, common/unit.h: Core changes to
 	common/ for rulesets.  Removed hardwire tables.  Changed/new unit
 	flags/roles.  Removed set_civ_style() stuff.
	
Sat Jan 30 03:25:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h: New packets for rulesets.
	
Sat Jan 30 03:23:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: New server options for rulesets.
	
Sat Jan 30 03:21:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h: Added game.ruleset struct for ruleset server
 	option strings.
	
Sat Jan 30 03:19:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.h: Define GAME_DEFAULT_RULESET.
	
Sat Jan 30 03:04:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/ruleset.c, server/ruleset.h: New ruleset module,
 	containing functions to read ruleset datafiles, and to send
 	ruleset information to the client.
	
Sat Jan 30 02:57:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
 	data/civ1.serv, data/civ1/.cvsignore, data/civ1/Makefile.am,
 	data/civ1/Makefile.in, data/civ1/buildings.ruleset,
 	data/civ1/techs.ruleset, data/civ1/units.ruleset,
 	data/default/Makefile.am, data/default/Makefile.in,
 	data/default/buildings.ruleset, data/default/techs.ruleset,
 	data/default/units.ruleset: New datafiles for rulesets, and
 	configure/Makefile changes so that "make dist" and "make install"
 	know about the new files.
	
Fri Jan 29 21:16:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/map.c: In real_map_distance, sq_map_distance and
 	map_distance speed up calculation.  Patch suggested by Tony
 	Stuckey <stuckey@jaka.ece.uiuc.edu>
	
Thu Jan 28 23:15:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: In server/unitfunct correct the name used to
 	notify a player when i diplomat is eliminated while infiltrating.
  	Patch submitted by Rizos Sakellariou <rizos@cs.rice.edu>
	
Thu Jan 28 21:33:45 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c: In unit_can_help_build_wonder i disable the
 	possibility to help build a wonder when the wonder is finished.
	
Thu Jan 28 17:26:10 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/gotohand.c: put a comment in init_warmap to test cvs
 	commit
	
Thu Jan 28 15:07:36 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/repodlgs.c, server/cityhand.c: The
 	client will not longer let you buy Capitalization via a city
 	dialog or the city report.  Neither the shield cost nor the buying
 	cost of Capitalization are diplayed, since they don't apply and
 	only confuse players.  Even if the client tries to somehow, the
 	server doesn't allow buying Capitalization anymore either.  The AI
 	should probably be modifed to understand about not buying
 	capitalization too.
	
Thu Jan 28 11:51:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/unitfunc.c,
 	server/unithand.c: New variable game.firepower_factor, currently
 	fixed at 1, to be used in rulesets.  In combat, all firepower
 	values are multiplied by this factor.  Also, unit hitpoints sent
 	to the client are divided by this factor.  Eg, units with hp=10,
 	firepower=1 and firepower_factor=10 will look like units with hp=1
 	and firepower=1.  (Note that hp are not used in common/ except as
 	punit->hp/unit_type->hp so this doesn't break anything there.)
  	This hackish setup is to help support civ1-style combat
	(with rulesets) without causing the normal AI calculations to
 	core-dump and/or underflow/overflow (as they would with hp=1).
	
Thu Jan 28 11:14:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aiunit.c, common/city.c,
 	common/city.h, common/player.c, common/player.h, common/unit.c,
 	server/citytools.c, server/cityturn.c, server/plrhand.c,
 	server/settlers.c, server/unitfunc.c, server/unittools.c: New
 	variant field to improvement_type struct, to specify variant
 	improvement effects.  Some variant effects are implemented (via
 	new function improvement_variant()), but are not yet documented
	(coming with rulesets proper), and at the moment all improvements
 	have variant=0.  Also new variant-related function
 	player_owns_active_govchange_wonder().  In the future, improvement
 	effects should be generalised still further, but this is a start.
	
Thu Jan 28 11:11:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
 	common/game.c, common/game.h, common/unit.c, server/citytools.c,
 	server/plrhand.c, server/settlers.c: New struct game.rtech, which
 	stores advances which have special effects (and game.rtech.nav,
 	used by the AI).  The advance values are currently fixed, but will
 	be adjustable in the future with rulesets.
	
Thu Jan 28 11:05:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/climisc.h, client/packhand.c: Added
 	client-side continent calculations, to support continent-only
 	wonder variants (in rulesets).  The client may have imperfect
 	knowledge of continents, but it still helps the client to know in
 	many cases if an improvement is wonder-replaced.
	
Tue Jan 26 11:38:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: When wipe_unit_safe() was re-done as a
 	wrapper for new wipe_unit_spec_safe() (in civil war patch), it
 	buggily didn't pass on the iterator argument, reintroducing
 	various segfault bugs; fixed.
	
Sun Jan 24 03:53:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c: Fixed client --help and --version handling
 	so that starting the client with no arguments doesn't segfault!
	
Sun Jan 24 02:48:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: This adds a Terrain Alterations section to
 	the terrain help.  Patch submitted by Greg Wooledge.
	
Sun Jan 24 02:38:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm: New road and rail tiles.  Roads are less
 	prominent and wiggly, like pre-diagonal roads.  Rails are
 	smaller-scale and less cluttering.
	
Sun Jan 24 02:33:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/xmain.c: In client, handle --help and
 	--version ourselves in main(), so we don't need to connect to the
 	X server.  Patch submitted by Lalo Martins <lalo@webcom.com>.
	
Sun Jan 24 02:33:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagedlg.c, common/events.h, server/cityturn.c: When
 	building a granary in a city, it is useful to postpone city growth
 	until the granary is complete, so that you can save large amounts
 	of your foodbox.  This patch tries to notify players when this
 	type of situation exists.  Adds event E_CITY_GRAN_THROTTLE:
 	"Suggest Growth Throttling".  Patch submitted by Tony Stuckey.
	
Sun Jan 24 02:31:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: In really_handle_city_buy(), return early if
 	cost is 0, to avoid unnecessary "bought for 0 gold" messages when
 	watching AI.  Patch submitted by Tony Stuckey.
	
Sat Jan 23 05:17:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c, server/unitfunc.c, server/unitfunc.h: New
 	function get_simple_defense_power(), to avoid hardwired U_HOWITZER
 	in calls get_virtual_defense_power(U_HOWITZER, ...).
	
Sat Jan 23 05:16:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Code to allow string-valued server options.
	(None yet, but will be for rulesets.)
	
Sat Jan 23 05:16:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, common/unit.c, server/settlers.c: Always
 	access unit flags via unit_flags(), and don't do bit operations on
 	flag values.  (For rulesets, where flags are an enumeration rather
 	than bit defines.)
	
Sat Jan 23 05:14:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c: Unhardwired A_AMPHIBIOUS for B_PORT in
 	kill_something_with().
	
Sat Jan 23 05:12:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aiunit.c, ai/aiunit.h: New
 	function is_ai_simple_military(), to unhardwire loops previously
 	done as U_WARRIORS to U_BATTLESHIP.
	
Sat Jan 23 05:08:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c: Pseudo-generalized has_a_normal_defender(), for
 	rulesets, though not very well because I don't really understand
 	the function's purpose.
	
Sat Jan 23 05:07:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/repodlgs.c: Use is_wonder() instead of hardwired
 	improvement range in trade_report_dialog_update().
	
Sat Jan 23 05:06:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, common/city.c, common/player.c,
 	common/player.h: New function player_knows_improvement_tech(),
 	used to reduce use of hard-wired advances when really mean
 	improvement tech_required.
	
Sat Jan 23 05:05:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h: Moved some prototypes to better groups.
	
Sat Jan 23 05:04:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/tech.h: In advance struct, changed "name" from char
 	pointer to char array.  This is now the same as unit_types and
 	buildings, and is easier than managing memory when names are
 	somewhat dynamic, for rulesets.  Included shared.h, for
 	MAX_LENGTH_NAME.
	
Sat Jan 23 05:02:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c: In really_generate_warmap(), unhardwired a
 	use of U_SETTLERS.
	
Sat Jan 23 05:01:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/registry.c: In section_file_load(), print a log message
 	if fopen() fails.
	
Wed Jan 20 10:32:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: In boot_help_texts(), don't report filtering
 	on first boot (for rulesets).
	
Wed Jan 20 10:31:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ser, client/climisc.c, client/climisc.h, common/shared.c,
 	common/shared.h: Moved datafilename() from climisc to
 	common/shared, and added default FREECIV_DATADIR to ser script.
  	(Server will want to access datadir for rulesets.)
	
Wed Jan 20 10:27:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, server/unitfunc.c, server/unittools.c,
 	server/unittools.h: New convenience function
 	unit_really_ignores_citywalls, taking into account move_type (for
 	rulesets).
	
Wed Jan 20 10:21:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c: Added a "spaceship" option to the report menu.
  	From a patch submitted by Per Mathisen <permath@ifi.ntnu.no>.
	
Wed Jan 20 10:18:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: In transfer_city_units(), for case where
 	changing unit to another homecity, use the correct owner of the
 	new homecity.  Based on a patch by Kris Bubendorfer.  Also
 	adjusted the messages depending on whether the unit changes owner.
	
Sun Jan 17 11:29:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile, Makefile.noimake, client/Freeciv.h,
 	client/Makefile.am, client/Makefile.in, client/graphics.c,
 	client/packhand.c, client/plrdlg.c, client/spaceshipdlg.c,
 	client/spaceshipdlg.h, client/xmain.c, common/city.c,
 	common/game.c, common/game.h, common/map.h, common/packets.c,
 	common/packets.h, common/player.c, common/player.h,
 	common/shared.h, data/Freeciv, data/default/Makefile.am,
 	data/default/Makefile.in, data/default/space.xpm,
 	server/cityturn.c, server/civserver.c, server/gamehand.c,
 	server/plrhand.c, server/plrhand.h, server/stdinhand.c: First pass
 	at spacerace feature, based on a patch submitted by Falk Hueffner
 	<falk.hueffner@student.uni-tuebingen.de>.  Activated by a server
 	option which defaults to off.  The travel time calculation is
 	still missing, it always arrives after 15 years, and it doesn't
 	properly know when a spaceship is in a proper state to be
 	launched.
	
Sun Jan 17 09:47:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: In citizen_happy_units(), calculate number of
 	unhappy people directly rather than using loops.  Patch submitted
 	by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu>.
	
Sun Jan 17 09:46:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c, server/citytools.h, server/diplhand.c,
 	server/unitfunc.c, server/unittools.c, server/unittools.h:
 	Conditionally added back messages about unit transfers in
 	transfer_city_units() and resolve_unit_stack(), so that players
 	get the messages when unciting or trading cities, but not for a
 	civil war.  Also fixed the text of the message when a unit's
 	homecity is changed in these cases.
	
Sun Jan 17 09:44:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/diplodlg.c, common/diptreaty.h,
 	common/shared.h, data/Freeciv, data/helpdata.txt,
 	server/citytools.c, server/diplhand.c: Trade cities patch
 	submitted by Kris Bubendorfer:
	
	This patch is essentially an extension to the diplomacy/treaty
 	section, where you may now also TRADE CITIES.
	
	You cannot trade your capital, but any other city is fair game.
  	Cities that the other player does not know about, may still be
 	gifted, but obviously they cannot request these cities as they've
 	got no idea they exist.  So you still have secrecy/fog of war.
	
	If the recipient of a city does not have the part of the map with
 	the city being traded, then that part of the map is lightened.
  	You do NOT need to trade maps first - of course you could....
	
	All units in the field that are supported by the city being traded
 	are also transferred over, but any that are supported, but
 	resident in other cities are not traded.  None-the-less, you
 	should be careful not to give the other person a better deal that
 	you expect.
	
	There is also a new part on diplomacy in general in the Help, in the
	`How to play' section.
	
Sun Jan 17 04:08:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/colors.c: Slightly adjusted colour of race13.
	
Sun Jan 17 03:53:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm, data/default/small.xpm,
 	data/default/tiles.xpm, data/default/treaty.xpm,
 	data/default/units.xpm: Colourmap cleanup.  The colours in some of
 	the xpms where similar but not identical to colours in others.
  	Also eliminated a couple of colours which were only used in
 	small.xpm.  Also replaced Artillery icon with one submitted (long
 	ago) by Frank Muzzulini <muzz@albatross.pond.sub.org>.
	
Sun Jan 17 02:36:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/packhand.c, common/game.c: Added some
 	extra debugging output, detailing new and removed cities and
 	units, disabled by default.  (Use configure --enable-debug, or
 	change the "#define DEBUG 0" in the source.)
	
Sun Jan 17 02:31:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c, server/unittools.c: Some fixes to civil war.
  	Send game_info as soon as new player is created so clients get the
 	correct game.nplayers, and send new player info earlier, so
 	clients know name of new player before do cities, units.
  	Deactivated some more over-verbose notify_player messages I missed
 	last time.  Set player.revolution to 1 for civil war leaders, so
 	get to choose new government _next_ turn, not straight away.
	
Sat Jan 16 11:15:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c: A rail square with adjacent roads (but not
 	adjacent rails) was not being shown as rail.
	
Sat Jan 16 11:10:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, common/packets.c, common/packets.h,
 	common/shared.h, server/civserver.c, server/plrhand.c: Send
 	capability strings so that clients know capabilities of other
 	clients, to help future backward compatibility.  This patch itself
 	is backward compatible via capabilities.  Patch submitted by Kris
 	Bubendorfer.
	
Sat Jan 16 01:15:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Help text patch submitted by Greg Wooledge
 	<wooledge@kellnet.com>:
	
	This patch does some revision on the helpdata.txt file.  I've
 	standardized the capitalization of many words (Wonder->wonder,
 	factory->Factory, etc.), removed trailing white space, cleaned up
 	some minor grammar/phrasing problems, and added a couple comments
 	based on Civ2 experience.  More importantly, I've standardized
 	some terminology:
	
	  * I've used the terms "food production", "shield production",
 	    "science production", "tax production" and "luxury production"
 	    to refer to the output of cities.
	
	  * I've used the terms "food resource", "shield resource" and
 	    "trade resource" to refer to what's harvested from squares
 	    around a city.
	
	  * I've used the term "shields" to refer to shield resources,
 	    rather than the more ambiguous "production"; I've also used
 	    "shields" (or kept the phrase "production shields") in the
 	    government help to indicate unit upkeep costs.
	
	The only change I didn't make in terms of standardization is to
 	reconcile the American and British spellings of certain words
	(particularly "defense"/"defence").  The "Coastal Defense" stanza
 	is a rather glaring example of the need for this, but I didn't
 	want to try to make that call....
	
Sat Jan 16 01:12:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c: Fixed case when diagonal roads is off and we
 	have a rail/road tile with only diagonally adjacent rail/road
 	tiles.  Now draws an "isolated" rail/road (used to draw no
 	rail/road on that tile).
	
Fri Jan 15 11:04:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unittools.h: New feature: civil war.  If a player's
 	capital is captured and the number of cities the player owns is at
 	least "civilwarsize"
	(a new server option), then the player's empire splits in a civil
 	war, with cities and units being divided between the old player
 	and a new AI player.  (Civil wars only happen if there are less
 	than 14 existing players.)  From patch submitted by Kris
 	Bubendorfer <kris@MCS.VUW.AC.NZ>.

Fri Jan 15 11:04:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.h, common/unit.c,
 	common/unit.h, data/helpdata.txt, server/citytools.c,
 	server/citytools.h, server/civserver.c, server/gamehand.c,
 	server/stdinhand.c, server/unitfunc.c, server/unitfunc.h,
 	server/unithand.c, server/unittools.c: New feature: civil war.  If
 	a player's capital is captured and the number of cities the player
 	owns is at least "civilwarsize" (a new server option), then the
 	player's empire splits in a civil war, with cities and units being
 	divided between the old player and a new AI player.  (Civil wars
 	only happen if there are less than 14 existing players.)  From
 	patch submitted by Kris Bubendorfer <kris@MCS.VUW.AC.NZ>.
	
Tue Jan 12 11:21:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/citydlg.c: Another fix to the "selecting idle
 	autosettler" problem, this time when selecting the unit from the
 	city dialog.
	
Tue Jan 12 10:55:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, client/packhand.c, server/unithand.c: Fix so
 	that a settler in auto-mode, but currently idle (between jobs),
 	correctly goes out of auto-mode when selected by the user.
	
Tue Jan 12 10:33:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, configure, configure.in: New configure
 	option --disable-make-data, which prevents make from recursing
 	into the data directory (and subdirectories) when you do a make
 	from the top level.  The only time you _don't_ want to use this
 	option is when you're going to do a "make install", since then you
 	_do_ want to recurse into the data directories, else the data
 	won't be installed.
	
Tue Jan 12 10:32:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/Makefile.am, data/default/Makefile.in: Fix so "make
 	install" installs data/default properly.
	
Mon Jan 11 08:21:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/Makefile.am, data/default/Makefile.in: Left off a
 	line-continuation backslash.
	
Mon Jan 11 07:50:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/.cvsignore: Added data/default/.cvsignore
	
Mon Jan 11 07:35:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
 	data/default/Makefile.am, data/default/Makefile.in: Added
 	Makefile.am and changed configure.in for new directory
 	data/default.
	
Mon Jan 11 07:24:44 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/civclient.c, client/mapview.c,
 	client/optiondlg.c, data/Freeciv: Added a new client option to
 	turn display of diagonal roads on or off.
	
Mon Jan 11 07:22:26 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/graphics.c: Fix bug introduced by the diagonal roads tile
 	rearrangement where the unit pictures in the help dialog didn't
 	have flags.
	
Sun Jan 10 08:12:10 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/default/roads.xpm, data/default/small.xpm,
 	data/default/tiles.xpm, data/default/treaty.xpm,
 	data/default/units.xpm: Moved the XPM files for the game tiles
 	into the directory default.
	
Sun Jan 10 05:27:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Lots of reformating and variable renaming in
 	auto_settler_findwork(), and extra comments.
	
Sun Jan 10 05:22:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fixed code which sends select_race packets
 	to players, to avoid sending multiple unnecessary packets, and to
 	make the code cleaner.  Problem reported by "Caz" Marko Lindqvist
 	<caz@students.cc.tut.fi>, but I did a more extensive fix than the
 	one provided by Caz.
	
Sun Jan 10 05:08:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Don't inform connected clients when "server
 	only" server options are changed (eg, random seeds, saveturns
 	etc).
	
Sun Jan 10 05:04:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile: Also added server/gamelog.o to Imakefile.
	
Sun Jan 10 04:06:24 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/graphics.c: Added support for tileset directories.  Also
 	added checking for the XPM file sizes.  If an XPM file isn't the
 	correct size the client will exit with an error message explaining
 	this, rather than crashing.
	
Sun Jan 10 04:03:37 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c, client/resources.h: Added new option "--tiles"
 	which controls which directory the tiles comes from.  e.g.
  	civclient --tiles civ2, use the XPM files in the directory
 	data/civ2
	
Sun Jan 10 03:58:22 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/climisc.h: Added functions in support
 	of multiple tile directories.
	
Sat Jan  9 23:44:36 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Capitalized active units report
 	title correctly.
	
Sat Jan  9 23:41:01 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Added braces to clear up egcs warnings.
	
Sat Jan  9 23:33:38 1999  Trent Piepho <xyzzy@u.washington.edu>

	* Makefile.noimake: Updated to reflect the gamelog patch
	
Sat Jan  9 03:33:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/Makefile.am, server/Makefile.in, server/cityhand.c,
 	server/cityturn.c, server/civserver.c, server/diplhand.c,
 	server/gamelog.c, server/gamelog.h, server/plrhand.c,
 	server/stdinhand.c, server/unitfunc.c, server/unithand.c: New
 	"gamelog" feature.  Enabled by new server command line option, "-g
 	LOG" (or "--gamelog LOG") and a new server option, "gamelog", to
 	control various levels of logging (or to turn it off and on (if
 	enabled) mid-game).  From patch submitted by Jake Kesinger
 	<kesinger@math.ttu.edu>.
	
Sat Jan  9 01:42:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Grammar fix to "helps build wonder" message.
  	Based on patch submitted by Tony Stuckey.
	
Sat Jan  9 01:35:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: Use plural race name in message when race
 	destroyed.  Adapted from patch submitted by Tony Stuckey.
	
Sat Jan  9 01:29:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Removed unused variable "tech" in
 	ai_eval_buildings().  Patch submitted by Anthony J. Stuckey
 	<stuckey@jaka.ece.uiuc.edu>.
	
Thu Jan  7 12:09:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Additional American city names; patch submitted
 	by Jake Kesinger <kesinger@math.ttu.edu>.
	
Thu Jan  7 12:03:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/graphics.c, client/mapview.c, client/packhand.c,
 	data/Makefile.am, data/Makefile.in: Changed the client to display
 	diagonal road and rail connections.  Old road tiles removed from
 	data/tiles.xpm and new tiles put in new file data/roads.xpm.  From
 	patch submitted by Jeff Mallatt <jjm@codewell.com>.
	
Tue Jan  5 12:39:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c: In string_center(), put in a cast (printf arg to
 	"%*" with a sizeof, now cast to int) to quiet warning on OS/2,
 	reported by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.  Then
 	found out that string_center() is no longer used anywhere (not to
 	mention this is a bad module for it), so #if-ed the function out.
  	(Note also create_centered_string() in common/shared.c).
	
Tue Jan  5 12:24:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, data/helpdata.txt: Allow control + Button 2 to
 	give tile information in the main map
	(the same as Button 3) to help those who don't have a 3 button
 	mouse.  Patch submitted Bussi Andrea <bta@edu.al.unipmn.it>, plus
 	I added text for the new control to the "Help Controls" page.
	
Tue Jan  5 12:05:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, common/packets.h, server/civserver.c,
 	server/stdinhand.c, server/stdinhand.h: Made several improvements
 	to server options:

	- Classifed the options, and re-orderd them according to class.
	- Used classes to generalize the old "afterstart" data.
	- Split the help strings into short and long versions, and re-wrote
	  many of them.
	- Print both help strings for individual "explain <option>".
	- Included short help strings in the output of "show".
	- In the client, split the "server options" menu item into two new
 	  items, to each show (roughly) half of the options ("initial"
 	  options, vs "ongoing" options).  (The old single listing was
 	  getting too long, especially if we want to add more options in the
 	  future.)  The old menu item remains, for compatibility with old
 	  servers, and the new server still serves the old menu item
 	  request, for compatibility with old clients.
	- Changed server printfs about "variables" to say "options".
	- In handle_report_request() in civserver.c, send a message to the
 	  client output window if the client asks for an unknown report, so
 	  mismatched servers and clients work together better in the future
 	  if additional new report types are added.  (Previously the server
 	  silently ignored unknown report types.)
	
Tue Jan  5 11:57:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, common/city.h, common/unit.c,
 	common/unit.h, server/settlers.c, server/settlers.h,
 	server/unitfunc.c: In this patch AI will build a diplomat (for
 	defense) whenever an enemy diplomat or boat is close enough to a
 	town.  If AI hasn't learned yet about writing, AI will try to get
 	this knowledge.
	(The AI doesn't know how to use the diplomats offensively.)  AI
 	will also check that the place where it wants to build a new city
 	isn't within range of an enemy military ground unit or a diplomat.
  	Patch submitted by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>,
 	with some minor formatting changes by me.
	
Fri Jan  1 12:12:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* INSTALL.debian: The INSTALL.debian file somehow had lots of junk
 	included.  New file submitted by Lalo Martins <lalo@debian.org>.
	
Thu Dec 31 06:07:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c: In ai_manage_taxes, changed an instance of
 	handle_unit_disband to be handle_unit_disband_safe, to avoid
 	possibility of a dangling iterator.  Bug reported by Jake Kesinger
 	<kesinger@math.ttu.edu>.
	
Wed Dec 30 19:03:34 1998  Lalo Martins <lalo@debian.org>:

	* INSTALL.debian: Adding INSTALL.debian - I'm a month late at
 	this...
	
Wed Dec 30 19:00:32 1998  Lalo Martins <lalo@debian.org>:

	* build.debian, debian/changelog, debian/menu, debian/postinst,
 	debian/postrm, debian/rules: updating debian files (debian/*) to
 	match 1.7.2. I don't know why is CVS commiting build.debian, but
 	let it have its fun :-)
	
Tue Dec 29 10:44:34 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Moved adjustment to attacker's moves_left to
 	be after the call to unit_versus_unit(), so we get the correct
 	attack modifier for units with less than 1 movement point left.
	
Sat Dec 26 03:02:37 1998  Mitch Davis <mjd@alphalink.com.au>:

	* NEWS: Last minute changes, including AI difficulty levels and
 	thanks to David.
	
Sat Dec 26 02:56:58 1998  Mitch Davis <mjd@alphalink.com.au>:

	* AUTHORS: Added Martin Hansen to recognise the work he's doing
 	with the new web pages.
	
Sat Dec 26 02:33:33 1998  Mitch Davis <mjd@alphalink.com.au>:

	* HOWTOPLAY: Put in pointers to INSTALL and README, because
 	otherwise I think people might be confused by a document called
 	"HOWTOPLAY".
	
Sat Dec 26 02:27:15 1998  Mitch Davis <mjd@alphalink.com.au>:

	* NEWS, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Updated version numbers to 1.7.2.
  	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Dec 23 10:02:33 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Updated NEWS for 1.7.2.
	
Wed Dec 23 10:01:18 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.noimake: Removed unused "VERSION" in Makefile.noimake.
	
Tue Dec 22 10:21:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, HOWTOPLAY, INSTALL, README, server/stdinhand.c: Minor
 	doc fixes.
	
Mon Dec 21 16:12:08 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/civserver.c, server/civserver.h, server/meta.c,
 	server/meta.h, server/sernet.c, server/stdinhand.c,
 	server/stdinhand.h: - Rationalised prompt printing, so we only get
 	one when we need it.  It makes startup look a lot nicer.  - Added
 	an int return to the metaserver send routines, so callers know
 	whether it was successful or not.  - Unfolded some routines to
 	avoid lots of elses or long ifs.  Basically, if a routine could
 	drop out, drop out immediately with return, rather than skip an if
 	or else if until the end.  - Changed the format of human players
 	from player[someplace] to <player@someplace>.  It's more like
 	other things we see, like mail addresses.  - Made some messages
 	correctly handle singular cases.  - Made the list command (and the
 	corresponding client command) look nicer for AI players.  -
 	Changed the default meta-server info line from "Blood's Music II"
 	to "(default)".  Kinda boring I know... :-( - Warn the server-op
 	if they try a "meta" command, and we can't send to the metaserver.
  	- Changed "help_command()" to "explain_option()".  - Patched the
 	stdin handler so blank lines are ignored.  - "Help" now does what
 	"h" does.  Explaining options is now done by "explain".
	
Mon Dec 21 15:34:12 1998  Mitch Davis <mjd@alphalink.com.au>:

	* README:
  	 - Now only contains README-stuff!!
	 - Added introduction section.
	 - Moved website section to the front.
	 - Added pointer to the GPL.
	 - Beefed up instructions on running the server and client.
	 - Updated the list of server commands.
	 - Clarified non-localhost example.
	 - Clarified AI creation.
	 - Clarified purpose of metaserver.
	 - Improved bug-reporting section.
	 - Improved section on mailing lists and new releases.
	
Mon Dec 21 15:33:22 1998  Mitch Davis <mjd@alphalink.com.au>:

	* INSTALL:
  	 - Rewrote lots of stuff.
	 - Added prerequisite section.
	 - Now only contains configuration, installing and compiling! :-)
	
Mon Dec 21 15:31:30 1998  Mitch Davis <mjd@alphalink.com.au>:

	* HOWTOPLAY:
  	 - Fixed grammar.
	 - Rearranged, so that strategy is first, and options is later.
	 - Made mention of Greggurabi's 12 steps.
	 - Made mention of Dave's techtree.
	
Mon Dec 21 15:28:53 1998  Mitch Davis <mjd@alphalink.com.au>:

	* AUTHORS:
  	 - Generally tidied things up.
	 - Condensed people who did not contribute to the 1.7 series.
	 - Verified that everyone in the ChangeLog is in this file.
	 - Added Dave to the administrators (hi dave!)
	
Mon Dec 21 07:19:37 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Minor AUTHORS fixes.
	
Mon Dec 21 07:18:01 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: Fix messages from, eg, "..the Mongol has
 	Researched..."  to "..the Mongols have researched..."  Patch
 	submitted by Mika Korhonen <mikak@ee.oulu.fi>.
	
Sat Dec 19 10:13:20 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c: Slightly improve what happens when focus
 	shifts to units which have been given the "wait" command.  In
 	particular, if there is only one available unit, it keeps the
 	focus if it tries to wait.
	
Sat Dec 19 10:11:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c: Refresh the tile of previous focus unit in
 	set_unit_focus(), when required, to avoid the previous focus unit
 	sometimes disappearing when the focus changes.
	
Sat Dec 19 10:08:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c: Allow units to keep focus at the end of a goto
 	if they have movement left.
	
Fri Dec 18 10:15:23 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: Fixed "spy eliminated" messages to use
 	unit_name().  Bug reported by Reinier Post.  Also #if-ed out some
 	code in diplomat_incite(), so now spies/diplomats get the usual
 	diplchance chance to defend against inciters, rather than being
 	perfect defenders.
	
Thu Dec 17 11:07:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, common/diptreaty.c: Adding or changing treaty clauses
 	after a gold clause exists was broken.  Bug report from Mika
 	Korhonen <mikak@ees2.oulu.fi>.
	
Thu Dec 17 10:12:16 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: When a spy steals tech, say "spy" not
 	"diplomat" in messages.  Bug reported by Andrew Schulman.
	
Wed Dec 16 11:15:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/handchat.c: Attempt to allow ':' character in chat line
 	messages more flexibly, while still allowing messages directed to
 	one player, and noticing some player name typos.  Based in part on
 	a patch by Reinier Post <rp@win.tue.nl>
	
Wed Dec 16 10:37:31 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: In help text, clarified effect of
 	Hydro/Nuclear/Power Plants, and for some wonders clarified whether
 	the effect is for all cities or not.
	
Wed Dec 16 08:40:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: Minor fixes to ChangeLog.
	
Wed Dec 16 08:37:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* .cvsignore: Added undep.sh to cvsignore.
	
Wed Dec 16 08:35:51 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c: Changed "Gandi" to "Gandhi".
	
Tue Dec 15 10:30:27 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, configure, configure.in, ai/Makefile.in,
 	undep.sh.in, client/Makefile.in, common/Makefile.in,
 	data/Makefile.in, server/Makefile.in: Added a configure option
 	--disable-cvs-deps, to mangle the configure-produced Makefiles
 	produced from cvs sources, to remove the dependency calculation
 	parts, which depend on features of gcc and gmake.  If the options
 	is not specified, configure makes a decision based on whether gcc
 	is being used; ideally it should also check for gmake, but
 	doesn't.  If the dependency calculation parts are removed, you
 	should always do "make clean" before "make" if any header files
 	(.h files) change.
	
Tue Dec 15 09:56:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c: When AI adjusts workers in neighbouring cities to
 	cope with city emergencies, first check if we own the neighbouring
 	cities!!  From bug report by Andrew Schulman.
	
Tue Dec 15 09:51:06 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, client/repodlgs.c,
 	server/cityturn.c, server/gotohand.c, server/unitfunc.c: Commented
 	out a case where client wrote to stdout, and changed some server
 	and ai stdout printfs to debug level log messages.
	
Sun Dec 13 17:48:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/citydlg.h: Made activate_unit() use a
 	unit pointer as an argument instead of a unit ID.  Added a
 	prototype for it into the header file too.
	
Sun Dec 13 17:36:02 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/citydlg.c: Clicking the
 	middle button on a unit in the city dialog will cause the
 	"activate and close" action to be taken, without having to go
 	through a pop-up menu.
	
Sun Dec 13 17:33:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/pixcomm.c: Replaced the Notify action with one that
 	passes the XEvent as the call_data to the callback.  This way the
 	callback can take different actions based on what button or key
 	activated it.
	
Sun Dec 13 01:06:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c: Fixed some more cases of map.xsize instead of
 	map.ysize.
	
Sat Dec 12 12:07:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c, server/unitfunc.c: Minor fixes to some debug
 	log messages.
	
Sat Dec 12 11:59:08 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: Slightly improved handling of repeated log
 	messages.
	
Sat Dec 12 11:54:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c: Fixed a segfault bug when an easy AI explorer gets
 	killed in a fuzzily ignored hut.
	
Sat Dec 12 04:18:53 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Made configure.in require autoconf
 	version 2.12 or later.  May not be quite correct, but autoconf
 	version 2.9 is reported not to work, and version 2.12 is known to
 	work.
	
Sat Dec 12 03:33:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Fix to infamous bug when investigating
 	cities, leading to occasional segfaults and other anomalies (bug
 	reported by many people).  When a unit moves out of known area,
 	remove the unit's pointer (about to be freed) from its home city
 	supported units list.  Note that when you investigate a city,
 	units outside known territory don't get shown in the supported
 	units area.
	
Thu Dec 10 15:49:02 1998  Mitch Davis <mjd@alphalink.com.au>:

	* ChangeLog: Updated the ChangeLog for the changes between 1.7.1
 	and 1.7.2.
	
Thu Dec 10 10:16:34 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c: When AI stops building a wonder, use
 	E_WONDER_STOPPED to follow client message options.  Bug reported
 	by Andrew Schulman.  Likewise, when AI sells obsolete
 	improvements, use E_IMP_SOLD.
	
Thu Dec 10 09:54:49 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, client/mapctrl.c, common/unit.c, common/unit.h,
 	server/unithand.c: Clean up what player gets told when a diplomat
 	or spy can't do an action due to lack of movement points.  There
 	used to be three possibilities:

	- The message "You can't attack there", if the city is occupied.

	- The message "Only ground troops can take over a city", if the
 	  city is empty and a random number goes in favor of allowing you
 	  to move.

	- Nothing at all, if the city is empty and the random number goes
 	  against letting you move.

	Now it always says: "You don't have enough movement left".  Also,
 	if spy/diplomat hasn't moved this turn, allow action, to allow
 	diplomats to act against cities in mountains.  Patch submitted by
 	Patrick Smith <patsmith@pobox.com>.
	
Thu Dec 10 09:19:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Changed some cases of map.xsize to map.ysize.
  	Hopefully this completes fix to europe.sav segfault bug report by
 	Andrew Schulman.
	
Wed Dec  9 11:25:14 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Fixed check to exclude y==game.mapsize when
 	choosing city sites.  Possible partial fix to europe.sav segfault
 	bug reported by Andrew Schulman.
	
Tue Dec  8 10:20:47 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Added/adjusted names of contributors.
	
Tue Dec  8 10:14:33 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Small optimization to calc of AI barracks
 	values, based on a patch by Tony Stuckey.
	
Thu Dec  3 11:33:57 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c: Adjust initial map knowledge depending on
 	game.civstyle.  Patch submitted by Anthony J. Stuckey
 	<stuckey@jaka.ece.uiuc.edu>.
	
Thu Dec  3 11:18:37 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile: Fixed rule for client/Freeciv.h, to work with Solaris
 	make.  Patch submitted by Reinier Post.
	
Thu Dec  3 11:07:23 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: If we're using gcc, use -Wall, to
 	encourage patches which are -Wall clean.
	
Thu Dec  3 10:50:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: When configure fails due to not finding
 	X or Xpm, try to give some hints.
	
Wed Dec  2 10:17:16 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Updated Greek city names, submitted by Rizos
 	Sakellariou <rizos@cs.rice.edu>.
	
Wed Dec  2 10:08:40 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Minor help text fixes.
	
Wed Dec  2 10:01:03 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Adjusted and additional Roman and German city
 	names.  Patches submitted by Massimo Campostrini and Peter
 	Schaefer.
	
Wed Dec  2 09:44:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acinclude.m4, aclocal.m4, configure, configure.in: New macro
 	FC_XPM_PATHS to allow user to specify Xpm paths more easily, or
 	guess paths in /usr/local if the appropriate Xpm files are found
 	there.  Also renamed AC_EXPAND_DIR to FC_EXPAND_DIR.
	
Tue Dec  1 09:46:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, config.h.in, configure, configure.in,
 	ai/Makefile.in, client/Makefile.in, common/Makefile.in,
 	data/Makefile.in, server/Makefile.am, server/Makefile.in: Fix to
 	not include -lnsl -lsocket twice on client link line (already once
 	in X_EXTRA_LIBS), but still include them (if required) for the
 	server, using new SERVER_LIBS.  Should also fix problems with
 	these libs on IRIX.  Don't check for socket func because of
 	resulting problems with LIBS.  Die with an error if can't find
 	X11/xpm.h include.
	
Sun Nov 29 07:05:09 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/finddlg.c, client/gotodlg.c, common/game.c,
 	common/game.h, server/citytools.c, server/civserver.c,
 	server/plrhand.c: Some minor fixes indicated by Solaris cc
 	warnings.  Removed some bad (void*) casts to the fourth (function)
 	arg of qsort; changed game.randseed to type int instead of
 	RANDOM_TYPE (= uint), so the (int*) in settings can point to it
 	properly, and because we can't store a non-int value in it anyway;
 	fixed some trivial cases of "statement not reached".
	
Sun Nov 29 04:23:17 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Use X_CFLAGS to get appropriate -I when
 	checking for X11/xpm.h
	
Sat Nov 28 07:21:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.AI: Band-aid update to README.AI
	
Sat Nov 28 07:20:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, common/shared.c, common/shared.h,
 	server/sernet.c: New function mystrerror, to work around systems
 	where a real strerror function wasn't found by configure.
	
Fri Nov 27 12:02:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.h: Set default diplcost to 0.  Patch submitted by
 	Mirar <mirar@idonex.se>.
	
Fri Nov 27 11:32:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.h, client/menu.c, data/helpdata.txt: Added help
 	page for Zones of Control.
	
Fri Nov 27 11:18:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acinclude.m4, aclocal.m4, configure: Fixed FC_CHECK_X_LIB to put
 	LIBS rightmost on trial linker line.  Patches submitted by Sverker
 	Wiberg and Greg Wooledge.
	
Fri Nov 27 11:15:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in: Fixed client link line
 	to not include X_PRE_LIBS twice.  Patch submitted by Greg
 	Wooledge.
	
Fri Nov 27 11:12:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/repodlgs.c, common/city.c, common/city.h, common/game.c,
 	common/game.h: Fixed minor problem with the city report if any
 	cities have duplicate names or truncated names.  In the process
 	improved city report popup-time for large numbers of cities by
 	sorting on city pointers rather than city_id's.  Changed
 	city_name_compare() to operate on city pointers rather than
 	city_id's, and moved from game.c to city.c.  Changed city report
 	to indicate truncated names with a "." at the end.
	
Thu Nov 26 10:45:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: An additional city name pool for use by races
 	which run out of city names.  Names are small town names from the
 	GPL'd game xconq.  Patch submitted by Massimo Campostrini
 	<campo@mailbox.difi.unipi.it>.
	
Thu Nov 26 10:43:37 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/xmain.c: Initialize the random number generator in the
 	client, for city name suggestions.
	
Thu Nov 26 10:35:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: Allow city
 	names up to length 31 (ie MAX_LENGTH_NAME-1) when naming or
 	renaming a city.  In the city report abbreviate names longer than
 	15 characters.
	
Thu Nov 26 07:18:55 1998  Lalo Martins <lalo@debian.org>:

	* debian/rules: changed CREDITS for AUTHORS in debian/rules
	
Thu Nov 26 07:01:27 1998  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/civ, debian/civ.man,
 	debian/civclient.6, debian/civserver.6, debian/control,
 	debian/copyright, debian/menu, debian/rules: updating the debian/
 	directory
	
Thu Nov 26 06:45:07 1998  Lalo Martins <lalo@debian.org>:

	* build.debian: script to automatically build Debian packages of
 	CVS snapshots, directly from the local CVS tree
	
Wed Nov 25 11:51:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/civserver.c,
 	server/gamehand.c, server/plrhand.c, server/stdinhand.c,
 	server/stdinhand.h: Removed "default" skill level.  Instead set
 	and display skill levels explicitly.  Changed default skill level
 	to "easy".  Set skill level explicitly for aifill players and when
 	a human player is toggled to ai control.  New function
 	set_ai_level_direct().
	
Wed Nov 25 11:38:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/plrhand.c,
 	server/settlers.c, server/stdinhand.c: Implemented
 	player.ai.expand to make easy mode AI less expansionistic.
	
Wed Nov 25 11:26:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aiunit.c,
 	server/settlers.c: Modified some AI decisions to be fuzzy.
	
Wed Nov 25 11:19:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/plrhand.c,
 	server/stdinhand.c: Framework for fuzzy AI decisions for easy AI
 	mode.
	
Wed Nov 25 07:17:38 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c, client/optiondlg.c: Fudged empty switch/goto
 	labels, to placate Solaris cc/xmkmf/makedepend.  Based on
 	information from Reinier Post.
	
Wed Nov 25 07:08:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: In handle_unit_info(), for a new unit,
 	initialize unit unhappiness, upkeep, fuel, and ai.control, based
 	on packet rather than to zero.  Fuel part fixes a bug with display
 	of bomber moves left, reported by Andrew Schulman; upkeep and
 	unhappiness parts fix bug where the unit upkeep and unhappy icons
 	in the city report were not shown initially when a player
 	reconnects.
	
Wed Nov 25 07:04:05 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: Fixed help on wonders; was accidently showing
 	improvement style information, with upkeep instead of obsolete-by.
  	Bug reported by Massimo Campostrini.
	
Sun Nov 22 06:04:56 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile: Fixed position of client/Freeciv.h rule, thanks to
 	Reinier Post.  Also changed the rule to add the comments at the
 	top of Freeciv.h
	
Sat Nov 21 08:04:53 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Changed to avoid using "test -z" (for
 	testing Xaw3d) since caused problems on Solaris.
	
Sat Nov 21 07:45:08 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure: Autogenerated file updates.
	
Sat Nov 21 07:42:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in: Don't do the X-related configure tests if
 	--disable-client, to allow building the server on a machine
 	without X.  From a patch by Sverker Wiberg.
	
Sat Nov 21 07:41:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in: Minor corrections to VERSION and PACKAGE defines
 	pointed out by Per Mathisen.  This change makes VERSION and
 	VERSION_STRING in config.h identical, but it seems easiest to
 	leave them both there.
	
Sat Nov 21 07:40:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, configure.in, client/pixcomm.c, client/pixcommp.h:
 	Allow using of Xaw3d via a configure option, --with-xaw3d.  Thanks
 	to xaw3d patch by Trent, and configure patch by Markus Linnala.
	
Fri Nov 20 23:48:02 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/registry.c: Minor extensions to registry format to allow
 	future use with client options file: allow '#' as a comment
 	character, and allow space before equals sign.
	
Fri Nov 20 23:45:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/optiondlg.c: Added a currently unused line to the client
 	options files, so that in the future we should be able to
 	transparently change to using registry functions to parse this
 	file.
	
Fri Nov 20 23:42:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/graphics.c, client/graphics.h,
 	common/shared.h: Moved "vers" define from graphics.h to shared.h
 	(in future to config.h?) and renamed to WORD_VERSION; allows
 	removing includes for config.h and shared.h in graphics.h
	
Fri Nov 20 23:24:04 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/maphand.c: Swamps caused by global warming no longer
 	retain irrigation.
	
Wed Nov 18 12:10:32 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, acinclude.m4, aclocal.m4, config.h.in, configure,
 	configure.in: Put configured FREECIV_DATADIR into config.h, for
 	even tidier compile lines.
	
Wed Nov 18 11:10:35 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: More minor fixes to foodstock with a granary,
 	re citysize and odd values of game.foodbox, this time for famine
 	situations.
	
Tue Nov 17 09:41:41 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: Improvements to code and for odd foodbox, in
 	city_increase_size(), suggested by Tony Stuckey.
	
Tue Nov 17 09:19:12 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c: Made the warstack queue into a circular
 	queue, to fix a bug where we could write past the end of warstack
 	for large maps.  Fixes a segfault bug reported by Andrew Schulman.
	
Tue Nov 17 08:01:38 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Made some columns in the city report right
 	justified and some left justified.
	
Tue Nov 17 07:59:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c, server/stdinhand.c: Formatted the titles of
 	some reports better.
	
Mon Nov 16 11:02:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/connectdlg.c: Fixed a bug where the metaserver dialog
 	sometimes became unavailable.  Bug reported by Nicolas Brunel
 	<brunel@ham.esil.univ-mrs.fr>.
	
Mon Nov 16 10:35:35 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fixed bug where huts reappeared when
 	reloading a savegame based on a scenario.  Bug reported by Andrew
 	Schulman <andrex@alw.nih.gov>.
	
Sun Nov 15 08:41:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/optiondlg.c: Avoid using snprintf (non-standard).
	
Sun Nov 15 08:04:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.h: Conditionally put VERSION defines back in
 	shared.h (for now?) so Imakefile and Makefile.noimake can work.
	
Sun Nov 15 03:15:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* stamp-h.in: Put stamp-h.in in cvs again.
	
Sun Nov 15 01:53:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, aclocal.m4, config.h.in, configure, ai/Makefile.in,
 	client/Makefile.in, common/Makefile.in, data/Makefile.in,
 	server/Makefile.in: Autogenerated files from previous batch of
 	changes: aclocal ; autoheader ; automake ; autoconf
	
Sun Nov 15 01:49:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, configure.in: Configure options `--disable-client'
 	and `--disable-server', to only build the server or client
 	respectively.  The default is to build both.  From a patch
 	submitted by Sverker Wiberg <sverkerw@Update.UU.SE>.
	(But note: I believe configure still checks (and insists on) the X
 	libs even if disable-client; needs to be fixed. --dwp)
	
Sun Nov 15 01:48:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in, client/Makefile.am: Link only the civclient
 	against X11 libs.  From a patch by Markus Linnala.
	
Sun Nov 15 01:48:08 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, acconfig.h, acinclude.m4, configure.in: Attempt at
 	improving detection of X11 libraries.  Based on patches by Markus
 	Linnala and Greg Wooledge.
	
Sun Nov 15 01:46:56 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, acconfig.h, configure.in, common/shared.h: Use
 	config.h and -DHAVE_CONFIG_H instead of very long compile lines.
  	From a patch by Markus Linnala; also thanks to Per Mathisen.
	
Sun Nov 15 01:45:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in: Relatively simple and self-contained configure.in
 	changes, based on a patch submitted by Markus Linnala
 	<maage@cs.tut.fi>.
	
	Setup all version defines fully in configure.in
	
	Added AM_MAINTAINER_MODE; use configure option
 	--enable-maintainer-mode to enable make rules and dependencies not
 	useful (and sometimes confusing) to the casual installer.  (Note
 	this doesn't do what I thought; it determines whether aclocal etc
 	are rerun by make -- it doesn't affect source compilation
 	dependencies. -- dwp)
	
	Configure debugging options: --enable-debug=[no/minimum/yes]
 	--enable-debug=no defines NDEBUG, so asserts aren't included at
 	binary. --enable-debug=yes defines DEBUG. It does not have any
 	effect now, but maybe it is needed. --enable-debug=minimum does
 	not define anything (this is the default).  (Removed old debug
 	example.)
	
	Added program checks for AWK, LN_S (from autoscan); commented out
 	AC_PROG_MAKE_SET already done by AM_INIT_AUTOMAKE.
	
	Moved checks for library functions down (per autoconf docs).
	
	Combined AC_CHECK_HEADERS lines, and added sys/ioctl.h (from
 	autoscan).
	
	Added AC_STRUCT_TM (from autoscan).
	
	Added strstr to AC_CHECK_FUNCS, and comment re gettimeofday (from
 	autoscan).
	
Sun Nov 15 01:44:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/connectdlg.c, client/graphics.c,
 	client/graphics.h, client/helpdlg.c, client/optiondlg.c,
 	client/xmain.c, common/shared.h, server/civserver.c,
 	server/gamehand.c, server/meta.h: Conditionally included config.h
 	for those files which will need it (at this stage only files which
 	use VERSION defines, since other configure defines are not used).
  	From a patch by Markus Linnala.
	
Sun Nov 15 01:42:38 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/Makefile.am, client/Makefile.am, server/Makefile.am: Removed
 	space between -I and its argument, and other minor formating.
  	From a patch my Markus Linnala.
	
Sat Nov 14 06:23:41 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capability.c: Use mystrdup instead of strdup.
	
Sat Nov 14 00:55:38 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in: Fix to allow building
 	freeciv in another tree than the sourcetree.  Patch submitted by
 	Mirar <mirar@idonex.se>.
	
Sat Nov 14 00:52:51 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/Makefile.am, data/Makefile.in: Added scenario savegames to
 	pkgdata_DATA so they get included in distribution.
	
Sat Nov 14 00:49:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, client/messagedlg.c, client/messagedlg.h,
 	client/optiondlg.c, client/optiondlg.h, client/repodlgs.c,
 	client/repodlgs.h, client/xmain.c: Added ability to save and
 	reload client "settings", that is: options, message options, and
 	city report configuration.  The settings file is
 	$HOME/.civclientrc, or instead $FREECIV_OPT if that environment
 	variable is set.  Settings are loaded at startup if the file
 	exists, and saved from a game menu option.  Based on a patch
 	submitted by Massimo Campostrini <campo@mailbox.difi.unipi.it>.
	
Sat Nov 14 00:10:10 1998  Mitch Davis <mjd@alphalink.com.au>:

	* AUTHORS, Makefile.am, Makefile.in: Moved the contents of CREDITS
 	to AUTHORS, as the Makefile that configure generates looks for
 	AUTHORS, not CREDITS.  I've been meaning to do this for a long
 	time.
	
Sat Nov 14 00:02:57 1998  Mitch Davis <mjd@alphalink.com.au>:

	* Imakefile: This patch recreates client/Freeciv.h from
 	data/Freeciv.  Patch submitted by Reinier Post <rp@win.tue.nl>.
	
Thu Nov 12 08:33:47 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/Makefile.in: Set
 	-DFREECIV_DATADIR to pkgdatadir without modifying
 	client/Makefile.in directly.  Patch submitted by Mirar
 	<mirar@idonex.se>.
	
Thu Nov 12 07:57:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagedlg.c, common/events.h, server/cityturn.c,
 	server/unitfunc.c, server/unithand.c: Fixed some annoyances with
 	the messages window: Added some new event types:
 	E_CITY_AQ_BUILDING for when a city needs an aqueduct/sewer and is
 	already building one (inspired by a patch by Michael Bickel);
 	E_UNIT_LOST_ATT and E_UNIT_WIN_ATT to be able to differentiate in
 	message options between combat results from defenders (initiated
 	by others) and attackers (initiated by self); similarly
 	E_MY_DIPLOMAT for diplomatic actions initiated by self (as opposed
 	to existing E_DIPLOMATED for those initiated by others).  Also
 	default some event messages as "output window only".
	
Thu Nov 12 07:27:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagewin.c: Fixed meswin_allocate() to add an extra
 	space for the string_ptrs sentinel.
	
Thu Nov 12 07:09:55 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Fixed could_build_improvement() so wonders can be
 	built even when obsolete.
	
Tue Nov 10 10:44:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/civclient.c, client/menu.c,
 	client/messagedlg.c, client/messagedlg.h, client/messagewin.c,
 	client/packhand.c, common/events.h, data/Freeciv: Combined the
 	message options and message filter dialogs into a single dialog,
 	and allow requesting individual popups for any event type, not
 	just the three in the previous "Message options".  Also, you can
 	now specify independently whether event messages go to the output
 	window and/or the messages window.  Also, the message labels in
 	the dialog are sorted alphabetically.
	
Tue Nov 10 10:34:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/chatline.c, client/chatline.h, client/climisc.c,
 	client/climisc.h, client/menu.c: Added menu option to clear the
 	output window.  Also decided to put all output window functions
 	into chatline.c, with append_output_window
	(that is, moved log_output_window there from climisc.c).
	
Mon Nov  9 11:15:04 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c, server/citytools.c, server/unitfunc.c,
 	server/unitfunc.h, server/unithand.c, server/unittools.c:
 	Diplomat/Spy fixes from Kris Bubendorfer
 	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
	1.  You now no longer get the the spy/diplomat menus if you have
 	insufficient moves to complete.
	
	2.  When you bribe a unit you no longer get all the hit points
 	back.  Therefore bribing a damaged unit will result in you getting
 	a unit with the same damage.  This also applies when you bribe a
 	city - all units inside retain their original hit points.
	
	3.  As per an earlier consensus on the list, damaged units cost
 	less to bribe by the following formula:

	        cost = original_cost/2 + (original_cost/2 * hp_left/hp)

	Therefore a unit with just 1 hp left will cost just over half the
 	undamaged cost.
	
Sun Nov  8 00:32:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fix per-connection capabilities: in the
 	server the client cap string was never copied into the connection
 	struct!  Also use our_capability instead of raw CAPABILITY in
 	accept_new_player.
	
Sat Nov  7 02:55:28 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, data/helpdata.txt: Changed possible locations
 	where Hydro Plant (and Hoover Dam) can be built to match Civ1 (was
 	next to Ocean/River, now Mountain/River).
	
Sat Nov  7 02:35:28 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.h: Increased maximum value of the researchspeed
 	server option from 20 to 100.
	
Sat Nov  7 02:23:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.AI, server/stdinhand.c: Made the default AI skill level
 	correspond to "normal".
	
Thu Nov  5 07:46:53 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/clinet.c, client/clinet.h,
 	client/packhand.c, client/xmain.c, common/packets.c,
 	common/packets.h, common/shared.h, server/civserver.c: Implemented
 	per-connection capabilities.  Replaced c_capability and
 	s_capability with our_capability, and added capability string to
 	connection struct.  See comments in common/shared.h
	
Thu Nov  5 07:29:06 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, common/unit.c, common/unit.h, server/citytools.c,
 	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
 	server/unithand.h: New function
 	transporter_min_cargo_to_unitlist(), for when a boat is disbanded
 	etc and there are other boats on the square.  New functions
 	wipe_unit_safe() and handle_unit_disband_safe() which take an
 	iterator argument and iterate past wiped units to avoid dangling
 	pointers and segfaults.  Unlink passenger genlist in wipe_unit
 	(wipe_unit_safe) to free genlist memory.
	
Thu Nov  5 07:06:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagedlg.c: Fixed some spelling in message_text[].
	
Thu Nov  5 07:00:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: Configurable
 	city report: can choose which columns are displayed, and extra
 	columns are now available.  Default setup is similar to before,
 	with some formating changes.  Available new columns are: more
 	concise rapture/disorder display; specialists; number of trade
 	routes; pollution.  It should be easy to add additional columns.
	
Thu Nov  5 06:16:51 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: Bounds check argument of find_city_by_id, to
 	avoid possible segfault when it is called with unit.ai.charge
 	which may refer to a unit id.
	
Sat Oct 31 10:31:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unittools.c: Fixed probable problems with
 	find_a_unit_type() (function to pick a unit_type found in hut).
  	Previous version had an off-by-one error and assumed Chivalry was
 	always found before Gunpowder.

Sat Oct 31 10:22:24 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h, server/mapgen.c: Moved
 	add_specials() from common/map.c to server/mapgen.c where it
 	belongs.
	
Sat Oct 31 10:09:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/plrhand.c: Removed tag "scorelog" from
 	the savefile_options string, and use secfile_lookup_int_default()
 	instead, since its not worth cluttering up savefile_options for a
 	single entry.
	
Thu Oct 29 09:34:31 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.h, common/shared.c,
 	common/shared.h, server/civserver.c, server/gamehand.c,
 	server/mapgen.c, server/plrhand.c, server/stdinhand.c:
 	Deterministic platform-independent pseudo-random number generator,
 	from patch submitted by Cedric Tefft <cedric@earthling.net>.
	
	Also added "to_client" field to settings (server options), to
 	avoid sending the random seeds (and also saveturns and scorelog)
 	when the client requests "report server options" (--dwp).
	
	Notes from Cedric:
	
	1) Although the PRNG seed is an unsigned 32-bit int, neither the
 	game file nor the server options know how to deal with any numbers
 	other than signed integers (no longs, no unsigned ints, etc.), so
 	in a few places I've had to strip the high bit off of the seed in
 	order to ensure consistency across platforms.
	
	2) The maximum value for the map seed is now limited to the
 	maximum value for the random number generator seed instead of
 	50000 (which I suspect was chosen somewhat arbitrarily anyway).
	
	3) I modified the map generator a tiny bit so that the map seed
 	variable takes on the value actually used to generate the map
 	(assuming it was zero to begin with).  Previously, a "random" map
 	seed was used to generate a new map, but this value was never
 	stored anywhere, so there was no reliable way to reproduce any
 	randomly generated map.
	
	4) If anybody has questions about the algorithm, please see the
 	code.  Believe it or not, I've actually included a relevant
 	comment or two. ;->
	
Tue Oct 27 13:50:47 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c, server/cityturn.c, server/unitfunc.c,
 	server/unithand.c, common/events.h, client/messagedlg.c: Added
 	some new event types for messages that previously used E_NOEVENT.
  	Reworded a lot of the diplomat/spy messages for grammer.
	
Tue Oct 27 12:10:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c: Cosmetic fix: don't save junk values for
 	ord_city for unsupported units.
	
Tue Oct 27 12:03:20 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fixed behaviour when server option
 	saveturns=0 (should mean never auto-save).  Bug reported by Ben
 	Korvemaker <benjamin@cs.ualberta.ca>.
	
Sun Oct 25 05:24:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, common/game.c, common/game.h,
 	server/citytools.c, server/cityturn.c: Added game.aqueduct_size
 	and game.sewer_size (max size of a city without Aqueduct/Sewer) to
 	be configurable etc in the future (via rulesets).
	
Sun Oct 25 05:08:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
 	ai/aiunit.c, common/city.c, common/city.h, server/citytools.c,
 	server/cityturn.c, server/settlers.c: Add and use new function
 	city_got_effect(), which is whether a city has an improvement or
 	the same effect via a wonder.  (Uses wonder_replacement().)
	
Sun Oct 25 04:38:30 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagewin.c, client/meswindlg.h, client/packhand.c:
 	Buffer the messages window for "end-of-turn" messages, similar to
 	city report buffering.
	
Sun Oct 25 04:35:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/messagewin.c, data/Freeciv: Removed the
 	limit (previously 32 lines) in the messages window, and made the
 	messages window scrollable.  When the window has enough messages
 	to be scrolling and new messages arrive, the window scrolls down
 	to the bottom so the new messages are noticed.
	
Sun Oct 25 04:07:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.h, server/civserver.c, server/plrhand.c,
 	server/stdinhand.c: Save and reload individual AI skill levels.
  	Also, show the skill level of each AI player in the server player
 	listing.  Do the right thing if server commands "hard" etc are
 	used with a name which doesn't match any player.
	
Sun Oct 25 03:32:34 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/repodlgs.c: Increased the number of columns in the
 	science report by 1 when the number of known techs is large (>60).
	
Sun Oct 25 03:28:49 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Adjusted help text for Controls, giving more
 	space to keyboard controls, and expanded some of the keyboard
 	control explanations.  Added auto-e(x)plore.
	
Sun Oct 25 03:23:20 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Changed some intermediate floating point
 	calculations to pure integer calcs to reduce machine-dependence.
	
Sat Oct 24 15:46:08 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/tiles.xpm: One of the food numbers (the '0') was white
 	instead of yellow.  Also moved the auto-explore 'X' to the
 	lower-left corner, like the auto-settler 'A'.
	
Sat Oct 24 13:43:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c: Changed graphics exposures to off in the
 	civclient GCs.  This _greatly_ reduces the number of events the X
 	server generates.  This fixes a problem where client memory usage
 	would swell as the XLib event queue would fill with tens of
 	thousands of graphics exposure events.
	
Sat Oct 24 13:24:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: The wakeup patch from a while back messed
 	something up.  Units stopped getting repainted when they changed
 	status.  For instance, if a unit left GOTO state, the "G" wouldn't
 	go away until the unit started to flash.
	
Fri Oct 23 08:33:19 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/citytools.c: Rewrote the function transfer_city_units().
  	Originally to remove calls to game_find_city_by_coor(), but it was
 	inefficient and looped over more units that it needed to.  Also
 	took out an ugly printf() call.
	
Fri Oct 23 08:29:56 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Replaced game_find_city_by_coor() with
 	map_get_city().
	
Fri Oct 23 08:28:42 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/game.c, common/game.h: Removed the function
 	game_find_city_by_coor().  It was only used five times, and is
 	exactly the same as map_get_city() which is used 95 times.
	
Fri Oct 23 08:27:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.c: ifdef'd out the unused function
 	city_list_find_coor()
	
Fri Oct 23 08:26:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/mapctrl.c: Replaced
 	game_find_city_by_coor() with the indentical map_get_city().
	
Thu Oct 22 18:00:57 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c, server/cityturn.h: Took out the
 	set_worker_city() function to move into common.
	
Thu Oct 22 17:58:44 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/citytools.c: Update to refect change of worked from
 	player number to city pointer.  ifdef'd out some old code that
 	wasn't used.
	
Thu Oct 22 17:54:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Moved a few things to/from remove_city() and
 	game_remove_city().
	
Thu Oct 22 17:43:11 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/aicity.c: Since worked is now a city pointer instead of a
 	player number, some code could be made more efficient.
	
Thu Oct 22 17:41:51 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/map.c, common/map.h: Changed the worked member of the
 	tile structure to a pointer to the city using the tile instead of
 	the player number.  Knowing what city is using a tile is more
 	usefull than knowing what player is using it, and pcity->owner
 	easily gives the player number.
	
Thu Oct 22 17:38:16 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/game.c, common/game.h: Changed game_remove_city to use a
 	city pointer instead of a city ID.  Put the code from the server's
 	remove_city() that remove the workers into game_remove_city().
  	Took the dealloc_id() call out of g_r_c and put it into the
 	server.
	
Thu Oct 22 17:34:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.c, common/city.h: Moved in the set_worker_city()
 	function from the server code.  Added two new functions
 	map_to_city_[xy](pcity,x y) which convert game map coordinates
 	into the city map coordinates.
	
Thu Oct 22 17:31:36 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c: Reflected change of game_remove_city from
 	taking a city id to a city pointer as an argument.
	
Thu Oct 22 17:29:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: Made the show workers key on the map show the
 	city which is using the tile under the mouse instead of just the
 	city under the mouse.
	
Thu Oct 22 17:22:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Instead of modifying the city map directly,
 	use the set_worker_city function like the server.
	
Wed Oct 21 13:09:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.h, server/cityturn.c,
 	server/gamehand.c, server/stdinhand.c: Added server option
 	aqueductloss; determines percentage of food lost when a city wants
 	to grow but needs an aqueduct(/sewer).  Default is 0.  Loss is
 	halved if city has a granary.  Mostly from a patch submitted by
 	Mark Brown <broonie@tardis.ed.ac.uk>
	
Tue Oct 20 17:40:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c: Made global warming messages use the
 	E_WARMING event.
	
Tue Oct 20 17:24:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/menu.c,
 	client/messagedlg.c, client/messagedlg.h, client/packhand.c: Added
 	a new menu item to the Game menu, Msg Filter.  This lets you
 	filter out types of messages you aren't interesed in.  Added the
 	new dialog for it to messagedlg.c, and put the message filtering
 	code in packhand.c.
	
Tue Oct 20 15:11:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Server sends a message when a city grows.
  	Patch from Massimo Campostrini, with some small changes by me.
	
Tue Oct 20 12:53:12 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Added "static char horiz_line[]" to make the
 	code tidier (IMO).
	
Tue Oct 20 12:48:56 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/europe.sav: Commented out entries which don't get used
 	(revealed by section_file_check_unused()).
	
Tue Oct 20 12:47:28 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Added call to section_file_check_unused();
 	adjusted calls (was two, now one) to section_file_free() after
 	load.
	
Tue Oct 20 12:44:12 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c, data/helpdata.txt: Modified help system for
 	new unit flags.
	
Tue Oct 20 12:32:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, client/dialogs.c,
 	client/mapctrl.c, common/city.c, common/unit.c, common/unit.h,
 	server/gotohand.c, server/unitfunc.c, server/unithand.c: Added
 	three new unit flags F_TRIREME, F_NUCLEAR and F_SPY, and modified
 	relevant code to use these flags instead of checking the
 	enumerated unit type against U_TRIREME, U_NUCLEAR, U_SPY.
	(This is so that all unit special effects are handled with unit
 	flags.)
	
Mon Oct 19 09:10:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Added a bit about the "t" command.
	
Mon Oct 19 09:06:38 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/mapctrl.c,
 	client/mapctrl.h, client/xmain.c: Adds a new command the the map.
  	Push "t" with the mouse on a city to see what tiles the city is
 	using.
	
Sun Oct 18 04:12:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: "Controls" help text: fixed an over-long
 	line; added "arrow keys: Move unit".
	
Sun Oct 18 03:11:18 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/maphand.c: Include all of the server
 	options in the savefile, even those which only have effect at the
 	start of the game.  So now the server options always show the
 	values which were actually used.  Now always save map.xsize and
 	map.ysize as "map.width" and "map.height" (they used to be saved
 	as xsize and ysize when PRE_GAME_STATE).  Save and reload
 	game.diplchance.  Don't call map_init() in map_load (unnecessary
 	and over-writes reloaded values).  Simplify code used to load:
 	version, tmp_server_state, metaserver_info_line.
	
Sun Oct 18 02:59:48 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, common/city.c, common/game.c, common/player.c,
 	common/player.h, common/unit.c, server/plrhand.c,
 	server/unitfunc.c: New function player_find_city_by_id(pplayer,
 	city_id) which uses the best method depending on global variable
 	is_server.  New function player_owns_active_wonder(pplayer,
 	improvement_id).
	
Sun Oct 18 02:43:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Help text changes: Airport: reduced vertical
 	space; Nuclear unit: added note about Manhattan Project; Combat:
 	clarified firepower of defending ships.
	
Sun Oct 18 02:40:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/earth-80x50.sav: Fixed English start position so they don't
 	start on an ocean square.  Patch submitted by Daniel Gudlat
 	<gudlat@informatik.hu-berlin.de>.
	
Sat Oct 17 12:04:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/connectdlg.c: Metaserver window doesn't appear if the
 	metaserver couldn't be contacted.  When it does appear, it's
 	positioned better on the screen.  Also, causing a second (and
 	third..) metaserver window to appear by clicking on the metaserver
 	button again is fixed.
	
Sat Oct 17 02:10:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/registry.c, server/registry.h: Extended the "registry"
 	format to include "vectors" and "tables", and documented the
 	previous and extended formats.  Use tabular format to reduce size
 	of city and unit sections in savegames: total savegame size can be
 	reduced by up to factors of a few for large games.  Include code
 	to track how many times values in the registry are looked up, for
 	example to help notice save/reload mismatch.  But
 	section_file_check_unused() is not yet called anywhere.
	
Sat Oct 17 01:51:26 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Two changes to server command parsing: Don't
 	strip non-alpha-numeric characters from the start of command
 	argument.  This allows saving to files which start with "/", "..",
 	etc.  Patch submitted by Michael Bickel
 	<Michael.Bickel@informatik.uni-erlangen.de>.  Lines where the
 	first non-whitespace character is "#" are treated as comment
 	lines.  This allows comments in files which are read in with the
 	"-r" command-line flag.
	
Sat Oct 17 00:20:26 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: Avoid calling is_wonder() with B_LAST.
	
Fri Oct 16 13:22:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/helpdlg.c, client/packhand.c,
 	common/game.c, data/helpdata.txt: Improved the internals of the
 	help system to ensure (now and in the future) better consistency
 	on what units, techs, etc, are shown.  There are now well defined
 	sections in helpdata.txt for the following categories: unit types,
 	techs, improvements, wonders.  Within each category, say units, a
 	help node which doesn't match any actual unit (in terms of
 	unit_type_exists(), ie, implemented units), is omitted.  Any
 	actual unit missing in the helpdata.txt has a help node
 	automatically generated (as if there was an empty entry in
 	helpdata.txt).  Finally each category list is automatically sorted
 	alphabetically.
	
	I moved the "boottime" stuff in client/packhand.c:
 	handle_game_info() into client/civclient.c:set_client_state(),
 	because I think thats more correct in the case that a client
 	disconnects and then reconnects without quiting.  Also now the
 	help system is rebootable, because it depends (in principle, if
 	not in practice) on set_civ_style(), and in future will depend on
 	rulesets, which could change if you quit and then reconnect to a
 	different game.
	
	I removed the "indent" field of the struct help_item, because it
 	wasn't actually used.  I changed to help nodes data to use a
 	genlist rather than having its own implementation of a singlely
 	linked list.  (Mainly I wanted to be able to use genlist_sort().)
	
	In helpdata.txt I changed the "@" tags (which I had introduced in
 	a previous enhancement) to @START_UNITS, @END_UNITS etc to reflect
 	the new "category sections".
	
	With the new auto-generation of help nodes, any nodes with blank
 	text in helpdata.txt could in principle be removed.  I initially
 	did that, but then decided to leave them in, so that its easy to
 	add any extra text for any given node.
	
Fri Oct 16 13:06:42 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/tech.c, common/tech.h,
 	common/unit.c, common/unit.h: New convenience functions
 	find_tech_by_name(), find_improvement_by_name(), and
 	find_unit_type_by_name().  Just linear search the data arrays to
 	match a given name.  Not used yet, but will be soon.
	
Fri Oct 16 12:49:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/tech.c, common/tech.h,
 	common/unit.c, common/unit.h: New functions unit_type_exists(),
 	tech_exists(), and improvement_exists().  They do bounds checking,
 	and then check whether the specified element has been marked as
 	"removed", eg in the data tables or by set_civ_style().  Replaced
 	some existing bounds-check code by calls to these functions.
	
Fri Oct 16 12:22:10 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/inteldlg.c: Fixed bug where if a player is up to Future
 	Tech, that player's intelligence report regarding other players
 	would show them all as researching Future Tech even when they are
 	not.  Bug report and fix submitted by Massimo Campostrini
 	<campo@mailbox.difi.unipi.it>.
	
Fri Oct 16 12:00:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/civclient.c, client/messagewin.c,
 	data/Freeciv: Added a "Popup City" button to the messages window.
  	Related fix-ups: Removed some unused file-level variables in
 	messagewin.c Renamed misnamed variable and function relating to
 	the "Goto Location" messages button.  Deactivate the goto/popup
 	buttons when messages are cleared.  Clear the messages when
 	connection is terminated or lost (so if the client reconnects to a
 	different game, the messages from the previous game are not still
 	there).
	
Fri Oct  9 07:44:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/citytools.c, server/citytools.h, common/city.c,
 	common/city.h: Moved two functions from the server to common, so
 	the client can use them.
	
Thu Oct  8 23:46:05 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/xmain.c: This patch avoids a "convert int to ptr" warning
 	on an Alpha running Linux.  Patch submitted by Alex Rhomberg
 	<rhomberg@ife.ee.ethz.ch>.
	
Thu Oct  8 23:43:59 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/repodlgs.c: This patch removes the limit on how many
 	cities you can have in the city report.  Patch submitted by David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Thu Oct  8 23:42:23 1998  Mitch Davis <mjd@alphalink.com.au>:

	* ai/aicity.c, ai/aiunit.c: Fixes for some typoes in the AI code.
  	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Oct  7 23:41:19 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/civserver.c: The saveturns server option has a problem in
 	that if you change the value, the new value doesn't take effect
 	until after the next save caused by the current value.  Eg: if
 	you're playing with saveturns=10, and then decide to change to
 	saveturns=1, the changeover doesn't occur until _after_ the
 	current block of 10 turns is finished.  This patch fixes the
 	problem.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Oct  7 23:26:04 1998  Mitch Davis <mjd@alphalink.com.au>:

	* debian/rules: The 'debian/rules' file still references CHANGES
 	rather than the new (as of 1.6.1) ChangeLog, so building the
 	package fails.  Patch submitted by Robert Donn
 	<squirk@ihug.co.nz>.
	
Wed Oct  7 23:20:59 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/city.c, common/city.h, common/genlist.c,
 	common/genlist.h, common/unit.c, common/unit.h, server/gamehand.c,
 	server/plrhand.c: This patch preserves city list and unit list
 	orderings through save/reload, both the trivial fix of
 	pplayer->units and pplayer->cities, and also a more involved fix
 	to preserve the ordering in tile.units and city.supported_units.
  	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Oct  7 14:29:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/colors.c: Changed the yellow color so it actually looks
 	like yellow and not gray.
	
Wed Oct  7 13:35:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/gamehand.c, server/stdinhand.c: Fixed for some server
 	variables not being saved right.  Patch by David Pfitzner.
	
Tue Oct  6 23:50:49 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/mapgen.c: Recent CVS mapgen changes didn't seem to
 	realize the scenario patch is already in CVS, and overwrote the
 	scenario changes in mapgen.c, breaking scenarios.  This patch puts
 	the scenario changes back in.  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Mon Oct  5 10:18:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Cleaned up errors xrdb found in
 	the resources.
	
Mon Oct  5 10:11:54 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/xmain.c: Made some of the
 	widgets look nicer with Xaw3d.  Cleaned up the econ buttons
 	somewhat.
	
Mon Oct  5 08:04:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Stuck a Freeciv* infront of all
 	the resources.  I did a survey of Xt based programs, and they seem
 	split as to how they do their resources.  Some begin the resources
 	with the app class, other just begin with a *.  Putting the app
 	class first seems better to me, as it avoids conflicts with
 	another app's resources.  Well see how this works out.
	
Sat Oct  3 07:08:23 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/mapgen.c: Improvements to the map generation code, to
 	make player placement more stable and less predictable.  Patch
 	submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Sat Oct  3 07:07:44 1998  Mitch Davis <mjd@alphalink.com.au>:

	* Makefile.noimake, client/Freeciv.h, client/Makefile.am,
 	client/Makefile.in: This patch modifies the (three) makefiles so
 	that a C style comment is included in client/Freeciv.h to tell
 	people not to edit it.  Patch submitted by Dee Jay Randall
 	<randal@cs.uregina.ca>.
	
Thu Oct  1 17:29:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Minor patch to make a bogus warning go away.
	
Wed Sep 30 23:18:38 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/log.c, server/stdinhand.c: Yet another fix for Peter
 	Schaefer's buggy repeated message log stuff.  Patch supplied by
 	David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 30 20:26:11 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/tiles.xpm, data/units.xpm: The tiles and units XPM files
 	used a total of 124 different colors, but most of these colors are
 	very similar and wasted.  I changed them to use a total of 32
 	colors and then touched them up somewhat.  The new graphics are
 	much more colormap friendly on 8 bit systems and look almost
 	exactly the same.
	
Wed Sep 30 07:38:32 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/dialogs.c: Made the unit
 	select dialog have more than one column, depending on how many
 	units are in the square.  Cleaned up the code some, removed some
 	global variables which were never used, and took out an extra
 	include.
	
Wed Sep 30 01:02:31 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Moved an XSetForeground out of a loop, to
 	reduce unnecessary X events.  Took out the explicit setting of the
 	size of the unit selection buttons.  The explict size was wrong
 	under Xaw3d, and wasn't necessary.
	
Tue Sep 29 23:27:17 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/repodlgs.c: When city_report_dialog_update_city() is
 	called to update the text for a single city, the report is not
 	changed (so no flicker) if the new text is actually the same as
 	the old text.  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Tue Sep 29 23:24:44 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/log.c: There is some sloppyness in flog in the last
 	repeat message.  Added a few lines(in a hurry, I must admit).
  	Patch submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Tue Sep 29 23:15:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/cityhand.c: I added the few lines necessary to make
 	autoarrange update 'adjacent' cities, too.
	
	While testing, I noticed a quirk - disbanding a unit in a city
 	that has just been built and failing to change production from
 	warrior to settler.
	
	Fixed, with the side effect that the did_buy flag won't be set
 	anymore if there are enough shields to produce anyway.
	
	Patch submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Tue Sep 29 23:13:40 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/log.c: This patch detected identical repeating log
 	messages, and issues a repeating message when this happens.  Patch
 	supplied by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Mon Sep 28 18:14:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/citydlg.c, data/Freeciv: Added a new
 	button to the city dialog, which pops up the unit selection list
 	you would get for stacked units not in a city.  From a patch by
 	Massimo Campostrini.
	
Mon Sep 28 17:08:25 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/gamehand.c: Patch by David Pfitzner, remove huts on
 	player start positions.
	
Wed Sep 23 23:20:10 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/cityturn.c: When city size is 7, and you're on the verge
 	on expanding into a city of size 8, but you don't have an aqueduct
 	system set up, your Granary will still have its food supplies
 	halved. Same for cities of size 12 with Sewer systems.  Patch
 	submitted by Paul Cameron <pmcamero@socs.uts.EDU.AU>.  Note, I had
 	to apply this patch by hand, hope it's alright.
	
Wed Sep 23 23:09:46 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/citydlg.c: In the same spirit as desensitising the trade
 	button in the city report, this desensitises the "activate units"
 	button when there are no units present.  Patch supplied by David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 23:07:52 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Makefile.in, client/climisc.c: This patch allow for the
 	datadir path to be compiled in.  Patch submitted by Sergey Shkonda
 	<serg@bcs.zp.ua> and Matthew Hunt <mph@pobox.com>.
	
Wed Sep 23 23:02:05 1998  Mitch Davis <mjd@alphalink.com.au>:

	* README: This patch describes setting logs and debug levels from
 	the command-line of the server.  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Wed Sep 23 23:00:09 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/unitfunc.c: - The effect of Leonardo's Workshop is
 	special cased to avoid the problem of upgrading a sea unit
 	carrying passengers to a new unit with a lower transport_capacity
 	when that would leave some passengers stranded on a ocean square.
	(Eg Frigate -> Ironclad) (You could still get upgraded at an
 	inopportune time, but thats half the fun of Leonardo :-?
	
	- Carriers and Subs can only refuel the appropriate number of air
 	units each (previously you could stack as many air units onto one
 	of these as you like, and they would all get refueled (just not
 	all moved with the Carrier)).  Multiple Carriers and/or Subs on
 	the same square are handled appropriately.
	
	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 22:58:38 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/citydlg.c: In a city dialog, if you select a supported
 	unit which is not present in the city, and chose "Activate unit,
 	close dialog" then the dialog doesn't get closed.
	
	This is because present_units_activate_close_callback() is used,
 	which only closes the dialog of the city where the unit is
 	present.  The attached patch fixes this by adding a separate
 	callback for supported units.
	
	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 22:54:43 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/cityhand.c: A patch to handle deleting unsupported units
 	better.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 19:24:40 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/dialogs.c, client/mapview.c,
 	client/xmain.c: Some changes to clear buttons with unit pixmaps in
 	them when using non-transparent flags.  Changed the client startup
 	order to load the unit pixmaps before creating the client widgets,
 	so they can be sized correctly based on the pixmap size.
	
Wed Sep 23 19:21:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Removed hardcoded sizes for the
 	unit pixmap buttons.  Also changed the font used in the city
 	report, which makes the report somewhat smaller.
	
Tue Sep 22 16:22:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/messagedlg.c, client/optiondlg.c,
 	client/optiondlg.h, client/repodlgs.c, data/Freeciv: Changed the
 	way most of the toggles look.  They now change label from "Yes" to
 	"No" depending on their state.
	
Mon Sep 21 09:35:48 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Added default colors for Label,
 	Command, Text, and Form widgets.  Then removed hundreds of color
 	resources that were no longer necessary.
	
Mon Sep 21 09:19:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/connectdlg.c, client/clinet.c, client/clinet.h,
 	data/Freeciv: Added a metaserver dialog to the client.  It's
 	currently a little hackish, and gets the server list by reading
 	the metaserver web page and trying to parse it.  It will probably
 	choke if the web page's format changes.
	
Mon Sep 21 09:08:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c, data/Freeciv: Might have finally fixed the
 	city report sizing bug seen on some machines.
	
Mon Sep 21 08:39:56 1998  Trent Piepho <xyzzy@u.washington.edu>

	* Makefile.noimake: The depend stuff has a problem.
	
Sat Sep 19 16:26:46 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, data/Freeciv: This fixes a small mistake with
 	the On/Off label for the science report help toggle.  Patch
 	submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 16:23:26 1998  Mitch Davis <mjd@alphalink.com.au>:

	* data/helpdata.txt: This patch revises the About text: It
 	clarifies the current status of the original authors, James
 	Blackwell is no longer active as a "Present Administrator", and
 	the text said "find our email addresses in the About box", but
 	this _is_ the About box!  Patch supplied by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Sat Sep 19 16:21:00 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/mapctrl.c, common/map.c: This patch improves the
 	information on a tile when there is a hut or pollution present.
  	Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 16:03:46 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/citydlg.c, client/civclient.c, client/graphics.c,
 	client/helpdlg.c, client/helpdlg.h, client/repodlgs.c,
 	client/xmain.c, data/helpdata.txt: This patch makes some
 	improvements to the help system.
	
	Tags are added to helpdata.txt to say explicitly whether items are
 	TEXT, UNIT, IMPROVEMENT, WONDER, or TECH.  And in the code to
 	popup a help text, you can ask for a particular type.  One effect
 	this has is that the Government help items Monarchy etc don't need
 	a "(Gov)" addition to distinguish them from the corresponding
 	advances.
	
	The help system is slightly more robust and nicer if a help item
 	doesn't correspond to the specified component of the game
 	(unit_type etc) or the component has been "removed".  Or vice
 	versa -- if a game component doesn't have a help item for some
 	reason.  One effect of this is that unimplemented Civ2 units etc
 	can be added back to the help with an explanatory note, so players
 	coming from Civ2 can see what's missing and possibly why.
	
	Comments for unit types relating to transport_capacity, flags, and
 	fuel, are generated automatically, ensuring clarity, consistency,
 	correctness, cetc.
	
	boot_help_texts() was moved to after log_init(), so log messages
 	in boot_help_texts are actually useful.
	
	client/helpdlgs.c:find_help_item_by_topic() is #if-ed out, as it
 	appears to me to be unused, and furthermore broken.
	
	changes to helpdlgs.c aren't really as drastic as the patch makes
 	appear, but I've moved some things around.
	
	citydlg.c:change_help_callback() was pretty weird, and now cleaned
 	up.
	
	Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 15:11:17 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, client/citydlg.c, client/packhand.c,
 	data/Freeciv: This patch makes upgrading individual units from the
 	city dialog nicer.  Now the upgrade button is "greyed out" if you
 	cannot upgrade that unit type.  Also, the patch updates the unit
 	icon in the city dialog where the unit is present (as well as
 	where the unit is supported).  (This also applies for unit
 	upgrades from the "active units" dialog.)  Patch submitted by
 	David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 03:31:50 1998  Mitch Davis <mjd@alphalink.com.au>:

	* COPYING, data/helpdata.txt: Updated the mailing addresses for
 	the FSF.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 02:28:52 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/mapgen.c: A small patch because some players would get
 	too many rivers and not enough swamps.  Patch submitted by Peter
 	Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Fri Sep 18 16:21:32 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/map.c, common/map.h, server/mapgen.c: This patch fixes
 	some problems with the 2nd mapgen, and enhances the 3rd mapgen.
  	Patch supplied by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Thu Sep 17 23:46:14 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: Here is a
 	minimalish patch which adds a note which might make the help
 	button toggle nature a little clearer...
	
	It also makes the science report list of known advances 4 columns,
 	partly to make more room for the above mentioned note, and partly
 	because I find the science report too long (at least in its
 	default pop-up location) for my screen when it contains all the
 	advances at the end of a game.
	
	Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Thu Sep 17 23:33:24 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, client/connectdlg.c, client/resources.h,
 	client/xmain.c, data/Freeciv, server/civserver.c: Changes to allow
 	the debug level to be set from the command-line.  Patch submitted
 	by David Pfitzner <dwp@mso.anu.edu.au>.
	
Thu Sep 17 23:23:52 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/colors.c: The solid colors for Romans and English are too
 	similar.  This changes the English color to dark green.  Patch
 	submitted by Massimo Campostrini <campo@mailbox.difi.unipi.it>
	
Thu Sep 17 23:19:13 1998  Mitch Davis <mjd@alphalink.com.au>:

	* data/europe.sav: Added a Europe scenario.  Patch supplied by
 	Christian Grothoff <ma0035@stud.uni-wuppertal.de>.
	
Thu Sep 17 23:16:40 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/mapview.c, data/earth-160x90.sav, data/earth-80x50.sav,
 	server/civserver.c, server/gamehand.c, server/mapgen.c,
 	server/maphand.c, server/maphand.h, server/stdinhand.c: Patches
 	and scenario files to support playing on Earth.  Patch supplied by
 	Daniel Gudlat <gudlat@informatik.hu-berlin.de>.
	
Thu Sep 17 10:12:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* Makefile.noimake: Fixed and largely rewrote.  Should work well
 	now, and be easy to edit to compile on different OSes.
	
Wed Sep 16 11:58:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Makefile.am, client/Makefile.in, common/Makefile.am,
 	common/Makefile.in: Some directories were -I included when they
 	didn't need to be.
	
Wed Sep 16 11:53:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c, server/unitfunc.c, common/player.h: Fixed up
 	some include problems.  player.h had aitools.h for no reason,
 	which meant that the client and common code needed the ai includes
 	for no reason.
	
Tue Sep 15 15:21:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c: Added a missing NULL on an XtVaGetValues() call.
	
Wed Sep  9 13:00:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c: A better hash function for the registry,
 	along with a smaller cache size.  Creating section files,
 	ie. saving the game, is now much faster for large files as the
 	algorithm was changed from O(n^2) to O(n).
	
Wed Sep  9 12:00:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, common/city.c, common/city.h: Trade button is
 	grayed out if the city has no trade routes.  Inspired by a patch
 	from David Pfitzner.
	
Wed Sep  9 11:39:25 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Fix for longstanding bug where the server
 	could core dump if a city is removed and it has supports both a
 	transport ship and some unit in the ship.  Patch by Paul Cameron.
	
Sun Sep  6 11:32:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c, server/unithand.c: Cleaned up
 	can_unit_do_activity()
	
Sun Sep  6 11:31:39 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Made city incite cost half when there are no
 	units in the city, rather than when it supports no units.
	
Sun Sep  6 00:39:35 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c, ai/aiunit.c: Fixing a quirk with exploring
 	boats, and AI exploring ferryboats in normal mode.  Fixing a
 	possible SIGFPE in findjob of all places.  Not discouraging units
 	to attack enemy units nearby - works great!  Eliminating default
 	want for walls, coastal, etc if not in danger. -- Syela
	
Sun Sep  6 00:37:39 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, server/cityturn.c: No longer hijacking
 	content[0]; trying to get the AI to build more temples and
 	happy-wonders.  Using MORT (instead of ~17) as the threshold for
 	improvements to pay themselves off, hoping that the AI will not
 	buy so many improvements. -- Syela
	
Sun Sep  6 00:31:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Teaching autosettlers about changing terrain
 	types. -- Syela

Wed Sep  2 20:37:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* CREDITS, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Bumped version numbers to 1.7.1.
	
Wed Sep  2 20:12:32 1998  Mitch Davis <mjd@alphalink.com.au>

	* NEWS, configure, configure.in: With this patch to configure.in
 	freeciv will actually configure and compile nicely on Solaris (run
 	"autoconf" after applying this patch to make a new configure):
	
	Note that according to Johannes Abt
 	<jsabt@cip.informatik.uni-erlangen.de>, This works with
 	autoconf-2.12 but not autoconf-2.9.
	
	Patch supplied by Finn Arne Gangstad <finnag@guardian.no>.
	
Wed Sep  2 19:57:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/unit.c: This patch prevents settlers from fortifying, in
 	order to reduce the confusion between fortifying and building
 	fortresses.  Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep  2 00:54:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Changed the layout of the
 	diplomat and spy dialogs so the buttons are in a two column list
 	instead of one big long row.  Buttons are now the same size with
 	centered labels, which looks nicer IMHO.
	
Tue Sep  1 22:08:02 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/civclient.c, common/game.c, server/civserver.c: Bug fix
 	from Walter Misar to fix alignment problems on solaris with the
 	used_ids array.
	
Tue Sep  1 21:57:57 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Diplomats bribing units wasn't done right.
	
Tue Sep  1 21:56:36 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c: diplomat_can_do_action() was letting non-spies
 	sabotage units.
	
Tue Sep  1 14:34:49 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Dealing with GOTOing warships more
 	intelligently re: enemies_at. -- Syela
	
Tue Sep  1 14:32:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Ignoring units at (i,j) for enemies_at(punit,
 	i, j).  -- Syela
	
Mon Aug 31 13:12:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: The "Income" line in the trade report will try
 	to approximate what your true income will be at the end of the
 	turn.  This means it will not be affected by buying or selling
 	things.  City improvements which will be completed at the end of
 	the turn can throw things off.
	
Mon Aug 31 12:59:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Added buffering around the data sent when a
 	trade route is established.
	
Mon Aug 31 12:57:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c: Made changing tax rates do a gobal city
 	refresh.  This way the client gets instant feedback on how the new
 	rates effect his cities.
	
Mon Aug 31 12:54:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Buffered the connection during a global city
 	refresh.
	
Mon Aug 31 09:23:23 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Fixed bug were the client would crash trying
 	to update the city report when it didn't exist.
	
Sat Aug 29 13:18:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/citydlg.c, client/repodlgs.c,
 	client/repodlgs.h, data/Freeciv: Changed the city report code so
 	that the whole report isn't generated when a single city is
 	changed.  Changed the way the widgets resize themselves to get
 	around broken Xt annoyingness so the labels should be centered and
 	the right size now.  There should also be less flickering when the
 	report is updated.
	
Sat Aug 29 13:09:43 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.h: The improvements and city_map where called
 	unsigned char, but they really should be just plain char.
	
Sat Aug 29 13:08:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: Took out a comma where there shouldn't have
 	been one.
	
Fri Aug 28 10:36:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Fixing auto-explorers (I broke them yesterday)
 	-- Syela
	
Thu Aug 27 09:58:41 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Returning 0 for same_pos
 	handle_unit_move_requests (which often happen when the server
 	hangs) so movement isn't wasted.  Making the check for ai
 	ferryboats that try to attack much more robust to prevent aberrant
 	abort()s.  Allowing 0-move explorers to change acitivity. -- Syela
	
Thu Aug 27 09:56:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c, server/stdinhand.c, server/stdinhand.h:
 	Proto'ing set_ai_level and setting game.skill_level concurrently --
 	Syela
	
Thu Aug 27 09:56:05 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Fixing stupid bug involving auto-settlers and
 	polar cities. -- Syela
	
Thu Aug 27 09:55:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Adding city name to city_sell message (for AI
 	debugging) -- Syela
	
Thu Aug 27 09:54:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/mapctrl.c: Allowing players to idle 0-movement explorers
 	by clicking on them. -- Syela
	
Thu Aug 27 09:48:08 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Not assuming walls for cities 2-3 turns away unless
 	owner knows Masonry. -- Syela
	
Thu Aug 27 09:47:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Two bugfixes suggested by Peter Schaefer; preventing
 	the AI from setting lux=100 and selling buildings, and preventing
 	extremely high lux rates (for celebrations) that will lead to
 	selling buildings. -- Syela
	
Thu Aug 27 09:45:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Preventing the AI from buying walls/coastal
 	unless it's urgent.  Not assuming walls until c == 4 if enemy
 	doesn't know masonry.  Adding port_is_within to prevent the AI from
 	building too many ports and warships; this way saves money and also
 	ensures enough ground troops for invasions. -- Syela
	
Thu Aug 27 09:43:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README.AI: Updated README.AI; recently fixed problems not
 	included. -- Syela
	
Thu Aug 27 09:35:04 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/mapview.c, client/xmain.c, data/Freeciv:
 	Made the map canvas fill up all the space.  Before, if you had a
 	map with ysize>40 the canvas would have a big gap between the
 	scroll bar and the message window.
	
Wed Aug 26 22:57:43 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/gotodlg.c: Added a "All
 	Cities" toggle to the goto dialog.  Default is off.  This way the
 	dialog isn't full of hundreds of enemy cities.  Makes airlift much
 	less of a pain, since it doesn't take as long to find your city.
	
Wed Aug 26 22:54:53 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Fixed up do_airline() some.  It now uses
 	unit_can_airlift_to() to determine if an airlift is possible rather
 	than duplicating the code.  It also wasn't sending city updates for
 	the cities involved, so the client wouldn't know that a city had
 	already airlifted this turn.  Added buffering around the four
 	packets an airlift sends.
	
Wed Aug 26 00:05:23 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c: De-activated the activate button on diplomat
 	investigate city dialogs.
	
Tue Aug 25 22:53:25 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c, client/repodlgs.h: Added in Cedric Tefft's
 	scrollbar for the city report patch.  Added code for turning of
 	report updates at the end of the turn.
	
Tue Aug 25 22:49:16 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Made handle_unit_info() smarter about
 	refreshing city dialogs.  For instance, moving a unit out of its
 	homecity would refresh the city dialog twice.  Made the client turn
 	off report updates between during the end of the turn.  This
 	removes the flash in the reports as they would get updates hundreds
 	(or thousands!) of times.
	
Tue Aug 25 22:44:08 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c: The city_dialog_refresh() function had a hack
 	to update the city and trade reports when it was called.  However,
 	this function gets called for things relating to enemy cities that
 	don't show up in the reports.  So I made it only update the reports
 	for when it's called for the players own cities.  This greatly
 	reduces the number of costly city report refreshes the client does.
	
Tue Aug 25 22:41:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, data/Freeciv: Added in Cedric Tefft's patch for
 	a scrollbar on the city report.
	
Tue Aug 25 22:39:50 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Fixed a bug where nocity_send wasn't taking
 	effect.  This resulted in two city updates being sent at the end of
 	the turn for each of your cities.  Now it's down to one.
	
Tue Aug 25 09:15:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c: Moving before_end_year (which does nothing
 	but reset message windows) closer to the end_of_sniff to make David
 	Pfitzner happy. -- Syela
	
Tue Aug 25 09:10:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/stdinhand.c: Applying David P's fix to the recently broken
 	set_ai_level -- Syela
	
Tue Aug 25 09:10:21 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/packhand.c: Made the city dialogs get
 	updated when a unit listed in one (present or supported) changes
 	status.
	
Tue Aug 25 09:08:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/mapgen.c: Initializing counter j in mapgenerator2 and
 	3. -- Syela
	
Tue Aug 25 09:07:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Removing unneeded duplicate def'n of punit in
 	wakeup_neighbour -- Syela
	
Tue Aug 25 08:46:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/citydlg.c: Added an
 	"Activate Units" button to the city dialog that will activate all
 	units in the city.
	
Tue Aug 25 08:23:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: The trade report sell command won't try to
 	sell improvements in cities that already sold something that turn.
	
Mon Aug 24 23:40:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unithand.c: Added code so that sentried units get woken up
 	when enemy units come within view.  Patch submitted by Trevor
 	Pering <pering@tongass.EECS.Berkeley.EDU>.
	
Mon Aug 24 23:32:48 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/stdinhand.c: This patch forces AI names to be between 1
 	and 9 chars long.  I chose 9 chars because it seems to be length
 	you are allowed to use for a human player.  Patch submitted by
 	Markus Linnala <maage@cs.tut.fi>.
	
Mon Aug 24 21:12:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c: Added code to align the pointer returned by
 	strbuffermalloc().
	
Mon Aug 24 10:39:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Nothing much really.
	
Sun Aug 23 23:43:04 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/civclient.c, client/optiondlg.c,
 	client/packhand.c, data/Freeciv, data/helpdata.txt: This patch
 	fixes problems with the original wakeup code.  (Eg, data/Freeciv
 	was only partly patched!)  Patch submitted by Reinier Post
 	<reinpost@win.tue.nl>.
	
Sun Aug 23 23:40:10 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/stdinhand.c: Modified the help string for map.seed so it
 	mentions that 0 gives a random map.  Patch submitted by Reinier
 	Post <reinpost@win.tue.nl>.
	
Sun Aug 23 23:31:27 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/map.h, server/mapgen.c: I took a look at the map generator
 	and reduced the chance it will hang up, so that it may work with
 	much more settings.
	
	While I was at it, I added an experimental generator 3, which will
 	create 1 big island for every player, and 1 small island.  Settings
 	for landmass will affect the changed mapgen 2.  Settings for
 	mountains, etc, won't yet.
	
	Patch submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>
	
Sun Aug 23 23:29:35 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h, common/map.h, server/plrhand.c,
 	server/stdinhand.c: Attached is a small patch that fixes a bug in
 	the scorelog generation code... I screwed up the starting year (I
 	used 4000 instead of -4000)...  I made that number a constant in an
 	include file.  (Affects game.c, game.h, map.h, and plrhand.c).
  	Patch submitted by Trevor Pering
 	<pering@tongass.EECS.Berkeley.EDU>.
	
Sun Aug 23 23:27:17 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/civclient.c, client/clinet.c, client/colors.c,
 	client/graphics.c, client/helpdlg.c, client/packhand.c,
 	client/xmain.c, common/log.c, common/log.h, common/packets.c,
 	common/unit.c, server/cityhand.c, server/civserver.c,
 	server/maphand.c, server/registry.c, server/sernet.c,
 	server/stdinhand.c, server/unitfunc.c: Changed all occurances of
 	"log()" to "flog()", since the GTK port of Freeciv needs the -lm
 	math library, which also has a log() function.  Patch submitted by
 	Per I. Mathisen <perrin@kvalito.no>.
	
Fri Aug 21 21:00:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: The section file wasn't getting freed after a
 	manual save game.
	
Fri Aug 21 20:57:04 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c, server/registry.h: Fixed a bug I had added
 	earlier where the strbuffer would get freed when it hadn't been
 	allocated during an auto save game.  Used the opportunity to have
 	the rest of the registry allocations use the strbuffer system,
 	which reduced memory usage by another 200k for a big saved game.
	
Fri Aug 21 20:49:39 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/shared.c, common/shared.h: Removed the minstrdup()
 	function and put it into registry.c, since that is the only place
 	that used it.  Also changed it to use the strbuffer system.
	
Fri Aug 21 20:34:08 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c, server/diplhand.c, server/gamehand.c,
 	server/gamehand.h, server/maphand.c, server/maphand.h,
 	server/plrhand.c, server/plrhand.h: Fixed some ugliness with the
 	includes.
	
Fri Aug 21 08:17:50 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Not letting auto-settlers go idle as easily.
  	Christopher Neufeld's ideas, but my own implementation thereof. --
 	Syela
	
Thu Aug 20 23:18:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/city.c, server/plrhand.c: The attached patch makes the
 	Literacy field of the Demographics report less likely to overflow
 	(eg at the end of a large game).  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Thu Aug 20 21:46:04 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c, server/registry.c, server/registry.h: David
 	Pfitzner's patch to handle new savefile entries, which also handles
 	the foulness issue much better than my (non-uploaded) kluge. --
 	Syela
	
Thu Aug 20 21:44:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/citydlg.c, client/dialogs.c, client/packhand.c,
 	common/city.h, common/packets.c, server/cityhand.c,
 	server/plrhand.c, server/unitfunc.c: Reimplementing
 	diplomat_investigate in a less obtrusive way that does not hose
 	compatibility with 1.7.0.  Making create_advances_list more robust
 	and fixing a lot of other warnings in the spy and scorelog patches.
  	Adding savefile_options to player_load, but not using it. -- Syela
	
Thu Aug 20 21:37:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/connectdlg.c: Changing an #if to an if() so that -Wall is
 	happy. -- Syela
	
Thu Aug 20 21:31:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing a typo in kill_unit that apparently
 	crashed the server. -- Syela
	
Thu Aug 20 11:52:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c: Small change to hash function that decreases
 	collisions by 50% for huge save files.  Made a custom string
 	allocation function for the strings used by the section file loader
 	and the hash table.  This avoids malloc overhead on each string and
 	avoids having to iterate over all the hash table buckets to free
 	them.  This decreased load time by %17 and reduced the server's
 	memory usage by 804k.
	
Thu Aug 20 11:17:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c, server/gamehand.c: Moved the load timing
 	stuff from gamehand to civserver.  This way it can time the whole
 	loading process, including hash table creation.  Also used clock()
 	instead of time() to get CPU time in clock ticks for more accuracy.
	
Thu Aug 20 05:24:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing one of those SIGFPE's I love so very much
 	(in is_my_turn) -- Syela
	
Thu Aug 20 04:20:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c: Added a function prototype for
 	read_init_script().
	
Wed Aug 19 23:48:20 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/gamehand.c, server/registry.c, server/registry.h: The
 	attached patch adds a hash table to the registry to speed up
 	lookups -- to speed up loading the savefile.  (The current method
 	is O(N^2) where N is the "size" of the savefile; this patch should
 	make it more like O(N).)  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Wed Aug 19 23:35:10 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/mapctrl.c, client/mapctrl.h,
 	client/menu.c, client/packhand.c, client/xmain.c, data/Freeciv:
 	Added a 'wakeup' command (W for a unit - shift/click on tile) to
 	unsentry all units on a given tile.  Patch submitted by Reinier
 	Post <reinpost@win.tue.nl>.
	
Wed Aug 19 23:27:43 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: Added an '-r' option to the server, which
 	will read in an initilization script at server startup time.  Patch
 	submitted by Trevor Pering <pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 23:24:50 1998  Mitch Davis <mjd@alphalink.com.au>

	* configure, configure.in: Removed the explicit check for the
 	install program, as this is done automatically.  Bug reported by
 	Tony <stuckey@jaka.ece.uiuc.edu>.
	
Wed Aug 19 23:17:11 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/citydlg.c, client/dialogs.c,
 	client/mapctrl.c, client/packhand.c, common/city.h,
 	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
 	data/Freeciv, data/helpdata.txt, server/cityhand.c,
 	server/plrhand.c, server/unitfunc.c, server/unitfunc.h,
 	server/unithand.c: The latest round of spy/diplomat changes from
 	Kris Bubendorfer <Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
Wed Aug 19 23:09:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/repodlgs.c, common/city.c, data/Freeciv:
 	Addition to the city report dialog: (+gold/science/luxury) Patch
 	supplied by Dee Jay Randall <randal@cs.uregina.ca> and David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Aug 19 22:47:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/citydlg.c: On some systems (SunOS 4.1.2 is the one in
 	question), sprintf returns a 'char *' instead of an 'int'.  This
 	fixes that.  Patch submitted by Trevor Pering
 	<pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 22:47:11 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/gamehand.c: Added capability code for the scorelog.  Patch
 	submitted by Trevor Pering <pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 22:45:43 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h, common/map.h, server/plrhand.c,
 	server/stdinhand.c: Some changes so that a score file is generated
 	which can be used to generate graphs of different statistics over
 	time. This is very similar to the graphs generated in CivI at the
 	end of the game.
	
	When the "scorelog" server option is turned on, a file called
 	"civscore.log" is created and updated every turn.  A post-
 	processing perl script (which can be found in the Freeciv contrib
 	dir) is then used to parse the log file and generate the output
 	files, which are formatted for "xgraph".
	
	This was submitted by Trevor Pering
 	<pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 22:43:25 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Updated the anarchy help text.  Patch
 	submitted by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Tue Aug 18 23:53:25 1998  Mitch Davis <mjd@alphalink.com.au>

	* ai/aihand.c: Fixed a problem where if a human player is being set
 	to ai while in ANARCHY, the ai would not go out of it.  Patch
 	submitted by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Tue Aug 18 23:50:09 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/helpdlg.h: Fixed a minor bug in the new, improved Freeciv
 	1.7.0 help system.  In the civclient, when I select Help Playing,
 	the help system doesn't know where to go.  In particular, it
 	doesn't go to "Strategy and Tactics."  It seems that it gets
 	confused because "Playing" != "Strategy and Tactics".  Bug report
 	by Andrew E. Schulman <andrex@alw.nih.gov>, and patch by David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Tue Aug 18 11:37:53 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/aiunit.c, common/game.c, common/map.c, common/map.h,
 	server/gotohand.c, server/plrhand.c, server/settlers.c: The tile
 	structure had a city ID in it, which is silly because city IDs are
 	pretty much useless.  Changed it to a city pointer which should
 	make map_get_city() a lot faster.  I wonder if this makes the city
 	cache (actually city id index would be a better name, because it
 	doesn't really "cache") unnecessary.
	
Tue Aug 18 11:34:06 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c: Initialized the city cache before a saved
 	game is loaded.  Fixed the ID allocation function to ship ID 0.
	
Tue Aug 18 11:30:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Changed the city cache a little bit.  Tried a
 	few hashing algorithms, but no hashing at all worked best.
	
Sun Aug 16 02:02:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c, server/unittools.h: Renaming rate_unit to
 	rate_unit_d, and adding rate_unit_a for analogous funct
 	get_attacker, which findvictim will call.  Returning 0 in friendly
 	cities in enemies_at. -- Syela
	
Sun Aug 16 02:00:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Adding territory array to try to keep
 	autosettlers safer.  The implementation is not very good, but I had
 	to do something.  Allowing ferryboats for very long
 	intracontinental trips.  Checking ZOC legality before trying to
 	disembark. -- Syela
	
Sun Aug 16 01:58:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding could_be_my_zoc to allow paths past
 	distant enemy units.  Discouraging Kaput! in find_a_dir. -- Syela
	
Sun Aug 16 01:55:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Adding invasion to city ai struct -- Syela
	
Sun Aug 16 01:53:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Adding util funct tile_is_accessible so explorers
 	don't keep banging their heads into a ZOC-brick-wall.  Doing tricky
 	things to unit_bellig because get_attack_power is 99% worthless.
  	Writing invasion_funct, whose purpose is to force the AI to send
 	warships where its infantry are, and to send its infantry where its
 	warships are.  In reality, it tends not to make enough ground
 	troops, but it's at least tolerable now.  Writing is_my_turn so
 	that units in a stack attack in order; previously the invader would
 	attack before the battleships sometimes.  Hacking findvic so that
 	units defending cities attack pests more ambitiously.  Hacking
 	d_val so that fast units don't think they need bodyguards.  Keeping
 	invaders on boats longer so they don't disembark and die.
  	Preventing warships from looking for charge, since eight of them
 	would often suddenly try to defend one city.  The real problem is
 	elsewhere, but this kluge is adequate and much easier to program.
  	Treating fieldunits as non-defenders in findjob.  Faking targets in
 	f_s_t_k so that x and y are set even if there's nothing to kill so
 	that the AI will understand that steam engine allows actually
 	useful warships.  Doing lots of weird invasion stuff.  Removing +40
 	city-kill bonus for air/sea units unless ground/heli units are
 	included in the invasion.  Hacking sanity so that very long
 	intracontinental trips allow ferryboats.  Preventing long rides by
 	trireme.  Adding 'g' to attacker-want equation so that the AI sends
 	enough units to flatten a city in one turn.  Kluging so that the AI
 	won't build units just to kill caravans, since that never actually
 	works.  Using funky fprime variable instead of f in the denom, so
 	that def=1 units are penalized correctly.  Adding
 	find_nearest_friendly_port and telling bored ferryboats and wounded
 	warships to go there.  Teaching the AI that frigates are primarily
 	warships.  Not letting units aboard ferries fortify because weird
 	things happen in cities then.  -- Syela
	
Sun Aug 16 01:35:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Fixing horrible bug in the forced-disband routine.
  	AI used to disband the only defender of a city in disorder, which
 	is exactly what I intended to prevent.  -- Syela
	
Sun Aug 16 01:33:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Adding the line that makes the AI actually (very
 	rarely) build Magellan's.  Adding a wonder-kluge so that cities
 	don't abort almost-built wonders.  Allowing non-military builds if
 	want (usually attacker want) is over 100 with no urgency.  Fixing
 	rounding errors in one of those /30 functions.  Allowing the AI to
 	buy non-defensive units a little earlier than before.  Adding stuff
 	to the list of stuff to save up for.  Making the AI more frugal.
  	Forcing the AI to upgrade its triremes. -- Syela
	
Sun Aug 16 01:29:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Fixing almost all the typos and other
 	discrepancies between f_s_t_k and k_s_w attacker-want equations,
 	partly as preparation for modularizing that junk.  Adding some util
 	functs, assess_distance, assess_danger_unit.  Treating units that
 	are about to be produced in enemy cities as danger in
 	assess_danger.  Limiting p_d_w to costs <= shield_stock + 40; it
 	was annoying having the AI insist on using battleships for defense.
  	Changing unit_desira so that def=1 units are penalized elsewhere
 	instead.  Changing p_a_w to allow overrides of the chosen attacker
 	in case we need something with more defense or more speed or
 	something.  Doing ugly things to k_s_w that I can't even discern
 	from the diffs.  Fixing more bugs than I can count, or explain - no
 	one else noticed them since they merely caused suboptimal AI
 	behavior.  Want for military techs and handling of unhap is
 	standard and as intended now.  Fixing bug that caused AI warships
 	to yoyo.  Implementing ai.invasion.  Forcing the AI to build
 	defenders instead of attackers when it's in danger.  Forcing the AI
 	to build barracks before ground attackers.  Preventing the AI from
 	building units it can't upkeep.  Treating all unbuilt ground
 	attackers as vet, which encourages making barracks and ground
 	attackers.  I did a lot, and I probably forgot something. -- Syela
	
Fri Aug 14 22:52:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.h, server/sernet.c: Removed lots of extra
 	prototypes from civserver.h for functions that aren't in
 	civserver.c, then added another include to sernet.c because of a
 	missing prototype.
	
Fri Aug 14 22:47:03 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Fixed bug were the client would sometimes not
 	realize that an improvement was obsoleted by a wonder.
	
Fri Aug 14 22:45:17 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.c: Some small performance improvement to
 	wonder_replacement().
	
Fri Aug 14 21:52:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Fixed an old bug so the liberated/conquered
 	messages show up correctly.
	
Thu Aug 13 15:40:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c, ai/aitools.h, server/unitfunc.c, server/unithand.c:
 	Removing unused and broken dist_nearest_enemy_* functs.  Creating
 	and protoing dist_nearest_city, then calling it in the
 	combat-notify's.  Adding minor (almost meaningless) change to let
 	AI cities building wonders keep doing so.  Stopping AI warships on
 	GOTO.  Rewriting the 'Hey idiot' debug code to use abort() and to
 	abort() only if ai.passenger is nonzero, which should prevent
 	human-induced crashes.  Leaving the abort() in until I'm totally
 	sure the AI doesn't cause the problem itself.  Forcing AI units to
 	end moves early instead of moving right next to something that will
 	kill them. -- Syela
	
Thu Aug 13 09:45:20 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Last patched used a global variable not
 	declared in this file, so it didn't even compile.  Used the helper
 	function get_unit_in_focus() rather than punit_focus directory, and
 	added the include file for update_menus().
	
Thu Aug 13 09:20:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Another bug pointed out by Walter Misar,
 	PACKET_TILE_INFO should have been TILE_KNOWN.
	
Thu Aug 13 08:57:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Fixed bug pointed out by Walter Misar,
 	capturing a city didn't give you any techs.  This has been around
 	since the future tech patch, I can't believe no one noticed until
 	now.
	
Thu Aug 13 07:31:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: Bug found by Benjamin Korvemaker, the maximum
 	map width was actually the max map height.
	
Wed Aug 12 14:15:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/menu.c, client/packhand.c: "Build Railroad" never shows up
 	in the Orders menu, even if it is a valid option.  I have rigged
 	this so that "Build Railroad" replaces "Build Road" in the Options
 	menu when appropriate.
	
	As I was working on this fix, I noticed a bug: If you click on a
 	unit which is engaged in some activity (pollution cleanup, road
 	building, etc.)  the Orders menu does not reflect the fact that
 	this unit is idle and can accept new orders until you click on that
 	unit a SECOND time. I found a fix for this problem and incorporated
 	it into this patch as well.  Patch submitted by Cedric Tefft
 	<cedric@earthling.net>.
	
Tue Aug 11 16:59:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/citydlg.c, client/mapctrl.c,
 	client/mapctrl.h, client/repodlgs.c, common/packets.c,
 	common/packets.h, data/Freeciv, server/civserver.c,
 	server/unithand.c, server/unithand.h: Added a option to upgrade
 	individual units to the present units menu in the city dialog.  Had
 	to add a new packet type to the server to support doing this.
	
Sun Aug  9 09:23:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Crashless and more readable (if not
 	standardly whitespaced) version of transfer_city_units. -- Syela
	
Fri Aug  7 23:51:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: The trade report code was looking pretty
 	crufty, so I fixed it up.
	
Fri Aug  7 04:48:36 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Removed C++ comments from two lines.  Moved a
 	line around too.
	
Thu Aug  6 17:16:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/dialogs.c, data/Freeciv: The diplomat
 	dialog didn't work, it looked like someone forgot to add the
 	resources necessary for the new button.  Fixed it.
	
Thu Aug  6 12:09:55 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Added the explore command to the help text.
	
Thu Aug  6 03:27:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* configure: Updating version number to 1.7.0.  Good show,
 	Mitch. -- Syela
	
Wed Aug  5 20:14:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ChangeLog, NEWS: Updating NEWS and ChangeLog - Mitch's unenviable
 	burden -- Syela
	
Wed Aug  5 20:10:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README, configure.in, client/Freeciv.h, client/connectdlg.c,
 	common/shared.h, data/Freeciv, data/helpdata.txt,
 	debian/civclient.man, debian/civserver.man, debian/copyright,
 	server/gamehand.c: Committing Mitch Davis's patch to update the
 	version number to 1.7.0 and add man files and copyright notice in
 	debian/ -- Syela
	
Wed Aug  5 20:07:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/dialogs.c, common/unit.c, common/unit.h,
 	data/helpdata.txt, server/citytools.c, server/cityturn.c,
 	server/gamehand.c, server/unitfunc.c, server/unitfunc.h,
 	server/unithand.c: Committing Kris Bubendorfer's patch to repair
 	spy/diplomat bugs, allow spies to poison cities, and to mung
 	create_unit. -- Syela
	
Wed Aug  5 20:04:39 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/repodlgs.c: Christian Grothoff's patch to display all
 	improvements in trade dialog. -- Syela
	
Wed Aug  5 20:03:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gamehand.c: David Pfitzner's patch so early 1.6.4
 	savefiles will load. -- Syela
	
Wed Aug  5 20:03:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Jason Merrill's patch so that military units can
 	pillage. -- Syela
	
Wed Aug  5 20:02:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* CREDITS, README, freeciv_hackers_guide.txt: Correcting typos and
 	grammatical errors in documentation.  Patch supplied by Markus
 	Linnala. -- Syela
	
Wed Aug  5 20:01:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/helpdata.txt: Clarifying help on Hanging Gardens (Greg
 	Wooledge again) -- Syela
	
Wed Aug  5 20:00:08 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/helpdlg.h, client/menu.c, data/helpdata.txt: Adding Greg
 	Wooledge's help on combat. -- Syela
	
Wed Aug  5 19:58:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c, server/cityturn.c, server/plrhand.c: Implementing
 	Peter Schaefer's patches to prevent taxes, science, and building
 	upkeep during anarchy. -- Syela
	
Wed Aug  5 19:55:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Changing enemies_at to be a little more
 	efficient and less omniscient. -- Syela
	
Wed Aug  5 19:54:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/stdinhand.c: Adding funct set_ai_level, and adding and
 	doc'ing normal and hard commands to invoke it. -- Syela
	
Wed Aug  5 19:53:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Adding util funct is_wet so that autosettlers
 	won't want to irrigate tiles they have no reason to know are
 	irrigable.  Adding enemies_at check in findwork; this is not nearly
 	adequate to stop settlers from going to their deaths, but is better
 	than nothing. -- Syela
	
Wed Aug  5 19:51:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Adding orig_x and orig_y to warmap (still
 	unused) -- Syela
	
Wed Aug  5 19:50:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Treating from ocean (presumably ferryboat) to
 	land moves as 3 instead of something bizarre in LAND_MOVING warmap.
  	Averaging outgoing and incoming move costs in LAND_MOVING warmap,
 	since pathological cases led to pathological behavior where the AI
 	thought danger was much farther away than it was.  Adding orig_x
 	and orig_y to warmap, but not implementing them anywhere. -- Syela
	
Wed Aug  5 19:48:15 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Quick hack to stop widespread disorder in AI
 	nations whose Gardens or Oracle become obsolete. -- Syela
	
Wed Aug  5 19:47:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.h: Adding more ai handicaps, ones I could actually
 	implement, and protoing ai_handicap funct. -- Syela
	
Wed Aug  5 19:44:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.c: Adding funct ai_handicap. -- Syela
	
Wed Aug  5 19:43:34 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Changing grave_danger back to int. -- Syela
	
Wed Aug  5 19:38:36 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Implementing H_HUTS so that normal-mode AI explorers
 	won't move straight to huts on unseen tiles.  Increasing ct in
 	explorer loop (PART TWO) so that fast units explore further.
  	Teaching exploring boats that exploring coastlines is better than
 	exploring open sea.  This is actually important for the normal-mode
 	AI.  Adding could_unit check so that I don't get annoying ZOC
 	violation messages.  Changing unit_vul so that defenders against
 	virtual (id=0) attackers are treated as fully healed.  Restoring
 	the city-kill bonus in findvictim which I inadvertently hosed at
 	some point in the past.  Implementing H_TARGETS so that AI in
 	normal mode won't target anything it hasn't seen.  Altering
 	ai_manage_ferryboat so that ferryboats may explore rather than
 	going home in normal mode. -- Syela
	
Wed Aug  5 19:34:08 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Implementing H_RATES, so the AI in normal mode won't
 	set its rates beyond its government_max_rate. -- Syela
	
Wed Aug  5 19:33:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Giving the AI some clue what to do on fallbacks,
 	which seem only to occur with techlevel=0.  Hosing the DOOMED
 	clause, since I hosed grave_danger.  Telling the AI not to spend
 	1000 on battleships for defense anymore; I don't know how well this
 	will work yet, although it seems correct.  Not saving money for
 	B_AQUEDUCT if we only want it because we're celebrating.  Saving
 	money for it hosed the celebration, leading to ridiculous
 	flipflops.  Rewriting worst_elvis_tile, which has been defective
 	for months, but I only noticed last night when I was doing
 	last-minute modifications and Boston decided to have disorder N
 	turns in a row.  Adding resolved/unresolved printf to emergency
 	subroutine. -- Syela
	
Wed Aug  5 19:30:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Adding dangerfunct so that danger amortization
 	is 2^(1-t) instead of 1/t^2.  Treating units adjacent to city as 3
 	away instead of whatever the warmap thinks.  Changing grave_danger
 	to an int, but not implementing my master plan yet.  It needs to
 	acknowledge that four veteran dragoons outside a city are more than
 	four times as dangerous as one.  Moving the v/=30 to fix a possible
 	problem where the AI berserkly wants FEUDALISM.  Adding a +=
 	urgency in m_a_c_b so that the AI will buy if danger==def.  Adding
 	emergency-wall code which actually worked when I tried it (once),
 	but isn't necessarily verified yet. -- Syela

Wed Aug  5 19:25:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README.AI: Updating AI intro, doc'ing normal and hard modes,
 	updating list of known and recently resolved problems. -- Syela

Tue Aug  4 22:41:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.h: Protoing can_unit_attack_unit_at_tile and
 	enemies_at. -- Syela
	
Tue Aug  4 22:40:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Changing can_unit_attack_tile into a wrapper
 	for can_unit_attack_unit_at_tile.  Adding enemies_at, which is
 	mostly-working but not dangerous. -- Syela
	
Tue Aug  4 22:40:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Fixing dist_nearest call in unit_versus, and
 	adding outside %s as a possible notify.  Correcting spelling of
 	successful.  Adding ACTIVITY_EXPLORE as a special case in
 	handle_unit_ac_req. -- Syela
	
Tue Aug  4 22:38:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing bug in get_virtual_defense_power so
 	that ground units on ocean tiles return 0.  Implementing
 	ACTIVITY_EXPLORE in update_unit_ac.  Correcting dist_nearest call
 	in kill_unit and adding 'outside %s' as a possible notification.
  	-- Syela
	
Tue Aug  4 22:36:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Fixing ancient bug in ai_do_build_city where
 	punit is freed and then referenced.  Initing ww to 99999 in
 	findwork so that v2=0 activities are not attempted.  Doing ZOC
 	check before settlers try to disembark.  Fixing syntax error in a
 	memset that doesn't matter. -- Syela
	
Tue Aug  4 22:34:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Protoing could_unit_move_to_tile so aiunit
 	can call it. -- Syela
	
Tue Aug  4 22:34:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding arbitrary deterrent for GOTO'ing
 	through unseen tiles.  Tinkering with the passenger in find_the,
 	which probably has no meaning whatsoever.  Adding transport
 	paranoia code, which mostly works thanks to the new util funct
 	enemies_at.  This isn't perfect and if I figure out why I might
 	fix it later today.  Fixing the 'passenger cannot disembark' thing
 	which I messed up so badly the first time I couldn't believe it
 	when I saw it.  Adding passenger to find_a_dir for more transport
 	paranoia.  In find_a_dir, avoiding the unknown if we are on our
 	last move.  Allowing -1 to be returned if moving would be into the
 	jaws of death.  Adding same_pos check in goto_is_sane.  Aborting
 	goto's with no moves_left much sooner than before to save CPU
 	cycles. -- Syela
	
Tue Aug  4 22:28:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/tiles.xpm: Adding X tile for ACTIVITY_EXPLORE. -- Syela
	
Tue Aug  4 22:27:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/Freeciv: Adding <Key>x for key_unit_explore. -- Syela
	
Tue Aug  4 22:26:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Changing MAGELLAN to give 2 moves, not 1.  Adding
 	ACTIVITY_EXPLORE to can_unit_do_activity. -- Syela
	
Tue Aug  4 22:25:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/xmain.c: Adding key_unit_explore. -- Syela
	
Tue Aug  4 22:25:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/menu.c: Adding explore to orders menu. -- Syela
	
Tue Aug  4 22:24:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/mapview.c: Defining X_TILE and displaying it when units
 	are in explore mode. -- Syela
	
Tue Aug  4 22:23:30 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/mapctrl.c, client/mapctrl.h: Adding and protoing
 	key_unit_explore. -- Syela
	
Tue Aug  4 22:22:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/Freeciv.h: Adding <Key>x to put units in explore mode. -- Syela
	
Tue Aug  4 22:21:56 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Protoing a bunch of functs that now may be called
 	from other modules: ai_manage_explorer, unit_belligerence, _basic,
 	unit_vulnerability, _virtual, _quadratic, unit_can_defend. -- Syela
	
Tue Aug  4 22:17:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Correcting unit_move_turns now that MAGELLAN
 	actually gives 2 moves.  Deleting obsolete quick'n'dirty
 	unit_defensiveness and replacing it with the much smarter new
 	funct assess_defense_unit.  Hacking ai_manage_explorer so that it
 	can handle non-AI units, including boats.  Changing the arbitrary
 	value in the really slow part so that explorers don't get stuck so
 	easily, and also calling unit_move_turns instead of assuming our
 	explorer was an IGTER ground unit.  Writing quick'n'dirty
 	stack_attack_value because the old bodyguard code didn't
 	acknowledge stacks of muskets as a threat to howitzers.  Rewriting
 	reinforcements_cost and _value to save enormous amounts of CPU
 	time since the last versions were so badly implemented.  Also
 	changing them to continue if aunit==punit, so taking account of
 	that in findvictim.  Upgrading the need-bodyguard calc using
 	stack_attack.  Fixing bugs in gothere that I can't really explain
 	but that which were causing AI invaders to either stall or get
 	stuck for no good reason.  Oops; I still have debug printfs in
 	here; will remove them later today.  Using quadratic defense in
 	look_for_charge and findjob for bodyguards.  Using
 	assess_defense_unit instead of the really bad joke in the
 	is-it-safe-to-leave calculation.  Acknowledging units already
 	present in the horrible init in f_s_t_k.  And I'm not done yet! -- Syela
	
Tue Aug  4 22:09:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c: Fixing ancient mistake in dist_nearest_enemy_city
 	that allowed unseen cities to be returned.  Also hacking it so it
 	gives the nearest city on any continent if (x,y) is in the
 	ocean. -- Syela
	
Tue Aug  4 22:08:05 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Forcing the AI to save up for citywalls/defenders
 	it needs even if it's a good time to love the president. -- Syela
	
Tue Aug  4 22:07:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Teaching the AI when to build MAGELLAN.  Also
 	telling it SDI is worth saving money for if it's about to be
 	nuked. -- Syela
	
Tue Aug  4 22:06:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.h: Protoing new functs assess_defense_unit and
 	_quadratic. -- Syela
	
Tue Aug  4 22:06:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Fixed some bugs giving an implicit *1.5 to
 	boats defending cities.  Wrote assess_defense_quadratic to stop
 	the AI from building piles of small units or from reallocating
 	piles of small units to one city.  Wrote assess_defense_unit.
  	Rewrote assess_defense_backend to handle the new functs.  Fixed a
 	syntax error that caused a memset to misbehave. -- Syela
	
Mon Aug  3 02:27:42 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing bug where giving AI an empire with missiles
 	crashes the game.  Fixing bug where AI warships can choose
 	landlocked targets. -- Syela
	
Sun Aug  2 23:28:37 1998  Mitch Davis <mjd@alphalink.com.au>

	* configure, configure.in, client/Freeciv.h, common/shared.h,
 	data/Freeciv: Bumped all the version numbers to 1.6.6.
	
Sun Aug  2 20:30:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Adding unit name to zone of control notify.
  	One of my AI functs is misbehaving re: ZOC, and this is useful to
 	debug it as well as in general. -- Syela
	
Sun Aug  2 20:30:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Adding a bunch of ferryboat and bodyguard
 	stuff to handle_unit_move_request. -- Syela
	
Sun Aug  2 20:29:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Preventing nukes from reducing size 1 cities
 	to size 0.  I don't know how The Other Game does this, so this
 	might need checked. -- Syela
	
Sun Aug  2 20:27:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/stdinhand.c: Adding undoc'd crash command. -- Syela
	
Sun Aug  2 20:26:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.h: Protoing other_passengers, changing proto for
 	find_boat. -- Syela
	
Sun Aug  2 20:26:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Replacing hardcoded 8 with TRADE_WEIGHTING.
  	I probably have more of these lurking somewhere.  More strongly
 	encouraging coastal cities to be near lots of water instead of
 	only a little.  Adding rather arbitrary deterrent to using
 	settlers to help cities grow.  No longer zeroing ferryboat in
 	auto_settler_do_goto; it's in unithand now.  Changing find_boat so
 	that punit is no longer an arg (we just trust the map), but
 	minimum capacity is.  Adding util funct other_passengers, which
 	I'm probably going to end up obsoleting now that multiple
 	passengers are handled intelligently.  Adding ai_choice to
 	findwork so that AIs will want Navigation if colony sites exist
 	outside trireme range.  Choosing the best tile to improve if
 	multiple tiles offer equal opportunity instead of choosing the
 	NWmost.  Refusing to allow settlers to help cities grow if they
 	can do anything else useful.  Otherwise the AI was settling its
 	settlers, creating workers for unimproved tiles, and then needing
 	settlers to improve them.  Not allowing a settler riding a
 	warferryboat to divert it.  Forcing settlers to disembark early
 	with other_passengers, but this is probaly no longer necessary. -- Syela
	
Sun Aug  2 20:18:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding time_saving abort in generate_warmap
 	to prevent useless duplication; some of the AI functs would
 	otherwise generate redundant warmaps.  Fixing bug involving dir_ok
 	halfway around the world from the destination.  Acknowledging
 	passenger ZOC in ferryboat goto paths.  Treating rails as free
 	even for IGTER units finally.  Encouraging units to choose
 	roads/rails in find_a_dir for flexibility later. -- Syela
	
Sun Aug  2 20:14:51 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c: Forcing the AI to manage its units BEFORE
 	end_turn, not during. -- Syela
	
Sun Aug  2 20:14:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Handling e/luxneed/pwr in worker_loop better
 	to stop AI emergencies. -- Syela
	
Sun Aug  2 20:13:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Changing is_transporter_with_free space to return
 	free space. -- Syela
	
Sun Aug  2 20:12:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Adding urgency and who's-killing-us temp vars a
 	and f to city_ai. -- Syela
	
Sun Aug  2 20:11:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Protoing new functs look_for_charge and
 	find_beachhead. -- Syela
	
Sun Aug  2 20:07:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Reordering functs so that low-level routines come
 	first and high-level routines come later in the file.  Adding util
 	funct unit_move_turns which actually acknowledges MAGELLAN, but I
 	need to implement it a dozen more places.  Adding bodyguard/charge
 	stuff.  Making bodyguards zero their charge if they should change
 	homecity.  Adding unit_vul_virtual.  Changing the desperation
 	kluge so that units don't attack with certain death, although
 	probable death is still OK.  Hacking findvictim to return an int.
  	Hacking findvictim so ferryboats do not attack.  Adding more
 	safeguards to prevent SIGFPE's when non-attackers try to attack.
  	Adding ai_military_bodyguard.  Adding find_beachhead for
 	invasions.  Adding bodyguard code to ai_military_gothere.  Adding
 	invasion code to ai_military_gothere.  Adding util funct
 	unit_can_defend for findjob and new funct look_for_charge.
  	Allowing a lot of defenders to become bodyguards if needed as
 	such.  Calling generate_warmap more than I would like; it seems to
 	slow the game down some.  Adding invasion code to
 	find_something_to_kill.  Using unit_being_aggressive to calc
 	unhap.  Making ai_manage_ferryboat a lot more intelligent
 	regarding multiple passengers and not leaving shore too soon.
  	Maybe something else, but with the rearranging of functs, the
 	diffs are ugly. -- Syela
	
Sun Aug  2 19:57:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Moving ai_manage_units out of ai_do_last so that
 	units can have their final move before enemy cities get to build
 	stuff.  Fixing stupidity in ai_manage_taxes where it was possible
 	to feed a negative index to an array - was causing aberrant
 	behavior, mostly selling buildings during pointless celebrations.
  	Getting rid of some unused code.  Being a little more careful not
 	to sell stuff because of rounding errors.  There is a minor quirk
 	in this routine that I still need to fix, but I wanted to upload
 	it in a mostly-working state. -- Syela
	
Sun Aug  2 19:54:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.h: Protoing ai_choose_defender_by_type and changing
 	proto for ai_choose_defender_limited to match. -- Syela
	
Sun Aug  2 19:53:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: AI not buying wonders with have 50 or more
 	build_points_left.  Changing the syntax to
 	ai_choose_defender_limited so that move_type can be an arg.
  	Adding ai_choose_defender_by_type.  Disbanding unhappy units that
 	cause unrest in emergency_r_w. -- Syela
	
Sun Aug  2 19:50:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Regarding only ground units and ferryboats as
 	grave or urgent danger.  Fixing huge, important, obvious bug where
 	the AI didn't comprehend that units on other continents were
 	dangerous.  Caching urgency so that defenders in urgency-0 cities
 	can become bodyguards.  Changing the big ugly want equation in
 	p_a_w and k_s_w to handle co-ordinated attacks and invasions via
 	ferryboat.  Adding code to m_a_c_b so that the AI might (it very
 	rarely does, it seems) build defenders purely to become
 	bodyguards.  I think that's everything. -- Syela
	
Sun Aug  2 19:39:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Giving the AI appropriate disregard for the
 	WALL. -- Syela
	
Sun Aug  2 15:34:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/helpdlg.c, data/Freeciv: Vision range
 	displayed in the unit help, from David Pfitzner.
	
Wed Jul 29 21:39:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Unlinking returning spy from tile->units
 	before sending her home, then inserting her in her new
 	tile->units.  Also stalling AI military ground units on GOTO,
 	which is meaningless now but will be useful when I upload the
 	current aiunit.c. -- Syela
	
Wed Jul 29 16:22:42 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c, client/dialogs.h, client/packhand.c,
 	common/packets.c, common/packets.h, server/unitfunc.c,
 	server/unithand.c: Used the same system I did for revolt inciting
 	to remove the bribe cost from the unit info packet.  Only had to
 	modify 7 files this time.
	
Wed Jul 29 16:11:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.h, server/plrhand.c: Removed unit_bribe_cost() from
 	the unit.h header, because it isn't in unit.c any more.  Added the
 	unittools.h header to plrhand.c.
	
Wed Jul 29 13:30:03 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/civclient.c, client/dialogs.c, client/dialogs.h,
 	client/packhand.c, client/packhand.h, common/packets.c,
 	common/packets.h, server/cityhand.c, server/civserver.c,
 	server/unithand.c, server/unithand.h: Took the incite_revolt_cost
 	out of the city_info packet.  Sounds simple, eh?  I needed to
 	modify 11 files to do it.  Since inciting happens only rarely,
 	it's wasteful to send the data with every city update.  Now when a
 	diplomat tries to incite, a INCITE_INQ packet is sent asking how
 	much it will cost.  Then the client receives an INCITE_COST packet
 	from the server, and pops up the yes/no dialog.  If players with
 	lagged connections try to incite more than one city very quickly
 	(before the server INCITE_COST comes back), weird things might
 	happen.  I doubt this will actually happen in a game.  This change
 	also allows incite cost to be updated dynamically.  Before the
 	cost was computed at the beginning of the turn and didn't change.
  	Now if you do something to change the cost, like kill all the
 	units in the city and reduce its size, the cost will go down.
	
Wed Jul 29 01:18:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Removing destroyed cities from the minimap.
 	-- Syela
	
Wed Jul 29 01:14:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Removing cities that starve from the
 	minimap. -- Syela
	
Wed Jul 29 01:13:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Removing brokenly-implemented
 	remove_city_from_minimap from remove_city; it was corrupting the
 	minimap.  Forcing reset_move_costs in remove_city and create_city.
  	My stupid failure to do so earlier led to the AI's reluctance to
 	build boats. -- Syela
	
Tue Jul 28 23:04:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Adding is_ground_unit check in
 	get_transporter_capacity (David Pfitzner) Adding case for
 	unimplemented ACTIVITY_EXPLORE in unit_activity_text, and added
 	the unknown punit->activity in the LOG_FATAL.  -- Syela
	
Tue Jul 28 23:01:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Fixing ai_find_elvis_pos so that it doesn't panic
 	about anticipated famine when dealing with e large.  Horrible
 	mistake on my part. -- Syela
	
Tue Jul 28 22:59:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c, server/cityturn.h: Protoing
 	unit_being_aggressive normally so the AI can call it. -- Syela
	
Tue Jul 28 22:58:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gamehand.c: Including capability.h; stops implicit
 	declaration warnings. -- Syela
	
Tue Jul 28 22:55:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/packets.c: Fix so negative research.researched is
 	acknowledged as negative. -- Syela
	
Tue Jul 28 14:30:51 1998  Mitch Davis <mjd@alphalink.com.au>

	* NEWS, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Upped the version number to 1.6.5.
	
Tue Jul 28 12:40:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/packhand.c, common/city.c,
 	common/city.h, common/packets.c, common/packets.h,
 	server/cityhand.c, server/cityturn.c, server/plrhand.c: Changed
 	the way trade route value was calculated.  The value of a trade
 	route no longer takes the trade produced by other trade routes
 	into account.  Before it would sometimes depending on which order
 	the routes were computed in.  The value of the trade route is sent
 	with the CITY_INFO packet to the client.  The client uses this
 	information rather than trying to compute the value isself, since
 	it doesn't know enough to get it right.  The format for the
 	CITY_INFO packet has been shrunk by 6-14 bytes.
	
Tue Jul 28 12:37:41 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.am, Makefile.in, client/Makefile.am,
 	client/Makefile.in, server/Makefile.am, server/Makefile.in: Fixing
 	the broken makefiles that didn't export many files (including
 	server/gotohand.h and client/*.ico).  This is what broke beta
 	1.6.4.
	
Tue Jul 28 12:15:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Cities weren't being refreshed when a trade
 	route was formed.  The update for the destination city might not
 	get sent to the right player.  Fixed.
	
Tue Jul 28 09:49:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Some updates to unit help by David Pfitzner.
	
Mon Jul 27 17:39:24 1998  not sure

	* common/packets.c: Reverting to revision 1.12, since 1.13 did
 	nothing but add bugs.
	
Mon Jul 27 17:25:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: Changed the estimated release date from Jul
 	26 to Aug 5.
	
Mon Jul 27 17:24:38 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, data/Freeciv: Changed the estimated release
 	date for 1.7 from July 26 to August 5.
	
Mon Jul 27 17:23:12 1998  Mitch Davis <mjd@alphalink.com.au>

	* README: Updated file for 1.7.  Thanks to James Blackwell for the
 	patch.
	
Mon Jul 27 17:21:57 1998  Mitch Davis <mjd@alphalink.com.au>

	* NEWS: Removed mention of an irrigation problem which John
 	assures me has gone.
	
Mon Jul 27 17:21:05 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.noimake: Added a note telling people that the file is
 	out of date.
	
Mon Jul 27 17:20:27 1998  Mitch Davis <mjd@alphalink.com.au>

	* INSTALL: Updated the INSTALL document so it tells people to use
 	configure instead of Imake.
	
Mon Jul 27 17:19:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* HOWTOPLAY: Replaced references to 1.6 with Freeciv.
	
Mon Jul 27 17:18:30 1998  not sure

	* ChangeLog: Made a start on the ChangeLog.  Need to finish this
 	for 1.7.
	
Mon Jul 27 17:00:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/packets.c: Removing casting to signed in get_int8; hosed
 	pinfo->activity. -- Syela
	
Mon Jul 27 16:25:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* CREDITS, NEWS: Updated for 1.7.  Thanks to James Blackwell
 	<innocent@mercury.merconline.com> for the changes.
	
Mon Jul 27 16:01:37 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/plrhand.c: Removed some code I had commented out ages
 	ago.
	
Mon Jul 27 15:25:51 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/cityturn.c: Added code so that units in fortresses within
 	a 3-square radius of a city do not cause unhappiness.  Patch
 	submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Mon Jul 27 15:17:53 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Updated the help file to include the feature
 	where units in fortresses around cities do not cause unhappiness.
  	This allows for much more realistic defense scenarios.  Patch
 	submitted by Greg Wooledge <wooledge@kellnet.com>.
	
Mon Jul 27 15:10:48 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h: Added a "get_player" convenience
 	function.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Mon Jul 27 15:03:34 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, server/plrhand.c: The rate-changing code has a
 	really stupid bug in it..*sigh* The notify_player call is missing
 	it's last arg in handle_player_rates
	[it should be get_government_name(pplayer->government)] Fix
 	submitted by Olli Helenius <ollhel@jytol.fi>.
	
Mon Jul 27 14:29:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/ratesdlg.c, common/player.c, common/player.h,
 	data/Freeciv, server/plrhand.c: Made the tax/lux/sci rates work
 	like in CivII.  Patch submitted by Olli Helenius
 	<ollhel@jytol.fi>.
	
Mon Jul 27 14:24:56 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/gamehand.c: Rewrote the savefile version patch to use
 	capability strings instead of simple version number.  Patch
 	submitted by Cedric Tefft <cedric@earthling.net>.
	
Mon Jul 27 12:36:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/packets.c: Fixes a problem where cities with lack of food
 	or so are shown to have 65k food surplus.  Patch submitted by
 	Frank Muzzulini <muzz@albatross.pond.sub.org>.
	
Mon Jul 27 12:20:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/menu.c, data/helpdata.txt, client/helpdlg.h: Patches from
 	Greg Wooledge to add lots of help text for governments and
 	happiness.
	
Mon Jul 27 05:15:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c: Changed Partisans to ignore terrain, like in
 	civ2.
	
Mon Jul 27 01:11:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README.AI: Adding short doc describing current AI status to
 	top-level dir. -- Syela
	
Mon Jul 27 01:09:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.h: Protoing find_boat, since invasion code will
 	call it. -- Syela
	
Mon Jul 27 01:06:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/aicity.c, ai/aicity.h: Moving
 	choose-ferryboat code into ai_choose_ferryboat. -- Syela
	
Mon Jul 27 01:04:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Fixing bug so galleons can GOTO defended
 	tiles.  Setting unit activity to ACTIVITY_GOTO in do_unit_goto as
 	a failsafe. -- Syela
	
Mon Jul 27 01:02:35 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.h: Adding ACTIVITY_EXPLORE, which I'll implement
 	Real Soon Now. -- Syela
	
Mon Jul 27 01:02:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c: David Pfitzner's patch to announce when
 	game-load is complete. -- Syela
	
Mon Jul 27 00:07:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Moving debug printfs that were calling free()d
 	memory -- Syela
	
Mon Jul 27 00:05:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/civclient.c: David Pfitzner's patch to stop client
 	crashes on reconnection. -- Syela
	
Sat Jul 25 16:47:30 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Adding 'e' to better estimate real foodneed
 	when elvisization is inevitable.  This is a quick-n-dirty hack but
 	it works well.  Zeroing specialists prior to worker_loop in
 	auto_arrange_workers. -- Syela
	
Sat Jul 25 16:45:58 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Fixing mistaken implementation of settler_eats
 	(months old) in ai_find_elvis_pos.  Adding 'e' to handle
 	multiple-elvis case so that it doesn't elvisize all its farmers
 	and starve.  Fixing what was probably a typo in ai_fix_unhappy;
 	doing so fixed a bug with emergency_reallocate.  Made the
 	emergency notification more verbose and got rid of all the other
 	printfs in reallocate once I fixed the remaining bugs; the
 	city_refresh turned out to be important. -- Syela
	
Fri Jul 24 20:49:58 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing a dorky typo of mine in g_v_d_p that
 	David Pfitzner found. -- Syela
	
Fri Jul 24 20:49:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Commenting out debug printfs in ferryboat
 	code now that it's tested.  Using seacost instead of dopey
 	real_map_distance to calculate distances to possible colony sites.
  	Letting settlers ride the boat all the way to their destination
 	instead of getting off too soon. -- Syela
	
Fri Jul 24 20:47:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Fixing bug where last available tech was
 	called 'Future Tech 1'. -- Syela
	
Fri Jul 24 20:46:51 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Protoing really_generate_warmap since
 	findwork now calls it. -- Syela
	
Fri Jul 24 20:46:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Better pathfinding for Triremes.
  	Experimental patch to the stacking algorithm so that stacks in
 	cities and fortresses are OK. -- Syela
	
Fri Jul 24 20:45:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Fixing a really stupid typo in worker_loop
 	that hosed conflict[] -- Syela
	
Fri Jul 24 20:44:56 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Fixing a bug in city_tile_value that allowed
 	nonsupport of units. -- Syela
	
Fri Jul 24 20:43:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Redefining find_something_to_kill as an int instead
 	of void funct. -- Syela
	
Fri Jul 24 20:43:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Allowing certain units to be managed with 0 moves
 	left.  Fixes the wasted turn for caravans and lets ferryboats stop
 	their GOTOs when their passengers disembark.  Rewrote the
 	unit_belli and unit_vul stuff, reinf_value,
 	find_something_to_kill, and findvictim in order to make attacker
 	wants somewhat reasonable instead of craven. -- Syela
	
Fri Jul 24 20:41:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Doing funky stuff in ai_manage_taxes to prevent
 	famine, disorder, and non-support of units. -- Syela
	
Fri Jul 24 20:39:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.h: Protoing new functs has_a_normal_def and
 	emergency_realloc_workers. -- Syela
	
Fri Jul 24 20:37:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Spending money wantonly when researching A_NONE.
  	Fixing isdef in choose_defender_limited so cruisers don't count as
 	defenders.  Adding emergency_reallocate_workers; not fully tested
 	yet. -- Syela
	
Fri Jul 24 20:36:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Only treating ground units and ferryboats as
 	grave or urgent danger.  Not allowing FIELDUNIT as first defender
 	in a city.  Changing unit attack desires; old ones were right at
 	the THRESHOLD, but too low for closer targets.  Fixing a dorky
 	typo that only survived because memsetting the virtualunit didn't
 	set its id to 0.  Zeroing it manually.  Treating FIELDUNITs in a
 	city as attackers, like Cannons are. -- Syela
	
Fri Jul 24 20:33:09 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Better pollution understanding.  Fixing want
 	for CAPITAL and DARWIN. -- Syela
	
Thu Jul 23 22:51:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/connectdlg.c, client/graphics.c,
 	client/graphics.h, common/shared.h, data/Freeciv,
 	server/civserver.c, server/meta.h: Made some changes so that
 	versions before 1.7 display a prominent BETA notice.
	
Thu Jul 23 22:48:47 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/shared.h: Added some notes for people updating the
 	capability string.
	
Thu Jul 23 00:54:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Moving the warmth calculation where it should
 	have been in the first place.  Expanding settling horizon after we
 	learn Nav. -- Syela
	
Thu Jul 23 00:52:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.h: Defining POLLUTION_WEIGHTING and
 	WARMING_FACTOR.  -- Syela
	
Thu Jul 23 00:51:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Zeroing tech_want for buildings under primitive
 	governments.  Trying to stop the AI from using FIELDUNITS as
 	sentry defenders. -- Syela
	
Thu Jul 23 00:49:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Correcting stupid mistakes, one involving
 	B_MASS, two others that were preventing the AI from building
 	caravans and freight. -- Syela
	
Wed Jul 22 23:08:15 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/cityturn.c: This patch prevents advisors from building
 	palaces automatically.  Patch submitted by Olli Helenius
 	<ollhel@jytol.fi>.
	
Wed Jul 22 23:05:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/plrhand.c: Some formatting changes.  Hope I didn't break
 	anything.
	
Wed Jul 22 22:59:13 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/plrhand.c: This patch fixes a problem with anarchy.
  	Patch supplied by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Wed Jul 22 22:57:28 1998  not sure

	* ai/Makefile.in, client/Makefile.in, server/Makefile.in: Grr,
 	some makefile changes eluded me.
	
Wed Jul 22 18:42:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
 	ai/aitools.c, ai/aiunit.c, server/cityturn.c, server/settlers.c,
 	common/player.h: Fixing a bunch of bugs involving AI behavior with
 	pyramids.  Dealing with simulataneous construction of wonders on
 	different continents better, and eliminating surplus caravans.
  	Instituting warmth variable and primitive pollution-awareness.
  	The pollution stuff isn't adequately tested yet. -- Syela
	
Wed Jul 22 18:38:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c, client/finddlg.c, client/gotodlg.c,
 	client/repodlgs.c: Casting the fourth arg of qsort as (void *) for
 	-Wall. -- Syela
	
Wed Jul 22 13:03:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapview.c: Some typos that would effect non-square tiles
 	fixed.
	
Wed Jul 22 00:15:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.in, configure, common/Makefile.in, data/Makefile.in,
 	server/Makefile.in: Regenerated some Makefiles, after Greg's
 	changes and unchanges.
	
Wed Jul 22 00:09:29 1998  Mitch Davis <mjd@alphalink.com.au>

	* ai/Makefile.am, common/Makefile.am: Reversed some of Greg's
 	changes, since some people had problems.
	
Mon Jul 20 23:03:09 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Properly indenting and bugfixing
 	diplomat_leave_city. -- Syela
	
Mon Jul 20 22:42:50 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/helpdlg.h, client/menu.c, data/helpdata.txt: 

	- adds some basic help for terrain types
 	- adds boat carrying capacities to the help text 
	- fixes some other bugs in the help system (most importantly,
 	  clicking "About" didn't find the right section, since
 	  the helpdata.txt file said "About Freeciv") 
	Patch supplied by Greg Wooledge <wooledge@kellnet.com>.
	
Mon Jul 20 22:41:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, server/gotohand.c, server/settlers.c: Dealing with
 	ferryboat gotos more intelligently. -- Syela
	
Mon Jul 20 22:39:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.c, common/player.h, server/plrhand.c: Adding
 	framework for handicapping the AI; not yet implemented. -- Syela
	
Mon Jul 20 22:35:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/packhand.c: Forcing government dialog popup when an AI
 	nation with out-of-range
	(Flag) value for ->revolution is given human control. -- Syela
	
Mon Jul 20 22:31:00 1998  Mitch Davis <mjd@alphalink.com.au>

	* configure.in, ai/Makefile.am, client/Makefile.am,
 	common/Makefile.am: Some improvements from Reinier Post
 	<reinpost@win.tue.nl>.  I haven't had time to test them.
	
Mon Jul 20 22:25:02 1998  Mitch Davis <mjd@alphalink.com.au>

	* Imakefile: Added server/settlers.o.  Reported by Reinier Post
 	<reinpost@win.tue.nl>.
	
Mon Jul 20 22:17:49 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unitfunc.c: Fixed two problems.  The first was a bug I
 	introduced by incorrectly joining two ifs.  Naughty me.  The
 	second is regarding the behaviour of a spy when she's returned to
 	her home city.  From a patch submitted by Kris Bubendorfer
 	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
Mon Jul 20 20:20:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Using minimap to handle conflicts in
 	worker_loop; small win. -- Syela
	
Mon Jul 20 20:06:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Removing removed player's cities from the
 	citycache. -- Syela
	
Mon Jul 20 20:04:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Using add_adjust instead of auto_arr in
 	manage_taxes. -- Syela
	
Mon Jul 20 19:57:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/aicity.c, common/city.h, server/settlers.c,
 	server/settlers.h: Contemplating settlers with a fresh warmap to
 	save CPU time. -- Syela
	
Mon Jul 20 14:34:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c, server/cityhand.h, server/unitfunc.c: Updated
 	city maps and sent out city info packets for nearby cities when
 	another city adjusts its workers.  Also updated city map when a
 	city is captured.
	
Mon Jul 20 14:28:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.h: Removed (incorrect) prototype for non-existant
 	function.
	
Mon Jul 20 14:27:57 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unittools.c, server/unittools.h: Removed
 	is_sailing_unit_tile because it's no longer needed.  Corrected ZOC
 	so that cities block units, even if the city is empty.
	
Mon Jul 20 12:08:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c, server/settlers.c, server/settlers.h,
 	server/unitfunc.c, server/unithand.c: Initializing infrastructure
 	cache when a city is created, stolen, or conquered.  Despite my
 	-Wall -Werror, yesterday's version was calling uninitialized
 	variables. -- Syela
	
Mon Jul 20 00:11:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing the Teflon Diplomat bug (Greg
 	Wooledge's patch) -- Syela
	
Sun Jul 19 23:54:41 1998  not sure

	* NEWS, configure, configure.in, ai/advdomestic.c,
 	ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitech.c,
 	ai/aitools.c, ai/aiunit.c, client/Freeciv.h, client/civclient.h,
 	client/climisc.c, common/city.c, common/city.h, common/game.c,
 	common/map.h, common/shared.h, data/Freeciv, server/cityhand.c,
 	server/cityhand.h, server/citytools.c, server/cityturn.c,
 	server/cityturn.h, server/civserver.c, server/diplhand.c,
 	server/gotohand.c, server/gotohand.h, server/plrhand.c,
 	server/plrhand.h, server/sernet.c, server/settlers.c,
 	server/settlers.h, server/unitfunc.c, server/unithand.c,
 	server/unithand.h, server/unittools.c:

	Implementing city cache and ai_calc cache in the city_ai struct.
  	This gives a fivefold CPU savings in the benchmark at 800-600 BC,
 	and should be even more necessary later in games.  Deleting old
 	find_city_by_id, but leaving it proto'd in city.h.  Adding new
 	cache-based find_city_by_id to cityhand, and forcing the client to
 	use game_find_city_by_id instead since it's the same as the old
 	one.
	
	In order to make sure I hadn't broken anything, I compiled with
 	-Wall -Werror, and in order to do so, I had to proto a bunch of
 	functs and eliminate unused variables in most of the files I'm
 	committing.  My own sloppiness is to blame for most of that.
	
	Fixing typo in city_affected_by_wonder (broke B_WOMENS).
	Fixing ZOC bug in is_sailing_unit_tile.
	
	Updating version number to 1.6.4.
	
Fri Jul 17 12:50:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Lots of cool stuff involving settlers and
 	ferryboats. -- Syela
	
Fri Jul 17 12:48:36 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing my fix to lost Triremes.  Zeroing new
 	unit_ai variables on unit mallocation. -- Syela
	
Fri Jul 17 12:47:41 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Zeroing new unit_ai variables on unit load. -- Syela
	
Fri Jul 17 12:46:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Fixing bug so shipboard units can GOTO land.
  	Allowing ships to GOTO shore, for shore bombardments and
 	transports, etc.  Fixing dorky typo that hosed GOTO's across the
 	international date line.  Dissuading TRIREMEs from GOTO across
 	open sea.  Modularizing goto_is_sane.  -- Syela
	
Fri Jul 17 12:43:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.h: Adding basics of unit co-operation code to
 	unit_ai struct. -- Syela
	
Fri Jul 17 12:42:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Learning how to manage ferryboats. -- Syela
	
Fri Jul 17 12:42:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Learning how to want transports. -- Syela
	
Thu Jul 16 22:35:41 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Quick hack to prevent settlers from building
 	cities when they have zero moves left.
	
Wed Jul 15 23:51:37 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/dialogs.c, client/dialogs.h, client/mapview.c,
 	client/xmain.c: Changed the main screen so that all three of the
 	science, luxury and tax rates are shown.  Also, it is now possible
 	to click on them to change them: Clicking on one area reduces
 	spending in that area by 10%.  This patch was supplied by Peter
 	Schaefer <schaefer@malaga.math.uni-augsburg.de>
	
Wed Jul 15 09:38:35 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Acknowledging tax_bonus affects luxury in
 	city_tile_value. -- Syela
	
Wed Jul 15 09:36:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Fixing a typo that stopped the AI from using lux
 	rate to stop disorder. -- Syela
	
Wed Jul 15 08:41:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/Makefile.am, server/Makefile.in: Telling make to compile
 	settlers.c.  Pardon me if I messed this up. -- Syela
	
Wed Jul 15 08:40:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c, server/settlers.h: Consolidating auto-settler
 	code in its own module for my sanity. -- Syela
	
Wed Jul 15 08:35:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, ai/aiunit.h, server/unitfunc.c, server/unitfunc.h,
 	server/unittools.c, server/unittools.h: Moving all the
 	auto-settler stuff into settlers.c.  Unitfunc was getting too big,
 	and I had the subroutines strewn everywhere. -- Syela
	
Wed Jul 15 07:08:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, ai/aiunit.h, server/cityhand.c, server/civserver.c,
 	server/plrhand.c, server/unitfunc.c: Ignoring corruption in
 	city_des; caching results in the minimap.  Enormous CPU savings,
 	minor cost in memory. -- Syela
	
Wed Jul 15 06:59:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Taking obsolete junk out of
 	advisor_choose_build; it was causing stupidity when
 	ai_advisor_choose_building liked CAPITAL. -- Syela
	
Tue Jul 14 16:33:07 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unitfunc.c: A small correction to Kris' previous patch.
	
Tue Jul 14 16:22:32 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h, common/map.h, server/citytools.c,
 	server/citytools.h, server/stdinhand.c, server/unitfunc.c,
 	server/unitfunc.h, server/unithand.c: This change set concerns
 	spies and diplomats, making them operate more in line with Civ II.
  	That is, spies may survive a mission, and units in a bought city
 	are transferred to the new owner etc.  Multiple bugs in the code
 	in this area were also fixed.
	
	1.  Numerous bug fixes of sabotage/steal code, where messages
	    were being sent incorrectly.
	
	2.  Cities were not being razed correctly in diplomat_incite.
	    Now they aren't razed, as per Civ II.
	
	3.  get_a_tech is now called in incite as well as in
	    unit_enter_city.  After all, buying a city should give you
	    the same opportunity to `discover' new technology as
	    invading the city does.
	
	4.  All units (military and non military) are now transferred to
	    the player who purchased the city.  Units outside of the
	    city are either deleted, or if in another city, are assigned
	    that city as their homecity.
	
	    This also cures the current bug, where a unit in a bought
	    city that has a different homecity, remains in the bought
	    city - even though it is now owned by the purchaser.  Thus
	    the enemy can simply move out and back in - recapturing the
	    newly bought city.
	
	5.  A diplomat now has a chance (ala Civ II) of defeating
	    defending diplomat/spy units in a city.  This chance is set
	    via the set diplchance command from the server console.  It
	    defaults to a 1/3 chance of the attacking diplomat/spy
	    killing each defending diplomat/spy.
	
	6.  Spies (not diplomats) may now survive their mission (ala Civ
	    II).  The chance that a spy will be returned to it's home
	    city is also 1/diplchance.  This increases the value of
	    spies over diplomats.
	
	Patch supplied by Kris Bubendorfer
	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
Tue Jul 14 15:25:15 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Updated errors in some of the entries.  Patch
 	submitted by Frank Muzzulini <muzz@albatross.pond.sub.org>.
	
Tue Jul 14 14:44:18 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/xmain.c: Added a workaround for if getpwuid returns NULL.
  	Problem reported by Peter Joachim Unold <pjunold@daimi.aau.dk> and
 	Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.  Patch
 	supplied by the second Peter.
	
Tue Jul 14 03:48:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
 	ai/aiunit.c, server/cityhand.h, server/citytools.c,
 	server/citytools.h, server/gotohand.c, server/unitfunc.c:
 	Eliminating lots of unnecessary divisions in functions I've
 	written. -- Syela
	
Tue Jul 14 03:43:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/Freeciv.h: Proto for my refresh widget; didn't think this
 	should be uploaded. -- Syela
	
Mon Jul 13 22:41:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing possible overflow in amortize.  I ran this
 	function millions of times without ever seeing it, but I just
 	found the problem. -- Syela
	
Mon Jul 13 11:44:04 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/Freeciv, client/repodlgs.c, common/packets.c,
 	common/packets.h, server/cityhand.c, server/cityhand.h,
 	server/cityturn.c, server/civserver.c: Adding Refresh button to
 	city report.  Why must this span eight modules? -- Syela
	
Sun Jul 12 23:50:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Quick fix for empires with zero trade and
 	disorderly cities. -- Syela
	
Sun Jul 12 06:54:09 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/packets.c: Fixing a typo of Trent's regarding negative
 	shield surplus. -- Syela
	
Sun Jul 12 05:48:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Removing debug output.  Making preemption of
 	impossible GOTOs less draconian, more intelligent, and more
 	comprehensiv. -- Syela
	
Sun Jul 12 04:19:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Making the AI more willing to buy walls (and
 	coastal/SAM/SDI) -- Syela
	
Sun Jul 12 04:18:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitech.c: Removing debug output for AI changing tech and
 	goal. -- Syela
	
Sat Jul 11 23:45:34 1998  Mitch Davis <mjd@alphalink.com.au>

	* Imakefile: Oops, forgot to add capability.o to the Imakefile.
  	Bug reported by Frank Muzzulini <muzz@albatross.pond.sub.org>
	
Sat Jul 11 09:08:16 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Fixed a few bugs I introduced when I shrunk
 	the protocol.
	
Fri Jul 10 22:35:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Calling ai_eval_bu for human cities in
 	advisor_choose. -- Syela
	
Fri Jul 10 22:30:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Adding want = TRADE_WEIGHT * 100 /
 	SHIELD_WEIGHT for CAPITAL. -- Syela
	
Fri Jul 10 22:29:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Allowing ground units to GOTO adjacent tiles
 	even if one is land and one is ocean.  -- Syela
	
Fri Jul 10 05:06:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Old goto stuff buried.  Warmaps moved in.
  	New warmap-based GOTO routines in and working AFAICT.  There was
 	an infinite-loop-RR bug but I'm 99% sure it's finally gone now.
  	-- Syela
	
Fri Jul 10 03:49:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Adding gotohand.h to handle defn's and protos
 	for GOTO. -- Syela
	
Fri Jul 10 03:46:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c, ai/advmilitary.h: Moving warmap stuff into
 	gotohand.c, .h. -- Syela
	
Fri Jul 10 03:34:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Including gotohand.h, removing
 	now-unnecessary protos. -- Syela
	
Fri Jul 10 03:25:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.c: Standardizing ii[] and jj[] arrays so I don't get
 	confused. -- Syela
	
Fri Jul 10 03:22:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Including gotohand.h since I moved the warmaps.
  	Standardizing ii[] and jj[] arrays so I don't get confused
 	again. -- Syela
	
Fri Jul 10 03:10:26 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Changing int which to enum unit_move_type. -- Syela
	
Fri Jul 10 03:04:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Limiting domestic want to 199; allows better
 	saving for defense. -- Syela
	
Thu Jul  9 15:59:35 1998  Mitch Davis <mjd@alphalink.com.au>

	* .cvsignore, ai/.cvsignore, client/.cvsignore, common/.cvsignore,
 	data/.cvsignore, server/.cvsignore: Added a line to .cvsignore so
 	the .deps directory is ignored.
	
Thu Jul  9 15:58:31 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: If you try to select your race and choose
 	the player name that you initially connected to the server with,
 	you erroneously get the "Another player has already joined..."
 	notice.  The server doesn't realize that the "other" player IS
 	you.  Patch submitted by Cedric Tefft <cedric@earthling.net>.
	
Thu Jul  9 15:39:42 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/Makefile.am, common/Makefile.in, common/capability.c,
 	common/capability.h, common/packets.c, common/packets.h,
 	common/shared.h, client/civclient.c, client/clinet.c,
 	client/packhand.c, client/packhand.h, client/xmain.c,
 	server/civserver.c: Added support for capability checking between
 	the client and the server.  This should solve any future problems
 	with detecting whether the protocol of the client and server are
 	compatible, without the nebulous practise of incrementing version
 	numbers.
	
Thu Jul  9 07:11:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c, server/civserver.h, server/maphand.c,
 	server/plrhand.c, server/unithand.c, client/civclient.c,
 	client/mapctrl.c, client/packhand.c, common/game.c,
 	common/packets.c, common/packets.h: Massive changes to protocol.
  	The bandwidth used is about a quarter of what it was.  Also does
 	more buffering to reduce the number of packets sent.
	
Wed Jul  8 08:53:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c, server/unittools.c: Going back to new
 	is_already_assigned.  Adding unit_list_iterates so it can handle
 	multiple units on the same tile.  Assigning virtualunits so that
 	the AI no longer builds many engineers to handle a single job.
  	Fixing bugs re: cities and re: mines in ai_calc_irrigate. -- Syela
	
Tue Jul  7 21:18:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c, server/unittools.c: Hacking ai_calc_railroad
 	to handle benefit of railroad on forest/mine tiles without roads;
 	related patch to auto_settler_findwork. -- Syela
	
Tue Jul  7 21:16:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/packhand.c: Committing fix to possible client crash
 	related to aifill. -- Syela
	
Tue Jul  7 21:15:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Adding quick-n-dirty immigration routine to
 	city_desirability. -- Syela
	
Tue Jul  7 21:13:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Adding danger5 to deal with SDI; not adding to
 	danger for nuclears; Not wanting attackers with 0 attack (stops
 	SIGFPE's). -- Syela
	
Tue Jul  7 21:12:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Adding tech_want for Electricity if we have
 	colosseums and for Theology if we have Cathedrals -- Syela
	
Tue Jul  7 14:35:38 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/shared.c: A small change which allows for the compilation
 	of Freeciv under GNU-Win32.  We really should put something in the
 	autoconfigure stuff...  Patch supplied by Sam Holden
 	<sholden@pgrad.cs.usyd.edu.au>.
	
Tue Jul  7 06:53:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/shared.h: fixed typo in previous patch that kept it from
 	compiling.
	
Mon Jul  6 18:10:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/city.c: Added some more names for American cities.  Patch
 	submitted by Jake Kesinger <kesinger@math.ttu.edu>.
	
Mon Jul  6 17:35:12 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/menu.c: This patch fixes a problem where the Auto Settler
 	and Build Road options on the Options Menu were permanently greyed
 	out.  Problem found and patch submitted by Cedric Tefft
 	<cedric@earthling.net>.
	
Mon Jul  6 17:32:27 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: Patch to prevent two people connecting to
 	the server and using the same name.  Patch submitted by Cedric
 	Tefft <cedric@earthling.net>.
	
Mon Jul  6 17:24:20 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.in, ai/Makefile.in, client/Makefile.in,
 	common/Makefile.in, data/Makefile.in, server/Makefile.in:
 	Makefile.in files are normally generated from Makefile.am, but we
 	provide them for people who don't have automake.  In this case,
 	the Makefile.in files we were shipping did not support the
 	generation and checking of dependency information.  Reran automake
 	to regenerate them.  Done on the good advice of Falk Hueffner
 	<falk.hueffner@student.uni-tuebingen.de>.
	
Mon Jul  6 17:18:11 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/events.h, server/cityturn.c: Changed the spelling of
 	"aquaduct" to "aqueduct", as it should be.  Patch submitted by
 	Greg Wooledge <gawooledge@sherwin.com>.
	
Mon Jul  6 17:16:14 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/finddlg.c, client/gotodlg.c, client/repodlgs.c,
 	common/game.c, common/game.h, common/shared.c, common/shared.h:
 	This enhancement ensures that the city names in pick-a-city
 	dialogs are sorted.  Patch submitted by Cedric Tefft
 	<cedric@earthling.net>.
	
Mon Jul  6 17:10:38 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/unit.c, server/civserver.c,
 	server/gamehand.c: Did a #include <string.h> to prevent a warning
 	about implicit declaration of strlen and strcpy on the DEC Alpha.
  	Bug report submitted by ct <turnbull@xserver.sjc.ox.ac.uk>.
	
Mon Jul  6 17:07:00 1998  Mitch Davis <mjd@alphalink.com.au>

	* README, server/stdinhand.c: - Updated the Freeciv server
 	options.  Put in a key for the single-letter placeholders after
 	server commands which take arguments.  - Made mention of
 	"localhost" for a computer name when playing locally.  - Described
 	how to start an ai player (updated for 1.6.3).  Based on a patch
 	submitted by Carl Bartels <cb@bravo436.chem.mcgill.ca>.
	
Mon Jul  6 17:01:51 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Changed the order of some help items, moving
 	the general ones to the top.  Also, changed the "Freeciv" tag to
 	"About Freeciv".  Patch submitted by Sverker Wiberg
 	<sverkerw@Update.UU.SE>.
	
Mon Jul  6 06:42:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/game.c, common/game.h, common/map.h, server/civserver.c,
 	server/civserver.h, server/stdinhand.c: Cedric Tefft's patch to
 	create 'aifill' variable.  It originally sometimes crashed my
 	client when I was connected as an AI before game-start, but he
 	sent me a fix that seems to have worked. -- Syela
	
Sun Jul  5 23:57:25 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: There are two lines which exceed the
 	68-character limit, and at least one grammatical mistake.  This
 	patch fixes all three problems.  Patch provided by Greg Wooledge
 	<gawooledge@sherwin.com>
	
Sun Jul  5 23:50:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/citydlg.c, client/dialogs.c, client/repodlgs.c,
 	server/unithand.c: - Replace the phrase "revenues account to" with
 	"revenues amount to".  - Replace "Treasure" with "Treasury".
  	Patch provided by Greg Wooledge <gawooledge@sherwin.com>.
	
Sun Jul  5 23:46:29 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/mapview.c, common/shared.c, server/civserver.c,
 	server/sernet.c: Patch for OS/2, supplied by Alexander Mai
 	<st002279@HRZPUB.tu-darmstadt.de>.
	
Sun Jul  5 07:36:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.h: Removed proto's of removed functs, added
 	proto's of added functs. -- Syela

Sun Jul  5 07:36:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Temporarily disabling
 	new_is_already_assigned and reverting to old.  The RIDICULOUS bug
 	regarding a unit on goto entering a tile where another settler
 	works was easily fixed in the old funct, and not easily fixed in
 	the new one.  This wasn't a problem until I made settlers on goto
 	stop and think every turn.
	
	Obliterated old random-looking ai_calc_* routines and wrote new
 	ones that follow the pattern set out in ai_eval_bu.  These
 	currently call city_tile_value which gives the right answers but
 	wastes a lot of CPU time.  I wanted to make sure it was right;
 	later I'll get around to making it efficient as well.
	
	Wrote road_bonus so that the AI blazes trails and doesn't just build
	randomly.  Rewrote in_city_radius to save CPU time.  -- Syela
	
Sun Jul  5 07:31:11 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Changing in_city_radius call since it's been
 	rewritten. -- Syela
	
Sun Jul  5 07:30:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.h: Changing auto_settler_findwork proto since it
 	now returns an int. -- Syela
	
Sun Jul  5 07:29:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixed the bug where settlers aboard
 	disappearing triremes crash the game.  Annihilated old autosettler
 	code.  Rewrote auto_settler_findwork and spent many hours testing
 	it, taking notes, and making changes.  It seems to be OK, so I'm
 	uploading it, but I wouldn't call it stable.  Weightings may need
 	to be changed.  The CPU usage is definitely unacceptable and I
 	will optimize this further but I need to upload it now.  Forcing
 	gotoing settlers to idle so they can re-evaluate their plans. -- Syela
	
Sun Jul  5 07:24:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/mapgen.c: Removed island_info from yet another module.
  	-- Syela
	
Sun Jul  5 07:24:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Wrote global_city_refresh, but didn't add any
 	calls to it yet. -- Syela
	
Sun Jul  5 07:23:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.h: Proto'd worst_worker_tile_value. -- Syela
	
Sun Jul  5 07:23:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Made city_tile_value a little smarter about
 	foodneed and prodneed.  Added worst_worker_tile_value for
 	autosettler code. -- Syela
	
Sun Jul  5 07:21:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.h: Defined FOOD_, SHIELD_, and
 	TRADE_WEIGHTING. -- Syela
	
Sun Jul  5 07:21:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Deleted ai_calculate_city_value comment, and
 	added a fnord in case I decide to use this model to save time.  I
 	really hate it and it cripples the AI badly but the CPU savings
 	may require it. -- Syela
	
Sun Jul  5 07:19:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.h: Removed ai_player_island.  Made comments about
 	removing race structs. -- Syela
	
Sun Jul  5 07:18:41 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.c: Map_adjusted x and y in map_set and
 	map_clear_special. -- Syela
	
Sun Jul  5 07:18:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Defined MORT, and then kluged (in aiunit.c) so that
 	MORT is sort-of hardcoded.  This may be fixed once I figure out
 	how to get city_des exactly right with the least CPU effort.
  	Proto'd new functs. -- Syela
	
Sun Jul  5 07:15:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Removed lots of obsolete functions.  Wrote new
 	functions to replace them (relating to settlers).  Tidied up
 	findjob a little.  Forced caravans to idle every turn instead of
 	blindly gotoing cities that are no longer producing wonders.
  	Wrote amortize, which is very necessary for city_des, and is still
 	too slow but not as horrible as it was yesterday.  Generated
 	minimaps to include virtual city locations.  This is a
 	quick-n-dirty and may not last the week.  Spent days and days
 	working on city_des, which seems to be right with the current
 	value for the WAG at the bottom.  Forced settlers who are building
 	cities to remain in BUILD_CITY and others to be in AUTO_SETTLER
 	because the minimap checks it. -- Syela
	
Sun Jul  5 07:10:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.h: Removed references to obliterated old, obsolete
 	AI. -- Syela
	
Sun Jul  5 07:09:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c: Removed all references to island_info!  Removed
 	ai_military_findtarget.  Fixed a typo in
 	ai_advisor_choose_building re: wonder placement. -- Syela
	
Sun Jul  5 07:07:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Removed elements of obsolete AI.  Removed
 	*_weighting arrays and used *_WEIGHTING defines. -- Syela
	
Sun Jul  5 07:06:42 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Removed remnants of obsolete AI. -- Syela
	
Sun Jul  5 07:06:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Changed maxcost to THRESHOLD * 6 + 2 to
 	facilitate new settler AI code.  Fixed a bug with illegal moves in
 	warmap when (punit). -- Syela
	
Sun Jul  5 07:03:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Adding more .h includes.  Fixing the quirk
 	where lux rate reduced building_wants.  Included taxmen in food
 	surplus estimates.  Removed *_weighting arrays to use *_WEIGHTING
 	defines.  Added quick-n-dirty fix to moderate lust for
 	marketplaces when tax rate jumps.  New, smarter want equations for
 	aqueducts and sewer system.  Corrected want for MFG.
	
	Obliterated old settler code, including expand_*.  Finding work
 	for a virtualunit to establish want for settlers.  This went
 	through a lot of trial and error and it seems to be working
 	acceptably now.
	
	Added SPY as yet another fallback until real diplomacy code is in.
 	-- Syela
	
Tue Jun 30 21:22:44 1998  Mitch Davis <mjd@alphalink.com.au>

	* ai/Makefile.am, ai/Makefile.in, client/Makefile.am,
 	client/Makefile.in, common/Makefile.am, common/Makefile.in,
 	server/Makefile.am, server/Makefile.in: This patch allows you to
 	build freeciv outside the source directory.  Submitted by Jason
 	Merrill <jason@yorick.cygnus.com>.
	
Sun Jun 28 08:32:40 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt, server/citytools.c, common/city.c: Some
 	gameplay changes to be more like civ2.  Made some corrections in
 	the help file.
	
Thu Jun 25 09:37:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Removing a removed player's workers from
 	->worked. -- Syela
	
Thu Jun 25 07:56:04 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Patch from Falk Hueffner, bribed units light
 	up the terrain surrounding them.
	
Thu Jun 25 07:51:22 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Patch from Falk Hueffner, remove strange test
 	that kept settler production from being upgraded to engineers.
	
Thu Jun 25 07:42:47 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/helpdlg.c, client/menu.c,
 	client/repodlgs.c: Fixed warnings: missing #include's, unused
 	variable, bad printf.
	
Thu Jun 25 07:33:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c, server/unitfunc.c: Added the map_adjust_x/y
 	functions to the pollution code, to make sure it doesn't use bad
 	x/y coordinates.
	
Wed Jun 24 10:26:32 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/aitech.c: Fixed crash related to deleted techs.
	
Wed Jun 24 08:15:47 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c, server/cityturn.c, server/civserver.c,
 	server/civserver.h, server/unittools.c, ai/aihand.h: More
 	header/prototypes fixing.
	
Wed Jun 24 08:01:38 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/advdomestic.c, ai/advdomestic.h, ai/advmilitary.c,
 	ai/advmilitary.h, ai/aicity.c, ai/aicity.h, ai/aihand.c,
 	ai/aitech.c, ai/aitech.h, ai/aitools.h, ai/aiunit.c, ai/aiunit.h,
 	server/unitfunc.c, server/unitfunc.h: Added function prototypes to
 	lots of header files, and included header files where needed.
	
Tue Jun 23 13:19:39 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Fixing typo that makes kill_unit kill the
 	server.  Oops. -- Syela
	
Tue Jun 23 13:18:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Fixing act of complete idiocy on my part re:
 	defense techs -- Syela
	
Tue Jun 23 13:16:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing bugs relating to huts in findvictim. -- Syela
	
Tue Jun 23 11:38:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Adding more geographic information to combat
 	messages in unit_versus_unit. -- Syela
	
Tue Jun 23 11:35:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Adding more geographic info to combat
 	messages in kill_unit. -- Syela
	
Tue Jun 23 11:32:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Moving calculate_tech_turns from here into
 	aihand.c where it belongs. -- Syela
	
Tue Jun 23 11:31:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding complexity to could_unit_move_to_tile
 	to handle ZOC issues midway through a goto.  Discouraging paths
 	that require attacks.  Warning when we do not find the shortest
 	path thanks to the above.  This module needs a total overhaul,
 	which I'll be performing this week. -- Syela
	
Tue Jun 23 11:25:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Discounting the city_tile_value of tiles
 	other cities can use in worker_loop.  Faking prodneed and foodneed
 	to better optimize worker placement until a time-consuming
 	dramatic rewrite is performed.  -- Syela
	
Tue Jun 23 11:21:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: A city that has bought a sewer or aqueduct
 	now wants_to_be_bigger. -- Syela
	
Tue Jun 23 11:19:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.h: Prototyping really_handle_city_sell. -- Syela
	
Tue Jun 23 11:18:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Making handle_city_sell a frontend to new
 	really_handle_city_sell. -- Syela
	
Tue Jun 23 11:16:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.h: Changing move_cost from unsigned to signed
 	character. -- Syela
	
Tue Jun 23 11:14:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.c: Defining move_cost for ocean moves as -3 for the
 	new seamaps. -- Syela
	
Tue Jun 23 11:11:36 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Adding wallvalue, downtown,
 	distance_to_wonder_city, and choice to ai_city struct, and
 	prototyping ai_choice because of it.  Also changing grave_danger
 	from a flag to a unit * -- Syela
	
Tue Jun 23 11:08:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Minor change to avoid redundant warmap generation.
  	Aborting ai_manage_explorer for non-ground units.  Treating cities
 	as impassable in exploration.  Aborting ai_manage_unit for units
 	with no moves_left.  More sophisticated formula for preference to
 	bash cities in unit_vul.  Better formulas for when units can
 	safely leave their home cities.  Adding ifs to handle sailing
 	units in find_something_to_kill. -- Syela
	
Tue Jun 23 10:11:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.h: Adding ifndef around ai_choice proto because it's
 	now also in city.h -- Syela
	
Tue Jun 23 10:09:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c: Locating wonders much more intelligently with
 	downtown. -- Syela
	
Tue Jun 23 10:07:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitech.c: Making nonreachable techs count as prerequisites.
  	Handling goals in ai_select_tech and adding a cache of prereqs to
 	facilitate it.  Deleting horrible old broken ai_select_tech_goal
 	and its subroutines now that working tech_goal code has been
 	established.  Obliterating failed attempt to over-optimize
 	tech_turns calculations and just calling tech_goal_turns once per
 	turn and in ai_next_tech_goal.  Handling goal in manage_tech.  -- Syela
	
Tue Jun 23 10:01:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Managing units twice, including at end of turn.
  	Calculating tech turns to save oodles of CPU time.  Changing
 	weightings for shields and food.  Fixing bugs that led to
 	excessive luxury for celebrations.  Fixing a goofup that led to
 	insufficient tax rate.  -- Syela
	
Tue Jun 23 09:57:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.h: Prototyping ai_choose_defender_* functions. -- Syela
	
Tue Jun 23 09:56:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Pulling some stuff out of
 	domestic_advisor_choose_build and moving it elsewhere.  Using
 	pcity->ai.choice to handle spend_gold in a separate routine.
  	Creating caravan map only as necessary to facilitate re-ordering
 	of events.  Adding utilities ai_city_defender_value and
 	try_to_sell_stuff.  Collecting spend_gold stuff in
 	ai_new_spend_gold with a lot of new intelligence added, including
 	disband and upgrade handling and willingness to buy attackers.
  	Restructuring ai_manage_cities and increasing desire for
 	government techs.  Dealing with boats in ai_choose_attacker.
  	Adding utility ai_choose_defender_versus.  Rewriting
 	ai_choose_defender_limited to handle boats for defense.  Not
 	selling citywalls anymore!  Allowing elvisization that creates
 	food deficit as long as there won't be famine. -- Syela
	
Tue Jun 23 09:42:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.h: Adding seacost to move_cost_map struct. -- Syela
	
Tue Jun 23 09:41:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Moving init_warmap into a separate routine.
  	Moving warmap generation into really_generate_warmap, with an
 	option to create maps for land or sea.  Shifting generate_warmap
 	into a higher-level function.  Changing assess_defense to a
 	higher-level routine with a new backend that can either
 	acknowledge or ignore walls.  Adding danger3 for coastal and
 	danger4 for sam in assess_danger.  Not being afraid of submarines,
 	and not being afraid of other ships if we are on land.  Being more
 	afraid of ships in walled coastal cities.  Including danger
 	adjustments if city has SAM or COASTAL.  Changing grave_danger to
 	a unit *.  Correcting firepower of defending ships to 1 in
 	unit_desirability.  Eliminating pathetic old military_advise_tech.
  	Adding process_defender_want and process_attacker_want to do this
 	job more intelligently.  Moving other attacker calculations into
 	kill_something_with.  Removing the danger -= def in
 	military_advisor_choose_build and therefore allowing defender
 	wants over 100.  Building COASTAL and SAM rather than piles of
 	useless defenders.  Minimizing desire for warriors as defenders.
  	Cleverly creating virtualunit for use in kill_something_with.
  	establish_city_distances for caravans. -- Syela
	
Tue Jun 23 09:23:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Removing warmap.  Using
 	distance_to_wonder_city instead.  Changing weightings of food and
 	shields.  Correcting wants for plants.  Moderating want for
 	granaries.  Making extreme desire for aqueduct/sewer during
 	celebrations require positive food_surplus.  Wanting barracks for
 	ground units only.  Adding wild guesses for COASTAL and SAM want.
  	Correcting typo regarding want for supermarkets.  Checking for
 	.researched in want for DARWIN.  Making caravan the default if we
 	can't think of anything useful to build. -- Syela
	
Sun Jun 21 07:47:19 1998  not sure

	* ChangeLog: *** empty log message ***
	
Sun Jun 21 07:45:42 1998  James Blackwell <innocent@merconline.com>

	* README: Modified the readme to update instrutions on AI play
	
Sat Jun 20 23:51:58 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Fixing bugs in get_cathedral_power and
 	get_colosseum power.  Changing food_weighting and shield_weighting
 	in city_tile_value. -- Syela
	
Sat Jun 20 18:26:55 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: The orders menu wasn't getting updated when
 	the focus unit moved, so some choice would be inproperly
 	deactivated.
	
Fri Jun 19 23:46:26 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c, server/unitfunc.c: Fixing disappearing wonder
 	bug.  Adding get_virtual_defense_power. -- Syela
	
Fri Jun 19 22:31:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/clinet.c, client/clinet.h, client/menu.c: Adding
 	disconnect option to Game menu. -- Syela
	
Fri Jun 19 22:25:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/messagewin.c, client/packhand.c, common/shared.h,
 	server/plrhand.c, server/plrhand.h: Committing Cedric's patch to
 	allow explicitly requested dialogs to popup even in AI mode with
 	popup_windows disabled. -- Syela
	
Fri Jun 19 09:56:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/civclient.c,
 	client/mapctrl.c, client/optiondlg.c: Added new option to client,
 	default ON, to auto center on the active unit, either when the
 	unit gets focus or when it moves.  This is the same as the
 	previous behavior, so really the new feature is the ability to
 	turn this off.
	
Fri Jun 19 02:24:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/civclient.c: The manual turn done stuff is now done in
 	the client.  The client will send a "turn done" packet at the
 	start of the turn if it is AI controlled and the AI_MTD option
 	isn't on.
	
Fri Jun 19 02:21:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c, client/plrdlg.c: AI controlled players get a
 	"*" in front of their names in the player dialog.
	
Fri Jun 19 01:59:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapview.c, client/optiondlg.c, client/packhand.c,
 	client/xmain.c: The manual turn done stuff is now done in the
 	client.  The client will send a "turn done" packet at the start of
 	the turn if it is AI controlled and the AI_MTD option isn't on.
	
Fri Jun 19 01:57:14 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: AI players create with the "create" command
 	showed up as connected when they weren't.  Set
 	pplayer->is_connected to 0
	
Fri Jun 19 00:40:41 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Removed the manual turn done stuff from the
 	protocol.  Made the client/server backward compatible.
	
Fri Jun 19 00:35:07 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.h: Adding in ai control to player info packet,
 	but NOT manual turn done stuff.
	
Fri Jun 19 00:22:59 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c: Undid previous manual turn done stuff, but
 	added in ai control information to player info packet.
	
Thu Jun 18 18:32:06 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Server will no longer get wedged when it
 	receives an unknown packet type.  It will remove the packet from
 	the queue and ignore it.
	
Wed Jun 17 20:20:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/civclient.c, client/mapview.c,
 	client/messagewin.c, client/optiondlg.c, client/packhand.c,
 	common/packets.c, data/Freeciv, server/plrhand.h,
 	server/stdinhand.c: Patches from Cedric Tefft
 	<cedric@earthling.net>, with some of my own changes.  New options
 	in the client, one to turn off popup dialogs when AI controlled.
  	Another to have AI controled players not need to manually activate
 	turn done.
	
Wed Jun 17 19:17:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: Fixed spelling error, Affect -> Effect
	
Tue Jun 16 18:10:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c: Added locations for pictures of missing units.
	
Mon Jun 15 23:45:48 1998  Mitch Davis <mjd@alphalink.com.au>

	* Imakefile: Removed extraneous trailing \.  Bug reported by Dylan
 	Thurston <dpt@math.berkeley.edu>
	
Mon Jun 15 21:58:54 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Changed to reflect Artillery now longer
 	ignoring city walls.
	
Mon Jun 15 20:58:43 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/helpdlg.c: The help system should no longer segfault when
 	trying to display the tech tree for a tech that has been removed.
	
Mon Jun 15 20:41:07 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c: Spelling error, report -> Report
	
Mon Jun 15 20:38:06 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Patch from Cedric Tefft <cedric@earthling.net>
 	The bribe and revolt diplomat options will have the correct title
 	on their respective dialogs.
	
Mon Jun 15 20:35:07 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, data/Freeciv: Applied Cedric Tefft's
 	<cedric@earthling.net> patch to add titles to most of the
 	transient windows.
	
Mon Jun 15 20:03:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Added help text for Barracks II and Barracks
 	III.
	
Mon Jun 15 19:52:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c: Client will no longer crash when the resources
 	don't define the version.  There seemed to be lots of people with
 	version 1.0 resources that had trouble with seg faults because of
 	this.
	
Mon Jun 15 19:44:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Added Seth Golub's <seth@thehouse.org> patch
 	to show celebrating cities in the City Report.
	
Mon Jun 15 19:32:51 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unittools.c: Submarines can't attack land at all anymore.
  	Before they could if they were in a city.
	
Sat Jun 13 21:12:49 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Making sure pdiplomat is non-NULL in
 	handle_diplomat_action. -- Syela
	
Tue Jun  9 16:15:41 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: When a unit gets focus, the crosshair tile
 	will flash on it to let you know.
	
Tue Jun  9 16:10:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: The client will find the next unit to focus on
 	better.  Before it would pick the lowest numbered unit if the one
 	that had focus no longer exists.  Now it will pick the one closest
 	to the center of the map.
	
Mon Jun  8 21:19:47 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* Released 1.6.3.

Mon Jun  8 21:15:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Preventing a division by zero for AI military units
 	with attack=0. -- Syela
	
Mon Jun  8 18:49:46 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unithand.c: Removed a pernicious line added by Olav
 	Andree Brevik <olavb@ifi.uio.no>.  A city should act as if it's
 	square is irrigated, but the square should not actually _be_
 	irrigated, otherwise Bad Things Happen, like then the city can be
 	used as a source for more irrigation.  He'll provide a more
 	complete patch in the fulness of time.

Mon Jun  8 18:19:47 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/unit.c, server/unitfunc.c: A fix so pillage also un-mines
 	mines.  Bug reported and patch supplied by Olav Andree Brevik
 	<olavb@ifi.uio.no>

Mon Jun  8 15:41:00 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Making explorers smarter again.

Mon Jun  8 14:51:59 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Making rate_unit a little less crude.

Mon Jun  8 12:28:57 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Calling pnewcity instead of pcity after pcity
 	has been freed in handle_unit_enter_city; very important, should
 	have been found earlier.

Mon Jun  8 12:01:54 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Real fix to explorer problem; had carelessly pasted
 	in bad code block.

Mon Jun  8 11:21:39 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitech.c: Kluging so AI won't switch away from a tech it's
 	about to get.
	
Mon Jun  8 11:20:32 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing brain-damage in ai_manage_explorer +
 	important rescale of danger.

Mon Jun  8 11:19:04 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Not increasing want for B_CITY because of
 	IGWALL/flying units.

Mon Jun  8 11:18:09 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Tempering AI's desire for Hoover Dam.

Mon Jun  8 07:13:19 GMT 1998  Trent Piepho <xyzzy@u.washington.edu>

	* configure, configure.in: Changed configure.in so it checked for
 	X11/xpm.h instead of xpm.h, since that's how the file is included.
  	Also removed cruft that was from when xpm.h was included wrong.

Mon Jun  8 07:09:36 GMT 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c, common/unit.h: Changed unit stats to match civ2.
  	Biggest change was knight's HP reduce to 10 from 20.

Mon Jun  8 00:07:53 PDT 1998  Trent Piepho <xyzzy@u.washington.edu>
        
        Changed unit stats to match civ2.  Biggest change was knights HP
 	reduce to 10 from 20.

Sun Jun  7 16:32:33 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/shared.h: Oops, forgot to increment the version number
 	for 1.6.2.  Reported by Nuno <slug@student.dee.uc.pt>.

Sun Jun  7 15:45:58 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/Makefile.am, common/Makefile.in, common/mapgen.c,
 	server/mapgen.c: Oops, we had two copies of mapgen.c, one in
 	common/ and one in server/.  Since it's only used by the server, I
 	deleted the one in common/.  This bug reported by
 	schaefer@malaga.math.uni-augsburg.de (Peter Schaefer)

Sat Jun  6 19:19:53 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.h: On some machines, "char" is unsigned, whereas we
 	were expecting it to be signed.  Explicitly defined "worked" as
 	signed to avoid this happening again.

Sat Jun  6 17:52:05 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, ai/advmilitary.c: Rescaling danger by a factor of
 	900:1 to stop overflows in assess_danger.

Sat Jun  6 13:52:34 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	Released 1.6.2.

Sat Jun  6 13:50:43 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	* ai/aihand.c: Removed a comment left over from 1.5.1.

Sat Jun  6 13:44:59 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	* NEWS, ChangeLog, configure, configure.in, client/Freeciv.h,
	common/shared.h, data/Freeciv: Updated version numbers to 1.6.2.

Fri Jun  5 21:36:21 ??? 1998  Trent Piepho  <xyzzy@u.washington.edu>
	
	* client/mapview.c: Added Markus L. Noga's
 	<ut6e@rz.uni-karlsruhe.de> patch so cities are drawn correctly
 	with transparent flags.

Fri Jun  5 21:33:55 ??? 1998  Trent Piepho  <xyzzy@u.washington.edu>
	
	* client/mapctrl.c: Fix for minor bug in crosshairs display.

Sat Jun  6 03:23:07 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	* Makefile.in, aclocal.m4: Updated generated autoconf files to the
 	ones generated by autoconf 1.3.

	* configure, configure.in: Rearranged order to check X libs; the
 	incorrect link order was causing the client to not be able to gain
 	focus or read the keyboard.
	
1.6.1 (mjd)
- Moved the CHANGES file to ChangeLog, to comply with the GNU standard.
- Updated many version numbers to 1.6.
- Added the CREDITS file to the list of files to go into the .tar.gz.
- Updated the web page to http://freeciv.ultraviolet.org
- Made the civ and ser scripts smarter: They now look in two dirs for
  the exes to run.
- Removed a whole lot of autogenerated files which should not have been
  checked into 1.6.0.  This is what caused compilation and library
  problems for MANY people who tried 1.6.0.

1.6.0 
- *A LOT* of changes from Olav Andree Brevik. Thank you VERY much!
- Helicoptors loose 10% of hp per turn when outside city (Olav)
- 8 bit chatline support for Europeans (Olav)
- Non-ground units in cities regain hp too. (Olav)
- Flying units report moves left (Olav)
- Total moves in change production menu (Olav)
- Railroads now built into city tiles, even when taking a city from an
  inferior race. (Olav)
- Future Technologies added. Add 5 points to score (Olav) 
- Autoconf added thanks to Falk Hueffner. Now we can configure just like
  the big boys!
- Tax/Luxury/Science rates are now visually displayed. needs work still.
  thanks to Peter Schaefer
- Instead of picking individual techs, players can now set a tech goal, and
  let the actual patch to discovery be automated.
- Fix to Makefile.noimake
- Client option to display tiles sets with transparent flags better
- Granary counter in the city dialog wasn't the right size when foodbox!=10
- Fixes to city dialog so different sized tiles will work
- The connect dialog will pop-up when the connection is lost before the
  game starts
- Pop-up windows weren't getting freed in the client, resulting is large
  resource leak
- Memory leak fixed in select units pop-up, pixmaps weren't getting freed
- Fixed hardcoded tile size in select units pop-up
- Reorganized tile layout in the XPM files.  Client can handle different sized
  tile sets.
- A "+" is drawn in the corner of enemy unit stacks
- Crosshair placed on goto destination when unit is inspected with the
  middle mouse button.  Change to protocol to send goto destination.
- Fixed bug in the selection of the hitpoint bar
- Map canvas had hard coded size, fixed to be correct for different sized tiles
- Fixed bug that messed up game.global_advances when a saved game was loaded
- Fix to make goto code use the same movement cost as the rest of the server
- Invisible AI city bug fixed.  Cities created or captured by an AI player
  would disappear from other people's maps.
- Added -s option to server, lets you explicity set hostname metaserver reports
- Fix typo in metaserver code, PRE_GAME_STATE instead of CLIENT_PRE_GAME_STATE
- Fixed bugs with partisan creation, make it faster too
- Submarines can no longer attack land based tiles. Thanks Peter Schaeffer!
- Improved AI, reduced CPU usage, and more (Syela) :

-- Changes that matter to regular players:
  
  Allowed non-AI players to set tech goals (goal label, goal widget,
   PACKET_PLAYER_TECH_GOAL, pinfo->tech_goal)
  Added food supply to city dialog and recentered dialog header
  Added 'Export log' option to the Game menu (log_output_window)
  Included Darren Smith's patch ('create' command) and changed ai_select_race to
   be random unless names matched (Napoleon chooses French, Joe chooses randomly)
  Properly initialized the void_tile for map_get_tile with y out of bounds
  Changed some implementations of map_distance to real_map_distance
  Added more goals to the races[], then almost obsoleted them with tech AI
  Set did_buy to -1 in create_city to allow "Can't buy in new cities" message
  Displaced the worker already on a tile where a city was created
  Fixed a typo in happy_lux that devalued lux in cities with unhappy people
  Fixed some typoes involving race_name_plural
  Made sure goto started with a zoc-ok, non-attack move
  Fixed a typo so triremes have a 50% chance of disappearing (instead of 49%)
  Map_adjusted x in create_unit
  Made attack messages more detailed
  Made first tech a choose_goal_tech (big deal)
  Made ai_advisor_choose_building the default in advisor_choose_build
  Placed the displaced workers that used to become entertainers
  Changed the turn sequence from auto_settlers, sniff_packets, end_turn to
    shuffle_players, ai_start_turn, auto_settlers, sniff_packets, end_turn
  
  Wrote most of an AI ...
  
-- Changes related to reducing CPU usage by slightly increasing memory usage:
  
  Wrote init_move_costs, reset_move_costs, city_shield_bonus, city_tax_bonus,
   city_science_bonus, set_city_shield_bonus, set_city_tax_bonus,
   set_city_science_bonus, assign_settlers_player, assign_settlers
  Added shield_bonus, tax_bonus, science_bonus to city struct
  Added worked, assigned, move_cost to tile and implemented them
  Obsoleted old is_already_assigned, is_worked_here
  
-- Changes that matter to code-hackers
  
  Moved ai_do_last_activities to the TOP of update_player_activities
  Moved update_city_activities above update_tech so got_tech works now
  Used set_worker_city instead of workarounds so ->worked worked
  Used set_unit_activity instead of workarounds so ->assigned worked
  Commented out some redundant checks in old auto_settler functs
  Returned something useful in building_other_wonder
  Made snide comments all over the code
  Split up ai_manage_city, ai_do_activities, can_build_improvement,
   handle_city_buy, set_trade_prod, add_buildings_effect
  Wrote real_map_distance, sq_map_distance, could_build_improvement,
   shuffle_players, could_unit_move_to_tile, really_handle_city_buy
  
-- Some behind the scenes elements of the AI
  
  Wrote advdomestic.c, advmilitary.c, ai_manage_buildings,
   ai_city_choose_build, ai_choose_attacker,  unit_attack_desirability,
   ai_choose_defender_limited, many utilities in aitech.c, ai_select_tech,
   ai_manage_tech, ai_advisor_choose_building, ai_manage_explorer,
   should_unit_change_homecity, unit_belligerence, unit_vulnerability,
   reinforcements_value, ai_military_findvictim, ai_military_gothere,
   unit_defensiveness, find_something_to_kill, probably more in ai/*.c,
   city_tile_value, better_tile, wants_to_be_bigger, probably more.
  Obsoleted old ai_city_choose_build, ai_spend_gold, best_tile, best_food_tile
  Rewrote worst_elvis_tile, ai_find_elvis_pos, ai_make_elvis,
    make_scientists_taxmen, ai_manage_taxes, ai_manage_government,
    auto_settler_findwork
  
  Updated somewhat the comments in aihand.c to show what I'd done
  Started ai_manage_city with a city_check_workers
  Hacked ai_next_tech_goal to use my (not-yet-ready) ai_select_tech_goal
  Correctly calculated agression in findtarget so pikemen don't attack
   and legions on mountains do
  Returned maxbuycost in ai_gold_reserve if the AI really needs money
  Worked around savegame/cityspot bug but island_data will be obsolete soon
  Forced military units idle at top and bottom of ai_manage_military
  Forced military units to fortify if possible at bottom of ai_manage_military
  Reset the ai_roles for military units every turn to prevent tunnel-vision
  Added AIUNIT_EXPLORE for units to explore
  Added building_want, danger, trade_want, grave_danger to city AI
  Added maxbuycost, tech_want, tech_turns to player ai
  Fixed ai_military_findjob so that the right unit defends cities and others don't
   and to allow military units to explore (find huts, map-discover, etc.)
  Fixed ai_military_attack to use my AI
  Made the AI not place workers that would be unhappy
  Aborted goto for AI units instead of attacking without using AI attack functs
  Forced asess_danger for ai players and civ_score on game load
  Lit all squares in city radius when the AI conquers a city
  Hijacked content[0] for my AI (building_want needs it)
  Wrote the worker_loop and added prodneed to it
  Forced ai_next_tech_goal in update_tech for AI
  
1.5.4 
- Small, very basic ai has been included. It needs a lot of work. Any
volunteers? 

1.5.3
- Highlevel genlist iterators for unitlist and citylist iterating
  has been introduced. 
- The include/ directory has been removed. The include files has been
  put into the corresponding common/ server/ client/ dirs.
- Some server files has been split into smaller modules.
- Freeciv Hacker's Guide included.
- Last references to the old Militia unit removed from the help.

1.5.2
- Mitch did alot for this release:
-   Added support for none 30x30 sized tiles.
-   Removed a bunch of warnings
-   Went through the helpdata.tx file and corrected and added alot
-   Fixed a nasty spell-bug: goverment -> government
-   Much much more
- Jan Echternach fixed a bug in the worker placement code
- AI code has been better structured.  
- Some bugs related with the helpbrowser fixed
- Some visual improvements here and there

1.5.1
- The resource file is now version checked
- Fixed bug with long names
- There will be no netscape unit,and the explorer can't be uninstalled!(sue me)
- After loading a game, partisans would only be given to the player with the
  lowest index. Keep the fixes and bug reports coming
  Due to a missing entry in the save file as Rajala Ilkka reported
  and provided a patch for.
- Sorry but due to a missing entry in the save file as Rajala Ilkka reported
  and provided a patch for.
  After loading a game, partisans would only be given to the player with the
  lowest index.
- There was another wrap bug, which resulted in buggy worker assignment.
- Worked alot on the AI, still it plays like a child.
- The AI work has resulted in a better automatic build algorithm, there
  is alot of work to here still.
1.5.0
- removed some of the micromanagement, extra prod points are transfered
  to the next build.
- Fixed the help texts, now someone needs to fix my grammar..
- Added zoc message as people doesn't understand the rules.
- ai server command, to toggle AI on a player. Now we just need the AI code.
- AI value added to the saveformat, so new minor level is required
  Don't think it's doing anything yet...
- automatic worker allocation scheme has been modified further, cities less
  than size 4 will go for citygrowth, now prefer 210 tiles over 102. 
- new help dialog
- nuke tiles moved. auto tile added.

1.4.6

- Hohensee's pointed out that Beatles sings 'You say you wanna revolution'
- fixed bug with players joined a loaded game with the same name
- autostart when #players==maxplayers after loading
- New server connection dialog
- Now foodbox just have to be full, not overfull to increase city size
- Massimo Campostrini, sent a patch fixing bug with missing gameinfo
- Alpine troops, and explorers now benefits from railroads
- initial steps to AI has been made. 
- turns taken to perform irrigation and mining  has been altered.
- Airborne units can now goto from one continent to another
- Fixed 2 bugs in autosettlers, 1. they could crash the server, 2. they now 
  start immediately on their tasks.
- man pages included to please the Debian rules
- Michael Hohensee wrote a very nice HOWTOPLAY text
- Richard Braakman fixes bug related to detecting savefile error
- Removed all warnings reported by gcc -Wall
- Rewrote sniff_packets() main loop to periodically send reports
  to the meta-server.
- New 'meta' server command.

1.4.5
- the subject list box in the help-dialog is now properly updated
  when an item is selected
- renumber player updated
- subs updated - hate them forever

1.4.4
- Players nolonger starts on top of huts - Mitch
- Spy's now work, and a major bug in diplomacy has been fixed.
- modified settler assignment a bit, weights production a bit higher now.
- Yet more cosmetic changes by Mitch
- Nuke bug spotted by James Blackwell

1.4.3
- Mitch Davis send us 4 patches, which fixes quite a few spelling
  mistakes and alot of sourcecode improvements and some Makefile
  fixes.
  Fixed Submarines, can now carry 8 missiles
  Carriers and subs can't carry ground units anymore, still were a bug

1.4.2
- fixed bug with colliding global vars
- fixed bug with missing char, when server vars was set

1.4.1
- fixed bug in load code
- initial metaserver support added

1.4.0
- when players looses connection before the game is started,
  they're removed from the game.
- correct end of turn when the last player cuts link
- remove player command added to server
- goto algorithm has been improved thanks to Rene Schalburg
- new random generator, hope things now are more random.
- submarines now works...
- Engineers works as double speed settlers, can't do organizing
- submarines are now invisible
- airlifts and city goto implemented, shortcut is 'l'
- Carriers can only carry planes and missiles now.
- Marine flag added, to add support for amphibious attack
- ground/air unit capability added (helicopter) 
  Helicopters can take cities etc.. and don't need to refuel.
  allthough they will loose 1 hp per round out of city.
- Aegis cruisers got double defense against attack from airborne units.
- leonardo's workshop will now only work if you actually got the damn thing. 
- totally redesigned help pages.
- The remaining units has been added.. 
1.3.1
- Lighthouse now let you produce veteran sea units aswell.
- Got a new neat compiler, that could give more intelligent warnings.
  removed alot of unnecessary variables.
- Added a modified version of leonardo's workshop, (invention)
  will upgrade 1 unit/round, will remove veteranstatus.
- altered the autoplace worker algorithm yet again, now i think it
  works decently (well atleast it suits my playstile)
- veteran status wasn't updated on the client side.
- upgrade units in active units dialog. allows you to upgrade your old out of
  date units, that is in a city square to a new and more modern version.
  will cost you some gold tho.. the side effect of this is leonardo's workshop
  which i'm still not sure if i want to incorporate or not.
- u for unload ship
- 'all' button on the wake up units
- Found one of the ancient gigantic bugs, and a fix for it 
  as it was, units didn't get a homecity on the server before the game was
  saved and reloaded, now this will help alot for the game balance. 
- Peter Skov fixed the problem with saving before game has started in a neat
  way by saving the settings instead of a game, this means you can make your
  favorite settings then save them to a file which you can use later on.
  with the -f server switch. 
- can't change all the map dependent options after the game has started.. 
- fixed a little problem with the help button on the science dialog.
- removed a bug that had sneaked into the support of units calculations.
- compiled it with some strict options and found a few minor bugs..
- added a civ1-2 switch but it doesn't do anything yet. need a voluenteer
  to do the civ1 tech tree and unit-building dependencies.
- The unit values  and the techtree has been checked and has been adjusted 
  according to civ 2.42 rules.

1.3.0
- Peter Skov added the following client features & server fixes
    * help in the city dialog on the units/buildings you can build.
    * a help toggle in the science dialog, if you turn it on, you won't change
      techs, rather it will show the help for this tech.
    * buy and change buttons in the city report, eases the pain of managing 
      your cities. 
    * there had sneaked a bug into top-5 cities, which has also been fixed

- port facility added, if naval unit is build in city with port facility
  unit will be veteran, repairment of a ship in a city with port facility
  only takes 1 turn
- Airport added on server, need to do a client command to activate them
  airborne units will be fully repaired in a city with a airport in 1 turn
  and will initially be veteran if build in a city with airport 
- new techs added radio, machine tools, amphibious warfare
- Shuffles players randomly at new turn, so the first player that connected
  doesn't get the wonder when 2 people are building the same wonder in the
  same round. 

1.2.0
- Extra fast unit info when middle clicking on an unit on the map 
  (attack, defense, firepower)
- Fortresses wasn't saved correctly in the save file.
- Cities are now properly refreshed at end of turn.
- can't buy units when cities are in disorder anymore.
- buildings unnecessary due to wonders like the granaries to pyramids, don't
  show on the build list anymore, if you have an unnecessary building already
  it will be marked with (*)
- autobuild  needed serious fixing, is better now. Still not ideal 
- Made a new mapgenerator, that works on minimum 80x50 maps
  which will make 7 equal sized islands. Still alot of fiddling to do with
  it but it should make things alot more fair.
  So set generator 2 to try the new map generator.
  And keep the number of players below 8....
- changed the "auto choose place to put worker algorithm" a bit now it
  favors huge amounts of trade and production over food.

1.1.6 (never released)
- SDI now give double defense against missile attacks, thats a 
  multiplier by 4 together with SAM batteries..
- SAM batteries added. Double defense against aircrafts
- supermarkets added. 50% food bonus on irrigated tiles
- Hoover dam can now be build, an and should have been an or :)
- Fixed problem with king richards crusade.
- Fixed problem with cruise missiles.
- Fixed problem with martial law under communism and monarchy 
- Fixed problem with wonders not seemingly working first turn after reload
- think i fixed the change tech stuff, now it's not reset on the client
  if you change tech in the round you get one.. Maybe..

1.1.5 (never released (except for 2 persons))
- the city growth can now be adjusted with the foodbox server option
  used instead of the standard 10 multiplier of citysize to determine when
  a city will grow
- number of buildings that will be razed if you conquer or loose a city is
  now a game variable, namely razechance. Palaces will always be destroyed..
- oops fortresses beneath cities gave 100% defense bonus. don't anymore
  units in cities and fortresses always count as fortified.
  coastal fortresses is needed to protect cities, a citywall just won't do
  it anymore. same count for bombers, but there is no defense against them.
  since SAM site haven't been made yet. 
- Hanging gardens converts content to happy if possible, other wonders
  converts unhappy to content.
- Caught in city, a ship used to have 1 in defense, now it has its usual 
  defense, but only 1 in firepower instead.
- Changed the messages when a unit(s) dies. (tells which city if on a city 
  square and what units died always)
- Found some crash bugs while debugging, goto could kill server if unit died 
  while gotoing. (my settler did a goto into a hut with barbarians)
- Changed obsolete tech test, to unit testing in the unit list.
  makes things easier, and more readable.
- remaining units, techs, buildings has been added, but looped..
  just to make sure future savefiles will be consistent, if we want to have 
  them in the game.
1.1.4 (beta tested by 4-5 persons)
- new flags:
  igwall    ignore citywalls, counts for artillery, 
  generates extra unhappy under  republic and democracy (as it has always been)
- happy/content/unhappy fixed according to civ2 rules, be careful out there,
  it's harder now to keep cities happy. 
  (took me a bloody sunday to figure how the exact formula works) 
- cruiser missiles was to cheap, costs 60 now instead of 40, 
  and their firepower is now 3, reduced its hp to 10.
- armor had firepower 2, fixed.
- carriers only 9 defense now, 2 firepower 40 hp's instead.

- got rid of year 0. A nasty hack was needed , but we were getting too many
  reports about it.

- percent penalty instead of 0 when changing tech default 100 
- foodbox server option default 10
- fixed a few bugs in mapgen.c (landmass and swamp is now used)

  o settlers costs 2 food under communism now.
  o cities did loose size by naval or air bombardements, doesn't anymore.

o cities did loose size by naval or air bombardements, doesn't anymore.
  o can only build fortresses after invention of construction
  o can't fortify naval or airborne units anymore.
  o happiness calculations was buggy, among other things colloseums gives
    +4 instead of +3 after development of electricty.
    the luxury and wonder happy calculations has been modified a bit..
  o cities only give a 50% bonus on defense, city walls still give a 200% bonus
    and since they don't cost much in maintainance. Go Build them.
  o movement changes:
    - unit move rates, scaled by lost hp's. allthough land based units have 
      atleast 1 move, naval units 2, and air units isn't affected
    - moves and fuel wasn't in the savefiles, they are now.
    - discover nuclear power and get + 1 move for naval units.

  o getting a city in a goody hut didn't add a road beneath the city.

o ver 1.0k - August 10
  o server freeze bug fixed thanks to Stefan Andersson.
  o various other bugs fixed too.

o ver 1.0j - Apr 8 
  o Pillage could be done by settlers only. This isn't correct, actually should
    be doable by all land based units, except settlers, caravans & diplomats..
  o Now units with 0 attack/defence power will ALWAYS loose in battle.
  o Reported By Andrew Donkin and patches aswell :).
    - Could make unlimited # of trade routes... Fixed 
    - Units gained hp by building fortresses not when fortified .... Fixed  
  o Problem with nukes, could nuke the server :). 
    Fixed (well not first time i said that) 
    (Reported By Christian Bricart).
  o Problems with list of available tech after getting techs one way or 
    another is hopefully fixed. (noone has been cheated, tech was correct, 
    but the researchable list was not updated.)
  o Tried to fix rolling thunder tactics. new server option cityfactor which
    modify the unhappysize this way: 
    newunhappysize = unhappysize - #cities/(cityfactor - (5-goverment))
    eg. under monarchy with 25 cities, unhappysize 5, cityfactor 14  
    you'll have a newunhappysize of 5 - 25/(14-(5-2)) = 3 ...
    that is lots of cities and low goverment forms, will give unhappiness. 
  o Diplomat treaties are unbalancing the game. Now you have a new variable 
    that can reduce the effect of tech-trading, techcost. Whenever you get a 
    free tech  it'll cost you techcost percent of a normal research cost, 
    to incorporate  it in your society. Standard this variable is 25%. 
    Setting it to 0 will  give you the standard behaviour. So don't look 
    startled if you suddenly have a negative number of tech bulbs.   
  o Tax-Trade-Luxury calculation tended to favor Tax when distributing. Fixed..
  o Goodie huts changed a bit: 
    - different units in huts depending on tech level.
    - no barbarians if hut is in city radius.
    - advanced tribes added.
  o Seperate Popup windows added (see the Game menu (Mes Options)), more to
    be added later.
  o Message Window added, with goto location button.  
  o fixed minor textual details
    (eg.when someone you have contact with gains tech)
  o autosettlers added, use this option at your own risk..
    Press A to activate them.
  o New server option cavalry, allows players to start with a number of 
    cavalry.
  o Game will not start before Minplayers has connected. 
  o buffed lighthouse, now owner will not loose triremes at sea. 
  o Diplomats will now be able to defend cities, against other diplomats.
  o Rivers only costs 1/3 movepoint to travel on.
  o Altered the startposition algorithm, should even out things abit.
    A side effect of this lets small maps eg 40x25 work, server used to loop..
    (well atleast for a reasonable amount of players)
o ver 1.0h - feb 16
  Massimo Campostrini once again supplied us with historical correct
  citynames - this time for the Aztecs.
  Proper error message when the xpm files can't be opened.
  Panner widget allow resizing of chat window.
  A huge pile of bugs, reported to us by Goswin Brederlow, has been
  fixed.
  Pedantic detail: Default setting of game-save interval was 1. 
  Correct value is 10.
  Notification added when player with whom you have an embassy invents 
  something. 
  Game will end if only one player is alive.
  Announcement of building wonders now include which city that builds it.
  Notifies attacker if his attack was succesful or not
  resets light bulbs at end of turn if player gets a tech. 
  Check every turn if units on ocean has transporters enough.
  If wonder was autobuild it wouldn't be announced. (fixed)
  Bug in mapgen.c fixed, start positions could be real close.
  Added a steal flag to the city structure, can only be stolen once from
  every city now, restarts if the city has been conquered. Don't know if this
  is correct..
  Trade Routes are now modified according to the continental rules.
  (both cities on same continents halfes the output).
  Hoover dam and Michelangelo's Chapel only affects the continent
  on which they have been built.
  Gaining a free tech in huts worked before but gave a wrong message, 
  this has been fixed aswell.
  Fixed bug located by Robert Wilton, in unit_activity_text()
  Fixed zone of control bug, now you can always enter and leave a city.
  saved alot of cycles in goto, no affect on game play. 

o ver 1.0f - jan 26
  The X resource leak fixed. Citynames initial go. Now handling the
  wm_delete_window event.
  Ouch that genlist fix in 1.0e made another bug visible in the
  transporter code. Stephan Boettcher patched that and fixed bug
  with carriers not carrying planes.

o ver 1.0e - jan 26
  Applied patches submited by Massimo Campostrini, concerning citynames
  and diplomat action messages.
  Fixed nasty leak in the pixcomm widget. Fixed leak in genlist's 
  unlink().

o ver 1.0d - jan 19
  Applied patches submitted by Hans Petter Bieker, to fix bugs in
  clinet.c and unithand.c.
  Included spanish translation of the help-file - submitted by 
  Anselmo Perez Serrada.
  The city-report now contains some more data.
  The main info widget is now clickable, to produce a small
  popup, containing some more info.

o ver 1.0c - jan 12
  Fixed bug in citydialog introduced in 1.0b. Made the code handling the
  overview map much more efficient. Let X parse command line options.
  Hopefully fixed problem with viewport widget's width in the diplomacy
  dialog on some setups.

o ver 1.0b - jan 11
  Fixed problem with Pixcomm widget, which caused the city dialog
  to crash on some setups.

o ver 1.0a - jan 8
  Applied large patch by Warwick Allison - fixing many spelling mistakes 
  and lots of other stuff. Fixed problem with units not showing up in the 
  left bar. Fixed bug with cities with size 0. 

o ver 1.0  - jan  5 - 1996
  first release
