# Makefile to use with the SAS/C compiler

# Where to find the source files
FREECIV_DIR = /

# In which subdirectory should the object files be placed
# (without /)
OBJDIR1 = sas_68k

# Where to put the whole installation (prepared for the
# distribution archive)
DESTDIR = Development:Projects/freeciv

# The name of the compiler
CC = sc

# Additional flags
CCFLAGS = ANSI IDLEN=40 NOLINK MATH=IEEE MCCONS COMMENTNEST DATA=far NOSTKCHK IGNORE=51,63 DEF=HAVE_CONFIG_H

# How to tell the compiler the destination of object files
TO = OBJNAME=

#####

OBJDIR = ${OBJDIR1}/

COMMONOBJS = $(OBJDIR)common/astring.o $(OBJDIR)common/capability.o $(OBJDIR)common/capstr.o $(OBJDIR)common/city.o $(OBJDIR)common/diptreaty.o \
 $(OBJDIR)common/fcintl.o $(OBJDIR)common/game.o $(OBJDIR)common/genlist.o $(OBJDIR)common/government.o $(OBJDIR)common/hash.o $(OBJDIR)common/inputfile.o \
 $(OBJDIR)common/log.o $(OBJDIR)common/map.o $(OBJDIR)common/nation.o $(OBJDIR)common/packets.o $(OBJDIR)common/player.o \
 $(OBJDIR)common/mem.o $(OBJDIR)common/rand.o $(OBJDIR)common/registry.o $(OBJDIR)common/sbuffer.o $(OBJDIR)common/shared.o \
 $(OBJDIR)common/spaceship.o $(OBJDIR)common/support.o $(OBJDIR)common/tech.o $(OBJDIR)common/timing.o $(OBJDIR)common/unit.o $(OBJDIR)common/version.o \
 $(OBJDIR)common/worklist.o
COMMONDIRS = IDIR=`cd` IDIR=${FREECIV_DIR}common

AIOBJS = $(OBJDIR)ai/advattitude.o $(OBJDIR)ai/advdomestic.o $(OBJDIR)ai/advforeign.o \
 $(OBJDIR)ai/advisland.o $(OBJDIR)ai/advleader.o $(OBJDIR)ai/advmilitary.o $(OBJDIR)ai/advscience.o $(OBJDIR)ai/advspace.o \
 $(OBJDIR)ai/advtrade.o $(OBJDIR)ai/aicity.o $(OBJDIR)ai/aihand.o $(OBJDIR)ai/aitech.o $(OBJDIR)ai/aitools.o $(OBJDIR)ai/aiunit.o
AIDIRS = IDIR=`cd` IDIR=${FREECIV_DIR}common IDIR=${FREECIV_DIR}server

SERVEROBJS = $(OBJDIR)server/autoattack.o $(OBJDIR)server/barbarian.o $(OBJDIR)server/cityhand.o $(OBJDIR)server/citytools.o $(OBJDIR)server/cityturn.o \
 $(OBJDIR)server/civserver.o $(OBJDIR)server/console.o $(OBJDIR)server/diplhand.o $(OBJDIR)server/gamehand.o $(OBJDIR)server/gamelog.o $(OBJDIR)server/gotohand.o \
 $(OBJDIR)server/handchat.o $(OBJDIR)server/mapgen.o $(OBJDIR)server/maphand.o $(OBJDIR)server/meta.o $(OBJDIR)server/plrhand.o $(OBJDIR)server/ruleset.o $(OBJDIR)server/sernet.o \
 $(OBJDIR)server/settlers.o $(OBJDIR)server/spacerace.o $(OBJDIR)server/stdinhand.o $(OBJDIR)server/unitfunc.o $(OBJDIR)server/unithand.o $(OBJDIR)server/unittools.o
SERVERDIRS = IDIR=`cd` IDIR=${FREECIV_DIR}server IDIR=${FREECIV_DIR}common IDIR=${FREECIV_DIR}ai

AMIGASERVEROBJS = ${OBJDIR}amigaserver.o

CLIENTOBJS = $(OBJDIR)client/cityrepdata.o $(OBJDIR)client/civclient.o $(OBJDIR)client/climisc.o \
 $(OBJDIR)client/clinet.o $(OBJDIR)client/control.o $(OBJDIR)client/helpdata.o $(OBJDIR)client/options.o \
 $(OBJDIR)client/packhand.o $(OBJDIR)client/tilespec.o
CLIENTDIRS = IDIR=`cd` IDIR=${FREECIV_DIR}client IDIR=${FREECIV_DIR}common IDIR=${FREECIV_DIR}client/include

CGP = ${FREECIV_DIR}client/gui-mui/
CLIENTGUIOBJS = $(OBJDIR)client/gui-mui/chatline.o $(OBJDIR)client/gui-mui/citydlg.o $(OBJDIR)client/gui-mui/cityrep.o \
 $(OBJDIR)client/gui-mui/colors.o $(OBJDIR)client/gui-mui/connectdlg.o $(OBJDIR)client/gui-mui/dialogs.o $(OBJDIR)client/gui-mui/diplodlg.o \
 $(OBJDIR)client/gui-mui/finddlg.o $(OBJDIR)client/gui-mui/gamedlgs.o $(OBJDIR)client/gui-mui/gotodlg.o $(OBJDIR)client/gui-mui/gui_main.o \
 $(OBJDIR)client/gui-mui/helpdlg.o $(OBJDIR)client/gui-mui/inteldlg.o $(OBJDIR)client/gui-mui/mapctrl.o $(OBJDIR)client/gui-mui/mapview.o \
 $(OBJDIR)client/gui-mui/messagedlg.o $(OBJDIR)client/gui-mui/messagewin.o $(OBJDIR)client/gui-mui/plrdlg.o $(OBJDIR)client/gui-mui/repodlgs.o \
 $(OBJDIR)client/gui-mui/spaceshipdlg.o $(OBJDIR)client/gui-mui/wldlg.o $(OBJDIR)client/gui-mui/objecttreeclass.o \
 $(OBJDIR)client/gui-mui/worklistclass.o  $(OBJDIR)client/gui-mui/overviewclass.o $(OBJDIR)client/gui-mui/mapclass.o \
 ${OBJDIR}client/gui-mui/scrollbuttonclass.o $(OBJDIR)client/gui-mui/muistuff.o
CLIENTGUIDIRS  = IDIR=`cd` IDIR=${FREECIV_DIR}common IDIR=${FREECIV_DIR}client/include IDIR=${FREECIV_DIR}client

AMIGACLIENTOBJS = ${OBJDIR}amigaclient.o

All: dirs civserver civclient

#
# Create directories where the object files a placed
#

dirs:
  execute <<

if not exists ${OBJDIR1}
  makedir ${OBJDIR1}
endif

if not exists ${OBJDIR}ai
  makedir ${OBJDIR}ai
endif

if not exists ${OBJDIR}common
  makedir ${OBJDIR}common
endif

if not exists ${OBJDIR}server
  makedir ${OBJDIR}server
endif

if not exists ${OBJDIR}client
  makedir ${OBJDIR}client
endif

if not exists ${OBJDIR}client/gui-mui
  makedir ${OBJDIR}client/gui-mui
endif
<


civserver: ${OBJDIR}_main.o ${AIOBJS} ${COMMONOBJS} ${SERVEROBJS} ${AMIGASERVEROBJS)
  sc link with <<
FROM ${OBJDIR}_main.o ${AIOBJS} ${COMMONOBJS} ${SERVEROBJS} ${AMIGASERVEROBJS)
TO civserver
NOICONS
<


# AI Files

${OBJDIR}ai/advattitude.o: ${FREECIV_DIR}ai/advattitude.c
  ${CC} ${FREECIV_DIR}ai/advattitude.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advdomestic.o: ${FREECIV_DIR}ai/advdomestic.c
  ${CC} ${FREECIV_DIR}ai/advdomestic.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advforeign.o: ${FREECIV_DIR}ai/advforeign.c
  ${CC} ${FREECIV_DIR}ai/advforeign.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advisland.o: ${FREECIV_DIR}ai/advisland.c
  ${CC} ${FREECIV_DIR}ai/advisland.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advleader.o: ${FREECIV_DIR}ai/advleader.c
  ${CC} ${FREECIV_DIR}ai/advleader.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advmilitary.o: ${FREECIV_DIR}ai/advmilitary.c
  ${CC} ${FREECIV_DIR}ai/advmilitary.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advscience.o: ${FREECIV_DIR}ai/advscience.c
  ${CC} ${FREECIV_DIR}ai/advscience.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advspace.o: ${FREECIV_DIR}ai/advspace.c
  ${CC} ${FREECIV_DIR}ai/advspace.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/advtrade.o: ${FREECIV_DIR}ai/advtrade.c
  ${CC} ${FREECIV_DIR}ai/advtrade.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/aicity.o: ${FREECIV_DIR}ai/aicity.c
  ${CC} ${FREECIV_DIR}ai/aicity.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/aihand.o: ${FREECIV_DIR}ai/aihand.c
  ${CC} ${FREECIV_DIR}ai/aihand.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/aitech.o: ${FREECIV_DIR}ai/aitech.c
  ${CC} ${FREECIV_DIR}ai/aitech.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/aitools.o: ${FREECIV_DIR}ai/aitools.c
  ${CC} ${FREECIV_DIR}ai/aitools.c ${AIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}ai/aiunit.o: ${FREECIV_DIR}ai/aiunit.c
  ${CC} ${FREECIV_DIR}ai/aiunit.c ${AIDIRS} ${TO}$@ ${CCFLAGS}


# Common Files

${OBJDIR}common/astring.o: ${FREECIV_DIR}common/astring.c
  ${CC} ${FREECIV_DIR}common/astring.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/capability.o: ${FREECIV_DIR}common/capability.c
  ${CC} ${FREECIV_DIR}common/capability.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/capstr.o: ${FREECIV_DIR}common/capstr.c
  ${CC} ${FREECIV_DIR}common/capstr.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/city.o: ${FREECIV_DIR}common/city.c
  ${CC} ${FREECIV_DIR}common/city.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/diptreaty.o: ${FREECIV_DIR}common/diptreaty.c
  ${CC} ${FREECIV_DIR}common/diptreaty.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/fcintl.o: ${FREECIV_DIR}common/fcintl.c
  ${CC} ${FREECIV_DIR}common/fcintl.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/game.o: ${FREECIV_DIR}common/game.c
  ${CC} ${FREECIV_DIR}common/game.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/genlist.o: ${FREECIV_DIR}common/genlist.c
  ${CC} ${FREECIV_DIR}common/genlist.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/government.o: ${FREECIV_DIR}common/government.c
  ${CC} ${FREECIV_DIR}common/government.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/hash.o: ${FREECIV_DIR}common/hash.c
  ${CC} ${FREECIV_DIR}common/hash.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/inputfile.o: ${FREECIV_DIR}common/inputfile.c
  ${CC} ${FREECIV_DIR}common/inputfile.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/log.o: ${FREECIV_DIR}common/log.c
  ${CC} ${FREECIV_DIR}common/log.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/map.o: ${FREECIV_DIR}common/map.c
  ${CC} ${FREECIV_DIR}common/map.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/mem.o: ${FREECIV_DIR}common/mem.c
  ${CC} ${FREECIV_DIR}common/mem.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/nation.o: ${FREECIV_DIR}common/nation.c
  ${CC} ${FREECIV_DIR}common/nation.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/packets.o: ${FREECIV_DIR}common/packets.c
  ${CC} ${FREECIV_DIR}common/packets.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/player.o: ${FREECIV_DIR}common/player.c
  ${CC} ${FREECIV_DIR}common/player.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/rand.o: ${FREECIV_DIR}common/rand.c
  ${CC} ${FREECIV_DIR}common/rand.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/registry.o: ${FREECIV_DIR}common/registry.c
  ${CC} ${FREECIV_DIR}common/registry.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/sbuffer.o: ${FREECIV_DIR}common/sbuffer.c
  ${CC} ${FREECIV_DIR}common/sbuffer.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/shared.o: ${FREECIV_DIR}common/shared.c
  ${CC} ${FREECIV_DIR}common/shared.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/spaceship.o: ${FREECIV_DIR}common/spaceship.c
  ${CC} ${FREECIV_DIR}common/spaceship.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/support.o: ${FREECIV_DIR}common/support.c
  ${CC} ${FREECIV_DIR}common/support.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/tech.o: ${FREECIV_DIR}common/tech.c
  ${CC} ${FREECIV_DIR}common/tech.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/timing.o: ${FREECIV_DIR}common/timing.c
  ${CC} ${FREECIV_DIR}common/timing.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/unit.o: ${FREECIV_DIR}common/unit.c
  ${CC} ${FREECIV_DIR}common/unit.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/version.o: ${FREECIV_DIR}common/version.c
  ${CC} ${FREECIV_DIR}common/version.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}common/worklist.o: ${FREECIV_DIR}common/worklist.c
  ${CC} ${FREECIV_DIR}common/worklist.c ${COMMONDIRS} ${TO}$@ ${CCFLAGS}


# Server Files

$(OBJDIR)server/autoattack.o: ${FREECIV_DIR}server/autoattack.c
  ${CC} ${FREECIV_DIR}server/autoattack.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/barbarian.o: ${FREECIV_DIR}server/barbarian.c
  ${CC} ${FREECIV_DIR}server/barbarian.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/cityhand.o: ${FREECIV_DIR}server/cityhand.c
  ${CC} ${FREECIV_DIR}server/cityhand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/citytools.o: ${FREECIV_DIR}server/citytools.c
  ${CC} ${FREECIV_DIR}server/citytools.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/cityturn.o: ${FREECIV_DIR}server/cityturn.c
  ${CC} ${FREECIV_DIR}server/cityturn.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/civserver.o: ${FREECIV_DIR}server/civserver.c
  ${CC} ${FREECIV_DIR}server/civserver.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/console.o: ${FREECIV_DIR}server/console.c
  ${CC} ${FREECIV_DIR}server/console.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/diplhand.o: ${FREECIV_DIR}server/diplhand.c
  ${CC} ${FREECIV_DIR}server/diplhand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/gamehand.o: ${FREECIV_DIR}server/gamehand.c
  ${CC} ${FREECIV_DIR}server/gamehand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/gamelog.o: ${FREECIV_DIR}server/gamelog.c
  ${CC} ${FREECIV_DIR}server/gamelog.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/gotohand.o: ${FREECIV_DIR}server/gotohand.c
  ${CC} ${FREECIV_DIR}server/gotohand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/handchat.o: ${FREECIV_DIR}server/handchat.c
  ${CC} ${FREECIV_DIR}server/handchat.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/mapgen.o: ${FREECIV_DIR}server/mapgen.c
  ${CC} ${FREECIV_DIR}server/mapgen.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/maphand.o: ${FREECIV_DIR}server/maphand.c
  ${CC} ${FREECIV_DIR}server/maphand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/meta.o: ${FREECIV_DIR}server/meta.c
  ${CC} ${FREECIV_DIR}server/meta.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/plrhand.o: ${FREECIV_DIR}server/plrhand.c
  ${CC} ${FREECIV_DIR}server/plrhand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/ruleset.o: ${FREECIV_DIR}server/ruleset.c
  ${CC} ${FREECIV_DIR}server/ruleset.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/sernet.o: $(FREECIV_DIR)server/sernet.c
  ${CC} ${FREECIV_DIR}server/sernet.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/settlers.o: ${FREECIV_DIR}server/settlers.c
  ${CC} ${FREECIV_DIR}server/settlers.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/spacerace.o: ${FREECIV_DIR}server/spacerace.c
  ${CC} ${FREECIV_DIR}server/spacerace.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/stdinhand.o: ${FREECIV_DIR}server/stdinhand.c
  ${CC} ${FREECIV_DIR}server/stdinhand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/unitfunc.o: ${FREECIV_DIR}server/unitfunc.c
  ${CC} ${FREECIV_DIR}server/unitfunc.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/unithand.o: ${FREECIV_DIR}server/unithand.c
  ${CC} ${FREECIV_DIR}server/unithand.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}

$(OBJDIR)server/unittools.o: ${FREECIV_DIR}server/unittools.c
  ${CC} ${FREECIV_DIR}server/unittools.c ${SERVERDIRS} ${TO}$@ ${CCFLAGS}


# Additional Amiga files for the server

${OBJDIR}amigaserver.o: amigaserver.c
  ${CC} amigaserver.c ${TO}$@ ${CCFLAGS}


civclient: ${OBJDIR}_main.o ${COMMONOBJS} ${CLIENTOBJS} ${CLIENTGUIOBJS} ${AMIGACLIENTOBJS)
  sc link with <<
FROM ${OBJDIR}_main.o ${CLIENTOBJS} ${COMMONOBJS} ${CLIENTGUIOBJS} ${AMIGACLIENTOBJS)
LIB sc:lib/debug.lib 
TO civclient
NOICONS
<


# Client Files

${OBJDIR}client/cityrepdata.o : ${FREECIV_DIR}client/cityrepdata.c
  ${CC} ${FREECIV_DIR}client/cityrepdata.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/civclient.o: ${FREECIV_DIR}client/civclient.c
  ${CC} ${FREECIV_DIR}client/civclient.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/climisc.o: ${FREECIV_DIR}client/climisc.c
  ${CC} ${FREECIV_DIR}client/climisc.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/clinet.o: ${FREECIV_DIR}client/clinet.c
  ${CC} ${FREECIV_DIR}client/clinet.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/control.o: ${FREECIV_DIR}client/control.c
  ${CC} ${FREECIV_DIR}client/control.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/helpdata.o: ${FREECIV_DIR}client/helpdata.c
  ${CC} ${FREECIV_DIR}client/helpdata.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/options.o: ${FREECIV_DIR}client/options.c
  ${CC} ${FREECIV_DIR}client/options.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/packhand.o: ${FREECIV_DIR}client/packhand.c
  ${CC} ${FREECIV_DIR}client/packhand.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/tilespec.o: ${FREECIV_DIR}client/tilespec.c
  ${CC} ${FREECIV_DIR}client/tilespec.c ${CLIENTDIRS} ${TO}$@ ${CCFLAGS}


# GUI dependent Client Files

${OBJDIR}client/gui-mui/chatline.o: ${CGP}chatline.c
  ${CC} ${CGP}chatline.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/citydlg.o: ${CGP}citydlg.c
  ${CC} ${CGP}citydlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/cityrep.o: ${CGP}cityrep.c
  ${CC} ${CGP}cityrep.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/colors.o: ${CGP}colors.c
  ${CC} ${CGP}colors.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/connectdlg.o: ${CGP}connectdlg.c
  ${CC} ${CGP}connectdlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/dialogs.o: ${CGP}dialogs.c
  ${CC} ${CGP}dialogs.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/diplodlg.o: ${CGP}diplodlg.c
  ${CC} ${CGP}diplodlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/finddlg.o: ${CGP}finddlg.c
  ${CC} ${CGP}finddlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/gamedlgs.o: ${CGP}gamedlgs.c
  ${CC} ${CGP}gamedlgs.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/gotodlg.o: ${CGP}gotodlg.c
  ${CC} ${CGP}gotodlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/gui_main.o: ${CGP}gui_main.c
  ${CC} ${CGP}gui_main.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/helpdlg.o: ${CGP}helpdlg.c
  ${CC} ${CGP}helpdlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/inteldlg.o: ${CGP}inteldlg.c
  ${CC} ${CGP}inteldlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/mapctrl.o: ${CGP}mapctrl.c
  ${CC} ${CGP}mapctrl.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/mapview.o: ${CGP}mapview.c
  ${CC} ${CGP}mapview.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/messagedlg.o: ${CGP}messagedlg.c
  ${CC} ${CGP}messagedlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/messagewin.o: ${CGP}messagewin.c
  ${CC} ${CGP}messagewin.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/plrdlg.o: ${CGP}plrdlg.c
  ${CC} ${CGP}plrdlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/repodlgs.o: ${CGP}repodlgs.c
  ${CC} ${CGP}repodlgs.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/spaceshipdlg.o: ${CGP}spaceshipdlg.c
  ${CC} ${CGP}spaceshipdlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/wldlg.o: ${CGP}wldlg.c
  ${CC} ${CGP}wldlg.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/muistuff.o: ${CGP}muistuff.c
  ${CC} ${CGP}muistuff.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/overviewclass.o: ${CGP}overviewclass.c
  ${CC} ${CGP}overviewclass.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/mapclass.o: ${CGP}mapclass.c
  ${CC} ${CGP}mapclass.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/objecttreeclass.o: ${CGP}objecttreeclass.c
  ${CC} ${CGP}objecttreeclass.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/scrollbuttonclass.o: ${CGP}scrollbuttonclass.c
  ${CC} ${CGP}scrollbuttonclass.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}

${OBJDIR}client/gui-mui/worklistclass.o: ${CGP}worklistclass.c
  ${CC} ${CGP}worklistclass.c ${CLIENTGUIDIRS} ${TO}$@ ${CCFLAGS}


# Additional files for the client

${OBJDIR}amigaclient.o: amigaclient.c
  ${CC} amigaclient.c ${TO}$@


# only for SAS (used by both the server and the client)

${OBJDIR}_main.o: _main.c
  ${CC} _main.c ${TO}$@ ${CCFLAGS}


install:
  delete ${DESTDIR}/* all
  copy ReadMe ${DESTDIR}
  copy ReadMe.info ${DESTDIR}
  copy ReadMe.2Amigas ${DESTDIR}
  copy ReadMe.2Amigas.info ${DESTDIR}
  slink civserver nd noicons
  slink civclient nd noicons
  copy civserver.exe ${DESTDIR}/civserver
  copy civserver.exe.info ${DESTDIR}/civserver.info
  copy civclient.exe ${DESTDIR}/civclient
  copy civclient.exe.info ${DESTDIR}/civclient.info
  copy Freeciv.start ${DESTDIR}
  copy Freeciv.start.info ${DESTDIR}
  copy Icons ${DESTDIR}/Icons all
  copy Icons.info ${DESTDIR}
  copy ${FREECIV_DIR}data/*.(ilbm|txt|sav|serv) ${DESTDIR}/data
  copy ${FREECIV_DIR}data/trident.tilespec $(DESTDIR}/data
  copy ${FREECIV_DIR}data/trident_shields.tilespec $(DESTDIR}/data
  copy ${FREECIV_DIR}data/civ1/*.ruleset ${DESTDIR}/data/civ1
  copy ${FREECIV_DIR}data/civ2/*.ruleset ${DESTDIR}/data/civ2
  copy ${FREECIV_DIR}data/classic/*.ruleset ${DESTDIR}/data/classic
  copy ${FREECIV_DIR}data/default/*.ruleset ${DESTDIR}/data/default
  copy ${FREECIV_DIR}data/misc/*.(ilbm|spec) ${DESTDIR}/data/misc
  copy ${FREECIV_DIR}data/scenario/*.sav ${DESTDIR}/data/scenario
  copy ${FREECIV_DIR}data/trident/*.(ilbm|ruleset|spec) ${DESTDIR}/data/trident

  copy ${FREECIV_DIR}README ${DESTDIR}/README.org
  copy ${FREECIV_DIR}*(README.~(bak*)|BUGS|TODO|HOWTO*|NEWS|AUTHORS|PEOPLE|HOWTOPLAY|COPYING|INSTALL) ${DESTDIR}

clean:
  delete ${OBJDIR} all
